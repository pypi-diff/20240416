# Comparing `tmp/typedal-3.0.1.tar.gz` & `tmp/typedal-3.1.0.tar.gz`

## Comparing `typedal-3.0.1.tar` & `typedal-3.1.0.tar`

### file list

```diff
@@ -1,77 +1,2172 @@
--rw-r--r--   0        0        0      166 2020-02-02 00:00:00.000000 typedal-3.0.1/.readthedocs.yml
--rw-r--r--   0        0        0    18636 2020-02-02 00:00:00.000000 typedal-3.0.1/CHANGELOG.md
--rw-r--r--   0        0        0      903 2020-02-02 00:00:00.000000 typedal-3.0.1/coverage.svg
--rw-r--r--   0        0        0     7169 2020-02-02 00:00:00.000000 typedal-3.0.1/example_new.py
--rw-r--r--   0        0        0     2872 2020-02-02 00:00:00.000000 typedal-3.0.1/example_old.py
--rw-r--r--   0        0        0      851 2020-02-02 00:00:00.000000 typedal-3.0.1/mkdocs.yml
--rwxr-xr-x   0        0        0      314 2020-02-02 00:00:00.000000 typedal-3.0.1/start_dummy_pg.sh
--rw-r--r--   0        0        0      395 2020-02-02 00:00:00.000000 typedal-3.0.1/.github/workflows/su6.yml
--rw-r--r--   0        0        0     1138 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/1_getting_started.md
--rw-r--r--   0        0        0     6509 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/2_defining_tables.md
--rw-r--r--   0        0        0     6081 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/3_building_queries.md
--rw-r--r--   0        0        0     3792 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/4_relationships.md
--rw-r--r--   0        0        0     1509 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/5_py4web.md
--rw-r--r--   0        0        0     4926 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/6_migrations.md
--rw-r--r--   0        0        0      265 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/index.md
--rw-r--r--   0        0        0       21 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/requirements.txt
--rw-r--r--   0        0        0       65 2020-02-02 00:00:00.000000 typedal-3.0.1/docs/css/code_blocks.css
--rw-r--r--   0        0        0       27 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/.gitignore
--rw-r--r--   0        0        0    21865 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/coverage_html.js
--rw-r--r--   0        0        0     5891 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c___about___py.html
--rw-r--r--   0        0        0     7907 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c___init___py.html
--rw-r--r--   0        0        0   119633 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_caching_py.html
--rw-r--r--   0        0        0   173175 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_cli_py.html
--rw-r--r--   0        0        0   102885 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_config_py.html
--rw-r--r--   0        0        0   782044 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_core_py.html
--rw-r--r--   0        0        0    61614 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_fields_py.html
--rw-r--r--   0        0        0    17238 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_for_py4web_py.html
--rw-r--r--   0        0        0    22550 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_for_web2py_py.html
--rw-r--r--   0        0        0    69134 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_helpers_py.html
--rw-r--r--   0        0        0    42239 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_types_py.html
--rw-r--r--   0        0        0    17336 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_web2py_py4web_shared_py.html
--rw-r--r--   0        0        0    25828 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/d_18c616467159315a_as_json_py.html
--rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/favicon_32.png
--rw-r--r--   0        0        0     7660 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/index.html
--rw-r--r--   0        0        0     9004 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/keybd_closed.png
--rw-r--r--   0        0        0     9003 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/keybd_open.png
--rw-r--r--   0        0        0     3080 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/status.json
--rw-r--r--   0        0        0    12394 2020-02-02 00:00:00.000000 typedal-3.0.1/htmlcov/style.css
--rw-r--r--   0        0        0      206 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/__about__.py
--rw-r--r--   0        0        0      366 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/__init__.py
--rw-r--r--   0        0        0    11818 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/caching.py
--rw-r--r--   0        0        0    18200 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/cli.py
--rw-r--r--   0        0        0    11645 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/config.py
--rw-r--r--   0        0        0    95063 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/core.py
--rw-r--r--   0        0        0     5197 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/fields.py
--rw-r--r--   0        0        0     1285 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/for_py4web.py
--rw-r--r--   0        0        0     1832 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/for_web2py.py
--rw-r--r--   0        0        0     6871 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/helpers.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/py.typed
--rw-r--r--   0        0        0     3410 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/types.py
--rw-r--r--   0        0        0     1504 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/web2py_py4web_shared.py
--rw-r--r--   0        0        0     2229 2020-02-02 00:00:00.000000 typedal-3.0.1/src/typedal/serializers/as_json.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/__init__.py
--rw-r--r--   0        0        0     2325 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_cli.py
--rw-r--r--   0        0        0     3844 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_config.py
--rw-r--r--   0        0        0     3006 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_docs_examples.py
--rw-r--r--   0        0        0     4735 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_helpers.py
--rw-r--r--   0        0        0     1316 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_json.py
--rw-r--r--   0        0        0    13197 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_main.py
--rw-r--r--   0        0        0     3422 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_mypy.py
--rw-r--r--   0        0        0     3983 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_orm.py
--rw-r--r--   0        0        0     1058 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_py4web.py
--rw-r--r--   0        0        0    11355 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_query_builder.py
--rw-r--r--   0        0        0    15716 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_relationships.py
--rw-r--r--   0        0        0     7012 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_row.py
--rw-r--r--   0        0        0     1227 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_stats.py
--rw-r--r--   0        0        0     8365 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_table.py
--rw-r--r--   0        0        0      538 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_web2py.py
--rw-r--r--   0        0        0      605 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/test_xx_others.py
--rw-r--r--   0        0        0     4192 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/timings.py
--rw-r--r--   0        0        0      234 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/configs/simple.toml
--rw-r--r--   0        0        0      214 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/configs/valid.env
--rw-r--r--   0        0        0      553 2020-02-02 00:00:00.000000 typedal-3.0.1/tests/configs/valid.toml
--rw-r--r--   0        0        0      103 2020-02-02 00:00:00.000000 typedal-3.0.1/.gitignore
--rw-r--r--   0        0        0     5758 2020-02-02 00:00:00.000000 typedal-3.0.1/README.md
--rw-r--r--   0        0        0     5496 2020-02-02 00:00:00.000000 typedal-3.0.1/pyproject.toml
--rw-r--r--   0        0        0     7782 2020-02-02 00:00:00.000000 typedal-3.0.1/PKG-INFO
+-rw-r--r--   0        0        0      166 2020-02-02 00:00:00.000000 typedal-3.1.0/.readthedocs.yml
+-rw-r--r--   0        0        0    18994 2020-02-02 00:00:00.000000 typedal-3.1.0/CHANGELOG.md
+-rw-r--r--   0        0        0      903 2020-02-02 00:00:00.000000 typedal-3.1.0/coverage.svg
+-rw-r--r--   0        0        0     7169 2020-02-02 00:00:00.000000 typedal-3.1.0/example_new.py
+-rw-r--r--   0        0        0     2872 2020-02-02 00:00:00.000000 typedal-3.1.0/example_old.py
+-rw-r--r--   0        0        0      851 2020-02-02 00:00:00.000000 typedal-3.1.0/mkdocs.yml
+-rwxr-xr-x   0        0        0      314 2020-02-02 00:00:00.000000 typedal-3.1.0/start_dummy_pg.sh
+-rw-r--r--   0        0        0      395 2020-02-02 00:00:00.000000 typedal-3.1.0/.github/workflows/su6.yml
+-rw-r--r--   0        0        0       34 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/.gitignore
+-rw-r--r--   0        0        0      190 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/CACHEDIR.TAG
+-rw-r--r--   0        0        0        2 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/@plugins_snapshot.json
+-rw-r--r--   0        0        0   177667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_ast.data.json
+-rw-r--r--   0        0        0     1567 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_ast.meta.json
+-rw-r--r--   0        0        0    52400 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_codecs.data.json
+-rw-r--r--   0        0        0     1660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_codecs.meta.json
+-rw-r--r--   0        0        0    18227 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_collections_abc.data.json
+-rw-r--r--   0        0        0     1586 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_collections_abc.meta.json
+-rw-r--r--   0        0        0     2923 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_ctypes.data.json
+-rw-r--r--   0        0        0     1585 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_ctypes.meta.json
+-rw-r--r--   0        0        0   170960 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_decimal.data.json
+-rw-r--r--   0        0        0     1624 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_decimal.meta.json
+-rw-r--r--   0        0        0    23362 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/abc.data.json
+-rw-r--r--   0        0        0     1574 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/abc.meta.json
+-rw-r--r--   0        0        0    60687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/array.data.json
+-rw-r--r--   0        0        0     1629 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/array.meta.json
+-rw-r--r--   0        0        0  1054992 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/builtins.data.json
+-rw-r--r--   0        0        0     1721 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/builtins.meta.json
+-rw-r--r--   0        0        0   123328 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/codecs.data.json
+-rw-r--r--   0        0        0     1671 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/codecs.meta.json
+-rw-r--r--   0        0        0   104160 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/contextlib.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/contextlib.meta.json
+-rw-r--r--   0        0        0    57612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/dataclasses.data.json
+-rw-r--r--   0        0        0     1625 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/dataclasses.meta.json
+-rw-r--r--   0        0        0   142044 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/datetime.data.json
+-rw-r--r--   0        0        0     1585 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/datetime.meta.json
+-rw-r--r--   0        0        0     4911 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/decimal.data.json
+-rw-r--r--   0        0        0     1535 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/decimal.meta.json
+-rw-r--r--   0        0        0    61020 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/enum.data.json
+-rw-r--r--   0        0        0     1600 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/enum.meta.json
+-rw-r--r--   0        0        0    22399 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/genericpath.data.json
+-rw-r--r--   0        0        0     1600 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/genericpath.meta.json
+-rw-r--r--   0        0        0    85348 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/io.data.json
+-rw-r--r--   0        0        0     1673 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/io.meta.json
+-rw-r--r--   0        0        0    28778 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/mmap.data.json
+-rw-r--r--   0        0        0     1628 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/mmap.meta.json
+-rw-r--r--   0        0        0    78982 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/numbers.data.json
+-rw-r--r--   0        0        0     1519 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/numbers.meta.json
+-rw-r--r--   0        0        0    88278 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/pathlib.data.json
+-rw-r--r--   0        0        0     1682 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/pathlib.meta.json
+-rw-r--r--   0        0        0    45131 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/pickle.data.json
+-rw-r--r--   0        0        0     1630 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/pickle.meta.json
+-rw-r--r--   0        0        0    75208 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/posixpath.data.json
+-rw-r--r--   0        0        0     1627 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/posixpath.meta.json
+-rw-r--r--   0        0        0   167175 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/re.data.json
+-rw-r--r--   0        0        0     1701 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/re.meta.json
+-rw-r--r--   0        0        0    14131 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_compile.data.json
+-rw-r--r--   0        0        0     1572 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_compile.meta.json
+-rw-r--r--   0        0        0    28013 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_constants.data.json
+-rw-r--r--   0        0        0     1584 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_constants.meta.json
+-rw-r--r--   0        0        0    49442 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_parse.data.json
+-rw-r--r--   0        0        0     1627 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sre_parse.meta.json
+-rw-r--r--   0        0        0   168498 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/subprocess.data.json
+-rw-r--r--   0        0        0     1675 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/subprocess.meta.json
+-rw-r--r--   0        0        0   146267 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sys.data.json
+-rw-r--r--   0        0        0     1660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/sys.meta.json
+-rw-r--r--   0        0        0    43605 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/time.data.json
+-rw-r--r--   0        0        0     1565 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/time.meta.json
+-rw-r--r--   0        0        0   228230 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/types.data.json
+-rw-r--r--   0        0        0     1638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/types.meta.json
+-rw-r--r--   0        0        0   416965 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/typing.data.json
+-rw-r--r--   0        0        0     1689 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/typing.meta.json
+-rw-r--r--   0        0        0    73907 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/typing_extensions.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/typing_extensions.meta.json
+-rw-r--r--   0        0        0    89065 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_typeshed/__init__.data.json
+-rw-r--r--   0        0        0     1689 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/_typeshed/__init__.meta.json
+-rw-r--r--   0        0        0   407999 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/collections/__init__.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/collections/__init__.meta.json
+-rw-r--r--   0        0        0     3731 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/collections/abc.data.json
+-rw-r--r--   0        0        0     1558 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/collections/abc.meta.json
+-rw-r--r--   0        0        0   128994 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/ctypes/__init__.data.json
+-rw-r--r--   0        0        0     1666 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/ctypes/__init__.meta.json
+-rw-r--r--   0        0        0     7438 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/__init__.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/__init__.meta.json
+-rw-r--r--   0        0        0    12200 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/charset.data.json
+-rw-r--r--   0        0        0     1555 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/charset.meta.json
+-rw-r--r--   0        0        0     7249 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/contentmanager.data.json
+-rw-r--r--   0        0        0     1587 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/contentmanager.meta.json
+-rw-r--r--   0        0        0    25073 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/errors.data.json
+-rw-r--r--   0        0        0     1559 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/errors.meta.json
+-rw-r--r--   0        0        0     9154 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/header.data.json
+-rw-r--r--   0        0        0     1572 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/header.meta.json
+-rw-r--r--   0        0        0    79298 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/message.data.json
+-rw-r--r--   0        0        0     1675 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/message.meta.json
+-rw-r--r--   0        0        0    30857 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/policy.data.json
+-rw-r--r--   0        0        0     1636 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/email/policy.meta.json
+-rw-r--r--   0        0        0     6125 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/__init__.data.json
+-rw-r--r--   0        0        0     1587 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/__init__.meta.json
+-rw-r--r--   0        0        0    70175 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/abc.data.json
+-rw-r--r--   0        0        0     1733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/abc.meta.json
+-rw-r--r--   0        0        0    64626 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/machinery.data.json
+-rw-r--r--   0        0        0     1722 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/machinery.meta.json
+-rw-r--r--   0        0        0    90277 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/metadata/__init__.data.json
+-rw-r--r--   0        0        0     1731 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/metadata/__init__.meta.json
+-rw-r--r--   0        0        0    11935 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/metadata/_meta.data.json
+-rw-r--r--   0        0        0     1575 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/importlib/metadata/_meta.meta.json
+-rw-r--r--   0        0        0   350178 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/os/__init__.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/os/__init__.meta.json
+-rw-r--r--   0        0        0     4908 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/os/path.data.json
+-rw-r--r--   0        0        0     1547 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/os/path.meta.json
+-rw-r--r--   0        0        0     1385 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/__init__.data.json
+-rw-r--r--   0        0        0     1433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/__init__.meta.json
+-rw-r--r--   0        0        0     1506 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/__about__.data.json
+-rw-r--r--   0        0        0     1462 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/__about__.meta.json
+-rw-r--r--   0        0        0     2114 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/__init__.data.json
+-rw-r--r--   0        0        0     1499 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/__init__.meta.json
+-rw-r--r--   0        0        0    33347 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/core.data.json
+-rw-r--r--   0        0        0     1664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/core.meta.json
+-rw-r--r--   0        0        0    29038 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/fields.data.json
+-rw-r--r--   0        0        0     1654 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/fields.meta.json
+-rw-r--r--   0        0        0     2775 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/pydal_objects.data.json
+-rw-r--r--   0        0        0     1503 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.10/src/typedal/pydal_objects.meta.json
+-rw-r--r--   0        0        0        2 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/@plugins_snapshot.json
+-rw-r--r--   0        0        0     8152 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/__future__.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/__future__.meta.json
+-rw-r--r--   0        0        0   180405 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_ast.data.json
+-rw-r--r--   0        0        0     1627 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_ast.meta.json
+-rw-r--r--   0        0        0    72680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_bisect.data.json
+-rw-r--r--   0        0        0     1629 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_bisect.meta.json
+-rw-r--r--   0        0        0    57020 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_codecs.data.json
+-rw-r--r--   0        0        0     1667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_codecs.meta.json
+-rw-r--r--   0        0        0    24646 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_collections_abc.data.json
+-rw-r--r--   0        0        0     1662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_collections_abc.meta.json
+-rw-r--r--   0        0        0    11060 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_compression.data.json
+-rw-r--r--   0        0        0     1661 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_compression.meta.json
+-rw-r--r--   0        0        0    21088 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_csv.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_csv.meta.json
+-rw-r--r--   0        0        0   127335 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_ctypes.data.json
+-rw-r--r--   0        0        0     1678 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_ctypes.meta.json
+-rw-r--r--   0        0        0   185969 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_decimal.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_decimal.meta.json
+-rw-r--r--   0        0        0    23461 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_json.data.json
+-rw-r--r--   0        0        0     1622 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_json.meta.json
+-rw-r--r--   0        0        0    20139 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_locale.data.json
+-rw-r--r--   0        0        0     1640 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_locale.meta.json
+-rw-r--r--   0        0        0   163664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_operator.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_operator.meta.json
+-rw-r--r--   0        0        0     6555 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_random.data.json
+-rw-r--r--   0        0        0     1604 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_random.meta.json
+-rw-r--r--   0        0        0   141220 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_socket.data.json
+-rw-r--r--   0        0        0     1654 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_socket.meta.json
+-rw-r--r--   0        0        0    20067 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_stat.data.json
+-rw-r--r--   0        0        0     1612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_stat.meta.json
+-rw-r--r--   0        0        0    25355 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_thread.data.json
+-rw-r--r--   0        0        0     1681 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_thread.meta.json
+-rw-r--r--   0        0        0     8127 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_tracemalloc.data.json
+-rw-r--r--   0        0        0     1598 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_tracemalloc.meta.json
+-rw-r--r--   0        0        0    17812 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_warnings.data.json
+-rw-r--r--   0        0        0     1612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_warnings.meta.json
+-rw-r--r--   0        0        0    43019 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_weakref.data.json
+-rw-r--r--   0        0        0     1668 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_weakref.meta.json
+-rw-r--r--   0        0        0    64281 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_weakrefset.data.json
+-rw-r--r--   0        0        0     1674 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_weakrefset.meta.json
+-rw-r--r--   0        0        0    28042 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/abc.data.json
+-rw-r--r--   0        0        0     1634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/abc.meta.json
+-rw-r--r--   0        0        0   211034 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/argparse.data.json
+-rw-r--r--   0        0        0     1665 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/argparse.meta.json
+-rw-r--r--   0        0        0    81489 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/array.data.json
+-rw-r--r--   0        0        0     1649 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/array.meta.json
+-rw-r--r--   0        0        0   154628 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ast.data.json
+-rw-r--r--   0        0        0     1667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ast.meta.json
+-rw-r--r--   0        0        0     9651 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/atexit.data.json
+-rw-r--r--   0        0        0     1611 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/atexit.meta.json
+-rw-r--r--   0        0        0    15948 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/base64.data.json
+-rw-r--r--   0        0        0     1630 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/base64.meta.json
+-rw-r--r--   0        0        0    53666 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bdb.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bdb.meta.json
+-rw-r--r--   0        0        0    11979 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/binascii.data.json
+-rw-r--r--   0        0        0     1634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/binascii.meta.json
+-rw-r--r--   0        0        0    13025 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bisect.data.json
+-rw-r--r--   0        0        0     1608 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bisect.meta.json
+-rw-r--r--   0        0        0  1691043 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/builtins.data.json
+-rw-r--r--   0        0        0     1718 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/builtins.meta.json
+-rw-r--r--   0        0        0    50828 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bz2.data.json
+-rw-r--r--   0        0        0     1696 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/bz2.meta.json
+-rw-r--r--   0        0        0    61196 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/calendar.data.json
+-rw-r--r--   0        0        0     1737 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/calendar.meta.json
+-rw-r--r--   0        0        0    21019 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cmd.data.json
+-rw-r--r--   0        0        0     1618 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cmd.meta.json
+-rw-r--r--   0        0        0   129633 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/codecs.data.json
+-rw-r--r--   0        0        0     1678 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/codecs.meta.json
+-rw-r--r--   0        0        0     7712 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/colorsys.data.json
+-rw-r--r--   0        0        0     1582 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/colorsys.meta.json
+-rw-r--r--   0        0        0   159139 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configparser.data.json
+-rw-r--r--   0        0        0     1683 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configparser.meta.json
+-rw-r--r--   0        0        0   128222 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/contextlib.data.json
+-rw-r--r--   0        0        0     1680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/contextlib.meta.json
+-rw-r--r--   0        0        0    63702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/contextvars.data.json
+-rw-r--r--   0        0        0     1674 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/contextvars.meta.json
+-rw-r--r--   0        0        0     6338 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/copy.data.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/copy.meta.json
+-rw-r--r--   0        0        0    13348 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/copyreg.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/copyreg.meta.json
+-rw-r--r--   0        0        0    38114 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/csv.data.json
+-rw-r--r--   0        0        0     1661 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/csv.meta.json
+-rw-r--r--   0        0        0    82220 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dataclasses.data.json
+-rw-r--r--   0        0        0     1685 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dataclasses.meta.json
+-rw-r--r--   0        0        0   173432 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/datetime.data.json
+-rw-r--r--   0        0        0     1645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/datetime.meta.json
+-rw-r--r--   0        0        0     4911 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/decimal.data.json
+-rw-r--r--   0        0        0     1638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/decimal.meta.json
+-rw-r--r--   0        0        0    74115 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/difflib.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/difflib.meta.json
+-rw-r--r--   0        0        0    67645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dis.data.json
+-rw-r--r--   0        0        0     1672 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dis.meta.json
+-rw-r--r--   0        0        0    77702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/doctest.data.json
+-rw-r--r--   0        0        0     1702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/doctest.meta.json
+-rw-r--r--   0        0        0   114800 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/enum.data.json
+-rw-r--r--   0        0        0     1661 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/enum.meta.json
+-rw-r--r--   0        0        0    23733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/errno.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/errno.meta.json
+-rw-r--r--   0        0        0    27481 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/example_new.data.json
+-rw-r--r--   0        0        0     1695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/example_new.meta.json
+-rw-r--r--   0        0        0     7124 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/fnmatch.data.json
+-rw-r--r--   0        0        0     1601 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/fnmatch.meta.json
+-rw-r--r--   0        0        0   117065 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/fractions.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/fractions.meta.json
+-rw-r--r--   0        0        0   187190 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/functools.data.json
+-rw-r--r--   0        0        0     1669 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/functools.meta.json
+-rw-r--r--   0        0        0    16492 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gc.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gc.meta.json
+-rw-r--r--   0        0        0    30432 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/genericpath.data.json
+-rw-r--r--   0        0        0     1671 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/genericpath.meta.json
+-rw-r--r--   0        0        0     4048 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/getpass.data.json
+-rw-r--r--   0        0        0     1579 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/getpass.meta.json
+-rw-r--r--   0        0        0    58893 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gettext.data.json
+-rw-r--r--   0        0        0     1673 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gettext.meta.json
+-rw-r--r--   0        0        0    11236 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/glob.data.json
+-rw-r--r--   0        0        0     1623 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/glob.meta.json
+-rw-r--r--   0        0        0    55273 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gzip.data.json
+-rw-r--r--   0        0        0     1676 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/gzip.meta.json
+-rw-r--r--   0        0        0    32987 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/hashlib.data.json
+-rw-r--r--   0        0        0     1653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/hashlib.meta.json
+-rw-r--r--   0        0        0    20199 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/hmac.data.json
+-rw-r--r--   0        0        0     1659 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/hmac.meta.json
+-rw-r--r--   0        0        0   393898 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/inspect.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/inspect.meta.json
+-rw-r--r--   0        0        0    96360 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/io.data.json
+-rw-r--r--   0        0        0     1680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/io.meta.json
+-rw-r--r--   0        0        0   169807 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ipaddress.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ipaddress.meta.json
+-rw-r--r--   0        0        0   521458 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/itertools.data.json
+-rw-r--r--   0        0        0     1671 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/itertools.meta.json
+-rw-r--r--   0        0        0     8942 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/linecache.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/linecache.meta.json
+-rw-r--r--   0        0        0    21639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/locale.data.json
+-rw-r--r--   0        0        0     1719 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/locale.meta.json
+-rw-r--r--   0        0        0     6408 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/marshal.data.json
+-rw-r--r--   0        0        0     1633 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/marshal.meta.json
+-rw-r--r--   0        0        0    62500 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/math.data.json
+-rw-r--r--   0        0        0     1648 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/math.meta.json
+-rw-r--r--   0        0        0    16551 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mimetypes.data.json
+-rw-r--r--   0        0        0     1643 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mimetypes.meta.json
+-rw-r--r--   0        0        0    32933 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mmap.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mmap.meta.json
+-rw-r--r--   0        0        0     1638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/msvcrt.data.json
+-rw-r--r--   0        0        0     1614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/msvcrt.meta.json
+-rw-r--r--   0        0        0   151900 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mypy_extensions.data.json
+-rw-r--r--   0        0        0     1708 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mypy_extensions.meta.json
+-rw-r--r--   0        0        0    84033 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/numbers.data.json
+-rw-r--r--   0        0        0     1579 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/numbers.meta.json
+-rw-r--r--   0        0        0     6122 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/opcode.data.json
+-rw-r--r--   0        0        0     1631 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/opcode.meta.json
+-rw-r--r--   0        0        0    55486 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/operator.data.json
+-rw-r--r--   0        0        0     1652 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/operator.meta.json
+-rw-r--r--   0        0        0   102946 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathlib.data.json
+-rw-r--r--   0        0        0     1689 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathlib.meta.json
+-rw-r--r--   0        0        0    96201 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pdb.data.json
+-rw-r--r--   0        0        0     1772 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pdb.meta.json
+-rw-r--r--   0        0        0    48959 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pickle.data.json
+-rw-r--r--   0        0        0     1651 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pickle.meta.json
+-rw-r--r--   0        0        0    31491 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pkgutil.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pkgutil.meta.json
+-rw-r--r--   0        0        0    37189 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platform.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platform.meta.json
+-rw-r--r--   0        0        0   124421 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/posixpath.data.json
+-rw-r--r--   0        0        0     1687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/posixpath.meta.json
+-rw-r--r--   0        0        0    12597 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pprint.data.json
+-rw-r--r--   0        0        0     1594 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pprint.meta.json
+-rw-r--r--   0        0        0     7678 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pty.data.json
+-rw-r--r--   0        0        0     1639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pty.meta.json
+-rw-r--r--   0        0        0   111565 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydoc.data.json
+-rw-r--r--   0        0        0     1718 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydoc.meta.json
+-rw-r--r--   0        0        0    37466 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/queue.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/queue.meta.json
+-rw-r--r--   0        0        0    43645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/random.data.json
+-rw-r--r--   0        0        0     1716 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/random.meta.json
+-rw-r--r--   0        0        0   243154 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/re.data.json
+-rw-r--r--   0        0        0     1708 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/re.meta.json
+-rw-r--r--   0        0        0    17416 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/reprlib.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/reprlib.meta.json
+-rw-r--r--   0        0        0     6994 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/secrets.data.json
+-rw-r--r--   0        0        0     1662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/secrets.meta.json
+-rw-r--r--   0        0        0    22630 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/select.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/select.meta.json
+-rw-r--r--   0        0        0    66210 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/selectors.data.json
+-rw-r--r--   0        0        0     1656 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/selectors.meta.json
+-rw-r--r--   0        0        0    17284 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/shlex.data.json
+-rw-r--r--   0        0        0     1650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/shlex.meta.json
+-rw-r--r--   0        0        0    90180 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/shutil.data.json
+-rw-r--r--   0        0        0     1718 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/shutil.meta.json
+-rw-r--r--   0        0        0    51409 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/signal.data.json
+-rw-r--r--   0        0        0     1674 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/signal.meta.json
+-rw-r--r--   0        0        0   126342 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/socket.data.json
+-rw-r--r--   0        0        0     1698 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/socket.meta.json
+-rw-r--r--   0        0        0     1181 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src.data.json
+-rw-r--r--   0        0        0     1439 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src.meta.json
+-rw-r--r--   0        0        0    14457 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_compile.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_compile.meta.json
+-rw-r--r--   0        0        0    28914 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_constants.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_constants.meta.json
+-rw-r--r--   0        0        0    51841 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_parse.data.json
+-rw-r--r--   0        0        0     1687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sre_parse.meta.json
+-rw-r--r--   0        0        0   212877 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ssl.data.json
+-rw-r--r--   0        0        0     1740 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ssl.meta.json
+-rw-r--r--   0        0        0     6530 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/stat.data.json
+-rw-r--r--   0        0        0     1585 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/stat.meta.json
+-rw-r--r--   0        0        0    32136 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/string.data.json
+-rw-r--r--   0        0        0     1672 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/string.meta.json
+-rw-r--r--   0        0        0    15829 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/struct.data.json
+-rw-r--r--   0        0        0     1641 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/struct.meta.json
+-rw-r--r--   0        0        0   238269 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/subprocess.data.json
+-rw-r--r--   0        0        0     1682 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/subprocess.meta.json
+-rw-r--r--   0        0        0   155328 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sys.data.json
+-rw-r--r--   0        0        0     1720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sys.meta.json
+-rw-r--r--   0        0        0    16019 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sysconfig.data.json
+-rw-r--r--   0        0        0     1675 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sysconfig.meta.json
+-rw-r--r--   0        0        0   145159 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tarfile.data.json
+-rw-r--r--   0        0        0     1772 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tarfile.meta.json
+-rw-r--r--   0        0        0   216804 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tempfile.data.json
+-rw-r--r--   0        0        0     1692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tempfile.meta.json
+-rw-r--r--   0        0        0    50218 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/termios.data.json
+-rw-r--r--   0        0        0     1631 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/termios.meta.json
+-rw-r--r--   0        0        0    20222 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/textwrap.data.json
+-rw-r--r--   0        0        0     1614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/textwrap.meta.json
+-rw-r--r--   0        0        0    70414 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/threading.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/threading.meta.json
+-rw-r--r--   0        0        0    45633 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/time.data.json
+-rw-r--r--   0        0        0     1625 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/time.meta.json
+-rw-r--r--   0        0        0    14997 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/token.data.json
+-rw-r--r--   0        0        0     1605 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/token.meta.json
+-rw-r--r--   0        0        0    52648 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tokenize.data.json
+-rw-r--r--   0        0        0     1686 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tokenize.meta.json
+-rw-r--r--   0        0        0     5607 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomllib.data.json
+-rw-r--r--   0        0        0     1617 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomllib.meta.json
+-rw-r--r--   0        0        0    68653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/traceback.data.json
+-rw-r--r--   0        0        0     1669 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/traceback.meta.json
+-rw-r--r--   0        0        0    48898 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tracemalloc.data.json
+-rw-r--r--   0        0        0     1621 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tracemalloc.meta.json
+-rw-r--r--   0        0        0     5355 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tty.data.json
+-rw-r--r--   0        0        0     1638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tty.meta.json
+-rw-r--r--   0        0        0   306063 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/types.data.json
+-rw-r--r--   0        0        0     1698 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/types.meta.json
+-rw-r--r--   0        0        0   593708 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typing.data.json
+-rw-r--r--   0        0        0     1696 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typing.meta.json
+-rw-r--r--   0        0        0   118925 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typing_extensions.data.json
+-rw-r--r--   0        0        0     1683 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typing_extensions.meta.json
+-rw-r--r--   0        0        0    60291 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unicodedata.data.json
+-rw-r--r--   0        0        0     1627 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unicodedata.meta.json
+-rw-r--r--   0        0        0    35665 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/uuid.data.json
+-rw-r--r--   0        0        0     1638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/uuid.meta.json
+-rw-r--r--   0        0        0    28607 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/warnings.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/warnings.meta.json
+-rw-r--r--   0        0        0   253459 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/weakref.data.json
+-rw-r--r--   0        0        0     1690 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/weakref.meta.json
+-rw-r--r--   0        0        0    96907 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/zipfile.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/zipfile.meta.json
+-rw-r--r--   0        0        0    17771 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/zlib.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/zlib.meta.json
+-rw-r--r--   0        0        0     2084 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/__init__.data.json
+-rw-r--r--   0        0        0     1578 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/__init__.meta.json
+-rw-r--r--   0        0        0     6371 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_argcomplete.data.json
+-rw-r--r--   0        0        0     1677 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_argcomplete.meta.json
+-rw-r--r--   0        0        0     3008 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_version.data.json
+-rw-r--r--   0        0        0     1564 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_version.meta.json
+-rw-r--r--   0        0        0    48646 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/cacheprovider.data.json
+-rw-r--r--   0        0        0     2139 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/cacheprovider.meta.json
+-rw-r--r--   0        0        0   184495 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/capture.data.json
+-rw-r--r--   0        0        0     1905 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/capture.meta.json
+-rw-r--r--   0        0        0    28325 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/compat.data.json
+-rw-r--r--   0        0        0     1828 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/compat.meta.json
+-rw-r--r--   0        0        0    33667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/debugging.data.json
+-rw-r--r--   0        0        0     2114 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/debugging.meta.json
+-rw-r--r--   0        0        0     7912 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/deprecated.data.json
+-rw-r--r--   0        0        0     1614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/deprecated.meta.json
+-rw-r--r--   0        0        0    43717 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/doctest.data.json
+-rw-r--r--   0        0        0     2159 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/doctest.meta.json
+-rw-r--r--   0        0        0   181399 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/fixtures.data.json
+-rw-r--r--   0        0        0     2240 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/fixtures.meta.json
+-rw-r--r--   0        0        0     3315 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/freeze_support.data.json
+-rw-r--r--   0        0        0     1589 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/freeze_support.meta.json
+-rw-r--r--   0        0        0    10089 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/helpconfig.data.json
+-rw-r--r--   0        0        0     1788 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/helpconfig.meta.json
+-rw-r--r--   0        0        0    67739 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/hookspec.data.json
+-rw-r--r--   0        0        0     2107 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/hookspec.meta.json
+-rw-r--r--   0        0        0    67338 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/legacypath.data.json
+-rw-r--r--   0        0        0     2056 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/legacypath.meta.json
+-rw-r--r--   0        0        0    87227 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/logging.data.json
+-rw-r--r--   0        0        0     2181 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/logging.meta.json
+-rw-r--r--   0        0        0    52638 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/main.data.json
+-rw-r--r--   0        0        0     2157 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/main.meta.json
+-rw-r--r--   0        0        0    29094 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/monkeypatch.data.json
+-rw-r--r--   0        0        0     1845 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/monkeypatch.meta.json
+-rw-r--r--   0        0        0    62209 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/nodes.data.json
+-rw-r--r--   0        0        0     1981 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/nodes.meta.json
+-rw-r--r--   0        0        0    34335 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/outcomes.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/outcomes.meta.json
+-rw-r--r--   0        0        0    38506 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pathlib.data.json
+-rw-r--r--   0        0        0     1933 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pathlib.meta.json
+-rw-r--r--   0        0        0   143660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pytester.data.json
+-rw-r--r--   0        0        0     2525 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pytester.meta.json
+-rw-r--r--   0        0        0     4811 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pytester_assertions.data.json
+-rw-r--r--   0        0        0     1609 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/pytester_assertions.meta.json
+-rw-r--r--   0        0        0   125125 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/python.data.json
+-rw-r--r--   0        0        0     2342 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/python.meta.json
+-rw-r--r--   0        0        0    61369 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/python_api.data.json
+-rw-r--r--   0        0        0     1843 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/python_api.meta.json
+-rw-r--r--   0        0        0    37939 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/recwarn.data.json
+-rw-r--r--   0        0        0     1778 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/recwarn.meta.json
+-rw-r--r--   0        0        0    53903 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/reports.data.json
+-rw-r--r--   0        0        0     1869 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/reports.meta.json
+-rw-r--r--   0        0        0    45874 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/runner.data.json
+-rw-r--r--   0        0        0     2002 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/runner.meta.json
+-rw-r--r--   0        0        0    11808 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/scope.data.json
+-rw-r--r--   0        0        0     1639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/scope.meta.json
+-rw-r--r--   0        0        0    17100 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/stash.data.json
+-rw-r--r--   0        0        0     1558 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/stash.meta.json
+-rw-r--r--   0        0        0   129351 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/terminal.data.json
+-rw-r--r--   0        0        0     2363 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/terminal.meta.json
+-rw-r--r--   0        0        0     1922 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/timing.data.json
+-rw-r--r--   0        0        0     1571 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/timing.meta.json
+-rw-r--r--   0        0        0    26426 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/tmpdir.data.json
+-rw-r--r--   0        0        0     2036 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/tmpdir.meta.json
+-rw-r--r--   0        0        0    34310 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/warning_types.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/warning_types.meta.json
+-rw-r--r--   0        0        0    14515 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/warnings.data.json
+-rw-r--r--   0        0        0     1818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/warnings.meta.json
+-rw-r--r--   0        0        0     2838 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/__init__.data.json
+-rw-r--r--   0        0        0     1619 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/__init__.meta.json
+-rw-r--r--   0        0        0   208544 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/code.data.json
+-rw-r--r--   0        0        0     1965 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/code.meta.json
+-rw-r--r--   0        0        0    20396 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/source.data.json
+-rw-r--r--   0        0        0     1726 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_code/source.meta.json
+-rw-r--r--   0        0        0     2160 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/__init__.data.json
+-rw-r--r--   0        0        0     1596 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/__init__.meta.json
+-rw-r--r--   0        0        0    13200 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/saferepr.data.json
+-rw-r--r--   0        0        0     1601 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/saferepr.meta.json
+-rw-r--r--   0        0        0    16853 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/terminalwriter.data.json
+-rw-r--r--   0        0        0     1854 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/terminalwriter.meta.json
+-rw-r--r--   0        0        0     3075 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/wcwidth.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/_io/wcwidth.meta.json
+-rw-r--r--   0        0        0    13753 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/__init__.data.json
+-rw-r--r--   0        0        0     1919 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/__init__.meta.json
+-rw-r--r--   0        0        0    64441 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/rewrite.data.json
+-rw-r--r--   0        0        0     2334 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/rewrite.meta.json
+-rw-r--r--   0        0        0     6078 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/truncate.data.json
+-rw-r--r--   0        0        0     1660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/truncate.meta.json
+-rw-r--r--   0        0        0    23734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/util.data.json
+-rw-r--r--   0        0        0     1775 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/assertion/util.meta.json
+-rw-r--r--   0        0        0   107743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/__init__.data.json
+-rw-r--r--   0        0        0     2610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/__init__.meta.json
+-rw-r--r--   0        0        0    42346 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/argparsing.data.json
+-rw-r--r--   0        0        0     1917 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/argparsing.meta.json
+-rw-r--r--   0        0        0     5077 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/compat.data.json
+-rw-r--r--   0        0        0     1704 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/compat.meta.json
+-rw-r--r--   0        0        0     3594 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/exceptions.data.json
+-rw-r--r--   0        0        0     1603 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/exceptions.meta.json
+-rw-r--r--   0        0        0    10343 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/findpaths.data.json
+-rw-r--r--   0        0        0     1736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/config/findpaths.meta.json
+-rw-r--r--   0        0        0    27773 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/__init__.data.json
+-rw-r--r--   0        0        0     1853 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/__init__.meta.json
+-rw-r--r--   0        0        0    34035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/expression.data.json
+-rw-r--r--   0        0        0     1690 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/expression.meta.json
+-rw-r--r--   0        0        0   133374 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/structures.data.json
+-rw-r--r--   0        0        0     1872 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_pytest/mark/structures.meta.json
+-rw-r--r--   0        0        0   112991 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_typeshed/__init__.data.json
+-rw-r--r--   0        0        0     1692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_typeshed/__init__.meta.json
+-rw-r--r--   0        0        0     5172 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_typeshed/xml.data.json
+-rw-r--r--   0        0        0     1591 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/_typeshed/xml.meta.json
+-rw-r--r--   0        0        0    23372 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/async_timeout/__init__.data.json
+-rw-r--r--   0        0        0     1816 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/async_timeout/__init__.meta.json
+-rw-r--r--   0        0        0    15027 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/__init__.data.json
+-rw-r--r--   0        0        0     2114 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/__init__.meta.json
+-rw-r--r--   0        0        0   116469 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/base_events.data.json
+-rw-r--r--   0        0        0     1921 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/base_events.meta.json
+-rw-r--r--   0        0        0    36018 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/coroutines.data.json
+-rw-r--r--   0        0        0     1676 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/coroutines.meta.json
+-rw-r--r--   0        0        0   222121 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/events.data.json
+-rw-r--r--   0        0        0     1953 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/events.meta.json
+-rw-r--r--   0        0        0    11879 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/exceptions.data.json
+-rw-r--r--   0        0        0     1631 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/exceptions.meta.json
+-rw-r--r--   0        0        0    43204 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/futures.data.json
+-rw-r--r--   0        0        0     1841 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/futures.meta.json
+-rw-r--r--   0        0        0    41996 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/locks.data.json
+-rw-r--r--   0        0        0     1817 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/locks.meta.json
+-rw-r--r--   0        0        0     2828 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/mixins.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/mixins.meta.json
+-rw-r--r--   0        0        0    18996 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/protocols.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/protocols.meta.json
+-rw-r--r--   0        0        0    28441 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/queues.data.json
+-rw-r--r--   0        0        0     1698 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/queues.meta.json
+-rw-r--r--   0        0        0    11969 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/runners.data.json
+-rw-r--r--   0        0        0     1751 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/runners.meta.json
+-rw-r--r--   0        0        0     4150 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/selector_events.data.json
+-rw-r--r--   0        0        0     1736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/selector_events.meta.json
+-rw-r--r--   0        0        0    39572 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/streams.data.json
+-rw-r--r--   0        0        0     1847 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/streams.meta.json
+-rw-r--r--   0        0        0    25143 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/subprocess.data.json
+-rw-r--r--   0        0        0     1857 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/subprocess.meta.json
+-rw-r--r--   0        0        0    10201 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/taskgroups.data.json
+-rw-r--r--   0        0        0     1804 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/taskgroups.meta.json
+-rw-r--r--   0        0        0   210760 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/tasks.data.json
+-rw-r--r--   0        0        0     1875 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/tasks.meta.json
+-rw-r--r--   0        0        0     6673 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/threads.data.json
+-rw-r--r--   0        0        0     1641 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/threads.meta.json
+-rw-r--r--   0        0        0    10036 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/timeouts.data.json
+-rw-r--r--   0        0        0     1634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/timeouts.meta.json
+-rw-r--r--   0        0        0    30202 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/transports.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/transports.meta.json
+-rw-r--r--   0        0        0    62212 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/unix_events.data.json
+-rw-r--r--   0        0        0     1828 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/asyncio/unix_events.meta.json
+-rw-r--r--   0        0        0    51606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/__init__.data.json
+-rw-r--r--   0        0        0     2357 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/__init__.meta.json
+-rw-r--r--   0        0        0     2203 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/_width_table.data.json
+-rw-r--r--   0        0        0     1581 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/_width_table.meta.json
+-rw-r--r--   0        0        0    34730 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/brackets.data.json
+-rw-r--r--   0        0        0     1738 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/brackets.meta.json
+-rw-r--r--   0        0        0    34153 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/cache.data.json
+-rw-r--r--   0        0        0     1804 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/cache.meta.json
+-rw-r--r--   0        0        0    24821 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/comments.data.json
+-rw-r--r--   0        0        0     1739 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/comments.meta.json
+-rw-r--r--   0        0        0     2214 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/const.data.json
+-rw-r--r--   0        0        0     1566 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/const.meta.json
+-rw-r--r--   0        0        0    20396 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/files.data.json
+-rw-r--r--   0        0        0     2005 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/files.meta.json
+-rw-r--r--   0        0        0    37122 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/handle_ipynb_magics.data.json
+-rw-r--r--   0        0        0     1833 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/handle_ipynb_magics.meta.json
+-rw-r--r--   0        0        0    69328 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/linegen.data.json
+-rw-r--r--   0        0        0     1942 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/linegen.meta.json
+-rw-r--r--   0        0        0    85067 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/lines.data.json
+-rw-r--r--   0        0        0     1823 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/lines.meta.json
+-rw-r--r--   0        0        0    35409 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/mode.data.json
+-rw-r--r--   0        0        0     1686 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/mode.meta.json
+-rw-r--r--   0        0        0    56411 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/nodes.data.json
+-rw-r--r--   0        0        0     1853 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/nodes.meta.json
+-rw-r--r--   0        0        0     5031 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/numerics.data.json
+-rw-r--r--   0        0        0     1594 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/numerics.meta.json
+-rw-r--r--   0        0        0    11971 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/output.data.json
+-rw-r--r--   0        0        0     1702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/output.meta.json
+-rw-r--r--   0        0        0    12323 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/parsing.data.json
+-rw-r--r--   0        0        0     1844 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/parsing.meta.json
+-rw-r--r--   0        0        0    26344 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/ranges.data.json
+-rw-r--r--   0        0        0     1690 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/ranges.meta.json
+-rw-r--r--   0        0        0    17026 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/report.data.json
+-rw-r--r--   0        0        0     1697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/report.meta.json
+-rw-r--r--   0        0        0    11815 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/rusty.data.json
+-rw-r--r--   0        0        0     1565 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/rusty.meta.json
+-rw-r--r--   0        0        0    13426 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/strings.data.json
+-rw-r--r--   0        0        0     1668 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/strings.meta.json
+-rw-r--r--   0        0        0    85345 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/trans.data.json
+-rw-r--r--   0        0        0     1929 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/black/trans.meta.json
+-rw-r--r--   0        0        0     7752 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/__init__.data.json
+-rw-r--r--   0        0        0     1795 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/__init__.meta.json
+-rw-r--r--   0        0        0    49747 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/_compat.data.json
+-rw-r--r--   0        0        0     1709 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/_compat.meta.json
+-rw-r--r--   0        0        0    52435 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/_termui_impl.data.json
+-rw-r--r--   0        0        0     1968 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/_termui_impl.meta.json
+-rw-r--r--   0        0        0   213135 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/core.data.json
+-rw-r--r--   0        0        0     2055 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/core.meta.json
+-rw-r--r--   0        0        0    73391 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/decorators.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/decorators.meta.json
+-rw-r--r--   0        0        0    31405 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/exceptions.data.json
+-rw-r--r--   0        0        0     1701 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/exceptions.meta.json
+-rw-r--r--   0        0        0    18490 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/formatting.data.json
+-rw-r--r--   0        0        0     1733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/formatting.meta.json
+-rw-r--r--   0        0        0     8330 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/globals.data.json
+-rw-r--r--   0        0        0     1673 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/globals.meta.json
+-rw-r--r--   0        0        0    31096 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/parser.data.json
+-rw-r--r--   0        0        0     1734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/parser.meta.json
+-rw-r--r--   0        0        0    38460 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/shell_completion.data.json
+-rw-r--r--   0        0        0     1743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/shell_completion.meta.json
+-rw-r--r--   0        0        0    25411 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/termui.data.json
+-rw-r--r--   0        0        0     1828 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/termui.meta.json
+-rw-r--r--   0        0        0    89634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/types.data.json
+-rw-r--r--   0        0        0     1878 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/types.meta.json
+-rw-r--r--   0        0        0    37412 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/utils.data.json
+-rw-r--r--   0        0        0     1788 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/click/utils.meta.json
+-rw-r--r--   0        0        0   788818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/collections/__init__.data.json
+-rw-r--r--   0        0        0     1707 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/collections/__init__.meta.json
+-rw-r--r--   0        0        0     3731 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/collections/abc.data.json
+-rw-r--r--   0        0        0     1618 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/collections/abc.meta.json
+-rw-r--r--   0        0        0     1527 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/__init__.data.json
+-rw-r--r--   0        0        0     1593 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/__init__.meta.json
+-rw-r--r--   0        0        0     4570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/__init__.data.json
+-rw-r--r--   0        0        0     1780 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/__init__.meta.json
+-rw-r--r--   0        0        0    86898 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/_base.data.json
+-rw-r--r--   0        0        0     1773 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/_base.meta.json
+-rw-r--r--   0        0        0    66256 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/process.data.json
+-rw-r--r--   0        0        0     1980 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/process.meta.json
+-rw-r--r--   0        0        0    24284 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/thread.data.json
+-rw-r--r--   0        0        0     1812 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/concurrent/futures/thread.meta.json
+-rw-r--r--   0        0        0     2197 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/__init__.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/__init__.meta.json
+-rw-r--r--   0        0        0    19403 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/_internals.data.json
+-rw-r--r--   0        0        0     1774 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/_internals.meta.json
+-rw-r--r--   0        0        0    17411 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/encode.data.json
+-rw-r--r--   0        0        0     1720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configurablejson/encode.meta.json
+-rw-r--r--   0        0        0     4837 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/__init__.data.json
+-rw-r--r--   0        0        0     1946 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/__init__.meta.json
+-rw-r--r--   0        0        0    13895 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/abs.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/abs.meta.json
+-rw-r--r--   0        0        0    10489 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/alias.data.json
+-rw-r--r--   0        0        0     1624 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/alias.meta.json
+-rw-r--r--   0        0        0    15569 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/beautify.data.json
+-rw-r--r--   0        0        0     1631 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/beautify.meta.json
+-rw-r--r--   0        0        0    34248 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/binary_config.data.json
+-rw-r--r--   0        0        0     1943 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/binary_config.meta.json
+-rw-r--r--   0        0        0    48466 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/cls.data.json
+-rw-r--r--   0        0        0     1877 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/cls.meta.json
+-rw-r--r--   0        0        0    37519 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/core.data.json
+-rw-r--r--   0        0        0     1990 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/core.meta.json
+-rw-r--r--   0        0        0    11344 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/dump.data.json
+-rw-r--r--   0        0        0     1748 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/dump.meta.json
+-rw-r--r--   0        0        0    47435 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/errors.data.json
+-rw-r--r--   0        0        0     1628 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/errors.meta.json
+-rw-r--r--   0        0        0    16366 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/helpers.data.json
+-rw-r--r--   0        0        0     1721 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/helpers.meta.json
+-rw-r--r--   0        0        0     5735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/postpone.data.json
+-rw-r--r--   0        0        0     1670 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/postpone.meta.json
+-rw-r--r--   0        0        0     6506 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/singleton.data.json
+-rw-r--r--   0        0        0     1591 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/singleton.meta.json
+-rw-r--r--   0        0        0     7818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/type_converters.data.json
+-rw-r--r--   0        0        0     1640 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/type_converters.meta.json
+-rw-r--r--   0        0        0    10079 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/__init__.data.json
+-rw-r--r--   0        0        0     1701 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/__init__.meta.json
+-rw-r--r--   0        0        0     2651 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/_types.data.json
+-rw-r--r--   0        0        0     1617 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/_types.meta.json
+-rw-r--r--   0        0        0    11833 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/loaders_shared.data.json
+-rw-r--r--   0        0        0     1822 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/loaders_shared.meta.json
+-rw-r--r--   0        0        0    31947 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/register.data.json
+-rw-r--r--   0        0        0     1664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/configuraptor/loaders/register.meta.json
+-rw-r--r--   0        0        0     2572 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/__about__.data.json
+-rw-r--r--   0        0        0     1605 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/__about__.meta.json
+-rw-r--r--   0        0        0     2399 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/__init__.data.json
+-rw-r--r--   0        0        0     1666 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/__init__.meta.json
+-rw-r--r--   0        0        0    13119 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/exceptions.data.json
+-rw-r--r--   0        0        0     1860 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/exceptions.meta.json
+-rw-r--r--   0        0        0    20535 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/utils.data.json
+-rw-r--r--   0        0        0     1695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/utils.meta.json
+-rw-r--r--   0        0        0     1728 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/__init__.data.json
+-rw-r--r--   0        0        0     1608 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/__init__.meta.json
+-rw-r--r--   0        0        0    48126 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/_oid.data.json
+-rw-r--r--   0        0        0     1816 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/_oid.meta.json
+-rw-r--r--   0        0        0     2607 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/__init__.data.json
+-rw-r--r--   0        0        0     1625 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/__init__.meta.json
+-rw-r--r--   0        0        0     2415 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/__init__.data.json
+-rw-r--r--   0        0        0     1736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/__init__.meta.json
+-rw-r--r--   0        0        0    14600 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/aead.data.json
+-rw-r--r--   0        0        0     1906 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/aead.meta.json
+-rw-r--r--   0        0        0    91123 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/backend.data.json
+-rw-r--r--   0        0        0     3420 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/backend.meta.json
+-rw-r--r--   0        0        0    13430 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/ciphers.data.json
+-rw-r--r--   0        0        0     2223 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/ciphers.meta.json
+-rw-r--r--   0        0        0     9234 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/cmac.data.json
+-rw-r--r--   0        0        0     2197 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/cmac.meta.json
+-rw-r--r--   0        0        0    30942 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/ec.data.json
+-rw-r--r--   0        0        0     2103 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/ec.meta.json
+-rw-r--r--   0        0        0    35743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/rsa.data.json
+-rw-r--r--   0        0        0     2460 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/rsa.meta.json
+-rw-r--r--   0        0        0     4356 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/utils.data.json
+-rw-r--r--   0        0        0     1929 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/backends/openssl/utils.meta.json
+-rw-r--r--   0        0        0     1650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/__init__.data.json
+-rw-r--r--   0        0        0     1609 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/__init__.meta.json
+-rw-r--r--   0        0        0     8138 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/__init__.data.json
+-rw-r--r--   0        0        0     1622 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/__init__.meta.json
+-rw-r--r--   0        0        0     2220 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/_openssl.data.json
+-rw-r--r--   0        0        0     1631 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/_openssl.meta.json
+-rw-r--r--   0        0        0     6808 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/asn1.data.json
+-rw-r--r--   0        0        0     1623 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/asn1.meta.json
+-rw-r--r--   0        0        0     6527 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/exceptions.data.json
+-rw-r--r--   0        0        0     1635 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/exceptions.meta.json
+-rw-r--r--   0        0        0     5960 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/ocsp.data.json
+-rw-r--r--   0        0        0     2376 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/ocsp.meta.json
+-rw-r--r--   0        0        0    34855 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/x509.data.json
+-rw-r--r--   0        0        0     2588 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/x509.meta.json
+-rw-r--r--   0        0        0    12942 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/__init__.data.json
+-rw-r--r--   0        0        0     2512 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/__init__.meta.json
+-rw-r--r--   0        0        0    21687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/aead.data.json
+-rw-r--r--   0        0        0     1640 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/aead.meta.json
+-rw-r--r--   0        0        0     6737 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/cmac.data.json
+-rw-r--r--   0        0        0     1821 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/cmac.meta.json
+-rw-r--r--   0        0        0    27431 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/dh.data.json
+-rw-r--r--   0        0        0     1818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/dh.meta.json
+-rw-r--r--   0        0        0    25255 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/dsa.data.json
+-rw-r--r--   0        0        0     1821 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/dsa.meta.json
+-rw-r--r--   0        0        0    23775 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ec.data.json
+-rw-r--r--   0        0        0     1818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ec.meta.json
+-rw-r--r--   0        0        0     6265 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ed25519.data.json
+-rw-r--r--   0        0        0     1832 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ed25519.meta.json
+-rw-r--r--   0        0        0     6177 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ed448.data.json
+-rw-r--r--   0        0        0     1826 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/ed448.meta.json
+-rw-r--r--   0        0        0     7597 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/hashes.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/hashes.meta.json
+-rw-r--r--   0        0        0     8319 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/hmac.data.json
+-rw-r--r--   0        0        0     1765 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/hmac.meta.json
+-rw-r--r--   0        0        0     3460 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/kdf.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/kdf.meta.json
+-rw-r--r--   0        0        0     7043 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/keys.data.json
+-rw-r--r--   0        0        0     2255 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/keys.meta.json
+-rw-r--r--   0        0        0     8574 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/poly1305.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/poly1305.meta.json
+-rw-r--r--   0        0        0    23980 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/rsa.data.json
+-rw-r--r--   0        0        0     1821 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/rsa.meta.json
+-rw-r--r--   0        0        0     6221 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/x25519.data.json
+-rw-r--r--   0        0        0     1829 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/x25519.meta.json
+-rw-r--r--   0        0        0     6133 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/x448.data.json
+-rw-r--r--   0        0        0     1823 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/_rust/openssl/x448.meta.json
+-rw-r--r--   0        0        0     1714 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/__init__.data.json
+-rw-r--r--   0        0        0     1625 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/__init__.meta.json
+-rw-r--r--   0        0        0    21364 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/_conditional.data.json
+-rw-r--r--   0        0        0     1660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/_conditional.meta.json
+-rw-r--r--   0        0        0    15055 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/binding.data.json
+-rw-r--r--   0        0        0     2018 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/bindings/openssl/binding.meta.json
+-rw-r--r--   0        0        0     1666 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/__init__.data.json
+-rw-r--r--   0        0        0     1613 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/__init__.meta.json
+-rw-r--r--   0        0        0     4379 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_asymmetric.data.json
+-rw-r--r--   0        0        0     1645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_asymmetric.meta.json
+-rw-r--r--   0        0        0    10701 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_cipheralgorithm.data.json
+-rw-r--r--   0        0        0     1656 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_cipheralgorithm.meta.json
+-rw-r--r--   0        0        0    34260 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_serialization.data.json
+-rw-r--r--   0        0        0     1836 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/_serialization.meta.json
+-rw-r--r--   0        0        0     2432 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/constant_time.data.json
+-rw-r--r--   0        0        0     1661 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/constant_time.meta.json
+-rw-r--r--   0        0        0    58762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/hashes.data.json
+-rw-r--r--   0        0        0     1919 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/hashes.meta.json
+-rw-r--r--   0        0        0     1754 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/__init__.data.json
+-rw-r--r--   0        0        0     1635 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/__init__.meta.json
+-rw-r--r--   0        0        0    30857 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/dh.data.json
+-rw-r--r--   0        0        0     2005 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/dh.meta.json
+-rw-r--r--   0        0        0    32764 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/dsa.data.json
+-rw-r--r--   0        0        0     2162 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/dsa.meta.json
+-rw-r--r--   0        0        0    87270 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ec.data.json
+-rw-r--r--   0        0        0     2213 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ec.meta.json
+-rw-r--r--   0        0        0    23234 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ed25519.data.json
+-rw-r--r--   0        0        0     2105 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ed25519.meta.json
+-rw-r--r--   0        0        0    22916 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ed448.data.json
+-rw-r--r--   0        0        0     2112 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/ed448.meta.json
+-rw-r--r--   0        0        0    23642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/padding.data.json
+-rw-r--r--   0        0        0     1995 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/padding.meta.json
+-rw-r--r--   0        0        0    34585 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/rsa.data.json
+-rw-r--r--   0        0        0     2223 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/rsa.meta.json
+-rw-r--r--   0        0        0     8764 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/types.data.json
+-rw-r--r--   0        0        0     2235 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/types.meta.json
+-rw-r--r--   0        0        0     7346 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/utils.data.json
+-rw-r--r--   0        0        0     1919 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/utils.meta.json
+-rw-r--r--   0        0        0    21642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/x25519.data.json
+-rw-r--r--   0        0        0     2102 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/x25519.meta.json
+-rw-r--r--   0        0        0    21336 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/x448.data.json
+-rw-r--r--   0        0        0     2109 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/asymmetric/x448.meta.json
+-rw-r--r--   0        0        0     3282 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/__init__.data.json
+-rw-r--r--   0        0        0     1794 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/__init__.meta.json
+-rw-r--r--   0        0        0    18107 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/aead.data.json
+-rw-r--r--   0        0        0     2254 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/aead.meta.json
+-rw-r--r--   0        0        0    55273 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/algorithms.data.json
+-rw-r--r--   0        0        0     1874 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/algorithms.meta.json
+-rw-r--r--   0        0        0    51375 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/base.data.json
+-rw-r--r--   0        0        0     2077 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/base.meta.json
+-rw-r--r--   0        0        0    60153 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/modes.data.json
+-rw-r--r--   0        0        0     1930 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/ciphers/modes.meta.json
+-rw-r--r--   0        0        0     5881 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/__init__.data.json
+-rw-r--r--   0        0        0     1867 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/__init__.meta.json
+-rw-r--r--   0        0        0     7038 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/base.data.json
+-rw-r--r--   0        0        0     2402 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/base.meta.json
+-rw-r--r--   0        0        0    28300 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/pkcs12.data.json
+-rw-r--r--   0        0        0     2507 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/pkcs12.meta.json
+-rw-r--r--   0        0        0   121932 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/ssh.data.json
+-rw-r--r--   0        0        0     2937 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/hazmat/primitives/serialization/ssh.meta.json
+-rw-r--r--   0        0        0    31282 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/__init__.data.json
+-rw-r--r--   0        0        0     2035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/__init__.meta.json
+-rw-r--r--   0        0        0   177864 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/base.data.json
+-rw-r--r--   0        0        0     2819 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/base.meta.json
+-rw-r--r--   0        0        0    22913 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/certificate_transparency.data.json
+-rw-r--r--   0        0        0     2002 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/certificate_transparency.meta.json
+-rw-r--r--   0        0        0   400114 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/extensions.data.json
+-rw-r--r--   0        0        0     2837 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/extensions.meta.json
+-rw-r--r--   0        0        0    52975 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/general_name.data.json
+-rw-r--r--   0        0        0     1916 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/general_name.meta.json
+-rw-r--r--   0        0        0    56606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/name.data.json
+-rw-r--r--   0        0        0     2035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/name.meta.json
+-rw-r--r--   0        0        0    97342 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/ocsp.data.json
+-rw-r--r--   0        0        0     2605 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/ocsp.meta.json
+-rw-r--r--   0        0        0     3246 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/oid.data.json
+-rw-r--r--   0        0        0     1677 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/oid.meta.json
+-rw-r--r--   0        0        0     3991 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/verification.data.json
+-rw-r--r--   0        0        0     1884 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/cryptography/x509/verification.meta.json
+-rw-r--r--   0        0        0    66125 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ctypes/__init__.data.json
+-rw-r--r--   0        0        0     1668 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ctypes/__init__.meta.json
+-rw-r--r--   0        0        0    63522 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ctypes/wintypes.data.json
+-rw-r--r--   0        0        0     1650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/ctypes/wintypes.meta.json
+-rw-r--r--   0        0        0     1519 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/distutils/__init__.data.json
+-rw-r--r--   0        0        0     1593 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/distutils/__init__.meta.json
+-rw-r--r--   0        0        0    16325 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/distutils/util.data.json
+-rw-r--r--   0        0        0     1677 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/distutils/util.meta.json
+-rw-r--r--   0        0        0     4515 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/__init__.data.json
+-rw-r--r--   0        0        0     1626 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/__init__.meta.json
+-rw-r--r--   0        0        0    24352 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/main.data.json
+-rw-r--r--   0        0        0     1799 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/main.meta.json
+-rw-r--r--   0        0        0    56881 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/parser.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/parser.meta.json
+-rw-r--r--   0        0        0    15883 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/variables.data.json
+-rw-r--r--   0        0        0     1597 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/dotenv/variables.meta.json
+-rw-r--r--   0        0        0     3284 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/edwh_migrate/__init__.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/edwh_migrate/__init__.meta.json
+-rw-r--r--   0        0        0    53859 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/edwh_migrate/migrate.data.json
+-rw-r--r--   0        0        0     2160 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/edwh_migrate/migrate.meta.json
+-rw-r--r--   0        0        0     7662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/__init__.data.json
+-rw-r--r--   0        0        0     1670 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/__init__.meta.json
+-rw-r--r--   0        0        0    16390 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/charset.data.json
+-rw-r--r--   0        0        0     1634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/charset.meta.json
+-rw-r--r--   0        0        0     7417 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/contentmanager.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/contentmanager.meta.json
+-rw-r--r--   0        0        0    25129 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/errors.data.json
+-rw-r--r--   0        0        0     1619 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/errors.meta.json
+-rw-r--r--   0        0        0     9350 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/header.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/header.meta.json
+-rw-r--r--   0        0        0   101117 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/message.data.json
+-rw-r--r--   0        0        0     1735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/message.meta.json
+-rw-r--r--   0        0        0    33204 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/policy.data.json
+-rw-r--r--   0        0        0     1720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/policy.meta.json
+-rw-r--r--   0        0        0    26015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/utils.data.json
+-rw-r--r--   0        0        0     1687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/email/utils.meta.json
+-rw-r--r--   0        0        0     9410 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/__init__.data.json
+-rw-r--r--   0        0        0     1845 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/__init__.meta.json
+-rw-r--r--   0        0        0   101033 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/cmd.data.json
+-rw-r--r--   0        0        0     1970 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/cmd.meta.json
+-rw-r--r--   0        0        0    22061 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/compat.data.json
+-rw-r--r--   0        0        0     1671 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/compat.meta.json
+-rw-r--r--   0        0        0    72061 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/config.data.json
+-rw-r--r--   0        0        0     1934 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/config.meta.json
+-rw-r--r--   0        0        0     8346 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/db.data.json
+-rw-r--r--   0        0        0     1721 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/db.meta.json
+-rw-r--r--   0        0        0    43517 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/diff.data.json
+-rw-r--r--   0        0        0     2015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/diff.meta.json
+-rw-r--r--   0        0        0    31208 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/exc.data.json
+-rw-r--r--   0        0        0     1772 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/exc.meta.json
+-rw-r--r--   0        0        0    86993 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/remote.data.json
+-rw-r--r--   0        0        0     2232 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/remote.meta.json
+-rw-r--r--   0        0        0    14236 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/types.data.json
+-rw-r--r--   0        0        0     1726 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/types.meta.json
+-rw-r--r--   0        0        0   120972 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/util.data.json
+-rw-r--r--   0        0        0     2102 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/util.meta.json
+-rw-r--r--   0        0        0     2073 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/__init__.data.json
+-rw-r--r--   0        0        0     1655 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/__init__.meta.json
+-rw-r--r--   0        0        0    67883 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/base.data.json
+-rw-r--r--   0        0        0     2376 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/base.meta.json
+-rw-r--r--   0        0        0    19230 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/fun.data.json
+-rw-r--r--   0        0        0     2010 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/fun.meta.json
+-rw-r--r--   0        0        0    54512 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/typ.data.json
+-rw-r--r--   0        0        0     1852 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/typ.meta.json
+-rw-r--r--   0        0        0    16630 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/util.data.json
+-rw-r--r--   0        0        0     1797 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/index/util.meta.json
+-rw-r--r--   0        0        0     3500 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/__init__.data.json
+-rw-r--r--   0        0        0     1984 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/__init__.meta.json
+-rw-r--r--   0        0        0    28657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/base.data.json
+-rw-r--r--   0        0        0     2035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/base.meta.json
+-rw-r--r--   0        0        0     6290 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/blob.data.json
+-rw-r--r--   0        0        0     1694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/blob.meta.json
+-rw-r--r--   0        0        0    44705 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/commit.data.json
+-rw-r--r--   0        0        0     2151 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/commit.meta.json
+-rw-r--r--   0        0        0    13968 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/fun.data.json
+-rw-r--r--   0        0        0     1715 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/fun.meta.json
+-rw-r--r--   0        0        0     9015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/tag.data.json
+-rw-r--r--   0        0        0     1905 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/tag.meta.json
+-rw-r--r--   0        0        0    38948 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/tree.data.json
+-rw-r--r--   0        0        0     1932 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/tree.meta.json
+-rw-r--r--   0        0        0   112403 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/util.data.json
+-rw-r--r--   0        0        0     2019 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/util.meta.json
+-rw-r--r--   0        0        0     1594 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/__init__.data.json
+-rw-r--r--   0        0        0     1595 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/__init__.meta.json
+-rw-r--r--   0        0        0    66249 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/base.data.json
+-rw-r--r--   0        0        0     2348 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/base.meta.json
+-rw-r--r--   0        0        0    13416 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/root.data.json
+-rw-r--r--   0        0        0     2197 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/root.meta.json
+-rw-r--r--   0        0        0    12184 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/util.data.json
+-rw-r--r--   0        0        0     2036 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/objects/submodule/util.meta.json
+-rw-r--r--   0        0        0     2334 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/__init__.data.json
+-rw-r--r--   0        0        0     1743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/__init__.meta.json
+-rw-r--r--   0        0        0    18213 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/head.data.json
+-rw-r--r--   0        0        0     1966 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/head.meta.json
+-rw-r--r--   0        0        0    40948 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/log.data.json
+-rw-r--r--   0        0        0     1857 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/log.meta.json
+-rw-r--r--   0        0        0    18936 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/reference.data.json
+-rw-r--r--   0        0        0     1753 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/reference.meta.json
+-rw-r--r--   0        0        0    10509 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/remote.data.json
+-rw-r--r--   0        0        0     1800 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/remote.meta.json
+-rw-r--r--   0        0        0    64655 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/symbolic.data.json
+-rw-r--r--   0        0        0     2131 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/symbolic.meta.json
+-rw-r--r--   0        0        0    13266 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/tag.data.json
+-rw-r--r--   0        0        0     1941 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/refs/tag.meta.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/__init__.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/__init__.meta.json
+-rw-r--r--   0        0        0   108932 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/base.data.json
+-rw-r--r--   0        0        0     2447 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/base.meta.json
+-rw-r--r--   0        0        0    12722 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/fun.data.json
+-rw-r--r--   0        0        0     2082 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/git/repo/fun.meta.json
+-rw-r--r--   0        0        0     4779 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/html/__init__.data.json
+-rw-r--r--   0        0        0     1582 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/html/__init__.meta.json
+-rw-r--r--   0        0        0     2720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/html/entities.data.json
+-rw-r--r--   0        0        0     1592 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/html/entities.meta.json
+-rw-r--r--   0        0        0    24033 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/__init__.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/__init__.meta.json
+-rw-r--r--   0        0        0    74759 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/client.data.json
+-rw-r--r--   0        0        0     1801 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/client.meta.json
+-rw-r--r--   0        0        0    63694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/cookiejar.data.json
+-rw-r--r--   0        0        0     1768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/http/cookiejar.meta.json
+-rw-r--r--   0        0        0     6375 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/__init__.data.json
+-rw-r--r--   0        0        0     1675 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/__init__.meta.json
+-rw-r--r--   0        0        0    61909 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/abc.data.json
+-rw-r--r--   0        0        0     1735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/abc.meta.json
+-rw-r--r--   0        0        0    76878 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/machinery.data.json
+-rw-r--r--   0        0        0     1781 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/machinery.meta.json
+-rw-r--r--   0        0        0    22649 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/readers.data.json
+-rw-r--r--   0        0        0     1824 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/readers.meta.json
+-rw-r--r--   0        0        0    24411 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/util.data.json
+-rw-r--r--   0        0        0     1745 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/util.meta.json
+-rw-r--r--   0        0        0   102879 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/metadata/__init__.data.json
+-rw-r--r--   0        0        0     1791 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/metadata/__init__.meta.json
+-rw-r--r--   0        0        0    18350 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/metadata/_meta.data.json
+-rw-r--r--   0        0        0     1664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/metadata/_meta.meta.json
+-rw-r--r--   0        0        0    10734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/resources/__init__.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/resources/__init__.meta.json
+-rw-r--r--   0        0        0     1804 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/resources/abc.data.json
+-rw-r--r--   0        0        0     1660 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/importlib/resources/abc.meta.json
+-rw-r--r--   0        0        0    67163 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/__init__.data.json
+-rw-r--r--   0        0        0     1675 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/__init__.meta.json
+-rw-r--r--   0        0        0    24550 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/_parse.data.json
+-rw-r--r--   0        0        0     1608 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/_parse.meta.json
+-rw-r--r--   0        0        0     4983 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/exceptions.data.json
+-rw-r--r--   0        0        0     1613 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/iniconfig/exceptions.meta.json
+-rw-r--r--   0        0        0    15855 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/__init__.data.json
+-rw-r--r--   0        0        0     1659 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/__init__.meta.json
+-rw-r--r--   0        0        0    15446 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/decoder.data.json
+-rw-r--r--   0        0        0     1612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/decoder.meta.json
+-rw-r--r--   0        0        0    11337 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/encoder.data.json
+-rw-r--r--   0        0        0     1621 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/json/encoder.meta.json
+-rw-r--r--   0        0        0   161727 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/logging/__init__.data.json
+-rw-r--r--   0        0        0     1746 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/logging/__init__.meta.json
+-rw-r--r--   0        0        0     2409 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/__init__.data.json
+-rw-r--r--   0        0        0     1641 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/__init__.meta.json
+-rw-r--r--   0        0        0     2178 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/_compat.data.json
+-rw-r--r--   0        0        0     1648 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/_compat.meta.json
+-rw-r--r--   0        0        0     5699 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/_punycode.data.json
+-rw-r--r--   0        0        0     1613 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/_punycode.meta.json
+-rw-r--r--   0        0        0    35792 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/main.data.json
+-rw-r--r--   0        0        0     2277 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/main.meta.json
+-rw-r--r--   0        0        0     8178 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_block.data.json
+-rw-r--r--   0        0        0     2282 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_block.meta.json
+-rw-r--r--   0        0        0     6900 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_core.data.json
+-rw-r--r--   0        0        0     2028 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_core.meta.json
+-rw-r--r--   0        0        0     9963 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_inline.data.json
+-rw-r--r--   0        0        0     2424 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/parser_inline.meta.json
+-rw-r--r--   0        0        0    21363 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/renderer.data.json
+-rw-r--r--   0        0        0     1804 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/renderer.meta.json
+-rw-r--r--   0        0        0    38344 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/ruler.data.json
+-rw-r--r--   0        0        0     1850 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/ruler.meta.json
+-rw-r--r--   0        0        0    29705 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/token.data.json
+-rw-r--r--   0        0        0     1738 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/token.meta.json
+-rw-r--r--   0        0        0    39948 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/utils.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/utils.meta.json
+-rw-r--r--   0        0        0     1570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/__init__.data.json
+-rw-r--r--   0        0        0     1587 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/__init__.meta.json
+-rw-r--r--   0        0        0     1784 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/entities.data.json
+-rw-r--r--   0        0        0     1655 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/entities.meta.json
+-rw-r--r--   0        0        0     1690 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/html_blocks.data.json
+-rw-r--r--   0        0        0     1604 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/html_blocks.meta.json
+-rw-r--r--   0        0        0     5020 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/html_re.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/html_re.meta.json
+-rw-r--r--   0        0        0     6147 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/normalize_url.data.json
+-rw-r--r--   0        0        0     1800 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/normalize_url.meta.json
+-rw-r--r--   0        0        0    18415 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/utils.data.json
+-rw-r--r--   0        0        0     1666 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/common/utils.meta.json
+-rw-r--r--   0        0        0     2570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/__init__.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/__init__.meta.json
+-rw-r--r--   0        0        0     5812 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_destination.data.json
+-rw-r--r--   0        0        0     1703 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_destination.meta.json
+-rw-r--r--   0        0        0     2394 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_label.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_label.meta.json
+-rw-r--r--   0        0        0     6332 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_title.data.json
+-rw-r--r--   0        0        0     1691 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/helpers/parse_link_title.meta.json
+-rw-r--r--   0        0        0     4996 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/__init__.data.json
+-rw-r--r--   0        0        0     1776 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/__init__.meta.json
+-rw-r--r--   0        0        0     2194 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/commonmark.data.json
+-rw-r--r--   0        0        0     1661 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/commonmark.meta.json
+-rw-r--r--   0        0        0     2170 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/default.data.json
+-rw-r--r--   0        0        0     1655 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/default.meta.json
+-rw-r--r--   0        0        0     2146 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/zero.data.json
+-rw-r--r--   0        0        0     1617 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/presets/zero.meta.json
+-rw-r--r--   0        0        0     3639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/__init__.data.json
+-rw-r--r--   0        0        0     2110 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/__init__.meta.json
+-rw-r--r--   0        0        0     3022 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/blockquote.data.json
+-rw-r--r--   0        0        0     1786 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/blockquote.meta.json
+-rw-r--r--   0        0        0     2645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/code.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/code.meta.json
+-rw-r--r--   0        0        0     2658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/fence.data.json
+-rw-r--r--   0        0        0     1728 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/fence.meta.json
+-rw-r--r--   0        0        0     2983 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/heading.data.json
+-rw-r--r--   0        0        0     1780 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/heading.meta.json
+-rw-r--r--   0        0        0     2768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/hr.data.json
+-rw-r--r--   0        0        0     1753 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/hr.meta.json
+-rw-r--r--   0        0        0     3959 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/html_block.data.json
+-rw-r--r--   0        0        0     1847 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/html_block.meta.json
+-rw-r--r--   0        0        0     2697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/lheading.data.json
+-rw-r--r--   0        0        0     1734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/lheading.meta.json
+-rw-r--r--   0        0        0     5063 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/list.data.json
+-rw-r--r--   0        0        0     1757 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/list.meta.json
+-rw-r--r--   0        0        0     2710 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/paragraph.data.json
+-rw-r--r--   0        0        0     1736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/paragraph.meta.json
+-rw-r--r--   0        0        0     3169 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/reference.data.json
+-rw-r--r--   0        0        0     1767 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/reference.meta.json
+-rw-r--r--   0        0        0    18155 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/state_block.data.json
+-rw-r--r--   0        0        0     1860 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/state_block.meta.json
+-rw-r--r--   0        0        0     4850 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/table.data.json
+-rw-r--r--   0        0        0     1771 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_block/table.meta.json
+-rw-r--r--   0        0        0     3151 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/__init__.data.json
+-rw-r--r--   0        0        0     1957 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/__init__.meta.json
+-rw-r--r--   0        0        0     2332 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/block.data.json
+-rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/block.meta.json
+-rw-r--r--   0        0        0     2212 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/inline.data.json
+-rw-r--r--   0        0        0     1710 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/inline.meta.json
+-rw-r--r--   0        0        0     6399 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/linkify.data.json
+-rw-r--r--   0        0        0     1806 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/linkify.meta.json
+-rw-r--r--   0        0        0     2908 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/normalize.data.json
+-rw-r--r--   0        0        0     1726 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/normalize.meta.json
+-rw-r--r--   0        0        0     8420 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/replacements.data.json
+-rw-r--r--   0        0        0     1806 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/replacements.meta.json
+-rw-r--r--   0        0        0     5695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/smartquotes.data.json
+-rw-r--r--   0        0        0     1803 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/smartquotes.meta.json
+-rw-r--r--   0        0        0     4916 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/state_core.data.json
+-rw-r--r--   0        0        0     1785 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/state_core.meta.json
+-rw-r--r--   0        0        0     2530 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/text_join.data.json
+-rw-r--r--   0        0        0     1760 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_core/text_join.meta.json
+-rw-r--r--   0        0        0     4052 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/__init__.data.json
+-rw-r--r--   0        0        0     2268 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/__init__.meta.json
+-rw-r--r--   0        0        0     2963 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/autolink.data.json
+-rw-r--r--   0        0        0     1733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/autolink.meta.json
+-rw-r--r--   0        0        0     2680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/backticks.data.json
+-rw-r--r--   0        0        0     1735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/backticks.meta.json
+-rw-r--r--   0        0        0     3477 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/balance_pairs.data.json
+-rw-r--r--   0        0        0     1750 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/balance_pairs.meta.json
+-rw-r--r--   0        0        0     4122 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/emphasis.data.json
+-rw-r--r--   0        0        0     1786 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/emphasis.meta.json
+-rw-r--r--   0        0        0     3398 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/entity.data.json
+-rw-r--r--   0        0        0     1806 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/entity.meta.json
+-rw-r--r--   0        0        0     2697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/escape.data.json
+-rw-r--r--   0        0        0     1750 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/escape.meta.json
+-rw-r--r--   0        0        0     2338 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/fragments_join.data.json
+-rw-r--r--   0        0        0     1735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/fragments_join.meta.json
+-rw-r--r--   0        0        0     3415 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/html_inline.data.json
+-rw-r--r--   0        0        0     1793 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/html_inline.meta.json
+-rw-r--r--   0        0        0     2858 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/image.data.json
+-rw-r--r--   0        0        0     1789 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/image.meta.json
+-rw-r--r--   0        0        0     2564 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/link.data.json
+-rw-r--r--   0        0        0     1746 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/link.meta.json
+-rw-r--r--   0        0        0     2670 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/linkify.data.json
+-rw-r--r--   0        0        0     1743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/linkify.meta.json
+-rw-r--r--   0        0        0     2582 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/newline.data.json
+-rw-r--r--   0        0        0     1752 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/newline.meta.json
+-rw-r--r--   0        0        0    41273 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/state_inline.data.json
+-rw-r--r--   0        0        0     1914 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/state_inline.meta.json
+-rw-r--r--   0        0        0     4172 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/strikethrough.data.json
+-rw-r--r--   0        0        0     1750 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/strikethrough.meta.json
+-rw-r--r--   0        0        0     2546 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/text.data.json
+-rw-r--r--   0        0        0     1714 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/markdown_it/rules_inline/text.meta.json
+-rw-r--r--   0        0        0     3266 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/__init__.data.json
+-rw-r--r--   0        0        0     1707 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/__init__.meta.json
+-rw-r--r--   0        0        0     4854 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_decode.data.json
+-rw-r--r--   0        0        0     1637 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_decode.meta.json
+-rw-r--r--   0        0        0     4579 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_encode.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_encode.meta.json
+-rw-r--r--   0        0        0     2344 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_format.data.json
+-rw-r--r--   0        0        0     1604 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_format.meta.json
+-rw-r--r--   0        0        0    13015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_parse.data.json
+-rw-r--r--   0        0        0     1690 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_parse.meta.json
+-rw-r--r--   0        0        0    28308 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_url.data.json
+-rw-r--r--   0        0        0     1580 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/mdurl/_url.meta.json
+-rw-r--r--   0        0        0    34141 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/__init__.data.json
+-rw-r--r--   0        0        0     2244 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/__init__.meta.json
+-rw-r--r--   0        0        0    33167 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/connection.data.json
+-rw-r--r--   0        0        0     1733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/connection.meta.json
+-rw-r--r--   0        0        0   122489 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/context.data.json
+-rw-r--r--   0        0        0     2210 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/context.meta.json
+-rw-r--r--   0        0        0   218030 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/managers.data.json
+-rw-r--r--   0        0        0     1874 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/managers.meta.json
+-rw-r--r--   0        0        0    62426 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/pool.data.json
+-rw-r--r--   0        0        0     1692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/pool.meta.json
+-rw-r--r--   0        0        0     9487 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_fork.data.json
+-rw-r--r--   0        0        0     1728 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_fork.meta.json
+-rw-r--r--   0        0        0     6369 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_forkserver.data.json
+-rw-r--r--   0        0        0     1767 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_forkserver.meta.json
+-rw-r--r--   0        0        0     7043 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_spawn_posix.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_spawn_posix.meta.json
+-rw-r--r--   0        0        0     1977 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_spawn_win32.data.json
+-rw-r--r--   0        0        0     1742 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/popen_spawn_win32.meta.json
+-rw-r--r--   0        0        0    18525 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/process.data.json
+-rw-r--r--   0        0        0     1662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/process.meta.json
+-rw-r--r--   0        0        0    28704 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/queues.data.json
+-rw-r--r--   0        0        0     1650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/queues.meta.json
+-rw-r--r--   0        0        0    30366 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/reduction.data.json
+-rw-r--r--   0        0        0     1846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/reduction.meta.json
+-rw-r--r--   0        0        0    36116 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/shared_memory.data.json
+-rw-r--r--   0        0        0     1710 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/shared_memory.meta.json
+-rw-r--r--   0        0        0    98077 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/sharedctypes.data.json
+-rw-r--r--   0        0        0     1833 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/sharedctypes.meta.json
+-rw-r--r--   0        0        0    10102 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/spawn.data.json
+-rw-r--r--   0        0        0     1641 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/spawn.meta.json
+-rw-r--r--   0        0        0    28435 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/synchronize.data.json
+-rw-r--r--   0        0        0     1786 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/synchronize.meta.json
+-rw-r--r--   0        0        0    24570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/util.data.json
+-rw-r--r--   0        0        0     1700 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/multiprocessing/util.meta.json
+-rw-r--r--   0        0        0   397801 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/os/__init__.data.json
+-rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/os/__init__.meta.json
+-rw-r--r--   0        0        0     4908 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/os/path.data.json
+-rw-r--r--   0        0        0     1607 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/os/path.meta.json
+-rw-r--r--   0        0        0     3186 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/__init__.data.json
+-rw-r--r--   0        0        0     1571 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/__init__.meta.json
+-rw-r--r--   0        0        0    15520 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_elffile.data.json
+-rw-r--r--   0        0        0     1645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_elffile.meta.json
+-rw-r--r--   0        0        0    29325 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_manylinux.data.json
+-rw-r--r--   0        0        0     1799 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_manylinux.meta.json
+-rw-r--r--   0        0        0    20376 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_musllinux.data.json
+-rw-r--r--   0        0        0     1810 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_musllinux.meta.json
+-rw-r--r--   0        0        0    48580 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_parser.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_parser.meta.json
+-rw-r--r--   0        0        0    14958 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_structures.data.json
+-rw-r--r--   0        0        0     1587 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_structures.meta.json
+-rw-r--r--   0        0        0    20540 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_tokenizer.data.json
+-rw-r--r--   0        0        0     1681 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/_tokenizer.meta.json
+-rw-r--r--   0        0        0    19513 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/markers.data.json
+-rw-r--r--   0        0        0     1782 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/markers.meta.json
+-rw-r--r--   0        0        0    10512 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/requirements.data.json
+-rw-r--r--   0        0        0     1727 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/requirements.meta.json
+-rw-r--r--   0        0        0    60559 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/specifiers.data.json
+-rw-r--r--   0        0        0     1757 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/specifiers.meta.json
+-rw-r--r--   0        0        0    29671 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/tags.data.json
+-rw-r--r--   0        0        0     1812 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/tags.meta.json
+-rw-r--r--   0        0        0    13225 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/utils.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/utils.meta.json
+-rw-r--r--   0        0        0    80955 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/version.data.json
+-rw-r--r--   0        0        0     1692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/packaging/version.meta.json
+-rw-r--r--   0        0        0     3451 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/__init__.data.json
+-rw-r--r--   0        0        0     1795 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/__init__.meta.json
+-rw-r--r--   0        0        0     2445 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/_meta.data.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/_meta.meta.json
+-rw-r--r--   0        0        0    29494 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/gitignore.data.json
+-rw-r--r--   0        0        0     1756 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/gitignore.meta.json
+-rw-r--r--   0        0        0    29872 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/pathspec.data.json
+-rw-r--r--   0        0        0     1745 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/pathspec.meta.json
+-rw-r--r--   0        0        0    19851 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/pattern.data.json
+-rw-r--r--   0        0        0     1702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/pattern.meta.json
+-rw-r--r--   0        0        0    55592 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/util.data.json
+-rw-r--r--   0        0        0     1795 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/util.meta.json
+-rw-r--r--   0        0        0     1860 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/patterns/__init__.data.json
+-rw-r--r--   0        0        0     1667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/patterns/__init__.meta.json
+-rw-r--r--   0        0        0    18510 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/patterns/gitwildmatch.data.json
+-rw-r--r--   0        0        0     1737 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pathspec/patterns/gitwildmatch.meta.json
+-rw-r--r--   0        0        0    32503 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/__init__.data.json
+-rw-r--r--   0        0        0     1727 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/__init__.meta.json
+-rw-r--r--   0        0        0    52590 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/api.data.json
+-rw-r--r--   0        0        0     1616 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/api.meta.json
+-rw-r--r--   0        0        0     3068 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/version.data.json
+-rw-r--r--   0        0        0     1584 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/platformdirs/version.meta.json
+-rw-r--r--   0        0        0     3065 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/__init__.data.json
+-rw-r--r--   0        0        0     1641 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/__init__.meta.json
+-rw-r--r--   0        0        0     4539 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_callers.data.json
+-rw-r--r--   0        0        0     1622 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_callers.meta.json
+-rw-r--r--   0        0        0   102996 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_hooks.data.json
+-rw-r--r--   0        0        0     1653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_hooks.meta.json
+-rw-r--r--   0        0        0    39554 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_manager.data.json
+-rw-r--r--   0        0        0     1772 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_manager.meta.json
+-rw-r--r--   0        0        0    22344 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_result.data.json
+-rw-r--r--   0        0        0     1589 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_result.meta.json
+-rw-r--r--   0        0        0    13570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_tracing.data.json
+-rw-r--r--   0        0        0     1579 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_tracing.meta.json
+-rw-r--r--   0        0        0     2634 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_version.data.json
+-rw-r--r--   0        0        0     1562 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pluggy/_version.meta.json
+-rw-r--r--   0        0        0     3109 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/__init__.data.json
+-rw-r--r--   0        0        0     1792 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/__init__.meta.json
+-rw-r--r--   0        0        0    26890 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/auto_suggest.data.json
+-rw-r--r--   0        0        0     1836 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/auto_suggest.meta.json
+-rw-r--r--   0        0        0   115432 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/buffer.data.json
+-rw-r--r--   0        0        0     2602 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/buffer.meta.json
+-rw-r--r--   0        0        0    25920 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/cache.data.json
+-rw-r--r--   0        0        0     1618 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/cache.meta.json
+-rw-r--r--   0        0        0    20835 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/cursor_shapes.data.json
+-rw-r--r--   0        0        0     1802 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/cursor_shapes.meta.json
+-rw-r--r--   0        0        0    31349 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/data_structures.data.json
+-rw-r--r--   0        0        0     1603 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/data_structures.meta.json
+-rw-r--r--   0        0        0    87520 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/document.data.json
+-rw-r--r--   0        0        0     1855 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/document.meta.json
+-rw-r--r--   0        0        0     3916 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/enums.data.json
+-rw-r--r--   0        0        0     1595 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/enums.meta.json
+-rw-r--r--   0        0        0    28526 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/history.data.json
+-rw-r--r--   0        0        0     1808 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/history.meta.json
+-rw-r--r--   0        0        0    65848 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/keys.data.json
+-rw-r--r--   0        0        0     1618 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/keys.meta.json
+-rw-r--r--   0        0        0    14425 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/mouse_events.data.json
+-rw-r--r--   0        0        0     1649 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/mouse_events.meta.json
+-rw-r--r--   0        0        0    23629 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/patch_stdout.data.json
+-rw-r--r--   0        0        0     1970 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/patch_stdout.meta.json
+-rw-r--r--   0        0        0    42743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/renderer.data.json
+-rw-r--r--   0        0        0     2557 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/renderer.meta.json
+-rw-r--r--   0        0        0    13657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/search.data.json
+-rw-r--r--   0        0        0     1931 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/search.meta.json
+-rw-r--r--   0        0        0    10289 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/selection.data.json
+-rw-r--r--   0        0        0     1604 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/selection.meta.json
+-rw-r--r--   0        0        0    35717 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/utils.data.json
+-rw-r--r--   0        0        0     1716 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/utils.meta.json
+-rw-r--r--   0        0        0    30382 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/validation.data.json
+-rw-r--r--   0        0        0     1799 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/validation.meta.json
+-rw-r--r--   0        0        0     3433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/__init__.data.json
+-rw-r--r--   0        0        0     1824 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/__init__.meta.json
+-rw-r--r--   0        0        0   116580 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/application.data.json
+-rw-r--r--   0        0        0     3662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/application.meta.json
+-rw-r--r--   0        0        0    17411 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/current.data.json
+-rw-r--r--   0        0        0     2032 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/current.meta.json
+-rw-r--r--   0        0        0     9568 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/dummy.data.json
+-rw-r--r--   0        0        0     1829 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/dummy.meta.json
+-rw-r--r--   0        0        0     7049 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/run_in_terminal.data.json
+-rw-r--r--   0        0        0     2050 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/application/run_in_terminal.meta.json
+-rw-r--r--   0        0        0     2635 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/__init__.data.json
+-rw-r--r--   0        0        0     1721 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/__init__.meta.json
+-rw-r--r--   0        0        0    20695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/base.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/base.meta.json
+-rw-r--r--   0        0        0     7396 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/in_memory.data.json
+-rw-r--r--   0        0        0     1709 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/clipboard/in_memory.meta.json
+-rw-r--r--   0        0        0     4077 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/__init__.data.json
+-rw-r--r--   0        0        0     1909 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/__init__.meta.json
+-rw-r--r--   0        0        0    49069 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/base.data.json
+-rw-r--r--   0        0        0     1989 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/base.meta.json
+-rw-r--r--   0        0        0     6003 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/deduplicate.data.json
+-rw-r--r--   0        0        0     1728 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/deduplicate.meta.json
+-rw-r--r--   0        0        0    10866 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/filesystem.data.json
+-rw-r--r--   0        0        0     1953 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/filesystem.meta.json
+-rw-r--r--   0        0        0    34018 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/fuzzy_completer.data.json
+-rw-r--r--   0        0        0     2180 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/fuzzy_completer.meta.json
+-rw-r--r--   0        0        0    10210 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/nested.data.json
+-rw-r--r--   0        0        0     1798 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/nested.meta.json
+-rw-r--r--   0        0        0    10571 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/word_completer.data.json
+-rw-r--r--   0        0        0     2039 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/completion/word_completer.meta.json
+-rw-r--r--   0        0        0     3419 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/__init__.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/__init__.meta.json
+-rw-r--r--   0        0        0    15354 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/async_context_manager.data.json
+-rw-r--r--   0        0        0     1695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/async_context_manager.meta.json
+-rw-r--r--   0        0        0    12774 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/async_generator.data.json
+-rw-r--r--   0        0        0     1904 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/async_generator.meta.json
+-rw-r--r--   0        0        0    22342 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/dummy_contextvars.data.json
+-rw-r--r--   0        0        0     1654 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/dummy_contextvars.meta.json
+-rw-r--r--   0        0        0    19676 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/inputhook.data.json
+-rw-r--r--   0        0        0     1847 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/inputhook.meta.json
+-rw-r--r--   0        0        0     8541 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/utils.data.json
+-rw-r--r--   0        0        0     1822 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/eventloop/utils.meta.json
+-rw-r--r--   0        0        0     9943 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/__init__.data.json
+-rw-r--r--   0        0        0     1780 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/__init__.meta.json
+-rw-r--r--   0        0        0    31137 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/app.data.json
+-rw-r--r--   0        0        0     1955 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/app.meta.json
+-rw-r--r--   0        0        0    35307 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/base.data.json
+-rw-r--r--   0        0        0     1627 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/base.meta.json
+-rw-r--r--   0        0        0    20205 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/cli.data.json
+-rw-r--r--   0        0        0     1884 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/cli.meta.json
+-rw-r--r--   0        0        0     4798 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/utils.data.json
+-rw-r--r--   0        0        0     1633 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/filters/utils.meta.json
+-rw-r--r--   0        0        0     3955 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/__init__.data.json
+-rw-r--r--   0        0        0     1870 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/__init__.meta.json
+-rw-r--r--   0        0        0    17680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/ansi.data.json
+-rw-r--r--   0        0        0     1856 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/ansi.meta.json
+-rw-r--r--   0        0        0    16203 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/base.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/base.meta.json
+-rw-r--r--   0        0        0    10955 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/html.data.json
+-rw-r--r--   0        0        0     1884 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/html.meta.json
+-rw-r--r--   0        0        0     6736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/pygments.data.json
+-rw-r--r--   0        0        0     1796 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/pygments.meta.json
+-rw-r--r--   0        0        0     6887 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/utils.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/formatted_text/utils.meta.json
+-rw-r--r--   0        0        0     2550 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/__init__.data.json
+-rw-r--r--   0        0        0     1704 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/__init__.meta.json
+-rw-r--r--   0        0        0     3993 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/ansi_escape_sequences.data.json
+-rw-r--r--   0        0        0     1694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/ansi_escape_sequences.meta.json
+-rw-r--r--   0        0        0    31531 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/base.data.json
+-rw-r--r--   0        0        0     1734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/base.meta.json
+-rw-r--r--   0        0        0     4357 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/defaults.data.json
+-rw-r--r--   0        0        0     1716 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/defaults.meta.json
+-rw-r--r--   0        0        0     5176 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/typeahead.data.json
+-rw-r--r--   0        0        0     1799 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/typeahead.meta.json
+-rw-r--r--   0        0        0    18000 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/vt100_parser.data.json
+-rw-r--r--   0        0        0     1886 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/input/vt100_parser.meta.json
+-rw-r--r--   0        0        0     2974 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/__init__.data.json
+-rw-r--r--   0        0        0     1741 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/__init__.meta.json
+-rw-r--r--   0        0        0     4744 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/defaults.data.json
+-rw-r--r--   0        0        0     1972 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/defaults.meta.json
+-rw-r--r--   0        0        0     2606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/digraphs.data.json
+-rw-r--r--   0        0        0     1615 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/digraphs.meta.json
+-rw-r--r--   0        0        0     8439 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/emacs_state.data.json
+-rw-r--r--   0        0        0     1709 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/emacs_state.meta.json
+-rw-r--r--   0        0        0    65935 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/key_bindings.data.json
+-rw-r--r--   0        0        0     1912 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/key_bindings.meta.json
+-rw-r--r--   0        0        0    41736 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/key_processor.data.json
+-rw-r--r--   0        0        0     2392 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/key_processor.meta.json
+-rw-r--r--   0        0        0    18379 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/vi_state.data.json
+-rw-r--r--   0        0        0     1858 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/vi_state.meta.json
+-rw-r--r--   0        0        0     1706 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/__init__.data.json
+-rw-r--r--   0        0        0     1621 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/__init__.meta.json
+-rw-r--r--   0        0        0     3880 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/auto_suggest.data.json
+-rw-r--r--   0        0        0     1873 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/auto_suggest.meta.json
+-rw-r--r--   0        0        0     5505 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/basic.data.json
+-rw-r--r--   0        0        0     1936 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/basic.meta.json
+-rw-r--r--   0        0        0     7918 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/completion.data.json
+-rw-r--r--   0        0        0     2225 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/completion.meta.json
+-rw-r--r--   0        0        0     3324 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/cpr.data.json
+-rw-r--r--   0        0        0     1800 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/cpr.meta.json
+-rw-r--r--   0        0        0     8255 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/emacs.data.json
+-rw-r--r--   0        0        0     2028 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/emacs.meta.json
+-rw-r--r--   0        0        0     3768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/focus.data.json
+-rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/focus.meta.json
+-rw-r--r--   0        0        0    12947 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/mouse.data.json
+-rw-r--r--   0        0        0     1900 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/mouse.meta.json
+-rw-r--r--   0        0        0    77971 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/named_commands.data.json
+-rw-r--r--   0        0        0     2036 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/named_commands.meta.json
+-rw-r--r--   0        0        0     5390 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/open_in_editor.data.json
+-rw-r--r--   0        0        0     1820 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/open_in_editor.meta.json
+-rw-r--r--   0        0        0     6866 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/page_navigation.data.json
+-rw-r--r--   0        0        0     1815 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/page_navigation.meta.json
+-rw-r--r--   0        0        0     8280 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/scroll.data.json
+-rw-r--r--   0        0        0     1735 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/scroll.meta.json
+-rw-r--r--   0        0        0    32939 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/vi.data.json
+-rw-r--r--   0        0        0     2336 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/key_binding/bindings/vi.meta.json
+-rw-r--r--   0        0        0     6953 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/__init__.data.json
+-rw-r--r--   0        0        0     1909 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/__init__.meta.json
+-rw-r--r--   0        0        0   191072 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/containers.data.json
+-rw-r--r--   0        0        0     2608 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/containers.meta.json
+-rw-r--r--   0        0        0   103397 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/controls.data.json
+-rw-r--r--   0        0        0     2761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/controls.meta.json
+-rw-r--r--   0        0        0    15289 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/dimension.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/dimension.meta.json
+-rw-r--r--   0        0        0     3818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/dummy.data.json
+-rw-r--r--   0        0        0     1926 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/dummy.meta.json
+-rw-r--r--   0        0        0    35473 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/layout.data.json
+-rw-r--r--   0        0        0     2276 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/layout.meta.json
+-rw-r--r--   0        0        0    29041 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/margins.data.json
+-rw-r--r--   0        0        0     1923 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/margins.meta.json
+-rw-r--r--   0        0        0    43226 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/menus.data.json
+-rw-r--r--   0        0        0     2541 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/menus.meta.json
+-rw-r--r--   0        0        0     6979 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/mouse_handlers.data.json
+-rw-r--r--   0        0        0     1775 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/mouse_handlers.meta.json
+-rw-r--r--   0        0        0    85872 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/processors.data.json
+-rw-r--r--   0        0        0     2167 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/processors.meta.json
+-rw-r--r--   0        0        0    27012 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/screen.data.json
+-rw-r--r--   0        0        0     1810 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/screen.meta.json
+-rw-r--r--   0        0        0    25956 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/scrollable_pane.data.json
+-rw-r--r--   0        0        0     2271 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/scrollable_pane.meta.json
+-rw-r--r--   0        0        0    45237 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/utils.data.json
+-rw-r--r--   0        0        0     1742 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/layout/utils.meta.json
+-rw-r--r--   0        0        0     2788 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/__init__.data.json
+-rw-r--r--   0        0        0     1708 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/__init__.meta.json
+-rw-r--r--   0        0        0    14816 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/base.data.json
+-rw-r--r--   0        0        0     1744 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/base.meta.json
+-rw-r--r--   0        0        0    25563 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/pygments.data.json
+-rw-r--r--   0        0        0     2068 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/lexers/pygments.meta.json
+-rw-r--r--   0        0        0     2453 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/__init__.data.json
+-rw-r--r--   0        0        0     1748 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/__init__.meta.json
+-rw-r--r--   0        0        0    78123 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/base.data.json
+-rw-r--r--   0        0        0     1825 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/base.meta.json
+-rw-r--r--   0        0        0    10015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/color_depth.data.json
+-rw-r--r--   0        0        0     1713 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/color_depth.meta.json
+-rw-r--r--   0        0        0     4215 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/defaults.data.json
+-rw-r--r--   0        0        0     1800 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/defaults.meta.json
+-rw-r--r--   0        0        0     4979 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/flush_stdout.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/flush_stdout.meta.json
+-rw-r--r--   0        0        0    31685 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/plain_text.data.json
+-rw-r--r--   0        0        0     1911 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/plain_text.meta.json
+-rw-r--r--   0        0        0    56262 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/vt100.data.json
+-rw-r--r--   0        0        0     2024 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/output/vt100.meta.json
+-rw-r--r--   0        0        0     4332 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/__init__.data.json
+-rw-r--r--   0        0        0     1805 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/__init__.meta.json
+-rw-r--r--   0        0        0    22835 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/dialogs.data.json
+-rw-r--r--   0        0        0     2433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/dialogs.meta.json
+-rw-r--r--   0        0        0   114712 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/prompt.data.json
+-rw-r--r--   0        0        0     3557 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/prompt.meta.json
+-rw-r--r--   0        0        0    11079 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/utils.data.json
+-rw-r--r--   0        0        0     2287 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/utils.meta.json
+-rw-r--r--   0        0        0     3824 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/__init__.data.json
+-rw-r--r--   0        0        0     1774 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/__init__.meta.json
+-rw-r--r--   0        0        0    57362 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/base.data.json
+-rw-r--r--   0        0        0     3158 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/base.meta.json
+-rw-r--r--   0        0        0    53097 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/formatters.data.json
+-rw-r--r--   0        0        0     2075 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/shortcuts/progress_bar/formatters.meta.json
+-rw-r--r--   0        0        0     5348 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/__init__.data.json
+-rw-r--r--   0        0        0     1875 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/__init__.meta.json
+-rw-r--r--   0        0        0    52925 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/base.data.json
+-rw-r--r--   0        0        0     1619 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/base.meta.json
+-rw-r--r--   0        0        0     7095 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/defaults.data.json
+-rw-r--r--   0        0        0     1783 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/defaults.meta.json
+-rw-r--r--   0        0        0     2263 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/named_colors.data.json
+-rw-r--r--   0        0        0     1612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/named_colors.meta.json
+-rw-r--r--   0        0        0     5665 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/pygments.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/pygments.meta.json
+-rw-r--r--   0        0        0    28725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/style.data.json
+-rw-r--r--   0        0        0     1844 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/style.meta.json
+-rw-r--r--   0        0        0    45971 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/style_transformation.data.json
+-rw-r--r--   0        0        0     1976 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/styles/style_transformation.meta.json
+-rw-r--r--   0        0        0     4351 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/__init__.data.json
+-rw-r--r--   0        0        0     1788 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/__init__.meta.json
+-rw-r--r--   0        0        0    97873 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/base.data.json
+-rw-r--r--   0        0        0     2885 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/base.meta.json
+-rw-r--r--   0        0        0     9086 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/dialogs.data.json
+-rw-r--r--   0        0        0     2291 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/dialogs.meta.json
+-rw-r--r--   0        0        0    20613 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/menus.data.json
+-rw-r--r--   0        0        0     2464 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/menus.meta.json
+-rw-r--r--   0        0        0    31768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/toolbars.data.json
+-rw-r--r--   0        0        0     2774 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/prompt_toolkit/widgets/toolbars.meta.json
+-rw-r--r--   0        0        0     2688 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/__init__.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/__init__.meta.json
+-rw-r--r--   0        0        0    41445 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/typer_support.data.json
+-rw-r--r--   0        0        0     2060 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/typer_support.meta.json
+-rw-r--r--   0        0        0     5234 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/types.data.json
+-rw-r--r--   0        0        0     1665 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql/types.meta.json
+-rw-r--r--   0        0        0     3021 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/__init__.data.json
+-rw-r--r--   0        0        0     1712 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/__init__.meta.json
+-rw-r--r--   0        0        0    33442 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/cli_support.data.json
+-rw-r--r--   0        0        0     2099 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/cli_support.meta.json
+-rw-r--r--   0        0        0    11990 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/core.data.json
+-rw-r--r--   0        0        0     1764 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/core.meta.json
+-rw-r--r--   0        0        0    14843 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/helpers.data.json
+-rw-r--r--   0        0        0     1659 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/helpers.meta.json
+-rw-r--r--   0        0        0    17244 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/types.data.json
+-rw-r--r--   0        0        0     1685 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pydal2sql_core/types.meta.json
+-rw-r--r--   0        0        0    37406 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/__init__.data.json
+-rw-r--r--   0        0        0     1694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/__init__.meta.json
+-rw-r--r--   0        0        0    11760 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/errors.data.json
+-rw-r--r--   0        0        0     1623 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/errors.meta.json
+-rw-r--r--   0        0        0     3251 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/model.data.json
+-rw-r--r--   0        0        0     1592 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pyexpat/model.meta.json
+-rw-r--r--   0        0        0    11300 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pytest/__init__.data.json
+-rw-r--r--   0        0        0     2215 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/pytest/__init__.meta.json
+-rw-r--r--   0        0        0     4443 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/__init__.data.json
+-rw-r--r--   0        0        0     2152 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/__init__.meta.json
+-rw-r--r--   0        0        0     4346 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/constants.data.json
+-rw-r--r--   0        0        0     1768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/constants.meta.json
+-rw-r--r--   0        0        0    23428 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/form.data.json
+-rw-r--r--   0        0        0     1674 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/form.meta.json
+-rw-r--r--   0        0        0     8188 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompt.data.json
+-rw-r--r--   0        0        0     1787 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompt.meta.json
+-rw-r--r--   0        0        0     9442 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/question.data.json
+-rw-r--r--   0        0        0     1846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/question.meta.json
+-rw-r--r--   0        0        0     2719 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/styles.data.json
+-rw-r--r--   0        0        0     1770 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/styles.meta.json
+-rw-r--r--   0        0        0    10514 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/utils.data.json
+-rw-r--r--   0        0        0     1659 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/utils.meta.json
+-rw-r--r--   0        0        0     1555 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/version.data.json
+-rw-r--r--   0        0        0     1581 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/version.meta.json
+-rw-r--r--   0        0        0     3253 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/__init__.data.json
+-rw-r--r--   0        0        0     2552 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/__init__.meta.json
+-rw-r--r--   0        0        0    14644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/autocomplete.data.json
+-rw-r--r--   0        0        0     2390 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/autocomplete.meta.json
+-rw-r--r--   0        0        0     7096 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/checkbox.data.json
+-rw-r--r--   0        0        0     2087 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/checkbox.meta.json
+-rw-r--r--   0        0        0    34906 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/common.data.json
+-rw-r--r--   0        0        0     2243 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/common.meta.json
+-rw-r--r--   0        0        0     4510 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/confirm.data.json
+-rw-r--r--   0        0        0     1937 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/confirm.meta.json
+-rw-r--r--   0        0        0     3322 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/password.data.json
+-rw-r--r--   0        0        0     1895 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/password.meta.json
+-rw-r--r--   0        0        0    10875 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/path.data.json
+-rw-r--r--   0        0        0     2457 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/path.meta.json
+-rw-r--r--   0        0        0     3886 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/press_any_key_to_continue.data.json
+-rw-r--r--   0        0        0     1944 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/press_any_key_to_continue.meta.json
+-rw-r--r--   0        0        0     4331 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/rawselect.data.json
+-rw-r--r--   0        0        0     1917 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/rawselect.meta.json
+-rw-r--r--   0        0        0     5962 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/select.data.json
+-rw-r--r--   0        0        0     2044 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/select.meta.json
+-rw-r--r--   0        0        0     4730 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/text.data.json
+-rw-r--r--   0        0        0     2002 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/questionary/prompts/text.meta.json
+-rw-r--r--   0        0        0     6400 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/__init__.data.json
+-rw-r--r--   0        0        0     1898 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/__init__.meta.json
+-rw-r--r--   0        0        0    16999 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/backoff.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/backoff.meta.json
+-rw-r--r--   0        0        0    85848 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/client.data.json
+-rw-r--r--   0        0        0     2142 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/client.meta.json
+-rw-r--r--   0        0        0    93397 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/cluster.data.json
+-rw-r--r--   0        0        0     2399 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/cluster.meta.json
+-rw-r--r--   0        0        0     1662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/compat.data.json
+-rw-r--r--   0        0        0     1591 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/compat.meta.json
+-rw-r--r--   0        0        0    66520 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/connection.data.json
+-rw-r--r--   0        0        0     2179 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/connection.meta.json
+-rw-r--r--   0        0        0     2852 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/crc.data.json
+-rw-r--r--   0        0        0     1639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/crc.meta.json
+-rw-r--r--   0        0        0     6763 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/credentials.data.json
+-rw-r--r--   0        0        0     1577 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/credentials.meta.json
+-rw-r--r--   0        0        0    38204 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/exceptions.data.json
+-rw-r--r--   0        0        0     1619 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/exceptions.meta.json
+-rw-r--r--   0        0        0    17826 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/lock.data.json
+-rw-r--r--   0        0        0     1703 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/lock.meta.json
+-rw-r--r--   0        0        0    10756 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/ocsp.data.json
+-rw-r--r--   0        0        0     2227 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/ocsp.meta.json
+-rw-r--r--   0        0        0     5031 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/retry.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/retry.meta.json
+-rw-r--r--   0        0        0    25650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/sentinel.data.json
+-rw-r--r--   0        0        0     2035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/sentinel.meta.json
+-rw-r--r--   0        0        0    14572 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/typing.data.json
+-rw-r--r--   0        0        0     1779 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/typing.meta.json
+-rw-r--r--   0        0        0     8733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/utils.data.json
+-rw-r--r--   0        0        0     1777 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/utils.meta.json
+-rw-r--r--   0        0        0     3170 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/__init__.data.json
+-rw-r--r--   0        0        0     1793 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/__init__.meta.json
+-rw-r--r--   0        0        0    25974 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/base.data.json
+-rw-r--r--   0        0        0     1841 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/base.meta.json
+-rw-r--r--   0        0        0    13625 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/commands.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/commands.meta.json
+-rw-r--r--   0        0        0     4777 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/encoders.data.json
+-rw-r--r--   0        0        0     1614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/encoders.meta.json
+-rw-r--r--   0        0        0    19890 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/helpers.data.json
+-rw-r--r--   0        0        0     1746 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/helpers.meta.json
+-rw-r--r--   0        0        0    16424 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/hiredis.data.json
+-rw-r--r--   0        0        0     1922 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/hiredis.meta.json
+-rw-r--r--   0        0        0     7715 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/resp2.data.json
+-rw-r--r--   0        0        0     1748 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/resp2.meta.json
+-rw-r--r--   0        0        0    11362 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/resp3.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/resp3.meta.json
+-rw-r--r--   0        0        0    13926 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/socket.data.json
+-rw-r--r--   0        0        0     1795 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/_parsers/socket.meta.json
+-rw-r--r--   0        0        0     5067 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/__init__.data.json
+-rw-r--r--   0        0        0     1811 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/__init__.meta.json
+-rw-r--r--   0        0        0   110856 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/client.data.json
+-rw-r--r--   0        0        0     2145 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/client.meta.json
+-rw-r--r--   0        0        0   103724 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/cluster.data.json
+-rw-r--r--   0        0        0     2530 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/cluster.meta.json
+-rw-r--r--   0        0        0    95161 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/connection.data.json
+-rw-r--r--   0        0        0     2433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/connection.meta.json
+-rw-r--r--   0        0        0    18737 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/lock.data.json
+-rw-r--r--   0        0        0     2140 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/lock.meta.json
+-rw-r--r--   0        0        0     9741 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/retry.data.json
+-rw-r--r--   0        0        0     1683 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/retry.meta.json
+-rw-r--r--   0        0        0    28762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/sentinel.data.json
+-rw-r--r--   0        0        0     2049 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/sentinel.meta.json
+-rw-r--r--   0        0        0     5149 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/utils.data.json
+-rw-r--r--   0        0        0     1807 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/asyncio/utils.meta.json
+-rw-r--r--   0        0        0     3151 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/__init__.data.json
+-rw-r--r--   0        0        0     1772 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/__init__.meta.json
+-rw-r--r--   0        0        0    93587 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/cluster.data.json
+-rw-r--r--   0        0        0     1871 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/cluster.meta.json
+-rw-r--r--   0        0        0   401564 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/core.data.json
+-rw-r--r--   0        0        0     2028 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/core.meta.json
+-rw-r--r--   0        0        0     6004 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/helpers.data.json
+-rw-r--r--   0        0        0     1703 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/helpers.meta.json
+-rw-r--r--   0        0        0     6977 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/redismodules.data.json
+-rw-r--r--   0        0        0     1840 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/redismodules.meta.json
+-rw-r--r--   0        0        0     8799 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/sentinel.data.json
+-rw-r--r--   0        0        0     1650 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/sentinel.meta.json
+-rw-r--r--   0        0        0    36127 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/__init__.data.json
+-rw-r--r--   0        0        0     1867 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/__init__.meta.json
+-rw-r--r--   0        0        0    35430 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/commands.data.json
+-rw-r--r--   0        0        0     1701 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/commands.meta.json
+-rw-r--r--   0        0        0    20186 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/info.data.json
+-rw-r--r--   0        0        0     1678 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/bf/info.meta.json
+-rw-r--r--   0        0        0    16330 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/__init__.data.json
+-rw-r--r--   0        0        0     1831 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/__init__.meta.json
+-rw-r--r--   0        0        0    12253 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/commands.data.json
+-rw-r--r--   0        0        0     1857 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/commands.meta.json
+-rw-r--r--   0        0        0     5581 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/edge.data.json
+-rw-r--r--   0        0        0     1699 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/edge.meta.json
+-rw-r--r--   0        0        0     3201 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/exceptions.data.json
+-rw-r--r--   0        0        0     1606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/exceptions.meta.json
+-rw-r--r--   0        0        0    12629 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/execution_plan.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/execution_plan.meta.json
+-rw-r--r--   0        0        0     5382 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/node.data.json
+-rw-r--r--   0        0        0     1705 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/node.meta.json
+-rw-r--r--   0        0        0     8795 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/path.data.json
+-rw-r--r--   0        0        0     1715 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/path.meta.json
+-rw-r--r--   0        0        0    43138 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/query_result.data.json
+-rw-r--r--   0        0        0     1891 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/graph/query_result.meta.json
+-rw-r--r--   0        0        0    11069 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/__init__.data.json
+-rw-r--r--   0        0        0     2150 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/__init__.meta.json
+-rw-r--r--   0        0        0     2474 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/_util.data.json
+-rw-r--r--   0        0        0     1593 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/_util.meta.json
+-rw-r--r--   0        0        0    31474 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/commands.data.json
+-rw-r--r--   0        0        0     1805 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/commands.meta.json
+-rw-r--r--   0        0        0     2850 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/decoders.data.json
+-rw-r--r--   0        0        0     1695 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/decoders.meta.json
+-rw-r--r--   0        0        0     4037 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/path.data.json
+-rw-r--r--   0        0        0     1592 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/json/path.meta.json
+-rw-r--r--   0        0        0    19740 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/__init__.data.json
+-rw-r--r--   0        0        0     1902 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/__init__.meta.json
+-rw-r--r--   0        0        0     1648 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/_util.data.json
+-rw-r--r--   0        0        0     1598 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/_util.meta.json
+-rw-r--r--   0        0        0    34189 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/aggregation.data.json
+-rw-r--r--   0        0        0     1636 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/aggregation.meta.json
+-rw-r--r--   0        0        0    55636 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/commands.data.json
+-rw-r--r--   0        0        0     1980 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/commands.meta.json
+-rw-r--r--   0        0        0     3840 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/document.data.json
+-rw-r--r--   0        0        0     1628 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/document.meta.json
+-rw-r--r--   0        0        0    38931 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/query.data.json
+-rw-r--r--   0        0        0     1624 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/query.meta.json
+-rw-r--r--   0        0        0     4606 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/result.data.json
+-rw-r--r--   0        0        0     1714 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/result.meta.json
+-rw-r--r--   0        0        0     8818 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/suggestion.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/search/suggestion.meta.json
+-rw-r--r--   0        0        0    12615 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/__init__.data.json
+-rw-r--r--   0        0        0     2136 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/__init__.meta.json
+-rw-r--r--   0        0        0    68529 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/commands.data.json
+-rw-r--r--   0        0        0     1698 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/commands.meta.json
+-rw-r--r--   0        0        0     8125 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/info.data.json
+-rw-r--r--   0        0        0     1757 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/info.meta.json
+-rw-r--r--   0        0        0     2954 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/utils.data.json
+-rw-r--r--   0        0        0     1679 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/redis/commands/timeseries/utils.meta.json
+-rw-r--r--   0        0        0     8696 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/__init__.data.json
+-rw-r--r--   0        0        0     1674 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/__init__.meta.json
+-rw-r--r--   0        0        0     8768 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/__main__.data.json
+-rw-r--r--   0        0        0     1992 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/__main__.meta.json
+-rw-r--r--   0        0        0     1759 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_cell_widths.data.json
+-rw-r--r--   0        0        0     1580 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_cell_widths.meta.json
+-rw-r--r--   0        0        0     1583 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_emoji_codes.data.json
+-rw-r--r--   0        0        0     1581 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_emoji_codes.meta.json
+-rw-r--r--   0        0        0     4376 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_emoji_replace.data.json
+-rw-r--r--   0        0        0     1616 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_emoji_replace.meta.json
+-rw-r--r--   0        0        0     2314 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_export_format.data.json
+-rw-r--r--   0        0        0     1583 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_export_format.meta.json
+-rw-r--r--   0        0        0     2155 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_extension.data.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_extension.meta.json
+-rw-r--r--   0        0        0     2407 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_fileno.data.json
+-rw-r--r--   0        0        0     1584 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_fileno.meta.json
+-rw-r--r--   0        0        0     9093 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_log_render.data.json
+-rw-r--r--   0        0        0     1783 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_log_render.meta.json
+-rw-r--r--   0        0        0     6839 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_loop.data.json
+-rw-r--r--   0        0        0     1564 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_loop.meta.json
+-rw-r--r--   0        0        0    16444 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_null_file.data.json
+-rw-r--r--   0        0        0     1586 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_null_file.meta.json
+-rw-r--r--   0        0        0     2122 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_palettes.data.json
+-rw-r--r--   0        0        0     1635 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_palettes.meta.json
+-rw-r--r--   0        0        0     2064 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_pick.data.json
+-rw-r--r--   0        0        0     1563 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_pick.meta.json
+-rw-r--r--   0        0        0    12590 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_ratio.data.json
+-rw-r--r--   0        0        0     1684 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_ratio.meta.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_spinners.data.json
+-rw-r--r--   0        0        0     1574 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_spinners.meta.json
+-rw-r--r--   0        0        0     7101 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_stack.data.json
+-rw-r--r--   0        0        0     1565 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_stack.meta.json
+-rw-r--r--   0        0        0     2967 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_timer.data.json
+-rw-r--r--   0        0        0     1594 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_timer.meta.json
+-rw-r--r--   0        0        0    53433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_win32_console.data.json
+-rw-r--r--   0        0        0     1759 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_win32_console.meta.json
+-rw-r--r--   0        0        0     8940 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_windows.data.json
+-rw-r--r--   0        0        0     1713 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_windows.meta.json
+-rw-r--r--   0        0        0     3426 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_windows_renderer.data.json
+-rw-r--r--   0        0        0     1706 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_windows_renderer.meta.json
+-rw-r--r--   0        0        0     4268 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_wrap.data.json
+-rw-r--r--   0        0        0     1794 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/_wrap.meta.json
+-rw-r--r--   0        0        0     5088 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/abc.data.json
+-rw-r--r--   0        0        0     1687 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/abc.meta.json
+-rw-r--r--   0        0        0    24347 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/align.data.json
+-rw-r--r--   0        0        0     1895 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/align.meta.json
+-rw-r--r--   0        0        0    26848 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/ansi.data.json
+-rw-r--r--   0        0        0     1929 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/ansi.meta.json
+-rw-r--r--   0        0        0    21129 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/box.data.json
+-rw-r--r--   0        0        0     1846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/box.meta.json
+-rw-r--r--   0        0        0     8887 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/cells.data.json
+-rw-r--r--   0        0        0     1673 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/cells.meta.json
+-rw-r--r--   0        0        0    57697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/color.data.json
+-rw-r--r--   0        0        0     1999 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/color.meta.json
+-rw-r--r--   0        0        0    21972 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/color_triplet.data.json
+-rw-r--r--   0        0        0     1580 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/color_triplet.meta.json
+-rw-r--r--   0        0        0    11427 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/columns.data.json
+-rw-r--r--   0        0        0     2019 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/columns.meta.json
+-rw-r--r--   0        0        0   190779 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/console.data.json
+-rw-r--r--   0        0        0     2697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/console.meta.json
+-rw-r--r--   0        0        0     6421 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/constrain.data.json
+-rw-r--r--   0        0        0     1723 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/constrain.meta.json
+-rw-r--r--   0        0        0    22261 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/containers.data.json
+-rw-r--r--   0        0        0     1780 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/containers.meta.json
+-rw-r--r--   0        0        0    23326 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/control.data.json
+-rw-r--r--   0        0        0     1830 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/control.meta.json
+-rw-r--r--   0        0        0     3898 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/default_styles.data.json
+-rw-r--r--   0        0        0     1949 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/default_styles.meta.json
+-rw-r--r--   0        0        0    11746 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/emoji.data.json
+-rw-r--r--   0        0        0     1894 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/emoji.meta.json
+-rw-r--r--   0        0        0    10354 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/errors.data.json
+-rw-r--r--   0        0        0     1566 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/errors.meta.json
+-rw-r--r--   0        0        0     9209 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/file_proxy.data.json
+-rw-r--r--   0        0        0     1679 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/file_proxy.meta.json
+-rw-r--r--   0        0        0    16680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/highlighter.data.json
+-rw-r--r--   0        0        0     1771 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/highlighter.meta.json
+-rw-r--r--   0        0        0    10622 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/json.data.json
+-rw-r--r--   0        0        0     1885 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/json.meta.json
+-rw-r--r--   0        0        0    10805 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/jupyter.data.json
+-rw-r--r--   0        0        0     1717 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/jupyter.meta.json
+-rw-r--r--   0        0        0    30064 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/live.data.json
+-rw-r--r--   0        0        0     2194 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/live.meta.json
+-rw-r--r--   0        0        0     9936 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/live_render.data.json
+-rw-r--r--   0        0        0     1792 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/live_render.meta.json
+-rw-r--r--   0        0        0    88816 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/markdown.data.json
+-rw-r--r--   0        0        0     2164 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/markdown.meta.json
+-rw-r--r--   0        0        0    27404 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/markup.data.json
+-rw-r--r--   0        0        0     1839 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/markup.meta.json
+-rw-r--r--   0        0        0    25218 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/measure.data.json
+-rw-r--r--   0        0        0     1697 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/measure.meta.json
+-rw-r--r--   0        0        0    13374 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/padding.data.json
+-rw-r--r--   0        0        0     1734 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/padding.meta.json
+-rw-r--r--   0        0        0     6681 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/pager.data.json
+-rw-r--r--   0        0        0     1753 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/pager.meta.json
+-rw-r--r--   0        0        0    10046 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/palette.data.json
+-rw-r--r--   0        0        0     1858 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/palette.meta.json
+-rw-r--r--   0        0        0    18539 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/panel.data.json
+-rw-r--r--   0        0        0     1872 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/panel.meta.json
+-rw-r--r--   0        0        0   133658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/pretty.data.json
+-rw-r--r--   0        0        0     2054 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/pretty.meta.json
+-rw-r--r--   0        0        0     3667 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/protocol.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/protocol.meta.json
+-rw-r--r--   0        0        0    16838 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/region.data.json
+-rw-r--r--   0        0        0     1565 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/region.meta.json
+-rw-r--r--   0        0        0    29387 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/repr.data.json
+-rw-r--r--   0        0        0     1746 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/repr.meta.json
+-rw-r--r--   0        0        0     9164 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/rule.data.json
+-rw-r--r--   0        0        0     1863 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/rule.meta.json
+-rw-r--r--   0        0        0     4759 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/scope.data.json
+-rw-r--r--   0        0        0     1773 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/scope.meta.json
+-rw-r--r--   0        0        0     6015 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/screen.data.json
+-rw-r--r--   0        0        0     1694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/screen.meta.json
+-rw-r--r--   0        0        0   100846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/segment.data.json
+-rw-r--r--   0        0        0     1849 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/segment.meta.json
+-rw-r--r--   0        0        0    11158 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/spinner.data.json
+-rw-r--r--   0        0        0     1941 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/spinner.meta.json
+-rw-r--r--   0        0        0    13247 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/status.data.json
+-rw-r--r--   0        0        0     1775 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/status.meta.json
+-rw-r--r--   0        0        0    58607 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/style.data.json
+-rw-r--r--   0        0        0     1833 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/style.meta.json
+-rw-r--r--   0        0        0     6702 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/styled.data.json
+-rw-r--r--   0        0        0     1779 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/styled.meta.json
+-rw-r--r--   0        0        0    81805 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/syntax.data.json
+-rw-r--r--   0        0        0     2207 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/syntax.meta.json
+-rw-r--r--   0        0        0    86262 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/table.data.json
+-rw-r--r--   0        0        0     2052 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/table.meta.json
+-rw-r--r--   0        0        0     6902 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/terminal_theme.data.json
+-rw-r--r--   0        0        0     1669 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/terminal_theme.meta.json
+-rw-r--r--   0        0        0    92014 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/text.data.json
+-rw-r--r--   0        0        0     2035 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/text.meta.json
+-rw-r--r--   0        0        0    15945 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/theme.data.json
+-rw-r--r--   0        0        0     1798 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/theme.meta.json
+-rw-r--r--   0        0        0     1749 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/themes.data.json
+-rw-r--r--   0        0        0     1670 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/themes.meta.json
+-rw-r--r--   0        0        0    58612 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/traceback.data.json
+-rw-r--r--   0        0        0     2214 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/rich/traceback.meta.json
+-rw-r--r--   0        0        0     3007 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/__init__.data.json
+-rw-r--r--   0        0        0     1646 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/__init__.meta.json
+-rw-r--r--   0        0        0     2868 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/__version__.data.json
+-rw-r--r--   0        0        0     1589 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/__version__.meta.json
+-rw-r--r--   0        0        0     3655 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/slugify.data.json
+-rw-r--r--   0        0        0     1603 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/slugify.meta.json
+-rw-r--r--   0        0        0     4522 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/special.data.json
+-rw-r--r--   0        0        0     1603 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/slugify/special.meta.json
+-rw-r--r--   0        0        0    22875 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sqlite3/__init__.data.json
+-rw-r--r--   0        0        0     1652 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sqlite3/__init__.meta.json
+-rw-r--r--   0        0        0   185529 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sqlite3/dbapi2.data.json
+-rw-r--r--   0        0        0     1763 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sqlite3/dbapi2.meta.json
+-rw-r--r--   0        0        0     1385 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/__init__.data.json
+-rw-r--r--   0        0        0     1433 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/__init__.meta.json
+-rw-r--r--   0        0        0     1537 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/typedal/__about__.data.json
+-rw-r--r--   0        0        0     1514 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/typedal/__about__.meta.json
+-rw-r--r--   0        0        0    13692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/typedal/config.data.json
+-rw-r--r--   0        0        0     1978 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/src/typedal/config.meta.json
+-rw-r--r--   0        0        0     1507 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/__about__.data.json
+-rw-r--r--   0        0        0     1570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/__about__.meta.json
+-rw-r--r--   0        0        0     2535 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/__init__.data.json
+-rw-r--r--   0        0        0     1663 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/__init__.meta.json
+-rw-r--r--   0        0        0    27733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/cli.data.json
+-rw-r--r--   0        0        0     1973 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/cli.meta.json
+-rw-r--r--   0        0        0    67427 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/core.data.json
+-rw-r--r--   0        0        0     2010 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/core.meta.json
+-rw-r--r--   0        0        0    63551 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/plugins.data.json
+-rw-r--r--   0        0        0     1879 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/su6/plugins.meta.json
+-rw-r--r--   0        0        0   155536 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sys/__init__.data.json
+-rw-r--r--   0        0        0     1729 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/sys/__init__.meta.json
+-rw-r--r--   0        0        0    93809 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tabulate/__init__.data.json
+-rw-r--r--   0        0        0     1645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tabulate/__init__.meta.json
+-rw-r--r--   0        0        0     2720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tabulate/version.data.json
+-rw-r--r--   0        0        0     1582 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tabulate/version.meta.json
+-rw-r--r--   0        0        0     1432 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tests/__init__.data.json
+-rw-r--r--   0        0        0     1516 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tests/__init__.meta.json
+-rw-r--r--   0        0        0     2554 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/__init__.data.json
+-rw-r--r--   0        0        0     1626 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/__init__.meta.json
+-rw-r--r--   0        0        0    55884 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_parser.data.json
+-rw-r--r--   0        0        0     1759 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_parser.meta.json
+-rw-r--r--   0        0        0     7143 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_re.data.json
+-rw-r--r--   0        0        0     1696 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_re.meta.json
+-rw-r--r--   0        0        0     2727 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_types.data.json
+-rw-r--r--   0        0        0     1609 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli/_types.meta.json
+-rw-r--r--   0        0        0     2458 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli_w/__init__.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli_w/__init__.meta.json
+-rw-r--r--   0        0        0    34224 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli_w/_writer.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomli_w/_writer.meta.json
+-rw-r--r--   0        0        0     4454 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/__init__.data.json
+-rw-r--r--   0        0        0     1629 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/__init__.meta.json
+-rw-r--r--   0        0        0     2889 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_compat.data.json
+-rw-r--r--   0        0        0     1636 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_compat.meta.json
+-rw-r--r--   0        0        0     9960 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_types.data.json
+-rw-r--r--   0        0        0     1591 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_types.meta.json
+-rw-r--r--   0        0        0     8336 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_utils.data.json
+-rw-r--r--   0        0        0     1752 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/_utils.meta.json
+-rw-r--r--   0        0        0    24999 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/api.data.json
+-rw-r--r--   0        0        0     1827 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/api.meta.json
+-rw-r--r--   0        0        0    50132 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/container.data.json
+-rw-r--r--   0        0        0     1846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/container.meta.json
+-rw-r--r--   0        0        0    38878 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/exceptions.data.json
+-rw-r--r--   0        0        0     1597 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/exceptions.meta.json
+-rw-r--r--   0        0        0   287553 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/items.data.json
+-rw-r--r--   0        0        0     1952 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/items.meta.json
+-rw-r--r--   0        0        0    36621 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/parser.data.json
+-rw-r--r--   0        0        0     1915 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/parser.meta.json
+-rw-r--r--   0        0        0    24225 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/source.data.json
+-rw-r--r--   0        0        0     1709 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/source.meta.json
+-rw-r--r--   0        0        0     8088 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/toml_char.data.json
+-rw-r--r--   0        0        0     1593 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/toml_char.meta.json
+-rw-r--r--   0        0        0     2639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/toml_document.data.json
+-rw-r--r--   0        0        0     1653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/tomlkit/toml_document.meta.json
+-rw-r--r--   0        0        0     1478 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/__about__.data.json
+-rw-r--r--   0        0        0     1518 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/__about__.meta.json
+-rw-r--r--   0        0        0     2601 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/__init__.data.json
+-rw-r--r--   0        0        0     1691 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/__init__.meta.json
+-rw-r--r--   0        0        0    36343 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/caching.data.json
+-rw-r--r--   0        0        0     1724 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/caching.meta.json
+-rw-r--r--   0        0        0    26963 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/cli.data.json
+-rw-r--r--   0        0        0     2521 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/cli.meta.json
+-rw-r--r--   0        0        0    21758 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/config.data.json
+-rw-r--r--   0        0        0     2008 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/config.meta.json
+-rw-r--r--   0        0        0   302168 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/core.data.json
+-rw-r--r--   0        0        0     2089 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/core.meta.json
+-rw-r--r--   0        0        0    30719 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/fields.data.json
+-rw-r--r--   0        0        0     1793 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/fields.meta.json
+-rw-r--r--   0        0        0     7945 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/for_py4web.data.json
+-rw-r--r--   0        0        0     1640 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/for_py4web.meta.json
+-rw-r--r--   0        0        0    12944 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/for_web2py.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/for_web2py.meta.json
+-rw-r--r--   0        0        0    30175 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/helpers.data.json
+-rw-r--r--   0        0        0     1657 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/helpers.meta.json
+-rw-r--r--   0        0        0    11632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/mixins.data.json
+-rw-r--r--   0        0        0     1680 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/mixins.meta.json
+-rw-r--r--   0        0        0     1297 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/serializers.data.json
+-rw-r--r--   0        0        0     1487 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/serializers.meta.json
+-rw-r--r--   0        0        0    24209 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/types.data.json
+-rw-r--r--   0        0        0     1639 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/types.meta.json
+-rw-r--r--   0        0        0     9762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/web2py_py4web_shared.data.json
+-rw-r--r--   0        0        0     1679 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/web2py_py4web_shared.meta.json
+-rw-r--r--   0        0        0    10626 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/serializers/as_json.data.json
+-rw-r--r--   0        0        0     1692 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typedal/serializers/as_json.meta.json
+-rw-r--r--   0        0        0     5548 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/__init__.data.json
+-rw-r--r--   0        0        0     1915 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/__init__.meta.json
+-rw-r--r--   0        0        0    40710 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_checkers.data.json
+-rw-r--r--   0        0        0     1967 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_checkers.meta.json
+-rw-r--r--   0        0        0    15819 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_config.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_config.meta.json
+-rw-r--r--   0        0        0    35537 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_decorators.data.json
+-rw-r--r--   0        0        0     1949 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_decorators.meta.json
+-rw-r--r--   0        0        0     9939 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_exceptions.data.json
+-rw-r--r--   0        0        0     1604 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_exceptions.meta.json
+-rw-r--r--   0        0        0    23488 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_functions.data.json
+-rw-r--r--   0        0        0     1874 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_functions.meta.json
+-rw-r--r--   0        0        0    23369 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_importhook.data.json
+-rw-r--r--   0        0        0     1968 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_importhook.meta.json
+-rw-r--r--   0        0        0     5789 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_memo.data.json
+-rw-r--r--   0        0        0     1658 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_memo.meta.json
+-rw-r--r--   0        0        0    21446 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_suppression.data.json
+-rw-r--r--   0        0        0     1704 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_suppression.meta.json
+-rw-r--r--   0        0        0    85648 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_transformer.data.json
+-rw-r--r--   0        0        0     1810 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_transformer.meta.json
+-rw-r--r--   0        0        0    11727 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_utils.data.json
+-rw-r--r--   0        0        0     1744 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typeguard/_utils.meta.json
+-rw-r--r--   0        0        0     4686 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/__init__.data.json
+-rw-r--r--   0        0        0     1761 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/__init__.meta.json
+-rw-r--r--   0        0        0     2062 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_compat_utils.data.json
+-rw-r--r--   0        0        0     1637 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_compat_utils.meta.json
+-rw-r--r--   0        0        0    12325 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_completion_shared.data.json
+-rw-r--r--   0        0        0     1741 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_completion_shared.meta.json
+-rw-r--r--   0        0        0    36460 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_typing.data.json
+-rw-r--r--   0        0        0     1670 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/_typing.meta.json
+-rw-r--r--   0        0        0     4843 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/colors.data.json
+-rw-r--r--   0        0        0     1568 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/colors.meta.json
+-rw-r--r--   0        0        0     9694 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/completion.data.json
+-rw-r--r--   0        0        0     1866 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/completion.meta.json
+-rw-r--r--   0        0        0    50878 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/core.data.json
+-rw-r--r--   0        0        0     1954 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/core.meta.json
+-rw-r--r--   0        0        0    57396 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/main.data.json
+-rw-r--r--   0        0        0     2002 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/main.meta.json
+-rw-r--r--   0        0        0    74258 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/models.data.json
+-rw-r--r--   0        0        0     1796 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/models.meta.json
+-rw-r--r--   0        0        0    78838 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/params.data.json
+-rw-r--r--   0        0        0     1711 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/params.meta.json
+-rw-r--r--   0        0        0    33649 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/rich_utils.data.json
+-rw-r--r--   0        0        0     2032 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/rich_utils.meta.json
+-rw-r--r--   0        0        0    19703 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/utils.data.json
+-rw-r--r--   0        0        0     1698 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/typer/utils.meta.json
+-rw-r--r--   0        0        0     6249 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/__init__.data.json
+-rw-r--r--   0        0        0     1846 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/__init__.meta.json
+-rw-r--r--   0        0        0    27032 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/_log.data.json
+-rw-r--r--   0        0        0     1709 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/_log.meta.json
+-rw-r--r--   0        0        0    11460 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/async_case.data.json
+-rw-r--r--   0        0        0     1757 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/async_case.meta.json
+-rw-r--r--   0        0        0   286451 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/case.data.json
+-rw-r--r--   0        0        0     1839 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/case.meta.json
+-rw-r--r--   0        0        0    15314 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/loader.data.json
+-rw-r--r--   0        0        0     1793 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/loader.meta.json
+-rw-r--r--   0        0        0    12573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/main.data.json
+-rw-r--r--   0        0        0     1802 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/main.meta.json
+-rw-r--r--   0        0        0   193614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/mock.data.json
+-rw-r--r--   0        0        0     1696 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/mock.meta.json
+-rw-r--r--   0        0        0    22521 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/result.data.json
+-rw-r--r--   0        0        0     1762 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/result.meta.json
+-rw-r--r--   0        0        0    13338 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/runner.data.json
+-rw-r--r--   0        0        0     1794 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/runner.meta.json
+-rw-r--r--   0        0        0    17553 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/signals.data.json
+-rw-r--r--   0        0        0     1725 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/signals.meta.json
+-rw-r--r--   0        0        0    12052 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/suite.data.json
+-rw-r--r--   0        0        0     1743 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/unittest/suite.meta.json
+-rw-r--r--   0        0        0     1495 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/__init__.data.json
+-rw-r--r--   0        0        0     1585 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/__init__.meta.json
+-rw-r--r--   0        0        0    12934 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/error.data.json
+-rw-r--r--   0        0        0     1644 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/error.meta.json
+-rw-r--r--   0        0        0   235720 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/parse.data.json
+-rw-r--r--   0        0        0     1676 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/parse.meta.json
+-rw-r--r--   0        0        0   169451 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/request.data.json
+-rw-r--r--   0        0        0     1869 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/request.meta.json
+-rw-r--r--   0        0        0    30659 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/response.data.json
+-rw-r--r--   0        0        0     1714 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/urllib/response.meta.json
+-rw-r--r--   0        0        0    31341 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/witchery/__init__.data.json
+-rw-r--r--   0        0        0     1789 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/witchery/__init__.meta.json
+-rw-r--r--   0        0        0     1550 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/__init__.data.json
+-rw-r--r--   0        0        0     1642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/__init__.meta.json
+-rw-r--r--   0        0        0    30071 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/__init__.data.json
+-rw-r--r--   0        0        0     1653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/__init__.meta.json
+-rw-r--r--   0        0        0     4815 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/domreg.data.json
+-rw-r--r--   0        0        0     1653 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/domreg.meta.json
+-rw-r--r--   0        0        0    67176 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/expatbuilder.data.json
+-rw-r--r--   0        0        0     1737 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/expatbuilder.meta.json
+-rw-r--r--   0        0        0    15865 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/minicompat.data.json
+-rw-r--r--   0        0        0     1647 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/minicompat.meta.json
+-rw-r--r--   0        0        0   173371 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/minidom.data.json
+-rw-r--r--   0        0        0     1806 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/minidom.meta.json
+-rw-r--r--   0        0        0    36037 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/xmlbuilder.data.json
+-rw-r--r--   0        0        0     1769 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/dom/xmlbuilder.meta.json
+-rw-r--r--   0        0        0     1618 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/parsers/__init__.data.json
+-rw-r--r--   0        0        0     1664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/parsers/__init__.meta.json
+-rw-r--r--   0        0        0     2975 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/parsers/expat/__init__.data.json
+-rw-r--r--   0        0        0     1665 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/parsers/expat/__init__.meta.json
+-rw-r--r--   0        0        0    20645 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/__init__.data.json
+-rw-r--r--   0        0        0     1718 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/__init__.meta.json
+-rw-r--r--   0        0        0    26771 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/handler.data.json
+-rw-r--r--   0        0        0     1664 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/handler.meta.json
+-rw-r--r--   0        0        0    53739 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/xmlreader.data.json
+-rw-r--r--   0        0        0     1668 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/xml/sax/xmlreader.meta.json
+-rw-r--r--   0        0        0   188224 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/__init__.data.json
+-rw-r--r--   0        0        0     1952 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/__init__.meta.json
+-rw-r--r--   0        0        0    23798 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/_yaml.data.json
+-rw-r--r--   0        0        0     1662 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/_yaml.meta.json
+-rw-r--r--   0        0        0    11349 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/composer.data.json
+-rw-r--r--   0        0        0     1610 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/composer.meta.json
+-rw-r--r--   0        0        0    48721 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/constructor.data.json
+-rw-r--r--   0        0        0     1842 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/constructor.meta.json
+-rw-r--r--   0        0        0    21570 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/cyaml.data.json
+-rw-r--r--   0        0        0     1716 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/cyaml.meta.json
+-rw-r--r--   0        0        0    13642 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/dumper.data.json
+-rw-r--r--   0        0        0     1703 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/dumper.meta.json
+-rw-r--r--   0        0        0    63025 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/emitter.data.json
+-rw-r--r--   0        0        0     1632 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/emitter.meta.json
+-rw-r--r--   0        0        0     9518 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/error.data.json
+-rw-r--r--   0        0        0     1571 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/error.meta.json
+-rw-r--r--   0        0        0    31137 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/events.data.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/events.meta.json
+-rw-r--r--   0        0        0    13347 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/loader.data.json
+-rw-r--r--   0        0        0     1733 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/loader.meta.json
+-rw-r--r--   0        0        0    11844 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/nodes.data.json
+-rw-r--r--   0        0        0     1588 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/nodes.meta.json
+-rw-r--r--   0        0        0    15083 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/parser.data.json
+-rw-r--r--   0        0        0     1590 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/parser.meta.json
+-rw-r--r--   0        0        0    13189 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/reader.data.json
+-rw-r--r--   0        0        0     1630 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/reader.meta.json
+-rw-r--r--   0        0        0    46065 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/representer.data.json
+-rw-r--r--   0        0        0     1708 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/representer.meta.json
+-rw-r--r--   0        0        0    11331 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/resolver.data.json
+-rw-r--r--   0        0        0     1593 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/resolver.meta.json
+-rw-r--r--   0        0        0    31183 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/scanner.data.json
+-rw-r--r--   0        0        0     1592 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/scanner.meta.json
+-rw-r--r--   0        0        0    10682 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/serializer.data.json
+-rw-r--r--   0        0        0     1614 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/serializer.meta.json
+-rw-r--r--   0        0        0    40449 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/tokens.data.json
+-rw-r--r--   0        0        0     1573 2020-02-02 00:00:00.000000 typedal-3.1.0/.mypy_cache/3.11/yaml/tokens.meta.json
+-rw-r--r--   0        0        0       37 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/.gitignore
+-rw-r--r--   0        0        0      191 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/CACHEDIR.TAG
+-rw-r--r--   0        0        0      302 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/README.md
+-rw-r--r--   0        0        0      276 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/v/cache/lastfailed
+-rw-r--r--   0        0        0     4623 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/v/cache/nodeids
+-rw-r--r--   0        0        0        2 2020-02-02 00:00:00.000000 typedal-3.1.0/.pytest_cache/v/cache/stepwise
+-rw-r--r--   0        0        0        1 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/.gitignore
+-rw-r--r--   0        0        0       43 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/CACHEDIR.TAG
+-rw-r--r--   0        0        0      861 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/0.1.14/15432600919105507093
+-rw-r--r--   0        0        0      131 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/0.1.14/7801493945118068108
+-rw-r--r--   0        0        0      663 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/0.1.6/2759713849472344579
+-rw-r--r--   0        0        0      131 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/0.1.7/14298551053547083375
+-rw-r--r--   0        0        0      801 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/0.1.7/3401287376304810316
+-rw-r--r--   0        0        0      273 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1215429078721865123
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/121ed75fe9fe5f8e
+-rw-r--r--   0        0        0    23412 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/14855161046259211094
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/19309938546e93ab
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/197f3188bc94f91f
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1aa1390b5bde1004
+-rw-r--r--   0        0        0     8089 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1b34455c399f0006
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1bd1a229a4f4ee7f
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1c46d1f378d28fbb
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1ca71ee291d82018
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1d6bb777df44b8ec
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/1dc8423cfb79eaa4
+-rw-r--r--   0        0        0      908 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/20585cf790eae81e
+-rw-r--r--   0        0        0      546 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/217892307344966949
+-rw-r--r--   0        0        0    12122 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/221af82ae72a7f27
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/2282e801459c52a4
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/248c4e1a32c704cb
+-rw-r--r--   0        0        0    10858 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/24e1b4aab386ebc8
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/28b1d8ac7e2aab6b
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/2b7f7d266c8efaad
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/2bb6610cadf18e18
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/2dac345be8527adf
+-rw-r--r--   0        0        0    11525 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/2f3396c610fd7095
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/31731f8e74291475
+-rw-r--r--   0        0        0    13342 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/322af04e6d059ce5
+-rw-r--r--   0        0        0      861 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/3826106cf4494de8
+-rw-r--r--   0        0        0    11210 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/38d5fd55b14a9d6c
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/3afc55a04b8f8bb2
+-rw-r--r--   0        0        0    12129 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/4022ee8774ccd98a
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/42f9a2406e74c24f
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/4696b157ff786f22
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/46a88ce266f1ad94
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/4a6edd5010cb9700
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/4d0230e9a81a468
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/52018ba3989fcaf7
+-rw-r--r--   0        0        0    13679 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/5491563776466765346
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/54e6ba8c25a22ffc
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/566d94db91d23339
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/5a67aed8f6b70cd5
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/5b076d769fa5cacd
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/5ceb1580c62ee794
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/6bc90dbb56504f96
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/6c52d14716eee431
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/6f0c8f98e4da1d48
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/74e52af774eebdbd
+-rw-r--r--   0        0        0    11023 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/75bd1769f6e29ed7
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/815ba2cfea236769
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/876d9a8d302e1c46
+-rw-r--r--   0        0        0      471 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/8891791100357482236
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/88e2927df9448936
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/8c4d3f5ef14b0167
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/8f8ec552e76f3eab
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/95c82d8566c6704c
+-rw-r--r--   0        0        0     8349 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/a0739889bf9412e8
+-rw-r--r--   0        0        0     5692 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/a225e4df39be9b29
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/a2340fd4c9aa1141
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/a513d558646cd439
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/b121e2b70fd66eb8
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/b218ff88bc22b626
+-rw-r--r--   0        0        0    10964 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/b419496fa9e72887
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/b886c97e4d4117f0
+-rw-r--r--   0        0        0     8238 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/bdcdf5c7bbc1d738
+-rw-r--r--   0        0        0      861 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/c06de16f3c7a64cc
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/c635f255374598c5
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/c671ae94ff3d3e2e
+-rw-r--r--   0        0        0     8042 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/cdfecbca581311ee
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/ce44121ca4091b64
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/ced49ec87d10bcb0
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/cfc06a1f13c8ab47
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/d16c5d29763a704e
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/d225ad4c14b8ca60
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/d379b35d5e80b789
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/d3a95555c0919160
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/d655bee8ff0a59f2
+-rw-r--r--   0        0        0    11315 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/da4811a7730a562a
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/dca573767bc8be7e
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/e3e29f9eacb7027f
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/e46ab4b61bb5d446
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/e5e0cc178d5c9df5
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/eb564f7989641958
+-rw-r--r--   0        0        0    11467 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/eee2f3c667de6c7a
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/f04d0d78a00adfd6
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/f2ddc22a4b221f54
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/f879e8c947a6b7a4
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/fa45ef3c3166e02d
+-rw-r--r--   0        0        0       24 2020-02-02 00:00:00.000000 typedal-3.1.0/.ruff_cache/content/faa51a5044a3c279
+-rw-r--r--   0        0        0     1138 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/1_getting_started.md
+-rw-r--r--   0        0        0     6509 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/2_defining_tables.md
+-rw-r--r--   0        0        0     6081 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/3_building_queries.md
+-rw-r--r--   0        0        0     3792 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/4_relationships.md
+-rw-r--r--   0        0        0     1509 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/5_py4web.md
+-rw-r--r--   0        0        0     4926 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/6_migrations.md
+-rw-r--r--   0        0        0     3599 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/7_mixins.md
+-rw-r--r--   0        0        0      292 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/index.md
+-rw-r--r--   0        0        0       21 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/requirements.txt
+-rw-r--r--   0        0        0       65 2020-02-02 00:00:00.000000 typedal-3.1.0/docs/css/code_blocks.css
+-rw-r--r--   0        0        0       27 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/.gitignore
+-rw-r--r--   0        0        0    21865 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/coverage_html.js
+-rw-r--r--   0        0        0     5891 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c___about___py.html
+-rw-r--r--   0        0        0     7907 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c___init___py.html
+-rw-r--r--   0        0        0   119633 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_caching_py.html
+-rw-r--r--   0        0        0   169245 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_cli_py.html
+-rw-r--r--   0        0        0   102885 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_config_py.html
+-rw-r--r--   0        0        0   784698 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_core_py.html
+-rw-r--r--   0        0        0    61614 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_fields_py.html
+-rw-r--r--   0        0        0    17238 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_for_py4web_py.html
+-rw-r--r--   0        0        0    23036 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_for_web2py_py.html
+-rw-r--r--   0        0        0    75352 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_helpers_py.html
+-rw-r--r--   0        0        0    35870 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_mixins_py.html
+-rw-r--r--   0        0        0    42239 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_types_py.html
+-rw-r--r--   0        0        0    17822 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_web2py_py4web_shared_py.html
+-rw-r--r--   0        0        0    25828 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/d_18c616467159315a_as_json_py.html
+-rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/favicon_32.png
+-rw-r--r--   0        0        0     7969 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/index.html
+-rw-r--r--   0        0        0     9004 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/keybd_closed.png
+-rw-r--r--   0        0        0     9003 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/keybd_open.png
+-rw-r--r--   0        0        0     3287 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/status.json
+-rw-r--r--   0        0        0    12406 2020-02-02 00:00:00.000000 typedal-3.1.0/htmlcov/style.css
+-rw-r--r--   0        0        0      206 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/__about__.py
+-rw-r--r--   0        0        0      366 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/__init__.py
+-rw-r--r--   0        0        0    11818 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/caching.py
+-rw-r--r--   0        0        0    18200 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/cli.py
+-rw-r--r--   0        0        0    11645 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/config.py
+-rw-r--r--   0        0        0    95613 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/core.py
+-rw-r--r--   0        0        0     5197 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/fields.py
+-rw-r--r--   0        0        0     1285 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/for_py4web.py
+-rw-r--r--   0        0        0     1867 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/for_web2py.py
+-rw-r--r--   0        0        0     7177 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/helpers.py
+-rw-r--r--   0        0        0     4345 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/mixins.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/py.typed
+-rw-r--r--   0        0        0     3410 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/types.py
+-rw-r--r--   0        0        0     1539 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/web2py_py4web_shared.py
+-rw-r--r--   0        0        0     2229 2020-02-02 00:00:00.000000 typedal-3.1.0/src/typedal/serializers/as_json.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/__init__.py
+-rw-r--r--   0        0        0     2325 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_cli.py
+-rw-r--r--   0        0        0     3844 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_config.py
+-rw-r--r--   0        0        0     3006 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_docs_examples.py
+-rw-r--r--   0        0        0     4735 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_helpers.py
+-rw-r--r--   0        0        0     1316 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_json.py
+-rw-r--r--   0        0        0    13197 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_main.py
+-rw-r--r--   0        0        0     1519 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_mixins.py
+-rw-r--r--   0        0        0     3422 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_mypy.py
+-rw-r--r--   0        0        0     3983 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_orm.py
+-rw-r--r--   0        0        0     1058 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_py4web.py
+-rw-r--r--   0        0        0    11355 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_query_builder.py
+-rw-r--r--   0        0        0    15716 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_relationships.py
+-rw-r--r--   0        0        0     7012 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_row.py
+-rw-r--r--   0        0        0     1227 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_stats.py
+-rw-r--r--   0        0        0     8365 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_table.py
+-rw-r--r--   0        0        0      538 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_web2py.py
+-rw-r--r--   0        0        0      605 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/test_xx_others.py
+-rw-r--r--   0        0        0     4192 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/timings.py
+-rw-r--r--   0        0        0      234 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/configs/simple.toml
+-rw-r--r--   0        0        0      214 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/configs/valid.env
+-rw-r--r--   0        0        0      553 2020-02-02 00:00:00.000000 typedal-3.1.0/tests/configs/valid.toml
+-rw-r--r--   0        0        0      103 2020-02-02 00:00:00.000000 typedal-3.1.0/.gitignore
+-rw-r--r--   0        0        0     5758 2020-02-02 00:00:00.000000 typedal-3.1.0/README.md
+-rw-r--r--   0        0        0     5514 2020-02-02 00:00:00.000000 typedal-3.1.0/pyproject.toml
+-rw-r--r--   0        0        0     7808 2020-02-02 00:00:00.000000 typedal-3.1.0/PKG-INFO
```

### Comparing `typedal-3.0.1/CHANGELOG.md` & `typedal-3.1.0/CHANGELOG.md`

 * *Files 1% similar despite different names*

```diff
@@ -1,11 +1,21 @@
 # Changelog
 
 <!--next-version-placeholder-->
 
+## v3.1.0 (2024-04-16)
+
+### Feature
+
+* Added `Mixins` ([`75d69da`](https://github.com/trialandsuccess/TypeDAL/commit/75d69da1bb0ea73fa208dfda2328ca09719c4cc9))
+
+### Fix
+
+* **deps:** Edwh-migrate 0.8 is release so don't depend on alpha version anymore ([`4b324ec`](https://github.com/trialandsuccess/TypeDAL/commit/4b324ec399786675636872850a616553911468c5))
+
 ## v3.0.1 (2024-04-16)
 
 ### Fix
 
 * Don't add before_update/before_delete hooks if caching is disabled ([`2c15bf2`](https://github.com/trialandsuccess/TypeDAL/commit/2c15bf226281b39e8c0533c441eaab3d7142f6e6))
 
 ## v3.0.0 (2024-04-02)
```

### Comparing `typedal-3.0.1/coverage.svg` & `typedal-3.1.0/coverage.svg`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/example_new.py` & `typedal-3.1.0/example_new.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/example_old.py` & `typedal-3.1.0/example_old.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/mkdocs.yml` & `typedal-3.1.0/mkdocs.yml`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/1_getting_started.md` & `typedal-3.1.0/docs/1_getting_started.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/2_defining_tables.md` & `typedal-3.1.0/docs/2_defining_tables.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/3_building_queries.md` & `typedal-3.1.0/docs/3_building_queries.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/4_relationships.md` & `typedal-3.1.0/docs/4_relationships.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/5_py4web.md` & `typedal-3.1.0/docs/5_py4web.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/docs/6_migrations.md` & `typedal-3.1.0/docs/6_migrations.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/htmlcov/coverage_html.js` & `typedal-3.1.0/htmlcov/coverage_html.js`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c___about___py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c___about___py.html`

 * *Files 2% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="index.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c___init___py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -83,23 +83,23 @@
     <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">This file contains the Version info for this package.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="com"># SPDX-FileCopyrightText: 2023-present Robin van der Noord &lt;robinvandernoord@gmail.com></span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="com">#</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="com"># SPDX-License-Identifier: MIT</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="nam">__version__</span> <span class="op">=</span> <span class="str">"3.0.0"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="nam">__version__</span> <span class="op">=</span> <span class="str">"3.0.1"</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="index.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c___init___py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,20 +5,20 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 11 ssttaatteemmeennttss ? 11 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2This file contains the Version info for this package.
 _3"""
 _4
 _5# SPDX-FileCopyrightText: 2023-present Robin van der Noord
 <robinvandernoord@gmail.com>
 _6#
 _7# SPDX-License-Identifier: MIT
-_8__version__ = "3.0.0"
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+_8__version__ = "3.0.1"
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c___init___py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c___init___py.html`

 * *Files 1% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">2<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c___about___py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_caching_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -97,14 +97,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c___about___py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_caching_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 55 ssttaatteemmeennttss ? 55 rruunn 00 mmiissssiinngg 22 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
 _1"""
 _2TypeDAL Library.
 _3"""
 _4
 _5from . import fields
 _6from .core import Relationship, TypeDAL, TypedField, TypedRows, TypedTable,
 relationship
@@ -22,9 +22,9 @@
 _8try:
 _9 from .for_py4web import DAL as P4W_DAL
 _1_0except ImportError: # pragma: no cover
 _1_1 P4W_DAL = None # type: ignore
 _1_2
 _1_3__all__ = ["TypeDAL", "TypedTable", "TypedField", "TypedRows", "fields",
 "Relationship", "relationship"]
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_caching_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_caching_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">3<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_cli_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:47 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -491,14 +491,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_cli_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:47 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 116699 ssttaatteemmeennttss ? 116699 rruunn 00 mmiissssiinngg 33 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:47 +0100
 _1"""
 _2Helpers to facilitate db-based caching.
 _3"""
 _4
 _5import contextlib
 _6import hashlib
 _7import json
@@ -442,9 +442,9 @@
 _4_0_1 expired_items, valid_items = _expired_and_valid_query()
 _4_0_2
 _4_0_3 return {
 _4_0_4 "total": _calculate_stats(db, _TypedalCache.id > 0),
 _4_0_5 "valid": _calculate_stats(db, _TypedalCache.id.belongs(valid_items)),
 _4_0_6 "expired": _calculate_stats(db, _TypedalCache.id.belongs(expired_items)),
 _4_0_7 }
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:47 +0100
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_cli_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_cli_py.html`

 * *Files 1% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 <!DOCTYPE html>
 <html>
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
-    <title>Coverage for src/typedal/cli.py: 93%</title>
+    <title>Coverage for src/typedal/cli.py: 100%</title>
     <link rel="icon" sizes="32x32" href="favicon_32.png">
     <link rel="stylesheet" href="style.css" type="text/css">
     <script type="text/javascript" src="coverage_html.js" defer></script>
 </head>
 <body class="pyfile">
 <header>
     <div class="content">
         <h1>
             <span class="text">Coverage for </span><b>src/typedal/cli.py</b>:
-            <span class="pc_cov">93%</span>
+            <span class="pc_cov">100%</span>
         </h1>
         <aside id="help_panel_wrapper">
             <input id="help_panel_state" type="checkbox">
             <label for="help_panel_state">
                 <img id="keyboard_icon" src="keybd_closed.png" alt="Show/hide keyboard shortcuts" />
             </label>
             <div id="help_panel">
@@ -50,26 +50,26 @@
                     <p>
                         <kbd>?</kbd> &nbsp; show/hide this help
                     </p>
                 </div>
             </div>
         </aside>
         <h2>
-            <span class="text">92 statements &nbsp;</span>
-            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">86<span class="text"> run</span></button>
-            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">6<span class="text"> missing</span></button>
+            <span class="text">85 statements &nbsp;</span>
+            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">85<span class="text"> run</span></button>
+            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">164<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_caching_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_config_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:19 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -80,26 +80,26 @@
     </div>
 </header>
 <main id="source">
     <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Typer CLI for TypeDAL.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">fnmatch</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">sys</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">typing</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">import</span> <span class="nam">warnings</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">pathlib</span> <span class="key">import</span> <span class="nam">Path</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="key">import</span> <span class="nam">tomli</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span> <span class="key">import</span> <span class="nam">asdict</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span><span class="op">.</span><span class="nam">alias</span> <span class="key">import</span> <span class="nam">is_alias</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span><span class="op">.</span><span class="nam">helpers</span> <span class="key">import</span> <span class="nam">is_optional</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">sys</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">typing</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">warnings</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">pathlib</span> <span class="key">import</span> <span class="nam">Path</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">import</span> <span class="nam">tomli</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span> <span class="key">import</span> <span class="nam">asdict</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span><span class="op">.</span><span class="nam">alias</span> <span class="key">import</span> <span class="nam">is_alias</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">from</span> <span class="nam">configuraptor</span><span class="op">.</span><span class="nam">helpers</span> <span class="key">import</span> <span class="nam">is_optional</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">helpers</span> <span class="key">import</span> <span class="nam">match_strings</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">types</span> <span class="key">import</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">import</span> <span class="nam">edwh_migrate</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="key">import</span> <span class="nam">pydal2sql</span>  <span class="com"># noqa: F401</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="key">import</span> <span class="nam">questionary</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="key">import</span> <span class="nam">rich</span>&nbsp;</span><span class="r"></span></p>
@@ -423,275 +423,261 @@
     <p class="exc show_exc"><span class="n"><a id="t341" href="#t341">341</a></span><span class="t">    <span class="key">if</span> <span class="nam">dry_run</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t342" href="#t342">342</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">"Would run `migrate` with config"</span><span class="op">,</span> <span class="nam">asdict</span><span class="op">(</span><span class="nam">migrate_config</span><span class="op">)</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">sys</span><span class="op">.</span><span class="nam">stderr</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t343" href="#t343">343</a></span><span class="t">    <span class="key">else</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t344" href="#t344">344</a></span><span class="t">        <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">console_hook</span><span class="op">(</span><span class="op">[</span><span class="op">]</span><span class="op">,</span> <span class="nam">config</span><span class="op">=</span><span class="nam">migrate_config</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t345" href="#t345">345</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t346" href="#t346">346</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t347" href="#t347">347</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t348" href="#t348">348</a></span><span class="t"><span class="key">def</span> <span class="nam">match_strings</span><span class="op">(</span><span class="nam">patterns</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">|</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">string_list</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t349" href="#t349">349</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t350" href="#t350">350</a></span><span class="t"><span class="str">    Glob but on a list of strings.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t351" href="#t351">351</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t352" href="#t352">352</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">patterns</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t353" href="#t353">353</a></span><span class="t">        <span class="nam">patterns</span> <span class="op">=</span> <span class="op">[</span><span class="nam">patterns</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t354" href="#t354">354</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t355" href="#t355">355</a></span><span class="t">    <span class="nam">matches</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t356" href="#t356">356</a></span><span class="t">    <span class="key">for</span> <span class="nam">pattern</span> <span class="key">in</span> <span class="nam">patterns</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t357" href="#t357">357</a></span><span class="t">        <span class="nam">matches</span><span class="op">.</span><span class="nam">extend</span><span class="op">(</span><span class="op">[</span><span class="nam">s</span> <span class="key">for</span> <span class="nam">s</span> <span class="key">in</span> <span class="nam">string_list</span> <span class="key">if</span> <span class="nam">fnmatch</span><span class="op">.</span><span class="nam">fnmatch</span><span class="op">(</span><span class="nam">s</span><span class="op">,</span> <span class="nam">pattern</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t358" href="#t358">358</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="mis show_mis"><span class="n"><a id="t359" href="#t359">359</a></span><span class="t">    <span class="key">return</span> <span class="nam">matches</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t360" href="#t360">360</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t361" href="#t361">361</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t362" href="#t362">362</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"migrations.fake"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t363" href="#t363">363</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t364" href="#t364">364</a></span><span class="t"><span class="key">def</span> <span class="nam">fake_migrations</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t365" href="#t365">365</a></span><span class="t">    <span class="nam">names</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Argument</span><span class="op">(</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t366" href="#t366">366</a></span><span class="t">    <span class="nam">all</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>  <span class="com"># noqa: A002</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t367" href="#t367">367</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t368" href="#t368">368</a></span><span class="t">    <span class="nam">migrations_file</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t369" href="#t369">369</a></span><span class="t">    <span class="nam">db_uri</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t370" href="#t370">370</a></span><span class="t">    <span class="nam">db_folder</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t371" href="#t371">371</a></span><span class="t">    <span class="nam">migrate_table</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t372" href="#t372">372</a></span><span class="t">    <span class="nam">dry_run</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t373" href="#t373">373</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t374" href="#t374">374</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t375" href="#t375">375</a></span><span class="t"><span class="str">    Mark one or more migrations as completed in the database, without executing the SQL code.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t376" href="#t376">376</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t377" href="#t377">377</a></span><span class="t"><span class="str">    glob is supported in 'names'</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t378" href="#t378">378</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t379" href="#t379">379</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="op">(</span><span class="nam">names</span> <span class="key">or</span> <span class="nam">all</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t380" href="#t380">380</a></span><span class="t">        <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">"Please provide one or more migration names, or pass --all to fake all."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t381" href="#t381">381</a></span><span class="t">        <span class="key">return</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t382" href="#t382">382</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t383" href="#t383">383</a></span><span class="t">    <span class="nam">generic_config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t384" href="#t384">384</a></span><span class="t">    <span class="nam">migrate_config</span> <span class="op">=</span> <span class="nam">generic_config</span><span class="op">.</span><span class="nam">to_migrate</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t348" href="#t348">348</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"migrations.fake"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t349" href="#t349">349</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t350" href="#t350">350</a></span><span class="t"><span class="key">def</span> <span class="nam">fake_migrations</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t351" href="#t351">351</a></span><span class="t">    <span class="nam">names</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Argument</span><span class="op">(</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t352" href="#t352">352</a></span><span class="t">    <span class="nam">all</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>  <span class="com"># noqa: A002</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t353" href="#t353">353</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t354" href="#t354">354</a></span><span class="t">    <span class="nam">migrations_file</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t355" href="#t355">355</a></span><span class="t">    <span class="nam">db_uri</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t356" href="#t356">356</a></span><span class="t">    <span class="nam">db_folder</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t357" href="#t357">357</a></span><span class="t">    <span class="nam">migrate_table</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t358" href="#t358">358</a></span><span class="t">    <span class="nam">dry_run</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t359" href="#t359">359</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t360" href="#t360">360</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t361" href="#t361">361</a></span><span class="t"><span class="str">    Mark one or more migrations as completed in the database, without executing the SQL code.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t362" href="#t362">362</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t363" href="#t363">363</a></span><span class="t"><span class="str">    glob is supported in 'names'</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t364" href="#t364">364</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t365" href="#t365">365</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="op">(</span><span class="nam">names</span> <span class="key">or</span> <span class="nam">all</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t366" href="#t366">366</a></span><span class="t">        <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">"Please provide one or more migration names, or pass --all to fake all."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t367" href="#t367">367</a></span><span class="t">        <span class="key">return</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t368" href="#t368">368</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t369" href="#t369">369</a></span><span class="t">    <span class="nam">generic_config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t370" href="#t370">370</a></span><span class="t">    <span class="nam">migrate_config</span> <span class="op">=</span> <span class="nam">generic_config</span><span class="op">.</span><span class="nam">to_migrate</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t371" href="#t371">371</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t372" href="#t372">372</a></span><span class="t">    <span class="nam">migrate_config</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t373" href="#t373">373</a></span><span class="t">        <span class="nam">migrate_uri</span><span class="op">=</span><span class="nam">db_uri</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t374" href="#t374">374</a></span><span class="t">        <span class="nam">migrate_table</span><span class="op">=</span><span class="nam">migrate_table</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t375" href="#t375">375</a></span><span class="t">        <span class="nam">db_folder</span><span class="op">=</span><span class="nam">db_folder</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t376" href="#t376">376</a></span><span class="t">        <span class="nam">migrations_file</span><span class="op">=</span><span class="nam">migrations_file</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t377" href="#t377">377</a></span><span class="t">        <span class="nam">_skip_none</span><span class="op">=</span><span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t378" href="#t378">378</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t379" href="#t379">379</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t380" href="#t380">380</a></span><span class="t">    <span class="nam">migrations</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">list_migrations</span><span class="op">(</span><span class="nam">migrate_config</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t381" href="#t381">381</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t382" href="#t382">382</a></span><span class="t">    <span class="nam">migration_names</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">migrations</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t383" href="#t383">383</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t384" href="#t384">384</a></span><span class="t">    <span class="nam">to_fake</span> <span class="op">=</span> <span class="nam">migration_names</span> <span class="key">if</span> <span class="nam">all</span> <span class="key">else</span> <span class="nam">match_strings</span><span class="op">(</span><span class="nam">names</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span><span class="op">,</span> <span class="nam">migration_names</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t385" href="#t385">385</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t386" href="#t386">386</a></span><span class="t">    <span class="nam">migrate_config</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t387" href="#t387">387</a></span><span class="t">        <span class="nam">migrate_uri</span><span class="op">=</span><span class="nam">db_uri</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t388" href="#t388">388</a></span><span class="t">        <span class="nam">migrate_table</span><span class="op">=</span><span class="nam">migrate_table</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t389" href="#t389">389</a></span><span class="t">        <span class="nam">db_folder</span><span class="op">=</span><span class="nam">db_folder</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t390" href="#t390">390</a></span><span class="t">        <span class="nam">migrations_file</span><span class="op">=</span><span class="nam">migrations_file</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t391" href="#t391">391</a></span><span class="t">        <span class="nam">_skip_none</span><span class="op">=</span><span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t392" href="#t392">392</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t393" href="#t393">393</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t394" href="#t394">394</a></span><span class="t">    <span class="nam">migrations</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">list_migrations</span><span class="op">(</span><span class="nam">migrate_config</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t395" href="#t395">395</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t396" href="#t396">396</a></span><span class="t">    <span class="nam">migration_names</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">migrations</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t397" href="#t397">397</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t398" href="#t398">398</a></span><span class="t">    <span class="nam">to_fake</span> <span class="op">=</span> <span class="nam">migration_names</span> <span class="key">if</span> <span class="nam">all</span> <span class="key">else</span> <span class="nam">match_strings</span><span class="op">(</span><span class="nam">names</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span><span class="op">,</span> <span class="nam">migration_names</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t399" href="#t399">399</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t400" href="#t400">400</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t401" href="#t401">401</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">setup_db</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">migrate_config</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t402" href="#t402">402</a></span><span class="t">    <span class="key">except</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">migrate</span><span class="op">.</span><span class="nam">DatabaseNotYetInitialized</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t403" href="#t403">403</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">setup_db</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t404" href="#t404">404</a></span><span class="t">            <span class="nam">config</span><span class="op">=</span><span class="nam">migrate_config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate_enabled</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">remove_migrate_tablefile</span><span class="op">=</span><span class="key">True</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t405" href="#t405">405</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t406" href="#t406">406</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t407" href="#t407">407</a></span><span class="t">    <span class="nam">previously_migrated</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t408" href="#t408">408</a></span><span class="t">        <span class="nam">db</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t409" href="#t409">409</a></span><span class="t">            <span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">name</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">to_fake</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t410" href="#t410">410</a></span><span class="t">            <span class="op">&amp;</span> <span class="op">(</span><span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">installed</span> <span class="op">==</span> <span class="key">True</span><span class="op">)</span>  <span class="com"># noqa E712</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t411" href="#t411">411</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t412" href="#t412">412</a></span><span class="t">        <span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">name</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t413" href="#t413">413</a></span><span class="t">        <span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"name"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t414" href="#t414">414</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t415" href="#t415">415</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t416" href="#t416">416</a></span><span class="t">    <span class="key">if</span> <span class="nam">dry_run</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t417" href="#t417">417</a></span><span class="t">        <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">"Would migrate these:"</span><span class="op">,</span> <span class="op">[</span><span class="nam">_</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">to_fake</span> <span class="key">if</span> <span class="nam">_</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">previously_migrated</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t418" href="#t418">418</a></span><span class="t">        <span class="key">return</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t386" href="#t386">386</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t387" href="#t387">387</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">setup_db</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">migrate_config</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t388" href="#t388">388</a></span><span class="t">    <span class="key">except</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">migrate</span><span class="op">.</span><span class="nam">DatabaseNotYetInitialized</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t389" href="#t389">389</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">setup_db</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t390" href="#t390">390</a></span><span class="t">            <span class="nam">config</span><span class="op">=</span><span class="nam">migrate_config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate_enabled</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">remove_migrate_tablefile</span><span class="op">=</span><span class="key">True</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t391" href="#t391">391</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t392" href="#t392">392</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t393" href="#t393">393</a></span><span class="t">    <span class="nam">previously_migrated</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t394" href="#t394">394</a></span><span class="t">        <span class="nam">db</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t395" href="#t395">395</a></span><span class="t">            <span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">name</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">to_fake</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t396" href="#t396">396</a></span><span class="t">            <span class="op">&amp;</span> <span class="op">(</span><span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">installed</span> <span class="op">==</span> <span class="key">True</span><span class="op">)</span>  <span class="com"># noqa E712</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t397" href="#t397">397</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t398" href="#t398">398</a></span><span class="t">        <span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="nam">db</span><span class="op">.</span><span class="nam">ewh_implemented_features</span><span class="op">.</span><span class="nam">name</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t399" href="#t399">399</a></span><span class="t">        <span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"name"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t400" href="#t400">400</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t401" href="#t401">401</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t402" href="#t402">402</a></span><span class="t">    <span class="key">if</span> <span class="nam">dry_run</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t403" href="#t403">403</a></span><span class="t">        <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">"Would migrate these:"</span><span class="op">,</span> <span class="op">[</span><span class="nam">_</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">to_fake</span> <span class="key">if</span> <span class="nam">_</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">previously_migrated</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t404" href="#t404">404</a></span><span class="t">        <span class="key">return</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t405" href="#t405">405</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t406" href="#t406">406</a></span><span class="t">    <span class="nam">n</span> <span class="op">=</span> <span class="nam">len</span><span class="op">(</span><span class="nam">to_fake</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t407" href="#t407">407</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="str">f"{len(previously_migrated)} / {n} were already installed."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t408" href="#t408">408</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t409" href="#t409">409</a></span><span class="t">    <span class="key">for</span> <span class="nam">name</span> <span class="key">in</span> <span class="nam">to_fake</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t410" href="#t410">410</a></span><span class="t">        <span class="key">if</span> <span class="nam">name</span> <span class="key">in</span> <span class="nam">previously_migrated</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t411" href="#t411">411</a></span><span class="t">            <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t412" href="#t412">412</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t413" href="#t413">413</a></span><span class="t">        <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">mark_migration</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">name</span><span class="op">=</span><span class="nam">name</span><span class="op">,</span> <span class="nam">installed</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t414" href="#t414">414</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t415" href="#t415">415</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">commit</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t416" href="#t416">416</a></span><span class="t">    <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">f"Faked {n} new migrations."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t417" href="#t417">417</a></span><span class="t">    <span class="key">return</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t418" href="#t418">418</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t419" href="#t419">419</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t420" href="#t420">420</a></span><span class="t">    <span class="nam">n</span> <span class="op">=</span> <span class="nam">len</span><span class="op">(</span><span class="nam">to_fake</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t421" href="#t421">421</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="str">f"{len(previously_migrated)} / {n} were already installed."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t420" href="#t420">420</a></span><span class="t"><span class="nam">AnyNestedDict</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeAlias</span> <span class="op">=</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t421" href="#t421">421</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t422" href="#t422">422</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t423" href="#t423">423</a></span><span class="t">    <span class="key">for</span> <span class="nam">name</span> <span class="key">in</span> <span class="nam">to_fake</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t424" href="#t424">424</a></span><span class="t">        <span class="key">if</span> <span class="nam">name</span> <span class="key">in</span> <span class="nam">previously_migrated</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t425" href="#t425">425</a></span><span class="t">            <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t426" href="#t426">426</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t427" href="#t427">427</a></span><span class="t">        <span class="nam">edwh_migrate</span><span class="op">.</span><span class="nam">mark_migration</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">name</span><span class="op">=</span><span class="nam">name</span><span class="op">,</span> <span class="nam">installed</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t428" href="#t428">428</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t429" href="#t429">429</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">commit</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t430" href="#t430">430</a></span><span class="t">    <span class="nam">rich</span><span class="op">.</span><span class="nam">print</span><span class="op">(</span><span class="str">f"Faked {n} new migrations."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t431" href="#t431">431</a></span><span class="t">    <span class="key">return</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t423" href="#t423">423</a></span><span class="t"><span class="key">def</span> <span class="nam">tabulate_data</span><span class="op">(</span><span class="nam">data</span><span class="op">:</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t424" href="#t424">424</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t425" href="#t425">425</a></span><span class="t"><span class="str">    Print a nested dict of data in a nice, human-readable table.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t426" href="#t426">426</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t427" href="#t427">427</a></span><span class="t">    <span class="nam">flattened_data</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t428" href="#t428">428</a></span><span class="t">    <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">inner_dict</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t429" href="#t429">429</a></span><span class="t">        <span class="nam">temp_dict</span> <span class="op">=</span> <span class="op">{</span><span class="str">""</span><span class="op">:</span> <span class="nam">key</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t430" href="#t430">430</a></span><span class="t">        <span class="nam">temp_dict</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">inner_dict</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t431" href="#t431">431</a></span><span class="t">        <span class="nam">flattened_data</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">temp_dict</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t432" href="#t432">432</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t433" href="#t433">433</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t434" href="#t434">434</a></span><span class="t"><span class="nam">AnyNestedDict</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeAlias</span> <span class="op">=</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t433" href="#t433">433</a></span><span class="t">    <span class="com"># Display the tabulated data from the transposed dictionary</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t434" href="#t434">434</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">tabulate</span><span class="op">(</span><span class="nam">flattened_data</span><span class="op">,</span> <span class="nam">headers</span><span class="op">=</span><span class="str">"keys"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t435" href="#t435">435</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t436" href="#t436">436</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t437" href="#t437">437</a></span><span class="t"><span class="key">def</span> <span class="nam">tabulate_data</span><span class="op">(</span><span class="nam">data</span><span class="op">:</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t438" href="#t438">438</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t439" href="#t439">439</a></span><span class="t"><span class="str">    Print a nested dict of data in a nice, human-readable table.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t440" href="#t440">440</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t441" href="#t441">441</a></span><span class="t">    <span class="nam">flattened_data</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t442" href="#t442">442</a></span><span class="t">    <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">inner_dict</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t443" href="#t443">443</a></span><span class="t">        <span class="nam">temp_dict</span> <span class="op">=</span> <span class="op">{</span><span class="str">""</span><span class="op">:</span> <span class="nam">key</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t444" href="#t444">444</a></span><span class="t">        <span class="nam">temp_dict</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">inner_dict</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t445" href="#t445">445</a></span><span class="t">        <span class="nam">flattened_data</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">temp_dict</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t446" href="#t446">446</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t447" href="#t447">447</a></span><span class="t">    <span class="com"># Display the tabulated data from the transposed dictionary</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t448" href="#t448">448</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">tabulate</span><span class="op">(</span><span class="nam">flattened_data</span><span class="op">,</span> <span class="nam">headers</span><span class="op">=</span><span class="str">"keys"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t437" href="#t437">437</a></span><span class="t"><span class="nam">FormatOptions</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeAlias</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Literal</span><span class="op">[</span><span class="str">"plaintext"</span><span class="op">,</span> <span class="str">"json"</span><span class="op">,</span> <span class="str">"yaml"</span><span class="op">,</span> <span class="str">"toml"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t438" href="#t438">438</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t439" href="#t439">439</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t440" href="#t440">440</a></span><span class="t"><span class="key">def</span> <span class="nam">get_output_format</span><span class="op">(</span><span class="nam">fmt</span><span class="op">:</span> <span class="nam">FormatOptions</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">AnyNestedDict</span><span class="op">]</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t441" href="#t441">441</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t442" href="#t442">442</a></span><span class="t"><span class="str">    This function takes a format option as input and \</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t443" href="#t443">443</a></span><span class="t"><span class="str">        returns a function that can be used to output data in the specified format.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t444" href="#t444">444</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t445" href="#t445">445</a></span><span class="t">    <span class="key">match</span> <span class="nam">fmt</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t446" href="#t446">446</a></span><span class="t">        <span class="key">case</span> <span class="str">"plaintext"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t447" href="#t447">447</a></span><span class="t">            <span class="nam">output</span> <span class="op">=</span> <span class="nam">tabulate_data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t448" href="#t448">448</a></span><span class="t">        <span class="key">case</span> <span class="str">"json"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t449" href="#t449">449</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t450" href="#t450">450</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t451" href="#t451">451</a></span><span class="t"><span class="nam">FormatOptions</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeAlias</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Literal</span><span class="op">[</span><span class="str">"plaintext"</span><span class="op">,</span> <span class="str">"json"</span><span class="op">,</span> <span class="str">"yaml"</span><span class="op">,</span> <span class="str">"toml"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t450" href="#t450">450</a></span><span class="t">            <span class="key">def</span> <span class="nam">output</span><span class="op">(</span><span class="nam">_data</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">|</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t451" href="#t451">451</a></span><span class="t">                <span class="key">import</span> <span class="nam">json</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t452" href="#t452">452</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t453" href="#t453">453</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t454" href="#t454">454</a></span><span class="t"><span class="key">def</span> <span class="nam">get_output_format</span><span class="op">(</span><span class="nam">fmt</span><span class="op">:</span> <span class="nam">FormatOptions</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">AnyNestedDict</span><span class="op">]</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t455" href="#t455">455</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t456" href="#t456">456</a></span><span class="t"><span class="str">    This function takes a format option as input and \</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t457" href="#t457">457</a></span><span class="t"><span class="str">        returns a function that can be used to output data in the specified format.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t458" href="#t458">458</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t459" href="#t459">459</a></span><span class="t">    <span class="key">match</span> <span class="nam">fmt</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t460" href="#t460">460</a></span><span class="t">        <span class="key">case</span> <span class="str">"plaintext"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t461" href="#t461">461</a></span><span class="t">            <span class="nam">output</span> <span class="op">=</span> <span class="nam">tabulate_data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t462" href="#t462">462</a></span><span class="t">        <span class="key">case</span> <span class="str">"json"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t453" href="#t453">453</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">json</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">_data</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="num">2</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t454" href="#t454">454</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t455" href="#t455">455</a></span><span class="t">        <span class="key">case</span> <span class="str">"yaml"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t456" href="#t456">456</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t457" href="#t457">457</a></span><span class="t">            <span class="key">def</span> <span class="nam">output</span><span class="op">(</span><span class="nam">_data</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">|</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t458" href="#t458">458</a></span><span class="t">                <span class="key">import</span> <span class="nam">yaml</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t459" href="#t459">459</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t460" href="#t460">460</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">yaml</span><span class="op">.</span><span class="nam">dump</span><span class="op">(</span><span class="nam">_data</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t461" href="#t461">461</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t462" href="#t462">462</a></span><span class="t">        <span class="key">case</span> <span class="str">"toml"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t463" href="#t463">463</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t464" href="#t464">464</a></span><span class="t">            <span class="key">def</span> <span class="nam">output</span><span class="op">(</span><span class="nam">_data</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">|</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t465" href="#t465">465</a></span><span class="t">                <span class="key">import</span> <span class="nam">json</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t465" href="#t465">465</a></span><span class="t">                <span class="key">import</span> <span class="nam">tomli_w</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t466" href="#t466">466</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t467" href="#t467">467</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">json</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">_data</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="num">2</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t467" href="#t467">467</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">tomli_w</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">_data</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t468" href="#t468">468</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t469" href="#t469">469</a></span><span class="t">        <span class="key">case</span> <span class="str">"yaml"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t470" href="#t470">470</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t471" href="#t471">471</a></span><span class="t">            <span class="key">def</span> <span class="nam">output</span><span class="op">(</span><span class="nam">_data</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">|</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t472" href="#t472">472</a></span><span class="t">                <span class="key">import</span> <span class="nam">yaml</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t473" href="#t473">473</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t474" href="#t474">474</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">yaml</span><span class="op">.</span><span class="nam">dump</span><span class="op">(</span><span class="nam">_data</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t469" href="#t469">469</a></span><span class="t">        <span class="key">case</span> <span class="nam">_</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t470" href="#t470">470</a></span><span class="t">            <span class="nam">options</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">FormatOptions</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t471" href="#t471">471</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Invalid format '{fmt}'. Please choose one of {options}."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t472" href="#t472">472</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t473" href="#t473">473</a></span><span class="t">    <span class="key">return</span> <span class="nam">output</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t474" href="#t474">474</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t475" href="#t475">475</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t476" href="#t476">476</a></span><span class="t">        <span class="key">case</span> <span class="str">"toml"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t477" href="#t477">477</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t478" href="#t478">478</a></span><span class="t">            <span class="key">def</span> <span class="nam">output</span><span class="op">(</span><span class="nam">_data</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">|</span> <span class="nam">AnyNestedDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t479" href="#t479">479</a></span><span class="t">                <span class="key">import</span> <span class="nam">tomli_w</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t480" href="#t480">480</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t481" href="#t481">481</a></span><span class="t">                <span class="nam">print</span><span class="op">(</span><span class="nam">tomli_w</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">_data</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t482" href="#t482">482</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t483" href="#t483">483</a></span><span class="t">        <span class="key">case</span> <span class="nam">_</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t484" href="#t484">484</a></span><span class="t">            <span class="nam">options</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">FormatOptions</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t485" href="#t485">485</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Invalid format '{fmt}'. Please choose one of {options}."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t486" href="#t486">486</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t487" href="#t487">487</a></span><span class="t">    <span class="key">return</span> <span class="nam">output</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t488" href="#t488">488</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t489" href="#t489">489</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t490" href="#t490">490</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"cache.stats"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t491" href="#t491">491</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t492" href="#t492">492</a></span><span class="t"><span class="key">def</span> <span class="nam">cache_stats</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t493" href="#t493">493</a></span><span class="t">    <span class="nam">identifier</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Argument</span><span class="op">(</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="str">""</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t494" href="#t494">494</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t495" href="#t495">495</a></span><span class="t">    <span class="nam">fmt</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t496" href="#t496">496</a></span><span class="t">        <span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--format"</span><span class="op">,</span> <span class="str">"--fmt"</span><span class="op">,</span> <span class="str">"-f"</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"plaintext (default) or json"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t497" href="#t497">497</a></span><span class="t">    <span class="op">]</span> <span class="op">=</span> <span class="str">"plaintext"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t498" href="#t498">498</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t499" href="#t499">499</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t500" href="#t500">500</a></span><span class="t"><span class="str">    Collect caching stats.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t501" href="#t501">501</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t502" href="#t502">502</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t503" href="#t503">503</a></span><span class="t"><span class="str">        typedal cache.stats</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t504" href="#t504">504</a></span><span class="t"><span class="str">        typedal cache.stats user</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t505" href="#t505">505</a></span><span class="t"><span class="str">        typedal cache.stats user.3</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t506" href="#t506">506</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t507" href="#t507">507</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t508" href="#t508">508</a></span><span class="t">    <span class="nam">db</span> <span class="op">=</span> <span class="nam">TypeDAL</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">fake_migrate</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t509" href="#t509">509</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t510" href="#t510">510</a></span><span class="t">    <span class="nam">output</span> <span class="op">=</span> <span class="nam">get_output_format</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">FormatOptions</span><span class="op">,</span> <span class="nam">fmt</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t511" href="#t511">511</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t512" href="#t512">512</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t513" href="#t513">513</a></span><span class="t">    <span class="nam">parts</span> <span class="op">=</span> <span class="nam">identifier</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">"."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t514" href="#t514">514</a></span><span class="t">    <span class="key">match</span> <span class="nam">parts</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t515" href="#t515">515</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="op">]</span> <span class="op">|</span> <span class="op">[</span><span class="str">""</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t516" href="#t516">516</a></span><span class="t">            <span class="com"># generic stats</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t517" href="#t517">517</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">calculate_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t518" href="#t518">518</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="nam">table</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t519" href="#t519">519</a></span><span class="t">            <span class="com"># table stats</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t520" href="#t520">520</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">table_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">table</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t521" href="#t521">521</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="nam">table</span><span class="op">,</span> <span class="nam">row_id</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t522" href="#t522">522</a></span><span class="t">            <span class="com"># row stats</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t523" href="#t523">523</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">row_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">table</span><span class="op">,</span> <span class="nam">row_id</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t524" href="#t524">524</a></span><span class="t">        <span class="key">case</span> <span class="nam">_</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t525" href="#t525">525</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Please use the format `table` or `table.id` for this command."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t526" href="#t526">526</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t527" href="#t527">527</a></span><span class="t">    <span class="nam">output</span><span class="op">(</span><span class="nam">data</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t528" href="#t528">528</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t529" href="#t529">529</a></span><span class="t">    <span class="com"># todo:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t530" href="#t530">530</a></span><span class="t">    <span class="com">#  - sort by most dependencies</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t531" href="#t531">531</a></span><span class="t">    <span class="com">#  - sort by biggest data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t532" href="#t532">532</a></span><span class="t">    <span class="com">#  - include size for table_stats, row_stats</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t533" href="#t533">533</a></span><span class="t">    <span class="com">#  - group by table</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t534" href="#t534">534</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t535" href="#t535">535</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t536" href="#t536">536</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"cache.clear"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t537" href="#t537">537</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t538" href="#t538">538</a></span><span class="t"><span class="key">def</span> <span class="nam">cache_clear</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t539" href="#t539">539</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t540" href="#t540">540</a></span><span class="t">    <span class="nam">purge</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">bool</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--all"</span><span class="op">,</span> <span class="str">"--purge"</span><span class="op">,</span> <span class="str">"-p"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t541" href="#t541">541</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t542" href="#t542">542</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t543" href="#t543">543</a></span><span class="t"><span class="str">    Clear (expired) items from the cache.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t476" href="#t476">476</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"cache.stats"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t477" href="#t477">477</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t478" href="#t478">478</a></span><span class="t"><span class="key">def</span> <span class="nam">cache_stats</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t479" href="#t479">479</a></span><span class="t">    <span class="nam">identifier</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Argument</span><span class="op">(</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="str">""</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t480" href="#t480">480</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t481" href="#t481">481</a></span><span class="t">    <span class="nam">fmt</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t482" href="#t482">482</a></span><span class="t">        <span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--format"</span><span class="op">,</span> <span class="str">"--fmt"</span><span class="op">,</span> <span class="str">"-f"</span><span class="op">,</span> <span class="nam">help</span><span class="op">=</span><span class="str">"plaintext (default) or json"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t483" href="#t483">483</a></span><span class="t">    <span class="op">]</span> <span class="op">=</span> <span class="str">"plaintext"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t484" href="#t484">484</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t485" href="#t485">485</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t486" href="#t486">486</a></span><span class="t"><span class="str">    Collect caching stats.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t487" href="#t487">487</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t488" href="#t488">488</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t489" href="#t489">489</a></span><span class="t"><span class="str">        typedal cache.stats</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t490" href="#t490">490</a></span><span class="t"><span class="str">        typedal cache.stats user</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t491" href="#t491">491</a></span><span class="t"><span class="str">        typedal cache.stats user.3</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t492" href="#t492">492</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t493" href="#t493">493</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t494" href="#t494">494</a></span><span class="t">    <span class="nam">db</span> <span class="op">=</span> <span class="nam">TypeDAL</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">fake_migrate</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t495" href="#t495">495</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t496" href="#t496">496</a></span><span class="t">    <span class="nam">output</span> <span class="op">=</span> <span class="nam">get_output_format</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">FormatOptions</span><span class="op">,</span> <span class="nam">fmt</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t497" href="#t497">497</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t498" href="#t498">498</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t499" href="#t499">499</a></span><span class="t">    <span class="nam">parts</span> <span class="op">=</span> <span class="nam">identifier</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">"."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t500" href="#t500">500</a></span><span class="t">    <span class="key">match</span> <span class="nam">parts</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t501" href="#t501">501</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="op">]</span> <span class="op">|</span> <span class="op">[</span><span class="str">""</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t502" href="#t502">502</a></span><span class="t">            <span class="com"># generic stats</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t503" href="#t503">503</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">calculate_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t504" href="#t504">504</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="nam">table</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t505" href="#t505">505</a></span><span class="t">            <span class="com"># table stats</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t506" href="#t506">506</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">table_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">table</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t507" href="#t507">507</a></span><span class="t">        <span class="key">case</span> <span class="op">[</span><span class="nam">table</span><span class="op">,</span> <span class="nam">row_id</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t508" href="#t508">508</a></span><span class="t">            <span class="com"># row stats</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t509" href="#t509">509</a></span><span class="t">            <span class="nam">data</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">row_stats</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="nam">table</span><span class="op">,</span> <span class="nam">row_id</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t510" href="#t510">510</a></span><span class="t">        <span class="key">case</span> <span class="nam">_</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t511" href="#t511">511</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Please use the format `table` or `table.id` for this command."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t512" href="#t512">512</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t513" href="#t513">513</a></span><span class="t">    <span class="nam">output</span><span class="op">(</span><span class="nam">data</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t514" href="#t514">514</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t515" href="#t515">515</a></span><span class="t">    <span class="com"># todo:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t516" href="#t516">516</a></span><span class="t">    <span class="com">#  - sort by most dependencies</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t517" href="#t517">517</a></span><span class="t">    <span class="com">#  - sort by biggest data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t518" href="#t518">518</a></span><span class="t">    <span class="com">#  - include size for table_stats, row_stats</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t519" href="#t519">519</a></span><span class="t">    <span class="com">#  - group by table</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t520" href="#t520">520</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t521" href="#t521">521</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t522" href="#t522">522</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">command</span><span class="op">(</span><span class="nam">name</span><span class="op">=</span><span class="str">"cache.clear"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t523" href="#t523">523</a></span><span class="t"><span class="op">@</span><span class="nam">with_exit_code</span><span class="op">(</span><span class="nam">hide_tb</span><span class="op">=</span><span class="nam">IS_DEBUG</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t524" href="#t524">524</a></span><span class="t"><span class="key">def</span> <span class="nam">cache_clear</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t525" href="#t525">525</a></span><span class="t">    <span class="nam">connection</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--connection"</span><span class="op">,</span> <span class="str">"-c"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t526" href="#t526">526</a></span><span class="t">    <span class="nam">purge</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Annotated</span><span class="op">[</span><span class="nam">bool</span><span class="op">,</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Option</span><span class="op">(</span><span class="str">"--all"</span><span class="op">,</span> <span class="str">"--purge"</span><span class="op">,</span> <span class="str">"-p"</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t527" href="#t527">527</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t528" href="#t528">528</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t529" href="#t529">529</a></span><span class="t"><span class="str">    Clear (expired) items from the cache.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t530" href="#t530">530</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t531" href="#t531">531</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t532" href="#t532">532</a></span><span class="t"><span class="str">        connection (optional): [tool.typedal.&lt;connection>]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t533" href="#t533">533</a></span><span class="t"><span class="str">        purge (default: no): remove all items, not only expired</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t534" href="#t534">534</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t535" href="#t535">535</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t536" href="#t536">536</a></span><span class="t">    <span class="nam">db</span> <span class="op">=</span> <span class="nam">TypeDAL</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">fake_migrate</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t537" href="#t537">537</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t538" href="#t538">538</a></span><span class="t">    <span class="key">if</span> <span class="nam">purge</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t539" href="#t539">539</a></span><span class="t">        <span class="nam">caching</span><span class="op">.</span><span class="nam">clear_cache</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t540" href="#t540">540</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">"Emptied cache"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t541" href="#t541">541</a></span><span class="t">    <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t542" href="#t542">542</a></span><span class="t">        <span class="nam">n</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">clear_expired</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t543" href="#t543">543</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Removed {n} expired from cache"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t544" href="#t544">544</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t545" href="#t545">545</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t546" href="#t546">546</a></span><span class="t"><span class="str">        connection (optional): [tool.typedal.&lt;connection>]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t547" href="#t547">547</a></span><span class="t"><span class="str">        purge (default: no): remove all items, not only expired</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t548" href="#t548">548</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t549" href="#t549">549</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="nam">connection</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t550" href="#t550">550</a></span><span class="t">    <span class="nam">db</span> <span class="op">=</span> <span class="nam">TypeDAL</span><span class="op">(</span><span class="nam">config</span><span class="op">=</span><span class="nam">config</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">fake_migrate</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t551" href="#t551">551</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t552" href="#t552">552</a></span><span class="t">    <span class="key">if</span> <span class="nam">purge</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t553" href="#t553">553</a></span><span class="t">        <span class="nam">caching</span><span class="op">.</span><span class="nam">clear_cache</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t554" href="#t554">554</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">"Emptied cache"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t555" href="#t555">555</a></span><span class="t">    <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t556" href="#t556">556</a></span><span class="t">        <span class="nam">n</span> <span class="op">=</span> <span class="nam">caching</span><span class="op">.</span><span class="nam">clear_expired</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t557" href="#t557">557</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Removed {n} expired from cache"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t558" href="#t558">558</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t559" href="#t559">559</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">commit</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t560" href="#t560">560</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t561" href="#t561">561</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t562" href="#t562">562</a></span><span class="t"><span class="key">def</span> <span class="nam">version_callback</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Never</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t563" href="#t563">563</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t564" href="#t564">564</a></span><span class="t"><span class="str">    --version requested!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t565" href="#t565">565</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t566" href="#t566">566</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="str">f"pydal2sql Version: {__version__}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t545" href="#t545">545</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">commit</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t546" href="#t546">546</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t547" href="#t547">547</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t548" href="#t548">548</a></span><span class="t"><span class="key">def</span> <span class="nam">version_callback</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Never</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t549" href="#t549">549</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t550" href="#t550">550</a></span><span class="t"><span class="str">    --version requested!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t551" href="#t551">551</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t552" href="#t552">552</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="str">f"pydal2sql Version: {__version__}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t553" href="#t553">553</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t554" href="#t554">554</a></span><span class="t">    <span class="key">raise</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Exit</span><span class="op">(</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t555" href="#t555">555</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t556" href="#t556">556</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t557" href="#t557">557</a></span><span class="t"><span class="key">def</span> <span class="nam">config_callback</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Never</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t558" href="#t558">558</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t559" href="#t559">559</a></span><span class="t"><span class="str">    --show-config requested.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t560" href="#t560">560</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t561" href="#t561">561</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t562" href="#t562">562</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t563" href="#t563">563</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">repr</span><span class="op">(</span><span class="nam">config</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t564" href="#t564">564</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t565" href="#t565">565</a></span><span class="t">    <span class="key">raise</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Exit</span><span class="op">(</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t566" href="#t566">566</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t567" href="#t567">567</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t568" href="#t568">568</a></span><span class="t">    <span class="key">raise</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Exit</span><span class="op">(</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t569" href="#t569">569</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t570" href="#t570">570</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t571" href="#t571">571</a></span><span class="t"><span class="key">def</span> <span class="nam">config_callback</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Never</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t572" href="#t572">572</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t573" href="#t573">573</a></span><span class="t"><span class="str">    --show-config requested.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t574" href="#t574">574</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t575" href="#t575">575</a></span><span class="t">    <span class="nam">config</span> <span class="op">=</span> <span class="nam">load_config</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t576" href="#t576">576</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t577" href="#t577">577</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">repr</span><span class="op">(</span><span class="nam">config</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t578" href="#t578">578</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t579" href="#t579">579</a></span><span class="t">    <span class="key">raise</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Exit</span><span class="op">(</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t580" href="#t580">580</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t581" href="#t581">581</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t582" href="#t582">582</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">callback</span><span class="op">(</span><span class="nam">invoke_without_command</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t583" href="#t583">583</a></span><span class="t"><span class="key">def</span> <span class="nam">main</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t584" href="#t584">584</a></span><span class="t">    <span class="nam">_</span><span class="op">:</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Context</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t585" href="#t585">585</a></span><span class="t">    <span class="com"># stops the program:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t586" href="#t586">586</a></span><span class="t">    <span class="nam">show_config</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t587" href="#t587">587</a></span><span class="t">    <span class="nam">version</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t588" href="#t588">588</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t589" href="#t589">589</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t590" href="#t590">590</a></span><span class="t"><span class="str">    This script can be used to generate the create or alter sql from pydal or typedal.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t591" href="#t591">591</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t592" href="#t592">592</a></span><span class="t">    <span class="key">if</span> <span class="nam">show_config</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t593" href="#t593">593</a></span><span class="t">        <span class="nam">config_callback</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t594" href="#t594">594</a></span><span class="t">    <span class="key">elif</span> <span class="nam">version</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t595" href="#t595">595</a></span><span class="t">        <span class="nam">version_callback</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t596" href="#t596">596</a></span><span class="t">    <span class="com"># else: just continue</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t597" href="#t597">597</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t598" href="#t598">598</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t599" href="#t599">599</a></span><span class="t"><span class="key">if</span> <span class="nam">__name__</span> <span class="op">==</span> <span class="str">"__main__"</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t600" href="#t600">600</a></span><span class="t">    <span class="nam">app</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t568" href="#t568">568</a></span><span class="t"><span class="op">@</span><span class="nam">app</span><span class="op">.</span><span class="nam">callback</span><span class="op">(</span><span class="nam">invoke_without_command</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t569" href="#t569">569</a></span><span class="t"><span class="key">def</span> <span class="nam">main</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t570" href="#t570">570</a></span><span class="t">    <span class="nam">_</span><span class="op">:</span> <span class="nam">typer</span><span class="op">.</span><span class="nam">Context</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t571" href="#t571">571</a></span><span class="t">    <span class="com"># stops the program:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t572" href="#t572">572</a></span><span class="t">    <span class="nam">show_config</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t573" href="#t573">573</a></span><span class="t">    <span class="nam">version</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t574" href="#t574">574</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t575" href="#t575">575</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t576" href="#t576">576</a></span><span class="t"><span class="str">    This script can be used to generate the create or alter sql from pydal or typedal.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t577" href="#t577">577</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t578" href="#t578">578</a></span><span class="t">    <span class="key">if</span> <span class="nam">show_config</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t579" href="#t579">579</a></span><span class="t">        <span class="nam">config_callback</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t580" href="#t580">580</a></span><span class="t">    <span class="key">elif</span> <span class="nam">version</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t581" href="#t581">581</a></span><span class="t">        <span class="nam">version_callback</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t582" href="#t582">582</a></span><span class="t">    <span class="com"># else: just continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t583" href="#t583">583</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t584" href="#t584">584</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t585" href="#t585">585</a></span><span class="t"><span class="key">if</span> <span class="nam">__name__</span> <span class="op">==</span> <span class="str">"__main__"</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t586" href="#t586">586</a></span><span class="t">    <span class="nam">app</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_caching_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_config_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:19 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -1,36 +1,36 @@
-************ CCoovveerraaggee ffoorr ssrrcc//ttyyppeeddaall//ccllii..ppyy:: 9933%% ************
+************ CCoovveerraaggee ffoorr ssrrcc//ttyyppeeddaall//ccllii..ppyy:: 110000%% ************
 ??[Show/hide keyboard shortcuts]
 Shortcuts on this page
 r m x  toggle line displays
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
-********** 9922 ssttaatteemmeennttss ? 8866 rruunn 66 mmiissssiinngg 116644 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:19 +0200
+********** 8855 ssttaatteemmeennttss ? 8855 rruunn 00 mmiissssiinngg 116644 eexxcclluuddeedd **********
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2Typer CLI for TypeDAL.
 _3"""
 _4
-_5import fnmatch
-_6import sys
-_7import typing
-_8import warnings
-_9from pathlib import Path
-_1_0from typing import Optional
-_1_1
-_1_2import tomli
-_1_3from configuraptor import asdict
-_1_4from configuraptor.alias import is_alias
-_1_5from configuraptor.helpers import is_optional
-_1_6
+_5import sys
+_6import typing
+_7import warnings
+_8from pathlib import Path
+_9from typing import Optional
+_1_0
+_1_1import tomli
+_1_2from configuraptor import asdict
+_1_3from configuraptor.alias import is_alias
+_1_4from configuraptor.helpers import is_optional
+_1_5
+_1_6from .helpers import match_strings
 _1_7from .types import AnyDict
 _1_8
 _1_9try:
 _2_0 import edwh_migrate
 _2_1 import pydal2sql # noqa: F401
 _2_2 import questionary
 _2_3 import rich
@@ -371,279 +371,264 @@
 _3_4_2 print("Would run `migrate` with config", asdict(migrate_config),
 file=sys.stderr)
 _3_4_3 else: # pragma: no cover
 _3_4_4 edwh_migrate.console_hook([], config=migrate_config)
 _3_4_5 return True
 _3_4_6
 _3_4_7
-_3_4_8def match_strings(patterns: list[str] | str, string_list: list[str]) -> list
-[str]:
-_3_4_9 """
-_3_5_0 Glob but on a list of strings.
-_3_5_1 """
-_3_5_2 if isinstance(patterns, str):
-_3_5_3 patterns = [patterns]
-_3_5_4
-_3_5_5 matches = []
-_3_5_6 for pattern in patterns:
-_3_5_7 matches.extend([s for s in string_list if fnmatch.fnmatch(s, pattern)])
-_3_5_8
-_3_5_9 return matches
-_3_6_0
-_3_6_1
-_3_6_2@app.command(name="migrations.fake")
-_3_6_3@with_exit_code(hide_tb=IS_DEBUG)
-_3_6_4def fake_migrations(
-_3_6_5 names: typing.Annotated[list[str], typer.Argument()] = None,
-_3_6_6 all: bool = False, # noqa: A002
-_3_6_7 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
+_3_4_8@app.command(name="migrations.fake")
+_3_4_9@with_exit_code(hide_tb=IS_DEBUG)
+_3_5_0def fake_migrations(
+_3_5_1 names: typing.Annotated[list[str], typer.Argument()] = None,
+_3_5_2 all: bool = False, # noqa: A002
+_3_5_3 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
 None,
-_3_6_8 migrations_file: Optional[str] = None,
-_3_6_9 db_uri: Optional[str] = None,
-_3_7_0 db_folder: Optional[str] = None,
-_3_7_1 migrate_table: Optional[str] = None,
-_3_7_2 dry_run: bool = False,
-_3_7_3) -> int: # pragma: no cover
-_3_7_4 """
-_3_7_5 Mark one or more migrations as completed in the database, without executing
+_3_5_4 migrations_file: Optional[str] = None,
+_3_5_5 db_uri: Optional[str] = None,
+_3_5_6 db_folder: Optional[str] = None,
+_3_5_7 migrate_table: Optional[str] = None,
+_3_5_8 dry_run: bool = False,
+_3_5_9) -> int: # pragma: no cover
+_3_6_0 """
+_3_6_1 Mark one or more migrations as completed in the database, without executing
 the SQL code.
-_3_7_6
-_3_7_7 glob is supported in 'names'
-_3_7_8 """
-_3_7_9 if not (names or all):
-_3_8_0 rich.print("Please provide one or more migration names, or pass --all to
+_3_6_2
+_3_6_3 glob is supported in 'names'
+_3_6_4 """
+_3_6_5 if not (names or all):
+_3_6_6 rich.print("Please provide one or more migration names, or pass --all to
 fake all.")
-_3_8_1 return 1
-_3_8_2
-_3_8_3 generic_config = load_config(connection)
-_3_8_4 migrate_config = generic_config.to_migrate()
-_3_8_5
-_3_8_6 migrate_config.update(
-_3_8_7 migrate_uri=db_uri,
-_3_8_8 migrate_table=migrate_table,
-_3_8_9 db_folder=db_folder,
-_3_9_0 migrations_file=migrations_file,
-_3_9_1 _skip_none=True,
-_3_9_2 )
-_3_9_3
-_3_9_4 migrations = edwh_migrate.list_migrations(migrate_config)
-_3_9_5
-_3_9_6 migration_names = list(migrations.keys())
-_3_9_7
-_3_9_8 to_fake = migration_names if all else match_strings(names or [],
+_3_6_7 return 1
+_3_6_8
+_3_6_9 generic_config = load_config(connection)
+_3_7_0 migrate_config = generic_config.to_migrate()
+_3_7_1
+_3_7_2 migrate_config.update(
+_3_7_3 migrate_uri=db_uri,
+_3_7_4 migrate_table=migrate_table,
+_3_7_5 db_folder=db_folder,
+_3_7_6 migrations_file=migrations_file,
+_3_7_7 _skip_none=True,
+_3_7_8 )
+_3_7_9
+_3_8_0 migrations = edwh_migrate.list_migrations(migrate_config)
+_3_8_1
+_3_8_2 migration_names = list(migrations.keys())
+_3_8_3
+_3_8_4 to_fake = migration_names if all else match_strings(names or [],
 migration_names)
-_3_9_9
-_4_0_0 try:
-_4_0_1 db = edwh_migrate.setup_db(config=migrate_config)
-_4_0_2 except edwh_migrate.migrate.DatabaseNotYetInitialized:
-_4_0_3 db = edwh_migrate.setup_db(
-_4_0_4 config=migrate_config, migrate=True, migrate_enabled=True,
+_3_8_5
+_3_8_6 try:
+_3_8_7 db = edwh_migrate.setup_db(config=migrate_config)
+_3_8_8 except edwh_migrate.migrate.DatabaseNotYetInitialized:
+_3_8_9 db = edwh_migrate.setup_db(
+_3_9_0 config=migrate_config, migrate=True, migrate_enabled=True,
 remove_migrate_tablefile=True
-_4_0_5 )
-_4_0_6
-_4_0_7 previously_migrated = (
-_4_0_8 db(
-_4_0_9 db.ewh_implemented_features.name.belongs(to_fake)
-_4_1_0 & (db.ewh_implemented_features.installed == True) # noqa E712
-_4_1_1 )
-_4_1_2 .select(db.ewh_implemented_features.name)
-_4_1_3 .column("name")
-_4_1_4 )
-_4_1_5
-_4_1_6 if dry_run:
-_4_1_7 rich.print("Would migrate these:", [_ for _ in to_fake if _ not in
+_3_9_1 )
+_3_9_2
+_3_9_3 previously_migrated = (
+_3_9_4 db(
+_3_9_5 db.ewh_implemented_features.name.belongs(to_fake)
+_3_9_6 & (db.ewh_implemented_features.installed == True) # noqa E712
+_3_9_7 )
+_3_9_8 .select(db.ewh_implemented_features.name)
+_3_9_9 .column("name")
+_4_0_0 )
+_4_0_1
+_4_0_2 if dry_run:
+_4_0_3 rich.print("Would migrate these:", [_ for _ in to_fake if _ not in
 previously_migrated])
-_4_1_8 return 0
+_4_0_4 return 0
+_4_0_5
+_4_0_6 n = len(to_fake)
+_4_0_7 print(f"{len(previously_migrated)} / {n} were already installed.")
+_4_0_8
+_4_0_9 for name in to_fake:
+_4_1_0 if name in previously_migrated:
+_4_1_1 continue
+_4_1_2
+_4_1_3 edwh_migrate.mark_migration(db, name=name, installed=True)
+_4_1_4
+_4_1_5 db.commit()
+_4_1_6 rich.print(f"Faked {n} new migrations.")
+_4_1_7 return 0
+_4_1_8
 _4_1_9
-_4_2_0 n = len(to_fake)
-_4_2_1 print(f"{len(previously_migrated)} / {n} were already installed.")
+_4_2_0AnyNestedDict: typing.TypeAlias = dict[str, AnyDict]
+_4_2_1
 _4_2_2
-_4_2_3 for name in to_fake:
-_4_2_4 if name in previously_migrated:
-_4_2_5 continue
-_4_2_6
-_4_2_7 edwh_migrate.mark_migration(db, name=name, installed=True)
-_4_2_8
-_4_2_9 db.commit()
-_4_3_0 rich.print(f"Faked {n} new migrations.")
-_4_3_1 return 0
+_4_2_3def tabulate_data(data: AnyNestedDict) -> None:
+_4_2_4 """
+_4_2_5 Print a nested dict of data in a nice, human-readable table.
+_4_2_6 """
+_4_2_7 flattened_data = []
+_4_2_8 for key, inner_dict in data.items():
+_4_2_9 temp_dict = {"": key}
+_4_3_0 temp_dict.update(inner_dict)
+_4_3_1 flattened_data.append(temp_dict)
 _4_3_2
-_4_3_3
-_4_3_4AnyNestedDict: typing.TypeAlias = dict[str, AnyDict]
+_4_3_3 # Display the tabulated data from the transposed dictionary
+_4_3_4 print(tabulate(flattened_data, headers="keys"))
 _4_3_5
 _4_3_6
-_4_3_7def tabulate_data(data: AnyNestedDict) -> None:
-_4_3_8 """
-_4_3_9 Print a nested dict of data in a nice, human-readable table.
-_4_4_0 """
-_4_4_1 flattened_data = []
-_4_4_2 for key, inner_dict in data.items():
-_4_4_3 temp_dict = {"": key}
-_4_4_4 temp_dict.update(inner_dict)
-_4_4_5 flattened_data.append(temp_dict)
-_4_4_6
-_4_4_7 # Display the tabulated data from the transposed dictionary
-_4_4_8 print(tabulate(flattened_data, headers="keys"))
-_4_4_9
-_4_5_0
-_4_5_1FormatOptions: typing.TypeAlias = typing.Literal["plaintext", "json",
+_4_3_7FormatOptions: typing.TypeAlias = typing.Literal["plaintext", "json",
 "yaml", "toml"]
-_4_5_2
-_4_5_3
-_4_5_4def get_output_format(fmt: FormatOptions) -> typing.Callable[
+_4_3_8
+_4_3_9
+_4_4_0def get_output_format(fmt: FormatOptions) -> typing.Callable[
 [AnyNestedDict], None]:
-_4_5_5 """
-_4_5_6 This function takes a format option as input and \
-_4_5_7 returns a function that can be used to output data in the specified
+_4_4_1 """
+_4_4_2 This function takes a format option as input and \
+_4_4_3 returns a function that can be used to output data in the specified
 format.
-_4_5_8 """
-_4_5_9 match fmt:
-_4_6_0 case "plaintext":
-_4_6_1 output = tabulate_data
-_4_6_2 case "json":
+_4_4_4 """
+_4_4_5 match fmt:
+_4_4_6 case "plaintext":
+_4_4_7 output = tabulate_data
+_4_4_8 case "json":
+_4_4_9
+_4_5_0 def output(_data: AnyDict | AnyNestedDict) -> None:
+_4_5_1 import json
+_4_5_2
+_4_5_3 print(json.dumps(_data, indent=2))
+_4_5_4
+_4_5_5 case "yaml":
+_4_5_6
+_4_5_7 def output(_data: AnyDict | AnyNestedDict) -> None:
+_4_5_8 import yaml
+_4_5_9
+_4_6_0 print(yaml.dump(_data))
+_4_6_1
+_4_6_2 case "toml":
 _4_6_3
 _4_6_4 def output(_data: AnyDict | AnyNestedDict) -> None:
-_4_6_5 import json
+_4_6_5 import tomli_w
 _4_6_6
-_4_6_7 print(json.dumps(_data, indent=2))
+_4_6_7 print(tomli_w.dumps(_data))
 _4_6_8
-_4_6_9 case "yaml":
-_4_7_0
-_4_7_1 def output(_data: AnyDict | AnyNestedDict) -> None:
-_4_7_2 import yaml
-_4_7_3
-_4_7_4 print(yaml.dump(_data))
-_4_7_5
-_4_7_6 case "toml":
-_4_7_7
-_4_7_8 def output(_data: AnyDict | AnyNestedDict) -> None:
-_4_7_9 import tomli_w
-_4_8_0
-_4_8_1 print(tomli_w.dumps(_data))
-_4_8_2
-_4_8_3 case _:
-_4_8_4 options = typing.get_args(FormatOptions)
-_4_8_5 raise ValueError(f"Invalid format '{fmt}'. Please choose one of
+_4_6_9 case _:
+_4_7_0 options = typing.get_args(FormatOptions)
+_4_7_1 raise ValueError(f"Invalid format '{fmt}'. Please choose one of
 {options}.")
-_4_8_6
-_4_8_7 return output
-_4_8_8
-_4_8_9
-_4_9_0@app.command(name="cache.stats")
-_4_9_1@with_exit_code(hide_tb=IS_DEBUG)
-_4_9_2def cache_stats(
-_4_9_3 identifier: typing.Annotated[str, typer.Argument()] = "",
-_4_9_4 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
+_4_7_2
+_4_7_3 return output
+_4_7_4
+_4_7_5
+_4_7_6@app.command(name="cache.stats")
+_4_7_7@with_exit_code(hide_tb=IS_DEBUG)
+_4_7_8def cache_stats(
+_4_7_9 identifier: typing.Annotated[str, typer.Argument()] = "",
+_4_8_0 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
 None,
-_4_9_5 fmt: typing.Annotated[
-_4_9_6 str, typer.Option("--format", "--fmt", "-f", help="plaintext (default) or
+_4_8_1 fmt: typing.Annotated[
+_4_8_2 str, typer.Option("--format", "--fmt", "-f", help="plaintext (default) or
 json")
-_4_9_7 ] = "plaintext",
-_4_9_8) -> None: # pragma: no cover
-_4_9_9 """
-_5_0_0 Collect caching stats.
-_5_0_1
-_5_0_2 Examples:
-_5_0_3 typedal cache.stats
-_5_0_4 typedal cache.stats user
-_5_0_5 typedal cache.stats user.3
-_5_0_6 """
-_5_0_7 config = load_config(connection)
-_5_0_8 db = TypeDAL(config=config, migrate=False, fake_migrate=False)
-_5_0_9
-_5_1_0 output = get_output_format(typing.cast(FormatOptions, fmt))
-_5_1_1
-_5_1_2 data: AnyDict
-_5_1_3 parts = identifier.split(".")
-_5_1_4 match parts:
-_5_1_5 case [] | [""]:
-_5_1_6 # generic stats
-_5_1_7 data = caching.calculate_stats(db) # type: ignore
-_5_1_8 case [table]:
-_5_1_9 # table stats
-_5_2_0 data = caching.table_stats(db, table) # type: ignore
-_5_2_1 case [table, row_id]:
-_5_2_2 # row stats
-_5_2_3 data = caching.row_stats(db, table, row_id) # type: ignore
-_5_2_4 case _:
-_5_2_5 raise ValueError("Please use the format `table` or `table.id` for this
+_4_8_3 ] = "plaintext",
+_4_8_4) -> None: # pragma: no cover
+_4_8_5 """
+_4_8_6 Collect caching stats.
+_4_8_7
+_4_8_8 Examples:
+_4_8_9 typedal cache.stats
+_4_9_0 typedal cache.stats user
+_4_9_1 typedal cache.stats user.3
+_4_9_2 """
+_4_9_3 config = load_config(connection)
+_4_9_4 db = TypeDAL(config=config, migrate=False, fake_migrate=False)
+_4_9_5
+_4_9_6 output = get_output_format(typing.cast(FormatOptions, fmt))
+_4_9_7
+_4_9_8 data: AnyDict
+_4_9_9 parts = identifier.split(".")
+_5_0_0 match parts:
+_5_0_1 case [] | [""]:
+_5_0_2 # generic stats
+_5_0_3 data = caching.calculate_stats(db) # type: ignore
+_5_0_4 case [table]:
+_5_0_5 # table stats
+_5_0_6 data = caching.table_stats(db, table) # type: ignore
+_5_0_7 case [table, row_id]:
+_5_0_8 # row stats
+_5_0_9 data = caching.row_stats(db, table, row_id) # type: ignore
+_5_1_0 case _:
+_5_1_1 raise ValueError("Please use the format `table` or `table.id` for this
 command.")
-_5_2_6
-_5_2_7 output(data)
-_5_2_8
-_5_2_9 # todo:
-_5_3_0 # - sort by most dependencies
-_5_3_1 # - sort by biggest data
-_5_3_2 # - include size for table_stats, row_stats
-_5_3_3 # - group by table
-_5_3_4
-_5_3_5
-_5_3_6@app.command(name="cache.clear")
-_5_3_7@with_exit_code(hide_tb=IS_DEBUG)
-_5_3_8def cache_clear(
-_5_3_9 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
+_5_1_2
+_5_1_3 output(data)
+_5_1_4
+_5_1_5 # todo:
+_5_1_6 # - sort by most dependencies
+_5_1_7 # - sort by biggest data
+_5_1_8 # - include size for table_stats, row_stats
+_5_1_9 # - group by table
+_5_2_0
+_5_2_1
+_5_2_2@app.command(name="cache.clear")
+_5_2_3@with_exit_code(hide_tb=IS_DEBUG)
+_5_2_4def cache_clear(
+_5_2_5 connection: typing.Annotated[str, typer.Option("--connection", "-c")] =
 None,
-_5_4_0 purge: typing.Annotated[bool, typer.Option("--all", "--purge", "-p")] =
+_5_2_6 purge: typing.Annotated[bool, typer.Option("--all", "--purge", "-p")] =
 False,
-_5_4_1) -> None: # pragma: no cover
-_5_4_2 """
-_5_4_3 Clear (expired) items from the cache.
+_5_2_7) -> None: # pragma: no cover
+_5_2_8 """
+_5_2_9 Clear (expired) items from the cache.
+_5_3_0
+_5_3_1 Args:
+_5_3_2 connection (optional): [tool.typedal.<connection>]
+_5_3_3 purge (default: no): remove all items, not only expired
+_5_3_4 """
+_5_3_5 config = load_config(connection)
+_5_3_6 db = TypeDAL(config=config, migrate=False, fake_migrate=False)
+_5_3_7
+_5_3_8 if purge:
+_5_3_9 caching.clear_cache()
+_5_4_0 print("Emptied cache")
+_5_4_1 else:
+_5_4_2 n = caching.clear_expired()
+_5_4_3 print(f"Removed {n} expired from cache")
 _5_4_4
-_5_4_5 Args:
-_5_4_6 connection (optional): [tool.typedal.<connection>]
-_5_4_7 purge (default: no): remove all items, not only expired
-_5_4_8 """
-_5_4_9 config = load_config(connection)
-_5_5_0 db = TypeDAL(config=config, migrate=False, fake_migrate=False)
-_5_5_1
-_5_5_2 if purge:
-_5_5_3 caching.clear_cache()
-_5_5_4 print("Emptied cache")
-_5_5_5 else:
-_5_5_6 n = caching.clear_expired()
-_5_5_7 print(f"Removed {n} expired from cache")
-_5_5_8
-_5_5_9 db.commit()
-_5_6_0
-_5_6_1
-_5_6_2def version_callback() -> Never:
-_5_6_3 """
-_5_6_4 --version requested!
-_5_6_5 """
-_5_6_6 print(f"pydal2sql Version: {__version__}")
+_5_4_5 db.commit()
+_5_4_6
+_5_4_7
+_5_4_8def version_callback() -> Never:
+_5_4_9 """
+_5_5_0 --version requested!
+_5_5_1 """
+_5_5_2 print(f"pydal2sql Version: {__version__}")
+_5_5_3
+_5_5_4 raise typer.Exit(0)
+_5_5_5
+_5_5_6
+_5_5_7def config_callback() -> Never:
+_5_5_8 """
+_5_5_9 --show-config requested.
+_5_6_0 """
+_5_6_1 config = load_config()
+_5_6_2
+_5_6_3 print(repr(config))
+_5_6_4
+_5_6_5 raise typer.Exit(0)
+_5_6_6
 _5_6_7
-_5_6_8 raise typer.Exit(0)
-_5_6_9
-_5_7_0
-_5_7_1def config_callback() -> Never:
-_5_7_2 """
-_5_7_3 --show-config requested.
-_5_7_4 """
-_5_7_5 config = load_config()
-_5_7_6
-_5_7_7 print(repr(config))
-_5_7_8
-_5_7_9 raise typer.Exit(0)
-_5_8_0
-_5_8_1
-_5_8_2@app.callback(invoke_without_command=True)
-_5_8_3def main(
-_5_8_4 _: typer.Context,
-_5_8_5 # stops the program:
-_5_8_6 show_config: bool = False,
-_5_8_7 version: bool = False,
-_5_8_8) -> None:
-_5_8_9 """
-_5_9_0 This script can be used to generate the create or alter sql from pydal or
+_5_6_8@app.callback(invoke_without_command=True)
+_5_6_9def main(
+_5_7_0 _: typer.Context,
+_5_7_1 # stops the program:
+_5_7_2 show_config: bool = False,
+_5_7_3 version: bool = False,
+_5_7_4) -> None:
+_5_7_5 """
+_5_7_6 This script can be used to generate the create or alter sql from pydal or
 typedal.
-_5_9_1 """
-_5_9_2 if show_config:
-_5_9_3 config_callback()
-_5_9_4 elif version:
-_5_9_5 version_callback()
-_5_9_6 # else: just continue
-_5_9_7
-_5_9_8
-_5_9_9if __name__ == "__main__": # pragma: no cover
-_6_0_0 app()
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:19 +0200
+_5_7_7 """
+_5_7_8 if show_config:
+_5_7_9 config_callback()
+_5_8_0 elif version:
+_5_8_1 version_callback()
+_5_8_2 # else: just continue
+_5_8_3
+_5_8_4
+_5_8_5if __name__ == "__main__": # pragma: no cover
+_5_8_6 app()
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_config_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_config_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">11<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_cli_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_core_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -444,14 +444,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_cli_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_core_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 113322 ssttaatteemmeennttss ? 113322 rruunn 00 mmiissssiinngg 1111 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2TypeDAL can be configured by a combination of pyproject.toml (static), env
 (dynamic) and code (programmic).
 _3"""
 _4
 _5import os
 _6import re
@@ -388,9 +388,9 @@
 _3_5_4 for prop in TypeDALConfig.__annotations__:
 _3_5_5 fill_defaults(combined, prop)
 _3_5_6
 _3_5_7 for prop in TypeDALConfig.__annotations__:
 _3_5_8 transform(combined, prop)
 _3_5_9
 _3_6_0 return TypeDALConfig.load(combined, convert_types=True)
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_core_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_core_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -50,26 +50,26 @@
                     <p>
                         <kbd>?</kbd> &nbsp; show/hide this help
                     </p>
                 </div>
             </div>
         </aside>
         <h2>
-            <span class="text">903 statements &nbsp;</span>
-            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">903<span class="text"> run</span></button>
+            <span class="text">904 statements &nbsp;</span>
+            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">904<span class="text"> run</span></button>
             <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">144<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_config_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_fields_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -597,15 +597,15 @@
     <p class="pln"><span class="n"><a id="t515" href="#t515">515</a></span><span class="t">        <span class="com"># User; list[User]; TypedField[User]; TypedField[list[User]]</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t516" href="#t516">516</a></span><span class="t">        <span class="nam">relationships</span> <span class="op">|=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t517" href="#t517">517</a></span><span class="t">            <span class="nam">k</span><span class="op">:</span> <span class="nam">new_relationship</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t518" href="#t518">518</a></span><span class="t">            <span class="key">for</span> <span class="nam">k</span> <span class="key">in</span> <span class="nam">reference_field_keys</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t519" href="#t519">519</a></span><span class="t">            <span class="key">if</span> <span class="nam">k</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">relationships</span> <span class="key">and</span> <span class="op">(</span><span class="nam">new_relationship</span> <span class="op">:=</span> <span class="nam">to_relationship</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">annotations</span><span class="op">[</span><span class="nam">k</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t520" href="#t520">520</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t521" href="#t521">521</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t522" href="#t522">522</a></span><span class="t">        <span class="nam">cache_dependency</span> <span class="op">=</span> <span class="nam">kwargs</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">"cache_dependency"</span><span class="op">,</span> <span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t522" href="#t522">522</a></span><span class="t">        <span class="nam">cache_dependency</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_config</span><span class="op">.</span><span class="nam">caching</span> <span class="key">and</span> <span class="nam">kwargs</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">"cache_dependency"</span><span class="op">,</span> <span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t523" href="#t523">523</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t524" href="#t524">524</a></span><span class="t">        <span class="nam">table</span><span class="op">:</span> <span class="nam">Table</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">define_table</span><span class="op">(</span><span class="nam">tablename</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t525" href="#t525">525</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t526" href="#t526">526</a></span><span class="t">        <span class="key">for</span> <span class="nam">name</span><span class="op">,</span> <span class="nam">typed_field</span> <span class="key">in</span> <span class="nam">typedfields</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t527" href="#t527">527</a></span><span class="t">            <span class="nam">field</span> <span class="op">=</span> <span class="nam">fields</span><span class="op">[</span><span class="nam">name</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t528" href="#t528">528</a></span><span class="t">            <span class="nam">typed_field</span><span class="op">.</span><span class="nam">bind</span><span class="op">(</span><span class="nam">field</span><span class="op">,</span> <span class="nam">table</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t529" href="#t529">529</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
@@ -1395,1491 +1395,1503 @@
     <p class="pln"><span class="n"><a id="t1313" href="#t1313">1313</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t1314" href="#t1314">1314</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_field</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t1315" href="#t1315">1315</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Unbound Field can not be inverted!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1316" href="#t1316">1316</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="exc show_exc"><span class="n"><a id="t1317" href="#t1317">1317</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Expression</span><span class="op">,</span> <span class="op">~</span><span class="nam">self</span><span class="op">.</span><span class="nam">_field</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1318" href="#t1318">1318</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1319" href="#t1319">1319</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1320" href="#t1320">1320</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedTable</span><span class="op">(</span><span class="nam">metaclass</span><span class="op">=</span><span class="nam">TableMeta</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1320" href="#t1320">1320</a></span><span class="t"><span class="key">class</span> <span class="nam">_TypedTable</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1321" href="#t1321">1321</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1322" href="#t1322">1322</a></span><span class="t"><span class="str">    Enhanded modeling system on top of pydal's Table that adds typing and additional functionality.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1323" href="#t1323">1323</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1324" href="#t1324">1324</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1325" href="#t1325">1325</a></span><span class="t">    <span class="com"># set up by 'new':</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1326" href="#t1326">1326</a></span><span class="t">    <span class="nam">_row</span><span class="op">:</span> <span class="nam">Row</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1327" href="#t1327">1327</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1328" href="#t1328">1328</a></span><span class="t">    <span class="nam">_with</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1329" href="#t1329">1329</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1330" href="#t1330">1330</a></span><span class="t">    <span class="nam">id</span><span class="op">:</span> <span class="str">"TypedField[int]"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1331" href="#t1331">1331</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1332" href="#t1332">1332</a></span><span class="t">    <span class="nam">_before_insert</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeInsertCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1333" href="#t1333">1333</a></span><span class="t">    <span class="nam">_after_insert</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterInsertCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1334" href="#t1334">1334</a></span><span class="t">    <span class="nam">_before_update</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeUpdateCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1335" href="#t1335">1335</a></span><span class="t">    <span class="nam">_after_update</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterUpdateCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1336" href="#t1336">1336</a></span><span class="t">    <span class="nam">_before_delete</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeDeleteCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1337" href="#t1337">1337</a></span><span class="t">    <span class="nam">_after_delete</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterDeleteCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1338" href="#t1338">1338</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1339" href="#t1339">1339</a></span><span class="t">    <span class="key">def</span> <span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1340" href="#t1340">1340</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">as_dict</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_dict</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1341" href="#t1341">1341</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__json__</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_json</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_json</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1342" href="#t1342">1342</a></span><span class="t">        <span class="com"># self.as_yaml = self._as_yaml  # type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1343" href="#t1343">1343</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">as_xml</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_xml</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1322" href="#t1322">1322</a></span><span class="t"><span class="str">    This class is a final shared parent between TypedTable and Mixins.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1323" href="#t1323">1323</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1324" href="#t1324">1324</a></span><span class="t"><span class="str">    This needs to exist because otherwise the __on_define__ of Mixins are not executed.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1325" href="#t1325">1325</a></span><span class="t"><span class="str">    Notably, this class exists at a level ABOVE the `metaclass=TableMeta`,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1326" href="#t1326">1326</a></span><span class="t"><span class="str">        because otherwise typing gets confused when Mixins are used and multiple types could satisfy</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1327" href="#t1327">1327</a></span><span class="t"><span class="str">            generic 'T subclass of TypedTable'</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1328" href="#t1328">1328</a></span><span class="t"><span class="str">        -> Setting 'TypedTable' as the parent for Mixin does not work at runtime (and works semi at type check time)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1329" href="#t1329">1329</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1330" href="#t1330">1330</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1331" href="#t1331">1331</a></span><span class="t">    <span class="nam">id</span><span class="op">:</span> <span class="str">"TypedField[int]"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1332" href="#t1332">1332</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1333" href="#t1333">1333</a></span><span class="t">    <span class="nam">_before_insert</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeInsertCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1334" href="#t1334">1334</a></span><span class="t">    <span class="nam">_after_insert</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterInsertCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1335" href="#t1335">1335</a></span><span class="t">    <span class="nam">_before_update</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeUpdateCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1336" href="#t1336">1336</a></span><span class="t">    <span class="nam">_after_update</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterUpdateCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1337" href="#t1337">1337</a></span><span class="t">    <span class="nam">_before_delete</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">BeforeDeleteCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1338" href="#t1338">1338</a></span><span class="t">    <span class="nam">_after_delete</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">AfterDeleteCallable</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1339" href="#t1339">1339</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1340" href="#t1340">1340</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1341" href="#t1341">1341</a></span><span class="t">    <span class="key">def</span> <span class="nam">__on_define__</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1342" href="#t1342">1342</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1343" href="#t1343">1343</a></span><span class="t"><span class="str">        Method that can be implemented by tables to do an action after db.define is completed.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1344" href="#t1344">1344</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1345" href="#t1345">1345</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1346" href="#t1346">1346</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1347" href="#t1347">1347</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">delete_record</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_delete_record</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1348" href="#t1348">1348</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update_record</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update_record</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1345" href="#t1345">1345</a></span><span class="t"><span class="str">        This can be useful if you need to add something like requires=IS_NOT_IN_DB(db, "table.field"),</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1346" href="#t1346">1346</a></span><span class="t"><span class="str">        where you need a reference to the current database, which may not exist yet when defining the model.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1347" href="#t1347">1347</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1348" href="#t1348">1348</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1349" href="#t1349">1349</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1350" href="#t1350">1350</a></span><span class="t">    <span class="key">def</span> <span class="nam">__new__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1351" href="#t1351">1351</a></span><span class="t">        <span class="nam">cls</span><span class="op">,</span> <span class="nam">row_or_id</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">[</span><span class="nam">Row</span><span class="op">,</span> <span class="nam">Query</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Set</span><span class="op">,</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="str">"TypedTable"</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">filters</span><span class="op">:</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1352" href="#t1352">1352</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedTable"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1353" href="#t1353">1353</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1354" href="#t1354">1354</a></span><span class="t"><span class="str">        Create a Typed Rows model instance from an existing row, ID or query.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1355" href="#t1355">1355</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1356" href="#t1356">1356</a></span><span class="t"><span class="str">        Examples:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1357" href="#t1357">1357</a></span><span class="t"><span class="str">            MyTable(1)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1358" href="#t1358">1358</a></span><span class="t"><span class="str">            MyTable(id=1)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1359" href="#t1359">1359</a></span><span class="t"><span class="str">            MyTable(MyTable.id == 1)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1360" href="#t1360">1360</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1361" href="#t1361">1361</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1362" href="#t1362">1362</a></span><span class="t">        <span class="nam">inst</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__new__</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1363" href="#t1363">1363</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1364" href="#t1364">1364</a></span><span class="t">        <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1365" href="#t1365">1365</a></span><span class="t">            <span class="com"># existing typed table instance!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1366" href="#t1366">1366</a></span><span class="t">            <span class="key">return</span> <span class="nam">row_or_id</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1367" href="#t1367">1367</a></span><span class="t">        <span class="key">elif</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1368" href="#t1368">1368</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">row_or_id</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1369" href="#t1369">1369</a></span><span class="t">        <span class="key">elif</span> <span class="nam">row_or_id</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1370" href="#t1370">1370</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">table</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="op">**</span><span class="nam">filters</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1371" href="#t1371">1371</a></span><span class="t">        <span class="key">elif</span> <span class="nam">filters</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1372" href="#t1372">1372</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">table</span><span class="op">(</span><span class="op">**</span><span class="nam">filters</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1373" href="#t1373">1373</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1374" href="#t1374">1374</a></span><span class="t">            <span class="com"># dummy object</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1375" href="#t1375">1375</a></span><span class="t">            <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1350" href="#t1350">1350</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedTable</span><span class="op">(</span><span class="nam">_TypedTable</span><span class="op">,</span> <span class="nam">metaclass</span><span class="op">=</span><span class="nam">TableMeta</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1351" href="#t1351">1351</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1352" href="#t1352">1352</a></span><span class="t"><span class="str">    Enhanded modeling system on top of pydal's Table that adds typing and additional functionality.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1353" href="#t1353">1353</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1354" href="#t1354">1354</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1355" href="#t1355">1355</a></span><span class="t">    <span class="com"># set up by 'new':</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1356" href="#t1356">1356</a></span><span class="t">    <span class="nam">_row</span><span class="op">:</span> <span class="nam">Row</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1357" href="#t1357">1357</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1358" href="#t1358">1358</a></span><span class="t">    <span class="nam">_with</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1359" href="#t1359">1359</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1360" href="#t1360">1360</a></span><span class="t">    <span class="key">def</span> <span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1361" href="#t1361">1361</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">as_dict</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_dict</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1362" href="#t1362">1362</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__json__</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_json</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_json</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1363" href="#t1363">1363</a></span><span class="t">        <span class="com"># self.as_yaml = self._as_yaml  # type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1364" href="#t1364">1364</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">as_xml</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_xml</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1365" href="#t1365">1365</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1366" href="#t1366">1366</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1367" href="#t1367">1367</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1368" href="#t1368">1368</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">delete_record</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_delete_record</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1369" href="#t1369">1369</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update_record</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update_record</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1370" href="#t1370">1370</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1371" href="#t1371">1371</a></span><span class="t">    <span class="key">def</span> <span class="nam">__new__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1372" href="#t1372">1372</a></span><span class="t">        <span class="nam">cls</span><span class="op">,</span> <span class="nam">row_or_id</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">[</span><span class="nam">Row</span><span class="op">,</span> <span class="nam">Query</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Set</span><span class="op">,</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="str">"TypedTable"</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">filters</span><span class="op">:</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1373" href="#t1373">1373</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedTable"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1374" href="#t1374">1374</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1375" href="#t1375">1375</a></span><span class="t"><span class="str">        Create a Typed Rows model instance from an existing row, ID or query.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1376" href="#t1376">1376</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1377" href="#t1377">1377</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1378" href="#t1378">1378</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1379" href="#t1379">1379</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1380" href="#t1380">1380</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">_row</span> <span class="op">=</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1381" href="#t1381">1381</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1382" href="#t1382">1382</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1383" href="#t1383">1383</a></span><span class="t">        <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1377" href="#t1377">1377</a></span><span class="t"><span class="str">        Examples:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1378" href="#t1378">1378</a></span><span class="t"><span class="str">            MyTable(1)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1379" href="#t1379">1379</a></span><span class="t"><span class="str">            MyTable(id=1)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1380" href="#t1380">1380</a></span><span class="t"><span class="str">            MyTable(MyTable.id == 1)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1381" href="#t1381">1381</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1382" href="#t1382">1382</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1383" href="#t1383">1383</a></span><span class="t">        <span class="nam">inst</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__new__</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1384" href="#t1384">1384</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1385" href="#t1385">1385</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1386" href="#t1386">1386</a></span><span class="t">    <span class="key">def</span> <span class="nam">__on_define__</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1387" href="#t1387">1387</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1388" href="#t1388">1388</a></span><span class="t"><span class="str">        Method that can be implemented by tables to do an action after db.define is completed.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1389" href="#t1389">1389</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1390" href="#t1390">1390</a></span><span class="t"><span class="str">        This can be useful if you need to add something like requires=IS_NOT_IN_DB(db, "table.field"),</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1391" href="#t1391">1391</a></span><span class="t"><span class="str">        where you need a reference to the current database, which may not exist yet when defining the model.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1392" href="#t1392">1392</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1393" href="#t1393">1393</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1394" href="#t1394">1394</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1395" href="#t1395">1395</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1396" href="#t1396">1396</a></span><span class="t"><span class="str">        Allows looping through the columns.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1397" href="#t1397">1397</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1398" href="#t1398">1398</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1399" href="#t1399">1399</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">iter</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1385" href="#t1385">1385</a></span><span class="t">        <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1386" href="#t1386">1386</a></span><span class="t">            <span class="com"># existing typed table instance!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1387" href="#t1387">1387</a></span><span class="t">            <span class="key">return</span> <span class="nam">row_or_id</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1388" href="#t1388">1388</a></span><span class="t">        <span class="key">elif</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1389" href="#t1389">1389</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">row_or_id</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1390" href="#t1390">1390</a></span><span class="t">        <span class="key">elif</span> <span class="nam">row_or_id</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1391" href="#t1391">1391</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">table</span><span class="op">(</span><span class="nam">row_or_id</span><span class="op">,</span> <span class="op">**</span><span class="nam">filters</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1392" href="#t1392">1392</a></span><span class="t">        <span class="key">elif</span> <span class="nam">filters</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1393" href="#t1393">1393</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">table</span><span class="op">(</span><span class="op">**</span><span class="nam">filters</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1394" href="#t1394">1394</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1395" href="#t1395">1395</a></span><span class="t">            <span class="com"># dummy object</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1396" href="#t1396">1396</a></span><span class="t">            <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1397" href="#t1397">1397</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1398" href="#t1398">1398</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1399" href="#t1399">1399</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1400" href="#t1400">1400</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1401" href="#t1401">1401</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1402" href="#t1402">1402</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1403" href="#t1403">1403</a></span><span class="t"><span class="str">        Allows dictionary notation to get columns.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1404" href="#t1404">1404</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1405" href="#t1405">1405</a></span><span class="t">        <span class="key">if</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1406" href="#t1406">1406</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1407" href="#t1407">1407</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1408" href="#t1408">1408</a></span><span class="t">        <span class="com"># fallback to lookup in row</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1409" href="#t1409">1409</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1410" href="#t1410">1410</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">[</span><span class="nam">item</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1411" href="#t1411">1411</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1412" href="#t1412">1412</a></span><span class="t">        <span class="com"># nothing found!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1413" href="#t1413">1413</a></span><span class="t">        <span class="key">raise</span> <span class="nam">KeyError</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1414" href="#t1414">1414</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1415" href="#t1415">1415</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getattr__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1416" href="#t1416">1416</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1417" href="#t1417">1417</a></span><span class="t"><span class="str">        Allows dot notation to get columns.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1418" href="#t1418">1418</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1419" href="#t1419">1419</a></span><span class="t">        <span class="key">if</span> <span class="nam">value</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1420" href="#t1420">1420</a></span><span class="t">            <span class="key">return</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1421" href="#t1421">1421</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1422" href="#t1422">1422</a></span><span class="t">        <span class="key">raise</span> <span class="nam">AttributeError</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1401" href="#t1401">1401</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">_row</span> <span class="op">=</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1402" href="#t1402">1402</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1403" href="#t1403">1403</a></span><span class="t">        <span class="nam">inst</span><span class="op">.</span><span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1404" href="#t1404">1404</a></span><span class="t">        <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1405" href="#t1405">1405</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1406" href="#t1406">1406</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1407" href="#t1407">1407</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1408" href="#t1408">1408</a></span><span class="t"><span class="str">        Allows looping through the columns.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1409" href="#t1409">1409</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1410" href="#t1410">1410</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1411" href="#t1411">1411</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">iter</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1412" href="#t1412">1412</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1413" href="#t1413">1413</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1414" href="#t1414">1414</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1415" href="#t1415">1415</a></span><span class="t"><span class="str">        Allows dictionary notation to get columns.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1416" href="#t1416">1416</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1417" href="#t1417">1417</a></span><span class="t">        <span class="key">if</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1418" href="#t1418">1418</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1419" href="#t1419">1419</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1420" href="#t1420">1420</a></span><span class="t">        <span class="com"># fallback to lookup in row</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1421" href="#t1421">1421</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1422" href="#t1422">1422</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">[</span><span class="nam">item</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1423" href="#t1423">1423</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1424" href="#t1424">1424</a></span><span class="t">    <span class="key">def</span> <span class="nam">get</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">Any</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1425" href="#t1425">1425</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1426" href="#t1426">1426</a></span><span class="t"><span class="str">        Try to get a column from this instance, else return default.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1427" href="#t1427">1427</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1428" href="#t1428">1428</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1429" href="#t1429">1429</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__getitem__</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1430" href="#t1430">1430</a></span><span class="t">        <span class="key">except</span> <span class="nam">KeyError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1431" href="#t1431">1431</a></span><span class="t">            <span class="key">return</span> <span class="nam">default</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1432" href="#t1432">1432</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1433" href="#t1433">1433</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1434" href="#t1434">1434</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1435" href="#t1435">1435</a></span><span class="t"><span class="str">        Data can both be updated via dot and dict notation.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1436" href="#t1436">1436</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1437" href="#t1437">1437</a></span><span class="t">        <span class="key">return</span> <span class="nam">setattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">value</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1438" href="#t1438">1438</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1439" href="#t1439">1439</a></span><span class="t">    <span class="key">def</span> <span class="nam">__int__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1440" href="#t1440">1440</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1441" href="#t1441">1441</a></span><span class="t"><span class="str">        Calling int on a model instance will return its id.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1442" href="#t1442">1442</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1443" href="#t1443">1443</a></span><span class="t">        <span class="key">return</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"id"</span><span class="op">,</span> <span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1424" href="#t1424">1424</a></span><span class="t">        <span class="com"># nothing found!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1425" href="#t1425">1425</a></span><span class="t">        <span class="key">raise</span> <span class="nam">KeyError</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1426" href="#t1426">1426</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1427" href="#t1427">1427</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getattr__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1428" href="#t1428">1428</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1429" href="#t1429">1429</a></span><span class="t"><span class="str">        Allows dot notation to get columns.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1430" href="#t1430">1430</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1431" href="#t1431">1431</a></span><span class="t">        <span class="key">if</span> <span class="nam">value</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1432" href="#t1432">1432</a></span><span class="t">            <span class="key">return</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1433" href="#t1433">1433</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1434" href="#t1434">1434</a></span><span class="t">        <span class="key">raise</span> <span class="nam">AttributeError</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1435" href="#t1435">1435</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1436" href="#t1436">1436</a></span><span class="t">    <span class="key">def</span> <span class="nam">get</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">Any</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1437" href="#t1437">1437</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1438" href="#t1438">1438</a></span><span class="t"><span class="str">        Try to get a column from this instance, else return default.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1439" href="#t1439">1439</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1440" href="#t1440">1440</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1441" href="#t1441">1441</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__getitem__</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1442" href="#t1442">1442</a></span><span class="t">        <span class="key">except</span> <span class="nam">KeyError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1443" href="#t1443">1443</a></span><span class="t">            <span class="key">return</span> <span class="nam">default</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1444" href="#t1444">1444</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1445" href="#t1445">1445</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1445" href="#t1445">1445</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1446" href="#t1446">1446</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1447" href="#t1447">1447</a></span><span class="t"><span class="str">        If the instance has an underlying row with data, it is truthy.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1447" href="#t1447">1447</a></span><span class="t"><span class="str">        Data can both be updated via dot and dict notation.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1448" href="#t1448">1448</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1449" href="#t1449">1449</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_row"</span><span class="op">,</span> <span class="key">False</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1449" href="#t1449">1449</a></span><span class="t">        <span class="key">return</span> <span class="nam">setattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">value</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1450" href="#t1450">1450</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1451" href="#t1451">1451</a></span><span class="t">    <span class="key">def</span> <span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1452" href="#t1452">1452</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_row"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1453" href="#t1453">1453</a></span><span class="t">            <span class="key">raise</span> <span class="nam">EnvironmentError</span><span class="op">(</span><span class="str">"Trying to access non-existant row. Maybe it was deleted or not yet initialized?"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1454" href="#t1454">1454</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1455" href="#t1455">1455</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1456" href="#t1456">1456</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1457" href="#t1457">1457</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1458" href="#t1458">1458</a></span><span class="t"><span class="str">        String representation of the model instance.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1459" href="#t1459">1459</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1460" href="#t1460">1460</a></span><span class="t">        <span class="nam">model_name</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">.</span><span class="nam">__name__</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1461" href="#t1461">1461</a></span><span class="t">        <span class="nam">model_data</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1451" href="#t1451">1451</a></span><span class="t">    <span class="key">def</span> <span class="nam">__int__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1452" href="#t1452">1452</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1453" href="#t1453">1453</a></span><span class="t"><span class="str">        Calling int on a model instance will return its id.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1454" href="#t1454">1454</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1455" href="#t1455">1455</a></span><span class="t">        <span class="key">return</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"id"</span><span class="op">,</span> <span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1456" href="#t1456">1456</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1457" href="#t1457">1457</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1458" href="#t1458">1458</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1459" href="#t1459">1459</a></span><span class="t"><span class="str">        If the instance has an underlying row with data, it is truthy.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1460" href="#t1460">1460</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1461" href="#t1461">1461</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_row"</span><span class="op">,</span> <span class="key">False</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1462" href="#t1462">1462</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1463" href="#t1463">1463</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1464" href="#t1464">1464</a></span><span class="t">            <span class="nam">model_data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1465" href="#t1465">1465</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1466" href="#t1466">1466</a></span><span class="t">        <span class="nam">details</span> <span class="op">=</span> <span class="nam">model_name</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1467" href="#t1467">1467</a></span><span class="t">        <span class="nam">details</span> <span class="op">+=</span> <span class="str">f"({model_data})"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1468" href="#t1468">1468</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1469" href="#t1469">1469</a></span><span class="t">        <span class="key">if</span> <span class="nam">relationships</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1470" href="#t1470">1470</a></span><span class="t">            <span class="nam">details</span> <span class="op">+=</span> <span class="str">f" + {relationships}"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1471" href="#t1471">1471</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1472" href="#t1472">1472</a></span><span class="t">        <span class="key">return</span> <span class="str">f"&lt;{details}>"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1473" href="#t1473">1473</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1474" href="#t1474">1474</a></span><span class="t">    <span class="com"># serialization</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1475" href="#t1475">1475</a></span><span class="t">    <span class="com"># underscore variants work for class instances (set up by _setup_instance_methods)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1476" href="#t1476">1476</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1477" href="#t1477">1477</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1478" href="#t1478">1478</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">flat</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1479" href="#t1479">1479</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1480" href="#t1480">1480</a></span><span class="t"><span class="str">        Dump the object to a plain dict.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1481" href="#t1481">1481</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1482" href="#t1482">1482</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1483" href="#t1483">1483</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1484" href="#t1484">1484</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_dict)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1485" href="#t1485">1485</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1486" href="#t1486">1486</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1487" href="#t1487">1487</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">flat</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1488" href="#t1488">1488</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">AnyDict</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1489" href="#t1489">1489</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1490" href="#t1490">1490</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1491" href="#t1491">1491</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_json</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1492" href="#t1492">1492</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1493" href="#t1493">1493</a></span><span class="t"><span class="str">        Dump the object to json.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1494" href="#t1494">1494</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1495" href="#t1495">1495</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1496" href="#t1496">1496</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1497" href="#t1497">1497</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_json)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1498" href="#t1498">1498</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1499" href="#t1499">1499</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">=</span><span class="nam">sanitize</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1500" href="#t1500">1500</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1463" href="#t1463">1463</a></span><span class="t">    <span class="key">def</span> <span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1464" href="#t1464">1464</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_row"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1465" href="#t1465">1465</a></span><span class="t">            <span class="key">raise</span> <span class="nam">EnvironmentError</span><span class="op">(</span><span class="str">"Trying to access non-existant row. Maybe it was deleted or not yet initialized?"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1466" href="#t1466">1466</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1467" href="#t1467">1467</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1468" href="#t1468">1468</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1469" href="#t1469">1469</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1470" href="#t1470">1470</a></span><span class="t"><span class="str">        String representation of the model instance.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1471" href="#t1471">1471</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1472" href="#t1472">1472</a></span><span class="t">        <span class="nam">model_name</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">.</span><span class="nam">__name__</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1473" href="#t1473">1473</a></span><span class="t">        <span class="nam">model_data</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1474" href="#t1474">1474</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1475" href="#t1475">1475</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1476" href="#t1476">1476</a></span><span class="t">            <span class="nam">model_data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1477" href="#t1477">1477</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1478" href="#t1478">1478</a></span><span class="t">        <span class="nam">details</span> <span class="op">=</span> <span class="nam">model_name</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1479" href="#t1479">1479</a></span><span class="t">        <span class="nam">details</span> <span class="op">+=</span> <span class="str">f"({model_data})"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1480" href="#t1480">1480</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1481" href="#t1481">1481</a></span><span class="t">        <span class="key">if</span> <span class="nam">relationships</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1482" href="#t1482">1482</a></span><span class="t">            <span class="nam">details</span> <span class="op">+=</span> <span class="str">f" + {relationships}"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1483" href="#t1483">1483</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1484" href="#t1484">1484</a></span><span class="t">        <span class="key">return</span> <span class="str">f"&lt;{details}>"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1485" href="#t1485">1485</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1486" href="#t1486">1486</a></span><span class="t">    <span class="com"># serialization</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1487" href="#t1487">1487</a></span><span class="t">    <span class="com"># underscore variants work for class instances (set up by _setup_instance_methods)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1488" href="#t1488">1488</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1489" href="#t1489">1489</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1490" href="#t1490">1490</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">flat</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1491" href="#t1491">1491</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1492" href="#t1492">1492</a></span><span class="t"><span class="str">        Dump the object to a plain dict.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1493" href="#t1493">1493</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1494" href="#t1494">1494</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1495" href="#t1495">1495</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1496" href="#t1496">1496</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_dict)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1497" href="#t1497">1497</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1498" href="#t1498">1498</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1499" href="#t1499">1499</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">flat</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1500" href="#t1500">1500</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">AnyDict</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1501" href="#t1501">1501</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t1502" href="#t1502">1502</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1503" href="#t1503">1503</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_xml</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1504" href="#t1504">1504</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1505" href="#t1505">1505</a></span><span class="t"><span class="str">        Dump the object to xml.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1503" href="#t1503">1503</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_json</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1504" href="#t1504">1504</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1505" href="#t1505">1505</a></span><span class="t"><span class="str">        Dump the object to json.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1506" href="#t1506">1506</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1507" href="#t1507">1507</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1508" href="#t1508">1508</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1509" href="#t1509">1509</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_xml)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1509" href="#t1509">1509</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_json)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1510" href="#t1510">1510</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1511" href="#t1511">1511</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1512" href="#t1512">1512</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_xml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1511" href="#t1511">1511</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">=</span><span class="nam">sanitize</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1512" href="#t1512">1512</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1513" href="#t1513">1513</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t1514" href="#t1514">1514</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1515" href="#t1515">1515</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_yaml</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1516" href="#t1516">1516</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1517" href="#t1517">1517</a></span><span class="t"><span class="str">        Dump the object to yaml.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1515" href="#t1515">1515</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_xml</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1516" href="#t1516">1516</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1517" href="#t1517">1517</a></span><span class="t"><span class="str">        Dump the object to xml.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1518" href="#t1518">1518</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1519" href="#t1519">1519</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1520" href="#t1520">1520</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1521" href="#t1521">1521</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_yaml)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1521" href="#t1521">1521</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_xml)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1522" href="#t1522">1522</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1523" href="#t1523">1523</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1524" href="#t1524">1524</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_yaml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1523" href="#t1523">1523</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1524" href="#t1524">1524</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_xml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1525" href="#t1525">1525</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1526" href="#t1526">1526</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1527" href="#t1527">1527</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">|</span> <span class="nam">type</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1528" href="#t1528">1528</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1529" href="#t1529">1529</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1526" href="#t1526">1526</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1527" href="#t1527">1527</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_yaml</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1528" href="#t1528">1528</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1529" href="#t1529">1529</a></span><span class="t"><span class="str">        Dump the object to yaml.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1530" href="#t1530">1530</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1531" href="#t1531">1531</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">datetime_to_str</span><span class="op">=</span><span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">=</span><span class="nam">custom_types</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1532" href="#t1532">1532</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1533" href="#t1533">1533</a></span><span class="t">        <span class="key">def</span> <span class="nam">asdict_method</span><span class="op">(</span><span class="nam">obj</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1534" href="#t1534">1534</a></span><span class="t">            <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">obj</span><span class="op">,</span> <span class="str">"_as_dict"</span><span class="op">)</span><span class="op">:</span>  <span class="com"># typedal</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1535" href="#t1535">1535</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">_as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1536" href="#t1536">1536</a></span><span class="t">            <span class="key">elif</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">obj</span><span class="op">,</span> <span class="str">"as_dict"</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pydal</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1537" href="#t1537">1537</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1538" href="#t1538">1538</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>  <span class="com"># something else??</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1539" href="#t1539">1539</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">__dict__</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1540" href="#t1540">1540</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1541" href="#t1541">1541</a></span><span class="t">        <span class="key">if</span> <span class="nam">_with</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1542" href="#t1542">1542</a></span><span class="t">            <span class="key">for</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">_with</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1543" href="#t1543">1543</a></span><span class="t">                <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">relationship</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1531" href="#t1531">1531</a></span><span class="t"><span class="str">        Can be used as both a class or instance method:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1532" href="#t1532">1532</a></span><span class="t"><span class="str">        - dumps the table info if it's a class</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1533" href="#t1533">1533</a></span><span class="t"><span class="str">        - dumps the row info if it's an instance (see _as_yaml)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1534" href="#t1534">1534</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1535" href="#t1535">1535</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">cls</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1536" href="#t1536">1536</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">as_yaml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1537" href="#t1537">1537</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1538" href="#t1538">1538</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1539" href="#t1539">1539</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">|</span> <span class="nam">type</span> <span class="op">|</span> <span class="key">None</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1540" href="#t1540">1540</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1541" href="#t1541">1541</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1542" href="#t1542">1542</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1543" href="#t1543">1543</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="nam">datetime_to_str</span><span class="op">=</span><span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">=</span><span class="nam">custom_types</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1544" href="#t1544">1544</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1545" href="#t1545">1545</a></span><span class="t">                <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1546" href="#t1546">1546</a></span><span class="t">                    <span class="nam">data</span> <span class="op">=</span> <span class="op">[</span><span class="nam">asdict_method</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">data</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1547" href="#t1547">1547</a></span><span class="t">                <span class="key">elif</span> <span class="nam">data</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1548" href="#t1548">1548</a></span><span class="t">                    <span class="nam">data</span> <span class="op">=</span> <span class="nam">asdict_method</span><span class="op">(</span><span class="nam">data</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1549" href="#t1549">1549</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1550" href="#t1550">1550</a></span><span class="t">                <span class="nam">result</span><span class="op">[</span><span class="nam">relationship</span><span class="op">]</span> <span class="op">=</span> <span class="nam">data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1551" href="#t1551">1551</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1552" href="#t1552">1552</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">AnyDict</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1553" href="#t1553">1553</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1554" href="#t1554">1554</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_json</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1555" href="#t1555">1555</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1556" href="#t1556">1556</a></span><span class="t">        <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1557" href="#t1557">1557</a></span><span class="t">        <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1558" href="#t1558">1558</a></span><span class="t">        <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1559" href="#t1559">1559</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1560" href="#t1560">1560</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1561" href="#t1561">1561</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1562" href="#t1562">1562</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1563" href="#t1563">1563</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_xml</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1564" href="#t1564">1564</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1565" href="#t1565">1565</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_xml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1566" href="#t1566">1566</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1567" href="#t1567">1567</a></span><span class="t">    <span class="com"># def _as_yaml(self, sanitize: bool = True) -> str:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1568" href="#t1568">1568</a></span><span class="t">    <span class="com">#     row = self._ensure_matching_row()</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1569" href="#t1569">1569</a></span><span class="t">    <span class="com">#     return typing.cast(str, row.as_yaml(sanitize))</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1570" href="#t1570">1570</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1571" href="#t1571">1571</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setattr__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1572" href="#t1572">1572</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1573" href="#t1573">1573</a></span><span class="t"><span class="str">        When setting a property on a Typed Table model instance, also update the underlying row.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1574" href="#t1574">1574</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1575" href="#t1575">1575</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="key">and</span> <span class="nam">key</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">__dict__</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">callable</span><span class="op">(</span><span class="nam">value</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1576" href="#t1576">1576</a></span><span class="t">            <span class="com"># enables `row.key = value; row.update_record()`</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1577" href="#t1577">1577</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">[</span><span class="nam">key</span><span class="op">]</span> <span class="op">=</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1545" href="#t1545">1545</a></span><span class="t">        <span class="key">def</span> <span class="nam">asdict_method</span><span class="op">(</span><span class="nam">obj</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1546" href="#t1546">1546</a></span><span class="t">            <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">obj</span><span class="op">,</span> <span class="str">"_as_dict"</span><span class="op">)</span><span class="op">:</span>  <span class="com"># typedal</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1547" href="#t1547">1547</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">_as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1548" href="#t1548">1548</a></span><span class="t">            <span class="key">elif</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">obj</span><span class="op">,</span> <span class="str">"as_dict"</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pydal</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1549" href="#t1549">1549</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1550" href="#t1550">1550</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>  <span class="com"># something else??</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1551" href="#t1551">1551</a></span><span class="t">                <span class="key">return</span> <span class="nam">obj</span><span class="op">.</span><span class="nam">__dict__</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1552" href="#t1552">1552</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1553" href="#t1553">1553</a></span><span class="t">        <span class="key">if</span> <span class="nam">_with</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1554" href="#t1554">1554</a></span><span class="t">            <span class="key">for</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">_with</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1555" href="#t1555">1555</a></span><span class="t">                <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">relationship</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1556" href="#t1556">1556</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1557" href="#t1557">1557</a></span><span class="t">                <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1558" href="#t1558">1558</a></span><span class="t">                    <span class="nam">data</span> <span class="op">=</span> <span class="op">[</span><span class="nam">asdict_method</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">data</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1559" href="#t1559">1559</a></span><span class="t">                <span class="key">elif</span> <span class="nam">data</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1560" href="#t1560">1560</a></span><span class="t">                    <span class="nam">data</span> <span class="op">=</span> <span class="nam">asdict_method</span><span class="op">(</span><span class="nam">data</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1561" href="#t1561">1561</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1562" href="#t1562">1562</a></span><span class="t">                <span class="nam">result</span><span class="op">[</span><span class="nam">relationship</span><span class="op">]</span> <span class="op">=</span> <span class="nam">data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1563" href="#t1563">1563</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1564" href="#t1564">1564</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">AnyDict</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1565" href="#t1565">1565</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1566" href="#t1566">1566</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_json</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1567" href="#t1567">1567</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1568" href="#t1568">1568</a></span><span class="t">        <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1569" href="#t1569">1569</a></span><span class="t">        <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1570" href="#t1570">1570</a></span><span class="t">        <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1571" href="#t1571">1571</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1572" href="#t1572">1572</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1573" href="#t1573">1573</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1574" href="#t1574">1574</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1575" href="#t1575">1575</a></span><span class="t">    <span class="key">def</span> <span class="nam">_as_xml</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">sanitize</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1576" href="#t1576">1576</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1577" href="#t1577">1577</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_xml</span><span class="op">(</span><span class="nam">sanitize</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1578" href="#t1578">1578</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1579" href="#t1579">1579</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__setattr__</span><span class="op">(</span><span class="nam">key</span><span class="op">,</span> <span class="nam">value</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1580" href="#t1580">1580</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1581" href="#t1581">1581</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1582" href="#t1582">1582</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1583" href="#t1583">1583</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1584" href="#t1584">1584</a></span><span class="t"><span class="str">        Update one record.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1585" href="#t1585">1585</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1586" href="#t1586">1586</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1587" href="#t1587">1587</a></span><span class="t"><span class="str">            MyTable.update(MyTable.id == 1, name="NewName") -> MyTable</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1588" href="#t1588">1588</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1589" href="#t1589">1589</a></span><span class="t">        <span class="com"># todo: update multiple?</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1590" href="#t1590">1590</a></span><span class="t">        <span class="key">if</span> <span class="nam">record</span> <span class="op">:=</span> <span class="nam">cls</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1591" href="#t1591">1591</a></span><span class="t">            <span class="key">return</span> <span class="nam">record</span><span class="op">.</span><span class="nam">update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1592" href="#t1592">1592</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1593" href="#t1593">1593</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1594" href="#t1594">1594</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1595" href="#t1595">1595</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1596" href="#t1596">1596</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1597" href="#t1597">1597</a></span><span class="t">        <span class="nam">row</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1598" href="#t1598">1598</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1599" href="#t1599">1599</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1600" href="#t1600">1600</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1601" href="#t1601">1601</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update_record</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1602" href="#t1602">1602</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1603" href="#t1603">1603</a></span><span class="t">        <span class="nam">new_row</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1604" href="#t1604">1604</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">new_row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1605" href="#t1605">1605</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1579" href="#t1579">1579</a></span><span class="t">    <span class="com"># def _as_yaml(self, sanitize: bool = True) -> str:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1580" href="#t1580">1580</a></span><span class="t">    <span class="com">#     row = self._ensure_matching_row()</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1581" href="#t1581">1581</a></span><span class="t">    <span class="com">#     return typing.cast(str, row.as_yaml(sanitize))</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1582" href="#t1582">1582</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1583" href="#t1583">1583</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setattr__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">value</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1584" href="#t1584">1584</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1585" href="#t1585">1585</a></span><span class="t"><span class="str">        When setting a property on a Typed Table model instance, also update the underlying row.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1586" href="#t1586">1586</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1587" href="#t1587">1587</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="key">and</span> <span class="nam">key</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">__dict__</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">callable</span><span class="op">(</span><span class="nam">value</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1588" href="#t1588">1588</a></span><span class="t">            <span class="com"># enables `row.key = value; row.update_record()`</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1589" href="#t1589">1589</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">[</span><span class="nam">key</span><span class="op">]</span> <span class="op">=</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1590" href="#t1590">1590</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1591" href="#t1591">1591</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__setattr__</span><span class="op">(</span><span class="nam">key</span><span class="op">,</span> <span class="nam">value</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1592" href="#t1592">1592</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1593" href="#t1593">1593</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1594" href="#t1594">1594</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1595" href="#t1595">1595</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1596" href="#t1596">1596</a></span><span class="t"><span class="str">        Update one record.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1597" href="#t1597">1597</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1598" href="#t1598">1598</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1599" href="#t1599">1599</a></span><span class="t"><span class="str">            MyTable.update(MyTable.id == 1, name="NewName") -> MyTable</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1600" href="#t1600">1600</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1601" href="#t1601">1601</a></span><span class="t">        <span class="com"># todo: update multiple?</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1602" href="#t1602">1602</a></span><span class="t">        <span class="key">if</span> <span class="nam">record</span> <span class="op">:=</span> <span class="nam">cls</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1603" href="#t1603">1603</a></span><span class="t">            <span class="key">return</span> <span class="nam">record</span><span class="op">.</span><span class="nam">update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1604" href="#t1604">1604</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1605" href="#t1605">1605</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1606" href="#t1606">1606</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1607" href="#t1607">1607</a></span><span class="t">    <span class="key">def</span> <span class="nam">update_record</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1608" href="#t1608">1608</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1609" href="#t1609">1609</a></span><span class="t"><span class="str">        Here as a placeholder for _update_record.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1610" href="#t1610">1610</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1611" href="#t1611">1611</a></span><span class="t"><span class="str">        Will be replaced on instance creation!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1612" href="#t1612">1612</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1613" href="#t1613">1613</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1614" href="#t1614">1614</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1615" href="#t1615">1615</a></span><span class="t">    <span class="key">def</span> <span class="nam">_delete_record</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1616" href="#t1616">1616</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1617" href="#t1617">1617</a></span><span class="t"><span class="str">        Actual logic in `pydal.helpers.classes.RecordDeleter`.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1618" href="#t1618">1618</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1619" href="#t1619">1619</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1620" href="#t1620">1620</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">delete_record</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1621" href="#t1621">1621</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>  <span class="com"># empty self, since row is no more.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1622" href="#t1622">1622</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="op">=</span> <span class="key">None</span>  <span class="com"># just to be sure</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1623" href="#t1623">1623</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1624" href="#t1624">1624</a></span><span class="t">        <span class="com"># ^ instance methods might've been deleted by emptying dict,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1625" href="#t1625">1625</a></span><span class="t">        <span class="com"># but we still want .as_dict to show an error, not the table's as_dict.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1626" href="#t1626">1626</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">int</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1627" href="#t1627">1627</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1628" href="#t1628">1628</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete_record</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1629" href="#t1629">1629</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1630" href="#t1630">1630</a></span><span class="t"><span class="str">        Here as a placeholder for _delete_record.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1631" href="#t1631">1631</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1632" href="#t1632">1632</a></span><span class="t"><span class="str">        Will be replaced on instance creation!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1633" href="#t1633">1633</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t1634" href="#t1634">1634</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_delete_record</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1635" href="#t1635">1635</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1636" href="#t1636">1636</a></span><span class="t">    <span class="com"># __del__ is also called on the end of a scope so don't remove records on every del!!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1637" href="#t1637">1637</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1638" href="#t1638">1638</a></span><span class="t">    <span class="com"># pickling:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1607" href="#t1607">1607</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1608" href="#t1608">1608</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1609" href="#t1609">1609</a></span><span class="t">        <span class="nam">row</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1610" href="#t1610">1610</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1611" href="#t1611">1611</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1612" href="#t1612">1612</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1613" href="#t1613">1613</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update_record</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1614" href="#t1614">1614</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1615" href="#t1615">1615</a></span><span class="t">        <span class="nam">new_row</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1616" href="#t1616">1616</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">new_row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1617" href="#t1617">1617</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1618" href="#t1618">1618</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1619" href="#t1619">1619</a></span><span class="t">    <span class="key">def</span> <span class="nam">update_record</span><span class="op">(</span><span class="nam">self</span><span class="op">:</span> <span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1620" href="#t1620">1620</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1621" href="#t1621">1621</a></span><span class="t"><span class="str">        Here as a placeholder for _update_record.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1622" href="#t1622">1622</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1623" href="#t1623">1623</a></span><span class="t"><span class="str">        Will be replaced on instance creation!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1624" href="#t1624">1624</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1625" href="#t1625">1625</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_update_record</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1626" href="#t1626">1626</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1627" href="#t1627">1627</a></span><span class="t">    <span class="key">def</span> <span class="nam">_delete_record</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1628" href="#t1628">1628</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1629" href="#t1629">1629</a></span><span class="t"><span class="str">        Actual logic in `pydal.helpers.classes.RecordDeleter`.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1630" href="#t1630">1630</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1631" href="#t1631">1631</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1632" href="#t1632">1632</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">delete_record</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1633" href="#t1633">1633</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>  <span class="com"># empty self, since row is no more.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1634" href="#t1634">1634</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="op">=</span> <span class="key">None</span>  <span class="com"># just to be sure</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1635" href="#t1635">1635</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">_setup_instance_methods</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1636" href="#t1636">1636</a></span><span class="t">        <span class="com"># ^ instance methods might've been deleted by emptying dict,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1637" href="#t1637">1637</a></span><span class="t">        <span class="com"># but we still want .as_dict to show an error, not the table's as_dict.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1638" href="#t1638">1638</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">int</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1639" href="#t1639">1639</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1640" href="#t1640">1640</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1641" href="#t1641">1641</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1642" href="#t1642">1642</a></span><span class="t"><span class="str">        State to save when pickling.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1640" href="#t1640">1640</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete_record</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1641" href="#t1641">1641</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1642" href="#t1642">1642</a></span><span class="t"><span class="str">        Here as a placeholder for _delete_record.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1643" href="#t1643">1643</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1644" href="#t1644">1644</a></span><span class="t"><span class="str">        Prevents db connection from being pickled.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1645" href="#t1645">1645</a></span><span class="t"><span class="str">        Similar to as_dict but without changing the data of the relationships (dill does that recursively)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1646" href="#t1646">1646</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1647" href="#t1647">1647</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1648" href="#t1648">1648</a></span><span class="t">        <span class="nam">result</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1644" href="#t1644">1644</a></span><span class="t"><span class="str">        Will be replaced on instance creation!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1645" href="#t1645">1645</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t1646" href="#t1646">1646</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_delete_record</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1647" href="#t1647">1647</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1648" href="#t1648">1648</a></span><span class="t">    <span class="com"># __del__ is also called on the end of a scope so don't remove records on every del!!</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1649" href="#t1649">1649</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1650" href="#t1650">1650</a></span><span class="t">        <span class="key">if</span> <span class="nam">_with</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1651" href="#t1651">1651</a></span><span class="t">            <span class="nam">result</span><span class="op">[</span><span class="str">"_with"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">_with</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1652" href="#t1652">1652</a></span><span class="t">            <span class="key">for</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">_with</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1653" href="#t1653">1653</a></span><span class="t">                <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">relationship</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1654" href="#t1654">1654</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1655" href="#t1655">1655</a></span><span class="t">                <span class="nam">result</span><span class="op">[</span><span class="nam">relationship</span><span class="op">]</span> <span class="op">=</span> <span class="nam">data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1656" href="#t1656">1656</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1657" href="#t1657">1657</a></span><span class="t">        <span class="nam">result</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="op">)</span> <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="key">else</span> <span class="str">""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1658" href="#t1658">1658</a></span><span class="t">        <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1659" href="#t1659">1659</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1660" href="#t1660">1660</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">state</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1661" href="#t1661">1661</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1662" href="#t1662">1662</a></span><span class="t"><span class="str">        Used by dill when loading from a bytestring.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1663" href="#t1663">1663</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1664" href="#t1664">1664</a></span><span class="t">        <span class="com"># as_dict also includes table info, so dump as json to only get the actual row data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1665" href="#t1665">1665</a></span><span class="t">        <span class="com"># then create a new (more empty) row object:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1666" href="#t1666">1666</a></span><span class="t">        <span class="nam">state</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">Row</span><span class="op">(</span><span class="nam">json</span><span class="op">.</span><span class="nam">loads</span><span class="op">(</span><span class="nam">state</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1667" href="#t1667">1667</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span> <span class="op">|=</span> <span class="nam">state</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1650" href="#t1650">1650</a></span><span class="t">    <span class="com"># pickling:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1651" href="#t1651">1651</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1652" href="#t1652">1652</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1653" href="#t1653">1653</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1654" href="#t1654">1654</a></span><span class="t"><span class="str">        State to save when pickling.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1655" href="#t1655">1655</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1656" href="#t1656">1656</a></span><span class="t"><span class="str">        Prevents db connection from being pickled.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1657" href="#t1657">1657</a></span><span class="t"><span class="str">        Similar to as_dict but without changing the data of the relationships (dill does that recursively)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1658" href="#t1658">1658</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1659" href="#t1659">1659</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_ensure_matching_row</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1660" href="#t1660">1660</a></span><span class="t">        <span class="nam">result</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">=</span> <span class="nam">row</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1661" href="#t1661">1661</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1662" href="#t1662">1662</a></span><span class="t">        <span class="key">if</span> <span class="nam">_with</span> <span class="op">:=</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="str">"_with"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1663" href="#t1663">1663</a></span><span class="t">            <span class="nam">result</span><span class="op">[</span><span class="str">"_with"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">_with</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1664" href="#t1664">1664</a></span><span class="t">            <span class="key">for</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">_with</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1665" href="#t1665">1665</a></span><span class="t">                <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">relationship</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1666" href="#t1666">1666</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1667" href="#t1667">1667</a></span><span class="t">                <span class="nam">result</span><span class="op">[</span><span class="nam">relationship</span><span class="op">]</span> <span class="op">=</span> <span class="nam">data</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1668" href="#t1668">1668</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1669" href="#t1669">1669</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1670" href="#t1670">1670</a></span><span class="t"><span class="com"># backwards compat:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1671" href="#t1671">1671</a></span><span class="t"><span class="nam">TypedRow</span> <span class="op">=</span> <span class="nam">TypedTable</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1672" href="#t1672">1672</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1673" href="#t1673">1673</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1674" href="#t1674">1674</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedRows</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Collection</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Rows</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1675" href="#t1675">1675</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1676" href="#t1676">1676</a></span><span class="t"><span class="str">    Slighly enhaned and typed functionality on top of pydal Rows (the result of a select).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1677" href="#t1677">1677</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1678" href="#t1678">1678</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1679" href="#t1679">1679</a></span><span class="t">    <span class="nam">records</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1680" href="#t1680">1680</a></span><span class="t">    <span class="com"># _rows: Rows</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1681" href="#t1681">1681</a></span><span class="t">    <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1682" href="#t1682">1682</a></span><span class="t">    <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1683" href="#t1683">1683</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1684" href="#t1684">1684</a></span><span class="t">    <span class="com"># pseudo-properties: actually stored in _rows</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1685" href="#t1685">1685</a></span><span class="t">    <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1686" href="#t1686">1686</a></span><span class="t">    <span class="nam">colnames</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1687" href="#t1687">1687</a></span><span class="t">    <span class="nam">fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Field</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1688" href="#t1688">1688</a></span><span class="t">    <span class="nam">colnames_fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Field</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1689" href="#t1689">1689</a></span><span class="t">    <span class="nam">response</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">tuple</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="op">...</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1669" href="#t1669">1669</a></span><span class="t">        <span class="nam">result</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="op">)</span> <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_row</span> <span class="key">else</span> <span class="str">""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1670" href="#t1670">1670</a></span><span class="t">        <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1671" href="#t1671">1671</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1672" href="#t1672">1672</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">state</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1673" href="#t1673">1673</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1674" href="#t1674">1674</a></span><span class="t"><span class="str">        Used by dill when loading from a bytestring.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1675" href="#t1675">1675</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1676" href="#t1676">1676</a></span><span class="t">        <span class="com"># as_dict also includes table info, so dump as json to only get the actual row data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1677" href="#t1677">1677</a></span><span class="t">        <span class="com"># then create a new (more empty) row object:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1678" href="#t1678">1678</a></span><span class="t">        <span class="nam">state</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">Row</span><span class="op">(</span><span class="nam">json</span><span class="op">.</span><span class="nam">loads</span><span class="op">(</span><span class="nam">state</span><span class="op">[</span><span class="str">"_row"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1679" href="#t1679">1679</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span> <span class="op">|=</span> <span class="nam">state</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1680" href="#t1680">1680</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1681" href="#t1681">1681</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1682" href="#t1682">1682</a></span><span class="t"><span class="com"># backwards compat:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1683" href="#t1683">1683</a></span><span class="t"><span class="nam">TypedRow</span> <span class="op">=</span> <span class="nam">TypedTable</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1684" href="#t1684">1684</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1685" href="#t1685">1685</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1686" href="#t1686">1686</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedRows</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Collection</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Rows</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1687" href="#t1687">1687</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1688" href="#t1688">1688</a></span><span class="t"><span class="str">    Slighly enhaned and typed functionality on top of pydal Rows (the result of a select).</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1689" href="#t1689">1689</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1690" href="#t1690">1690</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1691" href="#t1691">1691</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1692" href="#t1692">1692</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1693" href="#t1693">1693</a></span><span class="t">        <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1694" href="#t1694">1694</a></span><span class="t">        <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1695" href="#t1695">1695</a></span><span class="t">        <span class="nam">records</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">T_MetaInstance</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1696" href="#t1696">1696</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1697" href="#t1697">1697</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1698" href="#t1698">1698</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1699" href="#t1699">1699</a></span><span class="t"><span class="str">        Should not be called manually!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1700" href="#t1700">1700</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1701" href="#t1701">1701</a></span><span class="t"><span class="str">        Normally, the `records` from an existing `Rows` object are used</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1702" href="#t1702">1702</a></span><span class="t"><span class="str">            but these can be overwritten with a `records` dict.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1703" href="#t1703">1703</a></span><span class="t"><span class="str">        `metadata` can be any (un)structured data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1704" href="#t1704">1704</a></span><span class="t"><span class="str">        `model` is a Typed Table class</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1705" href="#t1705">1705</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1706" href="#t1706">1706</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="nam">records</span> <span class="key">or</span> <span class="op">{</span><span class="nam">row</span><span class="op">.</span><span class="nam">id</span><span class="op">:</span> <span class="nam">model</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span> <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1707" href="#t1707">1707</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">rows</span><span class="op">.</span><span class="nam">db</span><span class="op">,</span> <span class="nam">records</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">response</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1708" href="#t1708">1708</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">model</span> <span class="op">=</span> <span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1709" href="#t1709">1709</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">=</span> <span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1710" href="#t1710">1710</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span> <span class="op">=</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">colnames</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1711" href="#t1711">1711</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1712" href="#t1712">1712</a></span><span class="t">    <span class="key">def</span> <span class="nam">__len__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1713" href="#t1713">1713</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1714" href="#t1714">1714</a></span><span class="t"><span class="str">        Return the count of rows.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1715" href="#t1715">1715</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1716" href="#t1716">1716</a></span><span class="t">        <span class="key">return</span> <span class="nam">len</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1717" href="#t1717">1717</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1718" href="#t1718">1718</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterator</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1719" href="#t1719">1719</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1720" href="#t1720">1720</a></span><span class="t"><span class="str">        Loop through the rows.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1721" href="#t1721">1721</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1722" href="#t1722">1722</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1691" href="#t1691">1691</a></span><span class="t">    <span class="nam">records</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1692" href="#t1692">1692</a></span><span class="t">    <span class="com"># _rows: Rows</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1693" href="#t1693">1693</a></span><span class="t">    <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1694" href="#t1694">1694</a></span><span class="t">    <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1695" href="#t1695">1695</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1696" href="#t1696">1696</a></span><span class="t">    <span class="com"># pseudo-properties: actually stored in _rows</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1697" href="#t1697">1697</a></span><span class="t">    <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1698" href="#t1698">1698</a></span><span class="t">    <span class="nam">colnames</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1699" href="#t1699">1699</a></span><span class="t">    <span class="nam">fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Field</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1700" href="#t1700">1700</a></span><span class="t">    <span class="nam">colnames_fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Field</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1701" href="#t1701">1701</a></span><span class="t">    <span class="nam">response</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">tuple</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="op">...</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1702" href="#t1702">1702</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1703" href="#t1703">1703</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1704" href="#t1704">1704</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1705" href="#t1705">1705</a></span><span class="t">        <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1706" href="#t1706">1706</a></span><span class="t">        <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1707" href="#t1707">1707</a></span><span class="t">        <span class="nam">records</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">T_MetaInstance</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1708" href="#t1708">1708</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1709" href="#t1709">1709</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1710" href="#t1710">1710</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1711" href="#t1711">1711</a></span><span class="t"><span class="str">        Should not be called manually!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1712" href="#t1712">1712</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1713" href="#t1713">1713</a></span><span class="t"><span class="str">        Normally, the `records` from an existing `Rows` object are used</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1714" href="#t1714">1714</a></span><span class="t"><span class="str">            but these can be overwritten with a `records` dict.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1715" href="#t1715">1715</a></span><span class="t"><span class="str">        `metadata` can be any (un)structured data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1716" href="#t1716">1716</a></span><span class="t"><span class="str">        `model` is a Typed Table class</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1717" href="#t1717">1717</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1718" href="#t1718">1718</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="nam">records</span> <span class="key">or</span> <span class="op">{</span><span class="nam">row</span><span class="op">.</span><span class="nam">id</span><span class="op">:</span> <span class="nam">model</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span> <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1719" href="#t1719">1719</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">rows</span><span class="op">.</span><span class="nam">db</span><span class="op">,</span> <span class="nam">records</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">response</span><span class="op">,</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">fields</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1720" href="#t1720">1720</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">model</span> <span class="op">=</span> <span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1721" href="#t1721">1721</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">=</span> <span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1722" href="#t1722">1722</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span> <span class="op">=</span> <span class="nam">rows</span><span class="op">.</span><span class="nam">colnames</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1723" href="#t1723">1723</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1724" href="#t1724">1724</a></span><span class="t">    <span class="key">def</span> <span class="nam">__contains__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">ind</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1724" href="#t1724">1724</a></span><span class="t">    <span class="key">def</span> <span class="nam">__len__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1725" href="#t1725">1725</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1726" href="#t1726">1726</a></span><span class="t"><span class="str">        Check if an id exists in this result set.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1726" href="#t1726">1726</a></span><span class="t"><span class="str">        Return the count of rows.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1727" href="#t1727">1727</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1728" href="#t1728">1728</a></span><span class="t">        <span class="key">return</span> <span class="nam">ind</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1728" href="#t1728">1728</a></span><span class="t">        <span class="key">return</span> <span class="nam">len</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1729" href="#t1729">1729</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1730" href="#t1730">1730</a></span><span class="t">    <span class="key">def</span> <span class="nam">first</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1730" href="#t1730">1730</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterator</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1731" href="#t1731">1731</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1732" href="#t1732">1732</a></span><span class="t"><span class="str">        Get the row with the lowest id.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1732" href="#t1732">1732</a></span><span class="t"><span class="str">        Loop through the rows.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1733" href="#t1733">1733</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1734" href="#t1734">1734</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1735" href="#t1735">1735</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1736" href="#t1736">1736</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1737" href="#t1737">1737</a></span><span class="t">        <span class="key">return</span> <span class="nam">next</span><span class="op">(</span><span class="nam">iter</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1738" href="#t1738">1738</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1739" href="#t1739">1739</a></span><span class="t">    <span class="key">def</span> <span class="nam">last</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1740" href="#t1740">1740</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1741" href="#t1741">1741</a></span><span class="t"><span class="str">        Get the row with the highest id.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1742" href="#t1742">1742</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1743" href="#t1743">1743</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1744" href="#t1744">1744</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1745" href="#t1745">1745</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1746" href="#t1746">1746</a></span><span class="t">        <span class="nam">max_id</span> <span class="op">=</span> <span class="nam">max</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1747" href="#t1747">1747</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">[</span><span class="nam">max_id</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1734" href="#t1734">1734</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1735" href="#t1735">1735</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1736" href="#t1736">1736</a></span><span class="t">    <span class="key">def</span> <span class="nam">__contains__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">ind</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1737" href="#t1737">1737</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1738" href="#t1738">1738</a></span><span class="t"><span class="str">        Check if an id exists in this result set.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1739" href="#t1739">1739</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1740" href="#t1740">1740</a></span><span class="t">        <span class="key">return</span> <span class="nam">ind</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1741" href="#t1741">1741</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1742" href="#t1742">1742</a></span><span class="t">    <span class="key">def</span> <span class="nam">first</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1743" href="#t1743">1743</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1744" href="#t1744">1744</a></span><span class="t"><span class="str">        Get the row with the lowest id.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1745" href="#t1745">1745</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1746" href="#t1746">1746</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1747" href="#t1747">1747</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1748" href="#t1748">1748</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1749" href="#t1749">1749</a></span><span class="t">    <span class="key">def</span> <span class="nam">find</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1750" href="#t1750">1750</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">,</span> <span class="nam">limitby</span><span class="op">:</span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1751" href="#t1751">1751</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1749" href="#t1749">1749</a></span><span class="t">        <span class="key">return</span> <span class="nam">next</span><span class="op">(</span><span class="nam">iter</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1750" href="#t1750">1750</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1751" href="#t1751">1751</a></span><span class="t">    <span class="key">def</span> <span class="nam">last</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1752" href="#t1752">1752</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1753" href="#t1753">1753</a></span><span class="t"><span class="str">        Returns a new Rows object, a subset of the original object, filtered by the function `f`.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1753" href="#t1753">1753</a></span><span class="t"><span class="str">        Get the row with the highest id.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1754" href="#t1754">1754</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t1755" href="#t1755">1755</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1756" href="#t1756">1756</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1756" href="#t1756">1756</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1757" href="#t1757">1757</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1758" href="#t1758">1758</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1759" href="#t1759">1759</a></span><span class="t">        <span class="key">if</span> <span class="nam">limitby</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1760" href="#t1760">1760</a></span><span class="t">            <span class="nam">_min</span><span class="op">,</span> <span class="nam">_max</span> <span class="op">=</span> <span class="nam">limitby</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1761" href="#t1761">1761</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1762" href="#t1762">1762</a></span><span class="t">            <span class="nam">_min</span><span class="op">,</span> <span class="nam">_max</span> <span class="op">=</span> <span class="num">0</span><span class="op">,</span> <span class="nam">len</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1763" href="#t1763">1763</a></span><span class="t">        <span class="nam">count</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1764" href="#t1764">1764</a></span><span class="t">        <span class="key">for</span> <span class="nam">i</span><span class="op">,</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1765" href="#t1765">1765</a></span><span class="t">            <span class="key">if</span> <span class="nam">f</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1766" href="#t1766">1766</a></span><span class="t">                <span class="key">if</span> <span class="nam">_min</span> <span class="op">&lt;=</span> <span class="nam">count</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1767" href="#t1767">1767</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span> <span class="op">=</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1768" href="#t1768">1768</a></span><span class="t">                <span class="nam">count</span> <span class="op">+=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1769" href="#t1769">1769</a></span><span class="t">                <span class="key">if</span> <span class="nam">count</span> <span class="op">==</span> <span class="nam">_max</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1770" href="#t1770">1770</a></span><span class="t">                    <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1771" href="#t1771">1771</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1772" href="#t1772">1772</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">records</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1773" href="#t1773">1773</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1774" href="#t1774">1774</a></span><span class="t">    <span class="key">def</span> <span class="nam">exclude</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1775" href="#t1775">1775</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1776" href="#t1776">1776</a></span><span class="t"><span class="str">        Removes elements from the calling Rows object, filtered by the function `f`, \</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1777" href="#t1777">1777</a></span><span class="t"><span class="str">            and returns a new Rows object containing the removed elements.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1778" href="#t1778">1778</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1779" href="#t1779">1779</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1780" href="#t1780">1780</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1781" href="#t1781">1781</a></span><span class="t">        <span class="nam">removed</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1782" href="#t1782">1782</a></span><span class="t">        <span class="nam">to_remove</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1783" href="#t1783">1783</a></span><span class="t">        <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1784" href="#t1784">1784</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1785" href="#t1785">1785</a></span><span class="t">            <span class="key">if</span> <span class="nam">f</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1786" href="#t1786">1786</a></span><span class="t">                <span class="nam">removed</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1787" href="#t1787">1787</a></span><span class="t">                <span class="nam">to_remove</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">i</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1788" href="#t1788">1788</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1789" href="#t1789">1789</a></span><span class="t">        <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="nam">i</span><span class="op">)</span> <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">to_remove</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1790" href="#t1790">1790</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1791" href="#t1791">1791</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1792" href="#t1792">1792</a></span><span class="t">            <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1793" href="#t1793">1793</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1794" href="#t1794">1794</a></span><span class="t">            <span class="nam">removed</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1795" href="#t1795">1795</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1796" href="#t1796">1796</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1797" href="#t1797">1797</a></span><span class="t">    <span class="key">def</span> <span class="nam">sort</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">reverse</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1798" href="#t1798">1798</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1799" href="#t1799">1799</a></span><span class="t"><span class="str">        Returns a list of sorted elements (not sorted in place).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1800" href="#t1800">1800</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1801" href="#t1801">1801</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">r</span> <span class="key">for</span> <span class="op">(</span><span class="nam">r</span><span class="op">,</span> <span class="nam">s</span><span class="op">)</span> <span class="key">in</span> <span class="nam">sorted</span><span class="op">(</span><span class="nam">zip</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="nam">self</span><span class="op">)</span><span class="op">,</span> <span class="nam">key</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">r</span><span class="op">:</span> <span class="nam">f</span><span class="op">(</span><span class="nam">r</span><span class="op">[</span><span class="num">1</span><span class="op">]</span><span class="op">)</span><span class="op">,</span> <span class="nam">reverse</span><span class="op">=</span><span class="nam">reverse</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1758" href="#t1758">1758</a></span><span class="t">        <span class="nam">max_id</span> <span class="op">=</span> <span class="nam">max</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1759" href="#t1759">1759</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">[</span><span class="nam">max_id</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1760" href="#t1760">1760</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1761" href="#t1761">1761</a></span><span class="t">    <span class="key">def</span> <span class="nam">find</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1762" href="#t1762">1762</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">,</span> <span class="nam">limitby</span><span class="op">:</span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1763" href="#t1763">1763</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1764" href="#t1764">1764</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1765" href="#t1765">1765</a></span><span class="t"><span class="str">        Returns a new Rows object, a subset of the original object, filtered by the function `f`.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1766" href="#t1766">1766</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1767" href="#t1767">1767</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1768" href="#t1768">1768</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1769" href="#t1769">1769</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1770" href="#t1770">1770</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1771" href="#t1771">1771</a></span><span class="t">        <span class="key">if</span> <span class="nam">limitby</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1772" href="#t1772">1772</a></span><span class="t">            <span class="nam">_min</span><span class="op">,</span> <span class="nam">_max</span> <span class="op">=</span> <span class="nam">limitby</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1773" href="#t1773">1773</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1774" href="#t1774">1774</a></span><span class="t">            <span class="nam">_min</span><span class="op">,</span> <span class="nam">_max</span> <span class="op">=</span> <span class="num">0</span><span class="op">,</span> <span class="nam">len</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1775" href="#t1775">1775</a></span><span class="t">        <span class="nam">count</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1776" href="#t1776">1776</a></span><span class="t">        <span class="key">for</span> <span class="nam">i</span><span class="op">,</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1777" href="#t1777">1777</a></span><span class="t">            <span class="key">if</span> <span class="nam">f</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1778" href="#t1778">1778</a></span><span class="t">                <span class="key">if</span> <span class="nam">_min</span> <span class="op">&lt;=</span> <span class="nam">count</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1779" href="#t1779">1779</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span> <span class="op">=</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1780" href="#t1780">1780</a></span><span class="t">                <span class="nam">count</span> <span class="op">+=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1781" href="#t1781">1781</a></span><span class="t">                <span class="key">if</span> <span class="nam">count</span> <span class="op">==</span> <span class="nam">_max</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1782" href="#t1782">1782</a></span><span class="t">                    <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1783" href="#t1783">1783</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1784" href="#t1784">1784</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">records</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1785" href="#t1785">1785</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1786" href="#t1786">1786</a></span><span class="t">    <span class="key">def</span> <span class="nam">exclude</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1787" href="#t1787">1787</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1788" href="#t1788">1788</a></span><span class="t"><span class="str">        Removes elements from the calling Rows object, filtered by the function `f`, \</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1789" href="#t1789">1789</a></span><span class="t"><span class="str">            and returns a new Rows object containing the removed elements.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1790" href="#t1790">1790</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1791" href="#t1791">1791</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1792" href="#t1792">1792</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1793" href="#t1793">1793</a></span><span class="t">        <span class="nam">removed</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1794" href="#t1794">1794</a></span><span class="t">        <span class="nam">to_remove</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1795" href="#t1795">1795</a></span><span class="t">        <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1796" href="#t1796">1796</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">self</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1797" href="#t1797">1797</a></span><span class="t">            <span class="key">if</span> <span class="nam">f</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1798" href="#t1798">1798</a></span><span class="t">                <span class="nam">removed</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">[</span><span class="nam">i</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1799" href="#t1799">1799</a></span><span class="t">                <span class="nam">to_remove</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">i</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1800" href="#t1800">1800</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1801" href="#t1801">1801</a></span><span class="t">        <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="nam">i</span><span class="op">)</span> <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">to_remove</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1802" href="#t1802">1802</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1803" href="#t1803">1803</a></span><span class="t">    <span class="key">def</span> <span class="nam">__str__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1804" href="#t1804">1804</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1805" href="#t1805">1805</a></span><span class="t"><span class="str">        Simple string representation.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1806" href="#t1806">1806</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1807" href="#t1807">1807</a></span><span class="t">        <span class="key">return</span> <span class="str">f"&lt;TypedRows with {len(self)} records>"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1803" href="#t1803">1803</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__class__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1804" href="#t1804">1804</a></span><span class="t">            <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1805" href="#t1805">1805</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1806" href="#t1806">1806</a></span><span class="t">            <span class="nam">removed</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1807" href="#t1807">1807</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1808" href="#t1808">1808</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1809" href="#t1809">1809</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1809" href="#t1809">1809</a></span><span class="t">    <span class="key">def</span> <span class="nam">sort</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">f</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">reverse</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1810" href="#t1810">1810</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1811" href="#t1811">1811</a></span><span class="t"><span class="str">        Print a table on repr().</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1811" href="#t1811">1811</a></span><span class="t"><span class="str">        Returns a list of sorted elements (not sorted in place).</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1812" href="#t1812">1812</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1813" href="#t1813">1813</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1814" href="#t1814">1814</a></span><span class="t">        <span class="nam">headers</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">next</span><span class="op">(</span><span class="nam">iter</span><span class="op">(</span><span class="nam">data</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1815" href="#t1815">1815</a></span><span class="t">        <span class="key">return</span> <span class="nam">mktable</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">headers</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1816" href="#t1816">1816</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1817" href="#t1817">1817</a></span><span class="t">    <span class="key">def</span> <span class="nam">group_by_value</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1818" href="#t1818">1818</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="str">"str | Field | TypedField[T]"</span><span class="op">,</span> <span class="nam">one_result</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1819" href="#t1819">1819</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1820" href="#t1820">1820</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1821" href="#t1821">1821</a></span><span class="t"><span class="str">        Group the rows by a specific field (which will be the dict key).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1822" href="#t1822">1822</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1823" href="#t1823">1823</a></span><span class="t">        <span class="nam">kwargs</span><span class="op">[</span><span class="str">"one_result"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">one_result</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1824" href="#t1824">1824</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">group_by_value</span><span class="op">(</span><span class="op">*</span><span class="nam">fields</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1825" href="#t1825">1825</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">dict</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1826" href="#t1826">1826</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1827" href="#t1827">1827</a></span><span class="t">    <span class="key">def</span> <span class="nam">column</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">column</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1828" href="#t1828">1828</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1829" href="#t1829">1829</a></span><span class="t"><span class="str">        Get a list of all values in a specific column.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1830" href="#t1830">1830</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1831" href="#t1831">1831</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1832" href="#t1832">1832</a></span><span class="t"><span class="str">                rows.column('name') -> ['Name 1', 'Name 2', ...]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1833" href="#t1833">1833</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1834" href="#t1834">1834</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="nam">column</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1835" href="#t1835">1835</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1836" href="#t1836">1836</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_csv</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1837" href="#t1837">1837</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1838" href="#t1838">1838</a></span><span class="t"><span class="str">        Dump the data to csv.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1839" href="#t1839">1839</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1840" href="#t1840">1840</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_csv</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1841" href="#t1841">1841</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1842" href="#t1842">1842</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1843" href="#t1843">1843</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1844" href="#t1844">1844</a></span><span class="t">        <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1845" href="#t1845">1845</a></span><span class="t">        <span class="nam">compact</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1846" href="#t1846">1846</a></span><span class="t">        <span class="nam">storage_to_dict</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1847" href="#t1847">1847</a></span><span class="t">        <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1848" href="#t1848">1848</a></span><span class="t">        <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1849" href="#t1849">1849</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1850" href="#t1850">1850</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1851" href="#t1851">1851</a></span><span class="t"><span class="str">        Get the data in a dict of dicts.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1852" href="#t1852">1852</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1853" href="#t1853">1853</a></span><span class="t">        <span class="key">if</span> <span class="nam">any</span><span class="op">(</span><span class="op">[</span><span class="nam">key</span><span class="op">,</span> <span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1854" href="#t1854">1854</a></span><span class="t">            <span class="com"># functionality not guaranteed</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1855" href="#t1855">1855</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1856" href="#t1856">1856</a></span><span class="t">                <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1857" href="#t1857">1857</a></span><span class="t">                <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1858" href="#t1858">1858</a></span><span class="t">                    <span class="nam">key</span> <span class="key">or</span> <span class="str">"id"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1859" href="#t1859">1859</a></span><span class="t">                    <span class="nam">compact</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1860" href="#t1860">1860</a></span><span class="t">                    <span class="nam">storage_to_dict</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1861" href="#t1861">1861</a></span><span class="t">                    <span class="nam">datetime_to_str</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1862" href="#t1862">1862</a></span><span class="t">                    <span class="nam">custom_types</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1863" href="#t1863">1863</a></span><span class="t">                <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1864" href="#t1864">1864</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1865" href="#t1865">1865</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1866" href="#t1866">1866</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">v</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1867" href="#t1867">1867</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1868" href="#t1868">1868</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_json</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1869" href="#t1869">1869</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1870" href="#t1870">1870</a></span><span class="t"><span class="str">        Turn the data into a dict and then dump to JSON.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1871" href="#t1871">1871</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1872" href="#t1872">1872</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_list</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1873" href="#t1873">1873</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1874" href="#t1874">1874</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1875" href="#t1875">1875</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1876" href="#t1876">1876</a></span><span class="t">    <span class="key">def</span> <span class="nam">json</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1877" href="#t1877">1877</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1878" href="#t1878">1878</a></span><span class="t"><span class="str">        Turn the data into a dict and then dump to JSON.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1879" href="#t1879">1879</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1880" href="#t1880">1880</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1881" href="#t1881">1881</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1882" href="#t1882">1882</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_list</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1883" href="#t1883">1883</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1884" href="#t1884">1884</a></span><span class="t">        <span class="nam">compact</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1885" href="#t1885">1885</a></span><span class="t">        <span class="nam">storage_to_dict</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1886" href="#t1886">1886</a></span><span class="t">        <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1887" href="#t1887">1887</a></span><span class="t">        <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1888" href="#t1888">1888</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1813" href="#t1813">1813</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">r</span> <span class="key">for</span> <span class="op">(</span><span class="nam">r</span><span class="op">,</span> <span class="nam">s</span><span class="op">)</span> <span class="key">in</span> <span class="nam">sorted</span><span class="op">(</span><span class="nam">zip</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="nam">self</span><span class="op">)</span><span class="op">,</span> <span class="nam">key</span><span class="op">=</span><span class="key">lambda</span> <span class="nam">r</span><span class="op">:</span> <span class="nam">f</span><span class="op">(</span><span class="nam">r</span><span class="op">[</span><span class="num">1</span><span class="op">]</span><span class="op">)</span><span class="op">,</span> <span class="nam">reverse</span><span class="op">=</span><span class="nam">reverse</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1814" href="#t1814">1814</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1815" href="#t1815">1815</a></span><span class="t">    <span class="key">def</span> <span class="nam">__str__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1816" href="#t1816">1816</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1817" href="#t1817">1817</a></span><span class="t"><span class="str">        Simple string representation.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1818" href="#t1818">1818</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1819" href="#t1819">1819</a></span><span class="t">        <span class="key">return</span> <span class="str">f"&lt;TypedRows with {len(self)} records>"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1820" href="#t1820">1820</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1821" href="#t1821">1821</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1822" href="#t1822">1822</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1823" href="#t1823">1823</a></span><span class="t"><span class="str">        Print a table on repr().</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1824" href="#t1824">1824</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1825" href="#t1825">1825</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1826" href="#t1826">1826</a></span><span class="t">        <span class="nam">headers</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">next</span><span class="op">(</span><span class="nam">iter</span><span class="op">(</span><span class="nam">data</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1827" href="#t1827">1827</a></span><span class="t">        <span class="key">return</span> <span class="nam">mktable</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">headers</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1828" href="#t1828">1828</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1829" href="#t1829">1829</a></span><span class="t">    <span class="key">def</span> <span class="nam">group_by_value</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1830" href="#t1830">1830</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="str">"str | Field | TypedField[T]"</span><span class="op">,</span> <span class="nam">one_result</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1831" href="#t1831">1831</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1832" href="#t1832">1832</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1833" href="#t1833">1833</a></span><span class="t"><span class="str">        Group the rows by a specific field (which will be the dict key).</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1834" href="#t1834">1834</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1835" href="#t1835">1835</a></span><span class="t">        <span class="nam">kwargs</span><span class="op">[</span><span class="str">"one_result"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">one_result</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1836" href="#t1836">1836</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">group_by_value</span><span class="op">(</span><span class="op">*</span><span class="nam">fields</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1837" href="#t1837">1837</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">dict</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1838" href="#t1838">1838</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1839" href="#t1839">1839</a></span><span class="t">    <span class="key">def</span> <span class="nam">column</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">column</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1840" href="#t1840">1840</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1841" href="#t1841">1841</a></span><span class="t"><span class="str">        Get a list of all values in a specific column.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1842" href="#t1842">1842</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1843" href="#t1843">1843</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1844" href="#t1844">1844</a></span><span class="t"><span class="str">                rows.column('name') -> ['Name 1', 'Name 2', ...]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1845" href="#t1845">1845</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1846" href="#t1846">1846</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="nam">column</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1847" href="#t1847">1847</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1848" href="#t1848">1848</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_csv</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1849" href="#t1849">1849</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1850" href="#t1850">1850</a></span><span class="t"><span class="str">        Dump the data to csv.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1851" href="#t1851">1851</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1852" href="#t1852">1852</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_csv</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1853" href="#t1853">1853</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1854" href="#t1854">1854</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1855" href="#t1855">1855</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1856" href="#t1856">1856</a></span><span class="t">        <span class="nam">key</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1857" href="#t1857">1857</a></span><span class="t">        <span class="nam">compact</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1858" href="#t1858">1858</a></span><span class="t">        <span class="nam">storage_to_dict</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1859" href="#t1859">1859</a></span><span class="t">        <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1860" href="#t1860">1860</a></span><span class="t">        <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1861" href="#t1861">1861</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1862" href="#t1862">1862</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1863" href="#t1863">1863</a></span><span class="t"><span class="str">        Get the data in a dict of dicts.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1864" href="#t1864">1864</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1865" href="#t1865">1865</a></span><span class="t">        <span class="key">if</span> <span class="nam">any</span><span class="op">(</span><span class="op">[</span><span class="nam">key</span><span class="op">,</span> <span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1866" href="#t1866">1866</a></span><span class="t">            <span class="com"># functionality not guaranteed</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1867" href="#t1867">1867</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1868" href="#t1868">1868</a></span><span class="t">                <span class="nam">dict</span><span class="op">[</span><span class="nam">int</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1869" href="#t1869">1869</a></span><span class="t">                <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1870" href="#t1870">1870</a></span><span class="t">                    <span class="nam">key</span> <span class="key">or</span> <span class="str">"id"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1871" href="#t1871">1871</a></span><span class="t">                    <span class="nam">compact</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1872" href="#t1872">1872</a></span><span class="t">                    <span class="nam">storage_to_dict</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1873" href="#t1873">1873</a></span><span class="t">                    <span class="nam">datetime_to_str</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1874" href="#t1874">1874</a></span><span class="t">                    <span class="nam">custom_types</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1875" href="#t1875">1875</a></span><span class="t">                <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1876" href="#t1876">1876</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1877" href="#t1877">1877</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1878" href="#t1878">1878</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">v</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1879" href="#t1879">1879</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1880" href="#t1880">1880</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_json</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1881" href="#t1881">1881</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1882" href="#t1882">1882</a></span><span class="t"><span class="str">        Turn the data into a dict and then dump to JSON.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1883" href="#t1883">1883</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1884" href="#t1884">1884</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_list</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1885" href="#t1885">1885</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1886" href="#t1886">1886</a></span><span class="t">        <span class="key">return</span> <span class="nam">as_json</span><span class="op">.</span><span class="nam">encode</span><span class="op">(</span><span class="nam">data</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1887" href="#t1887">1887</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1888" href="#t1888">1888</a></span><span class="t">    <span class="key">def</span> <span class="nam">json</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">default</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">indent</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1889" href="#t1889">1889</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1890" href="#t1890">1890</a></span><span class="t"><span class="str">        Get the data in a list of dicts.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1890" href="#t1890">1890</a></span><span class="t"><span class="str">        Turn the data into a dict and then dump to JSON.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1891" href="#t1891">1891</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1892" href="#t1892">1892</a></span><span class="t">        <span class="key">if</span> <span class="nam">any</span><span class="op">(</span><span class="op">[</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1893" href="#t1893">1893</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">list</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_list</span><span class="op">(</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1894" href="#t1894">1894</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1895" href="#t1895">1895</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">_</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1896" href="#t1896">1896</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1897" href="#t1897">1897</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1898" href="#t1898">1898</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1899" href="#t1899">1899</a></span><span class="t"><span class="str">        You can get a specific row by ID from a typedrows by using rows[idx] notation.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1900" href="#t1900">1900</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1901" href="#t1901">1901</a></span><span class="t"><span class="str">        Since pydal's implementation differs (they expect a list instead of a dict with id keys),</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1902" href="#t1902">1902</a></span><span class="t"><span class="str">        using rows[0] will return the first row, regardless of its id.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1892" href="#t1892">1892</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">as_json</span><span class="op">(</span><span class="nam">default</span><span class="op">=</span><span class="nam">default</span><span class="op">,</span> <span class="nam">indent</span><span class="op">=</span><span class="nam">indent</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1893" href="#t1893">1893</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1894" href="#t1894">1894</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_list</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1895" href="#t1895">1895</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1896" href="#t1896">1896</a></span><span class="t">        <span class="nam">compact</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1897" href="#t1897">1897</a></span><span class="t">        <span class="nam">storage_to_dict</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1898" href="#t1898">1898</a></span><span class="t">        <span class="nam">datetime_to_str</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1899" href="#t1899">1899</a></span><span class="t">        <span class="nam">custom_types</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1900" href="#t1900">1900</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1901" href="#t1901">1901</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1902" href="#t1902">1902</a></span><span class="t"><span class="str">        Get the data in a list of dicts.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1903" href="#t1903">1903</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1904" href="#t1904">1904</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1905" href="#t1905">1905</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">[</span><span class="nam">item</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1906" href="#t1906">1906</a></span><span class="t">        <span class="key">except</span> <span class="nam">KeyError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1907" href="#t1907">1907</a></span><span class="t">            <span class="key">if</span> <span class="nam">item</span> <span class="op">==</span> <span class="num">0</span> <span class="key">and</span> <span class="op">(</span><span class="nam">row</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1908" href="#t1908">1908</a></span><span class="t">                <span class="com"># special case: pydal internals think Rows.records is a list, not a dict</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1909" href="#t1909">1909</a></span><span class="t">                <span class="key">return</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1910" href="#t1910">1910</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1911" href="#t1911">1911</a></span><span class="t">            <span class="key">raise</span> <span class="nam">e</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1904" href="#t1904">1904</a></span><span class="t">        <span class="key">if</span> <span class="nam">any</span><span class="op">(</span><span class="op">[</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1905" href="#t1905">1905</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">list</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span><span class="op">,</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_list</span><span class="op">(</span><span class="nam">compact</span><span class="op">,</span> <span class="nam">storage_to_dict</span><span class="op">,</span> <span class="nam">datetime_to_str</span><span class="op">,</span> <span class="nam">custom_types</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1906" href="#t1906">1906</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1907" href="#t1907">1907</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">_</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1908" href="#t1908">1908</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1909" href="#t1909">1909</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getitem__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1910" href="#t1910">1910</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1911" href="#t1911">1911</a></span><span class="t"><span class="str">        You can get a specific row by ID from a typedrows by using rows[idx] notation.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t1912" href="#t1912">1912</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1913" href="#t1913">1913</a></span><span class="t">    <span class="key">def</span> <span class="nam">get</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1914" href="#t1914">1914</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1915" href="#t1915">1915</a></span><span class="t"><span class="str">        Get a row by ID, or receive None if it isn't in this result set.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1916" href="#t1916">1916</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1917" href="#t1917">1917</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1918" href="#t1918">1918</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1919" href="#t1919">1919</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">new_values</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1920" href="#t1920">1920</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1921" href="#t1921">1921</a></span><span class="t"><span class="str">        Update the current rows in the database with new_values.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1922" href="#t1922">1922</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1923" href="#t1923">1923</a></span><span class="t">        <span class="com"># cast to make mypy understand .id is a TypedField and not an int!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1924" href="#t1924">1924</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1925" href="#t1925">1925</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1926" href="#t1926">1926</a></span><span class="t">        <span class="nam">ids</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1927" href="#t1927">1927</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1928" href="#t1928">1928</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">new_values</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1929" href="#t1929">1929</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1930" href="#t1930">1930</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1931" href="#t1931">1931</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1932" href="#t1932">1932</a></span><span class="t"><span class="str">        Delete the currently selected rows from the database.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1933" href="#t1933">1933</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1934" href="#t1934">1934</a></span><span class="t">        <span class="com"># cast to make mypy understand .id is a TypedField and not an int!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1935" href="#t1935">1935</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1936" href="#t1936">1936</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1937" href="#t1937">1937</a></span><span class="t">        <span class="nam">ids</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1938" href="#t1938">1938</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1939" href="#t1939">1939</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">delete</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1940" href="#t1940">1940</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1941" href="#t1941">1941</a></span><span class="t">    <span class="key">def</span> <span class="nam">join</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1942" href="#t1942">1942</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1943" href="#t1943">1943</a></span><span class="t">        <span class="nam">field</span><span class="op">:</span> <span class="str">"Field | TypedField[Any]"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1944" href="#t1944">1944</a></span><span class="t">        <span class="nam">name</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1945" href="#t1945">1945</a></span><span class="t">        <span class="nam">constraint</span><span class="op">:</span> <span class="nam">Query</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1946" href="#t1946">1946</a></span><span class="t">        <span class="nam">fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="nam">Field</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1947" href="#t1947">1947</a></span><span class="t">        <span class="nam">orderby</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="nam">Field</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1948" href="#t1948">1948</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1949" href="#t1949">1949</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1950" href="#t1950">1950</a></span><span class="t"><span class="str">        This can be used to JOIN with some relationships after the initial select.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1951" href="#t1951">1951</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1952" href="#t1952">1952</a></span><span class="t"><span class="str">        Using the querybuilder's .join() method is prefered!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1953" href="#t1953">1953</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1954" href="#t1954">1954</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">field</span><span class="op">,</span> <span class="nam">name</span><span class="op">,</span> <span class="nam">constraint</span><span class="op">,</span> <span class="nam">fields</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span><span class="op">,</span> <span class="nam">orderby</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1955" href="#t1955">1955</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1956" href="#t1956">1956</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1957" href="#t1957">1957</a></span><span class="t">    <span class="key">def</span> <span class="nam">export_to_csv_file</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1958" href="#t1958">1958</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1959" href="#t1959">1959</a></span><span class="t">        <span class="nam">ofile</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TextIO</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1960" href="#t1960">1960</a></span><span class="t">        <span class="nam">null</span><span class="op">:</span> <span class="nam">Any</span> <span class="op">=</span> <span class="str">"&lt;NULL>"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1961" href="#t1961">1961</a></span><span class="t">        <span class="nam">delimiter</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">","</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1962" href="#t1962">1962</a></span><span class="t">        <span class="nam">quotechar</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">'"'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1963" href="#t1963">1963</a></span><span class="t">        <span class="nam">quoting</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="nam">csv</span><span class="op">.</span><span class="nam">QUOTE_MINIMAL</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1964" href="#t1964">1964</a></span><span class="t">        <span class="nam">represent</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1965" href="#t1965">1965</a></span><span class="t">        <span class="nam">colnames</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1966" href="#t1966">1966</a></span><span class="t">        <span class="nam">write_colnames</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1967" href="#t1967">1967</a></span><span class="t">        <span class="op">*</span><span class="nam">args</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1968" href="#t1968">1968</a></span><span class="t">        <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1969" href="#t1969">1969</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1970" href="#t1970">1970</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1971" href="#t1971">1971</a></span><span class="t"><span class="str">        Shadow export_to_csv_file from Rows, but with typing.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1972" href="#t1972">1972</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1973" href="#t1973">1973</a></span><span class="t"><span class="str">        See http://web2py.com/books/default/chapter/29/06/the-database-abstraction-layer?search=export_to_csv_file#Exporting-and-importing-data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1974" href="#t1974">1974</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1975" href="#t1975">1975</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">export_to_csv_file</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1976" href="#t1976">1976</a></span><span class="t">            <span class="nam">ofile</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1977" href="#t1977">1977</a></span><span class="t">            <span class="nam">null</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1978" href="#t1978">1978</a></span><span class="t">            <span class="op">*</span><span class="nam">args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1979" href="#t1979">1979</a></span><span class="t">            <span class="nam">delimiter</span><span class="op">=</span><span class="nam">delimiter</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1980" href="#t1980">1980</a></span><span class="t">            <span class="nam">quotechar</span><span class="op">=</span><span class="nam">quotechar</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1981" href="#t1981">1981</a></span><span class="t">            <span class="nam">quoting</span><span class="op">=</span><span class="nam">quoting</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1982" href="#t1982">1982</a></span><span class="t">            <span class="nam">represent</span><span class="op">=</span><span class="nam">represent</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1983" href="#t1983">1983</a></span><span class="t">            <span class="nam">colnames</span><span class="op">=</span><span class="nam">colnames</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1984" href="#t1984">1984</a></span><span class="t">            <span class="nam">write_colnames</span><span class="op">=</span><span class="nam">write_colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1985" href="#t1985">1985</a></span><span class="t">            <span class="op">**</span><span class="nam">kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1986" href="#t1986">1986</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1987" href="#t1987">1987</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1988" href="#t1988">1988</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1989" href="#t1989">1989</a></span><span class="t">    <span class="key">def</span> <span class="nam">from_rows</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1990" href="#t1990">1990</a></span><span class="t">        <span class="nam">cls</span><span class="op">,</span> <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span> <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1991" href="#t1991">1991</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1992" href="#t1992">1992</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1993" href="#t1993">1993</a></span><span class="t"><span class="str">        Internal method to convert a Rows object to a TypedRows.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1994" href="#t1994">1994</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1995" href="#t1995">1995</a></span><span class="t">        <span class="key">return</span> <span class="nam">cls</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">model</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1996" href="#t1996">1996</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t1997" href="#t1997">1997</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1998" href="#t1998">1998</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t1999" href="#t1999">1999</a></span><span class="t"><span class="str">        Used by dill to dump to bytes (exclude db connection etc).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2000" href="#t2000">2000</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2001" href="#t2001">2001</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2002" href="#t2002">2002</a></span><span class="t">            <span class="str">"metadata"</span><span class="op">:</span> <span class="nam">json</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">str</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2003" href="#t2003">2003</a></span><span class="t">            <span class="str">"records"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2004" href="#t2004">2004</a></span><span class="t">            <span class="str">"model"</span><span class="op">:</span> <span class="nam">str</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_table</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2005" href="#t2005">2005</a></span><span class="t">            <span class="str">"colnames"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2006" href="#t2006">2006</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2007" href="#t2007">2007</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2008" href="#t2008">2008</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">state</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2009" href="#t2009">2009</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2010" href="#t2010">2010</a></span><span class="t"><span class="str">        Used by dill when loading from a bytestring.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2011" href="#t2011">2011</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2012" href="#t2012">2012</a></span><span class="t">        <span class="nam">state</span><span class="op">[</span><span class="str">"metadata"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">loads</span><span class="op">(</span><span class="nam">state</span><span class="op">[</span><span class="str">"metadata"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2013" href="#t2013">2013</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">state</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2014" href="#t2014">2014</a></span><span class="t">        <span class="com"># db etc. set after undill by caching.py</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2015" href="#t2015">2015</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2016" href="#t2016">2016</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2017" href="#t2017">2017</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">caching</span> <span class="key">import</span> <span class="op">(</span>  <span class="com"># noqa: E402</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2018" href="#t2018">2018</a></span><span class="t">    <span class="nam">_remove_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2019" href="#t2019">2019</a></span><span class="t">    <span class="nam">_TypedalCache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2020" href="#t2020">2020</a></span><span class="t">    <span class="nam">_TypedalCacheDependency</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2021" href="#t2021">2021</a></span><span class="t">    <span class="nam">create_and_hash_cache_key</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2022" href="#t2022">2022</a></span><span class="t">    <span class="nam">get_expire</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2023" href="#t2023">2023</a></span><span class="t">    <span class="nam">load_from_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2024" href="#t2024">2024</a></span><span class="t">    <span class="nam">save_to_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2025" href="#t2025">2025</a></span><span class="t"><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2026" href="#t2026">2026</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1913" href="#t1913">1913</a></span><span class="t"><span class="str">        Since pydal's implementation differs (they expect a list instead of a dict with id keys),</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1914" href="#t1914">1914</a></span><span class="t"><span class="str">        using rows[0] will return the first row, regardless of its id.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1915" href="#t1915">1915</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1916" href="#t1916">1916</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1917" href="#t1917">1917</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">[</span><span class="nam">item</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1918" href="#t1918">1918</a></span><span class="t">        <span class="key">except</span> <span class="nam">KeyError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1919" href="#t1919">1919</a></span><span class="t">            <span class="key">if</span> <span class="nam">item</span> <span class="op">==</span> <span class="num">0</span> <span class="key">and</span> <span class="op">(</span><span class="nam">row</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1920" href="#t1920">1920</a></span><span class="t">                <span class="com"># special case: pydal internals think Rows.records is a list, not a dict</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1921" href="#t1921">1921</a></span><span class="t">                <span class="key">return</span> <span class="nam">row</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1922" href="#t1922">1922</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1923" href="#t1923">1923</a></span><span class="t">            <span class="key">raise</span> <span class="nam">e</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1924" href="#t1924">1924</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1925" href="#t1925">1925</a></span><span class="t">    <span class="key">def</span> <span class="nam">get</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">item</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1926" href="#t1926">1926</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1927" href="#t1927">1927</a></span><span class="t"><span class="str">        Get a row by ID, or receive None if it isn't in this result set.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1928" href="#t1928">1928</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1929" href="#t1929">1929</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">item</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1930" href="#t1930">1930</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1931" href="#t1931">1931</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">new_values</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1932" href="#t1932">1932</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1933" href="#t1933">1933</a></span><span class="t"><span class="str">        Update the current rows in the database with new_values.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1934" href="#t1934">1934</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1935" href="#t1935">1935</a></span><span class="t">        <span class="com"># cast to make mypy understand .id is a TypedField and not an int!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1936" href="#t1936">1936</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1937" href="#t1937">1937</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1938" href="#t1938">1938</a></span><span class="t">        <span class="nam">ids</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1939" href="#t1939">1939</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1940" href="#t1940">1940</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">new_values</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1941" href="#t1941">1941</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1942" href="#t1942">1942</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1943" href="#t1943">1943</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1944" href="#t1944">1944</a></span><span class="t"><span class="str">        Delete the currently selected rows from the database.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1945" href="#t1945">1945</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1946" href="#t1946">1946</a></span><span class="t">        <span class="com"># cast to make mypy understand .id is a TypedField and not an int!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1947" href="#t1947">1947</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1948" href="#t1948">1948</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1949" href="#t1949">1949</a></span><span class="t">        <span class="nam">ids</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1950" href="#t1950">1950</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1951" href="#t1951">1951</a></span><span class="t">        <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">delete</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1952" href="#t1952">1952</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1953" href="#t1953">1953</a></span><span class="t">    <span class="key">def</span> <span class="nam">join</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1954" href="#t1954">1954</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1955" href="#t1955">1955</a></span><span class="t">        <span class="nam">field</span><span class="op">:</span> <span class="str">"Field | TypedField[Any]"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1956" href="#t1956">1956</a></span><span class="t">        <span class="nam">name</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1957" href="#t1957">1957</a></span><span class="t">        <span class="nam">constraint</span><span class="op">:</span> <span class="nam">Query</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1958" href="#t1958">1958</a></span><span class="t">        <span class="nam">fields</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="nam">Field</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1959" href="#t1959">1959</a></span><span class="t">        <span class="nam">orderby</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="nam">Field</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1960" href="#t1960">1960</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1961" href="#t1961">1961</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1962" href="#t1962">1962</a></span><span class="t"><span class="str">        This can be used to JOIN with some relationships after the initial select.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1963" href="#t1963">1963</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1964" href="#t1964">1964</a></span><span class="t"><span class="str">        Using the querybuilder's .join() method is prefered!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1965" href="#t1965">1965</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1966" href="#t1966">1966</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">field</span><span class="op">,</span> <span class="nam">name</span><span class="op">,</span> <span class="nam">constraint</span><span class="op">,</span> <span class="nam">fields</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span><span class="op">,</span> <span class="nam">orderby</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1967" href="#t1967">1967</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1968" href="#t1968">1968</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1969" href="#t1969">1969</a></span><span class="t">    <span class="key">def</span> <span class="nam">export_to_csv_file</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1970" href="#t1970">1970</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1971" href="#t1971">1971</a></span><span class="t">        <span class="nam">ofile</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TextIO</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1972" href="#t1972">1972</a></span><span class="t">        <span class="nam">null</span><span class="op">:</span> <span class="nam">Any</span> <span class="op">=</span> <span class="str">"&lt;NULL>"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1973" href="#t1973">1973</a></span><span class="t">        <span class="nam">delimiter</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">","</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1974" href="#t1974">1974</a></span><span class="t">        <span class="nam">quotechar</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">'"'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1975" href="#t1975">1975</a></span><span class="t">        <span class="nam">quoting</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="nam">csv</span><span class="op">.</span><span class="nam">QUOTE_MINIMAL</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1976" href="#t1976">1976</a></span><span class="t">        <span class="nam">represent</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1977" href="#t1977">1977</a></span><span class="t">        <span class="nam">colnames</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1978" href="#t1978">1978</a></span><span class="t">        <span class="nam">write_colnames</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1979" href="#t1979">1979</a></span><span class="t">        <span class="op">*</span><span class="nam">args</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1980" href="#t1980">1980</a></span><span class="t">        <span class="op">**</span><span class="nam">kwargs</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1981" href="#t1981">1981</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1982" href="#t1982">1982</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1983" href="#t1983">1983</a></span><span class="t"><span class="str">        Shadow export_to_csv_file from Rows, but with typing.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1984" href="#t1984">1984</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1985" href="#t1985">1985</a></span><span class="t"><span class="str">        See http://web2py.com/books/default/chapter/29/06/the-database-abstraction-layer?search=export_to_csv_file#Exporting-and-importing-data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1986" href="#t1986">1986</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t1987" href="#t1987">1987</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">export_to_csv_file</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1988" href="#t1988">1988</a></span><span class="t">            <span class="nam">ofile</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1989" href="#t1989">1989</a></span><span class="t">            <span class="nam">null</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1990" href="#t1990">1990</a></span><span class="t">            <span class="op">*</span><span class="nam">args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1991" href="#t1991">1991</a></span><span class="t">            <span class="nam">delimiter</span><span class="op">=</span><span class="nam">delimiter</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1992" href="#t1992">1992</a></span><span class="t">            <span class="nam">quotechar</span><span class="op">=</span><span class="nam">quotechar</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1993" href="#t1993">1993</a></span><span class="t">            <span class="nam">quoting</span><span class="op">=</span><span class="nam">quoting</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1994" href="#t1994">1994</a></span><span class="t">            <span class="nam">represent</span><span class="op">=</span><span class="nam">represent</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1995" href="#t1995">1995</a></span><span class="t">            <span class="nam">colnames</span><span class="op">=</span><span class="nam">colnames</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1996" href="#t1996">1996</a></span><span class="t">            <span class="nam">write_colnames</span><span class="op">=</span><span class="nam">write_colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1997" href="#t1997">1997</a></span><span class="t">            <span class="op">**</span><span class="nam">kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1998" href="#t1998">1998</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t1999" href="#t1999">1999</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2000" href="#t2000">2000</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2001" href="#t2001">2001</a></span><span class="t">    <span class="key">def</span> <span class="nam">from_rows</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2002" href="#t2002">2002</a></span><span class="t">        <span class="nam">cls</span><span class="op">,</span> <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span> <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2003" href="#t2003">2003</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2004" href="#t2004">2004</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2005" href="#t2005">2005</a></span><span class="t"><span class="str">        Internal method to convert a Rows object to a TypedRows.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2006" href="#t2006">2006</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2007" href="#t2007">2007</a></span><span class="t">        <span class="key">return</span> <span class="nam">cls</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">model</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2008" href="#t2008">2008</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2009" href="#t2009">2009</a></span><span class="t">    <span class="key">def</span> <span class="nam">__getstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2010" href="#t2010">2010</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2011" href="#t2011">2011</a></span><span class="t"><span class="str">        Used by dill to dump to bytes (exclude db connection etc).</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2012" href="#t2012">2012</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2013" href="#t2013">2013</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2014" href="#t2014">2014</a></span><span class="t">            <span class="str">"metadata"</span><span class="op">:</span> <span class="nam">json</span><span class="op">.</span><span class="nam">dumps</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">default</span><span class="op">=</span><span class="nam">str</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2015" href="#t2015">2015</a></span><span class="t">            <span class="str">"records"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2016" href="#t2016">2016</a></span><span class="t">            <span class="str">"model"</span><span class="op">:</span> <span class="nam">str</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_table</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2017" href="#t2017">2017</a></span><span class="t">            <span class="str">"colnames"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">colnames</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2018" href="#t2018">2018</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2019" href="#t2019">2019</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2020" href="#t2020">2020</a></span><span class="t">    <span class="key">def</span> <span class="nam">__setstate__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">state</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2021" href="#t2021">2021</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2022" href="#t2022">2022</a></span><span class="t"><span class="str">        Used by dill when loading from a bytestring.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2023" href="#t2023">2023</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2024" href="#t2024">2024</a></span><span class="t">        <span class="nam">state</span><span class="op">[</span><span class="str">"metadata"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">loads</span><span class="op">(</span><span class="nam">state</span><span class="op">[</span><span class="str">"metadata"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2025" href="#t2025">2025</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="nam">state</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2026" href="#t2026">2026</a></span><span class="t">        <span class="com"># db etc. set after undill by caching.py</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2027" href="#t2027">2027</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2028" href="#t2028">2028</a></span><span class="t"><span class="key">class</span> <span class="nam">QueryBuilder</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Generic</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2029" href="#t2029">2029</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2030" href="#t2030">2030</a></span><span class="t"><span class="str">    Abstration on top of pydal's query system.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2031" href="#t2031">2031</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2032" href="#t2032">2032</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2033" href="#t2033">2033</a></span><span class="t">    <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2034" href="#t2034">2034</a></span><span class="t">    <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2035" href="#t2035">2035</a></span><span class="t">    <span class="nam">select_args</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2036" href="#t2036">2036</a></span><span class="t">    <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2037" href="#t2037">2037</a></span><span class="t">    <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2038" href="#t2038">2038</a></span><span class="t">    <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2028" href="#t2028">2028</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2029" href="#t2029">2029</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">caching</span> <span class="key">import</span> <span class="op">(</span>  <span class="com"># noqa: E402</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2030" href="#t2030">2030</a></span><span class="t">    <span class="nam">_remove_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2031" href="#t2031">2031</a></span><span class="t">    <span class="nam">_TypedalCache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2032" href="#t2032">2032</a></span><span class="t">    <span class="nam">_TypedalCacheDependency</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2033" href="#t2033">2033</a></span><span class="t">    <span class="nam">create_and_hash_cache_key</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2034" href="#t2034">2034</a></span><span class="t">    <span class="nam">get_expire</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2035" href="#t2035">2035</a></span><span class="t">    <span class="nam">load_from_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2036" href="#t2036">2036</a></span><span class="t">    <span class="nam">save_to_cache</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2037" href="#t2037">2037</a></span><span class="t"><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2038" href="#t2038">2038</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2039" href="#t2039">2039</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2040" href="#t2040">2040</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2041" href="#t2041">2041</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2042" href="#t2042">2042</a></span><span class="t">        <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2043" href="#t2043">2043</a></span><span class="t">        <span class="nam">add_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2044" href="#t2044">2044</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2045" href="#t2045">2045</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2046" href="#t2046">2046</a></span><span class="t">        <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2047" href="#t2047">2047</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2048" href="#t2048">2048</a></span><span class="t">    <span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2049" href="#t2049">2049</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2050" href="#t2050">2050</a></span><span class="t"><span class="str">        Normally, you wouldn't manually initialize a QueryBuilder but start using a method on a TypedTable.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2040" href="#t2040">2040</a></span><span class="t"><span class="key">class</span> <span class="nam">QueryBuilder</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Generic</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2041" href="#t2041">2041</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2042" href="#t2042">2042</a></span><span class="t"><span class="str">    Abstration on top of pydal's query system.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2043" href="#t2043">2043</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2044" href="#t2044">2044</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2045" href="#t2045">2045</a></span><span class="t">    <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2046" href="#t2046">2046</a></span><span class="t">    <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2047" href="#t2047">2047</a></span><span class="t">    <span class="nam">select_args</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2048" href="#t2048">2048</a></span><span class="t">    <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2049" href="#t2049">2049</a></span><span class="t">    <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2050" href="#t2050">2050</a></span><span class="t">    <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2051" href="#t2051">2051</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2052" href="#t2052">2052</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2053" href="#t2053">2053</a></span><span class="t"><span class="str">            MyTable.where(...) -> QueryBuilder[MyTable]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2054" href="#t2054">2054</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2055" href="#t2055">2055</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">model</span> <span class="op">=</span> <span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2056" href="#t2056">2056</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2057" href="#t2057">2057</a></span><span class="t">        <span class="nam">default_query</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span> <span class="op">></span> <span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2058" href="#t2058">2058</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">query</span> <span class="op">=</span> <span class="nam">add_query</span> <span class="key">or</span> <span class="nam">default_query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2059" href="#t2059">2059</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span> <span class="op">=</span> <span class="nam">select_args</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2060" href="#t2060">2060</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">select_kwargs</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2061" href="#t2061">2061</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span> <span class="op">=</span> <span class="nam">relationships</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2062" href="#t2062">2062</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">=</span> <span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2052" href="#t2052">2052</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2053" href="#t2053">2053</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2054" href="#t2054">2054</a></span><span class="t">        <span class="nam">model</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2055" href="#t2055">2055</a></span><span class="t">        <span class="nam">add_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2056" href="#t2056">2056</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2057" href="#t2057">2057</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2058" href="#t2058">2058</a></span><span class="t">        <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2059" href="#t2059">2059</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2060" href="#t2060">2060</a></span><span class="t">    <span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2061" href="#t2061">2061</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2062" href="#t2062">2062</a></span><span class="t"><span class="str">        Normally, you wouldn't manually initialize a QueryBuilder but start using a method on a TypedTable.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2063" href="#t2063">2063</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2064" href="#t2064">2064</a></span><span class="t">    <span class="key">def</span> <span class="nam">__str__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2065" href="#t2065">2065</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2066" href="#t2066">2066</a></span><span class="t"><span class="str">        Simple string representation for the query builder.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2067" href="#t2067">2067</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2068" href="#t2068">2068</a></span><span class="t">        <span class="key">return</span> <span class="str">f"QueryBuilder for {self.model}"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2069" href="#t2069">2069</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2070" href="#t2070">2070</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2071" href="#t2071">2071</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2072" href="#t2072">2072</a></span><span class="t"><span class="str">        Advanced string representation for the query builder.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2073" href="#t2073">2073</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2074" href="#t2074">2074</a></span><span class="t">        <span class="key">return</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2075" href="#t2075">2075</a></span><span class="t">            <span class="str">f"&lt;QueryBuilder for {self.model} with "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2076" href="#t2076">2076</a></span><span class="t">            <span class="str">f"{len(self.select_args)} select args; "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2077" href="#t2077">2077</a></span><span class="t">            <span class="str">f"{len(self.select_kwargs)} select kwargs; "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2078" href="#t2078">2078</a></span><span class="t">            <span class="str">f"{len(self.relationships)} relationships; "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2079" href="#t2079">2079</a></span><span class="t">            <span class="str">f"query:    {bool(self.query)}; "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2080" href="#t2080">2080</a></span><span class="t">            <span class="str">f"metadata: {self.metadata}; "</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2081" href="#t2081">2081</a></span><span class="t">            <span class="str">f">"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2082" href="#t2082">2082</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2083" href="#t2083">2083</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2084" href="#t2084">2084</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2085" href="#t2085">2085</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2086" href="#t2086">2086</a></span><span class="t"><span class="str">        Querybuilder is truthy if it has rows.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2087" href="#t2087">2087</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2088" href="#t2088">2088</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2089" href="#t2089">2089</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2090" href="#t2090">2090</a></span><span class="t">    <span class="key">def</span> <span class="nam">_extend</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2091" href="#t2091">2091</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2092" href="#t2092">2092</a></span><span class="t">        <span class="nam">add_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2093" href="#t2093">2093</a></span><span class="t">        <span class="nam">overwrite_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2094" href="#t2094">2094</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2095" href="#t2095">2095</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2096" href="#t2096">2096</a></span><span class="t">        <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2097" href="#t2097">2097</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2098" href="#t2098">2098</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2099" href="#t2099">2099</a></span><span class="t">        <span class="key">return</span> <span class="nam">QueryBuilder</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2100" href="#t2100">2100</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2101" href="#t2101">2101</a></span><span class="t">            <span class="op">(</span><span class="nam">add_query</span> <span class="op">&amp;</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span> <span class="key">if</span> <span class="nam">add_query</span> <span class="key">else</span> <span class="nam">overwrite_query</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2102" href="#t2102">2102</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span> <span class="op">+</span> <span class="nam">select_args</span><span class="op">)</span> <span class="key">if</span> <span class="nam">select_args</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2103" href="#t2103">2103</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span> <span class="op">|</span> <span class="nam">select_kwargs</span><span class="op">)</span> <span class="key">if</span> <span class="nam">select_kwargs</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2104" href="#t2104">2104</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span> <span class="op">|</span> <span class="nam">relationships</span><span class="op">)</span> <span class="key">if</span> <span class="nam">relationships</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2105" href="#t2105">2105</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">|</span> <span class="op">(</span><span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">metadata</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2106" href="#t2106">2106</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2107" href="#t2107">2107</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2108" href="#t2108">2108</a></span><span class="t">    <span class="key">def</span> <span class="nam">select</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">options</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2109" href="#t2109">2109</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2110" href="#t2110">2110</a></span><span class="t"><span class="str">        Fields: database columns by name ('id'), by field reference (table.id) or other (e.g. table.ALL).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2111" href="#t2111">2111</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2112" href="#t2112">2112</a></span><span class="t"><span class="str">        Options:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2113" href="#t2113">2113</a></span><span class="t"><span class="str">            paraphrased from the web2py pydal docs,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2114" href="#t2114">2114</a></span><span class="t"><span class="str">            For more info, see http://www.web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#orderby-groupby-limitby-distinct-having-orderby_on_limitby-join-left-cache</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2115" href="#t2115">2115</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2116" href="#t2116">2116</a></span><span class="t"><span class="str">            orderby: field(s) to order by. Supported:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2117" href="#t2117">2117</a></span><span class="t"><span class="str">                table.name - sort by name, ascending</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2118" href="#t2118">2118</a></span><span class="t"><span class="str">                ~table.name - sort by name, descending</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2119" href="#t2119">2119</a></span><span class="t"><span class="str">                &lt;random> - sort randomly</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2120" href="#t2120">2120</a></span><span class="t"><span class="str">                table.name|table.id - sort by two fields (first name, then id)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2121" href="#t2121">2121</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2122" href="#t2122">2122</a></span><span class="t"><span class="str">            groupby, having: together with orderby:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2123" href="#t2123">2123</a></span><span class="t"><span class="str">                groupby can be a field (e.g. table.name) to group records by</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2124" href="#t2124">2124</a></span><span class="t"><span class="str">                having can be a query, only those `having` the condition are grouped</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2125" href="#t2125">2125</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2126" href="#t2126">2126</a></span><span class="t"><span class="str">            limitby: tuple of min and max. When using the query builder, .paginate(limit, page) is recommended.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2127" href="#t2127">2127</a></span><span class="t"><span class="str">            distinct: bool/field. Only select rows that differ</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2128" href="#t2128">2128</a></span><span class="t"><span class="str">            orderby_on_limitby (bool, default: True): by default, an implicit orderby is added when doing limitby.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2129" href="#t2129">2129</a></span><span class="t"><span class="str">            join: othertable.on(query) - do an INNER JOIN. Using TypeDAL relationships with .join() is recommended!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2130" href="#t2130">2130</a></span><span class="t"><span class="str">            left: othertable.on(query) - do a LEFT JOIN. Using TypeDAL relationships with .join() is recommended!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2131" href="#t2131">2131</a></span><span class="t"><span class="str">            cache: cache the query result to speed up repeated queries; e.g. (cache=(cache.ram, 3600), cacheable=True)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2132" href="#t2132">2132</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2133" href="#t2133">2133</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">select_args</span><span class="op">=</span><span class="nam">list</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span><span class="op">,</span> <span class="nam">select_kwargs</span><span class="op">=</span><span class="nam">options</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2134" href="#t2134">2134</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2135" href="#t2135">2135</a></span><span class="t">    <span class="key">def</span> <span class="nam">where</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2136" href="#t2136">2136</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2137" href="#t2137">2137</a></span><span class="t">        <span class="op">*</span><span class="nam">queries_or_lambdas</span><span class="op">:</span> <span class="nam">Query</span> <span class="op">|</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2138" href="#t2138">2138</a></span><span class="t">        <span class="op">**</span><span class="nam">filters</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2139" href="#t2139">2139</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2140" href="#t2140">2140</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2141" href="#t2141">2141</a></span><span class="t"><span class="str">        Extend the builder's query.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2142" href="#t2142">2142</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2143" href="#t2143">2143</a></span><span class="t"><span class="str">        Can be used in multiple ways:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2144" href="#t2144">2144</a></span><span class="t"><span class="str">        .where(Query) -> with a direct query such as `Table.id == 5`</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2145" href="#t2145">2145</a></span><span class="t"><span class="str">        .where(lambda table: table.id == 5) -> with a query via a lambda</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2146" href="#t2146">2146</a></span><span class="t"><span class="str">        .where(id=5) -> via keyword arguments</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2147" href="#t2147">2147</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2148" href="#t2148">2148</a></span><span class="t"><span class="str">        When using multiple where's, they will be ANDed:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2149" href="#t2149">2149</a></span><span class="t"><span class="str">            .where(lambda table: table.id == 5).where(lambda table: table.id == 6) == (table.id == 5) &amp; (table.id=6)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2150" href="#t2150">2150</a></span><span class="t"><span class="str">        When passing multiple queries to a single .where, they will be ORed:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2151" href="#t2151">2151</a></span><span class="t"><span class="str">            .where(lambda table: table.id == 5, lambda table: table.id == 6) == (table.id == 5) | (table.id=6)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2152" href="#t2152">2152</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2153" href="#t2153">2153</a></span><span class="t">        <span class="nam">new_query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2154" href="#t2154">2154</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2155" href="#t2155">2155</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2156" href="#t2156">2156</a></span><span class="t">        <span class="key">for</span> <span class="nam">field</span><span class="op">,</span> <span class="nam">value</span> <span class="key">in</span> <span class="nam">filters</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2157" href="#t2157">2157</a></span><span class="t">            <span class="nam">new_query</span> <span class="op">&amp;=</span> <span class="nam">table</span><span class="op">[</span><span class="nam">field</span><span class="op">]</span> <span class="op">==</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2158" href="#t2158">2158</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2159" href="#t2159">2159</a></span><span class="t">        <span class="nam">subquery</span><span class="op">:</span> <span class="nam">DummyQuery</span> <span class="op">|</span> <span class="nam">Query</span> <span class="op">=</span> <span class="nam">DummyQuery</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2160" href="#t2160">2160</a></span><span class="t">        <span class="key">for</span> <span class="nam">query_or_lambda</span> <span class="key">in</span> <span class="nam">queries_or_lambdas</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2161" href="#t2161">2161</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">,</span> <span class="nam">_Query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2162" href="#t2162">2162</a></span><span class="t">                <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">query_or_lambda</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2163" href="#t2163">2163</a></span><span class="t">            <span class="key">elif</span> <span class="nam">callable</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2164" href="#t2164">2164</a></span><span class="t">                <span class="key">if</span> <span class="nam">result</span> <span class="op">:=</span> <span class="nam">query_or_lambda</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2165" href="#t2165">2165</a></span><span class="t">                    <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2166" href="#t2166">2166</a></span><span class="t">            <span class="key">elif</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">,</span> <span class="op">(</span><span class="nam">Field</span><span class="op">,</span> <span class="nam">_Field</span><span class="op">)</span><span class="op">)</span> <span class="key">or</span> <span class="nam">is_typed_field</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2167" href="#t2167">2167</a></span><span class="t">                <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">query_or_lambda</span> <span class="op">!=</span> <span class="key">None</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2168" href="#t2168">2168</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2169" href="#t2169">2169</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Unexpected query type ({type(query_or_lambda)})."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2064" href="#t2064">2064</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2065" href="#t2065">2065</a></span><span class="t"><span class="str">            MyTable.where(...) -> QueryBuilder[MyTable]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2066" href="#t2066">2066</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2067" href="#t2067">2067</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">model</span> <span class="op">=</span> <span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2068" href="#t2068">2068</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2069" href="#t2069">2069</a></span><span class="t">        <span class="nam">default_query</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">table</span><span class="op">.</span><span class="nam">id</span> <span class="op">></span> <span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2070" href="#t2070">2070</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">query</span> <span class="op">=</span> <span class="nam">add_query</span> <span class="key">or</span> <span class="nam">default_query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2071" href="#t2071">2071</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span> <span class="op">=</span> <span class="nam">select_args</span> <span class="key">or</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2072" href="#t2072">2072</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">select_kwargs</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2073" href="#t2073">2073</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span> <span class="op">=</span> <span class="nam">relationships</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2074" href="#t2074">2074</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">=</span> <span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2075" href="#t2075">2075</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2076" href="#t2076">2076</a></span><span class="t">    <span class="key">def</span> <span class="nam">__str__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2077" href="#t2077">2077</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2078" href="#t2078">2078</a></span><span class="t"><span class="str">        Simple string representation for the query builder.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2079" href="#t2079">2079</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2080" href="#t2080">2080</a></span><span class="t">        <span class="key">return</span> <span class="str">f"QueryBuilder for {self.model}"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2081" href="#t2081">2081</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2082" href="#t2082">2082</a></span><span class="t">    <span class="key">def</span> <span class="nam">__repr__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2083" href="#t2083">2083</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2084" href="#t2084">2084</a></span><span class="t"><span class="str">        Advanced string representation for the query builder.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2085" href="#t2085">2085</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2086" href="#t2086">2086</a></span><span class="t">        <span class="key">return</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2087" href="#t2087">2087</a></span><span class="t">            <span class="str">f"&lt;QueryBuilder for {self.model} with "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2088" href="#t2088">2088</a></span><span class="t">            <span class="str">f"{len(self.select_args)} select args; "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2089" href="#t2089">2089</a></span><span class="t">            <span class="str">f"{len(self.select_kwargs)} select kwargs; "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2090" href="#t2090">2090</a></span><span class="t">            <span class="str">f"{len(self.relationships)} relationships; "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2091" href="#t2091">2091</a></span><span class="t">            <span class="str">f"query:    {bool(self.query)}; "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2092" href="#t2092">2092</a></span><span class="t">            <span class="str">f"metadata: {self.metadata}; "</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2093" href="#t2093">2093</a></span><span class="t">            <span class="str">f">"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2094" href="#t2094">2094</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2095" href="#t2095">2095</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2096" href="#t2096">2096</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2097" href="#t2097">2097</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2098" href="#t2098">2098</a></span><span class="t"><span class="str">        Querybuilder is truthy if it has rows.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2099" href="#t2099">2099</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2100" href="#t2100">2100</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2101" href="#t2101">2101</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2102" href="#t2102">2102</a></span><span class="t">    <span class="key">def</span> <span class="nam">_extend</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2103" href="#t2103">2103</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2104" href="#t2104">2104</a></span><span class="t">        <span class="nam">add_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2105" href="#t2105">2105</a></span><span class="t">        <span class="nam">overwrite_query</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Query</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2106" href="#t2106">2106</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2107" href="#t2107">2107</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">AnyDict</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2108" href="#t2108">2108</a></span><span class="t">        <span class="nam">relationships</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Relationship</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2109" href="#t2109">2109</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2110" href="#t2110">2110</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2111" href="#t2111">2111</a></span><span class="t">        <span class="key">return</span> <span class="nam">QueryBuilder</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2112" href="#t2112">2112</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2113" href="#t2113">2113</a></span><span class="t">            <span class="op">(</span><span class="nam">add_query</span> <span class="op">&amp;</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span> <span class="key">if</span> <span class="nam">add_query</span> <span class="key">else</span> <span class="nam">overwrite_query</span> <span class="key">or</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2114" href="#t2114">2114</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span> <span class="op">+</span> <span class="nam">select_args</span><span class="op">)</span> <span class="key">if</span> <span class="nam">select_args</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2115" href="#t2115">2115</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span> <span class="op">|</span> <span class="nam">select_kwargs</span><span class="op">)</span> <span class="key">if</span> <span class="nam">select_kwargs</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2116" href="#t2116">2116</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span> <span class="op">|</span> <span class="nam">relationships</span><span class="op">)</span> <span class="key">if</span> <span class="nam">relationships</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2117" href="#t2117">2117</a></span><span class="t">            <span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span> <span class="op">|</span> <span class="op">(</span><span class="nam">metadata</span> <span class="key">or</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">metadata</span> <span class="key">else</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2118" href="#t2118">2118</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2119" href="#t2119">2119</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2120" href="#t2120">2120</a></span><span class="t">    <span class="key">def</span> <span class="nam">select</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">options</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2121" href="#t2121">2121</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2122" href="#t2122">2122</a></span><span class="t"><span class="str">        Fields: database columns by name ('id'), by field reference (table.id) or other (e.g. table.ALL).</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2123" href="#t2123">2123</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2124" href="#t2124">2124</a></span><span class="t"><span class="str">        Options:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2125" href="#t2125">2125</a></span><span class="t"><span class="str">            paraphrased from the web2py pydal docs,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2126" href="#t2126">2126</a></span><span class="t"><span class="str">            For more info, see http://www.web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#orderby-groupby-limitby-distinct-having-orderby_on_limitby-join-left-cache</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2127" href="#t2127">2127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2128" href="#t2128">2128</a></span><span class="t"><span class="str">            orderby: field(s) to order by. Supported:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2129" href="#t2129">2129</a></span><span class="t"><span class="str">                table.name - sort by name, ascending</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2130" href="#t2130">2130</a></span><span class="t"><span class="str">                ~table.name - sort by name, descending</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2131" href="#t2131">2131</a></span><span class="t"><span class="str">                &lt;random> - sort randomly</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2132" href="#t2132">2132</a></span><span class="t"><span class="str">                table.name|table.id - sort by two fields (first name, then id)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2133" href="#t2133">2133</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2134" href="#t2134">2134</a></span><span class="t"><span class="str">            groupby, having: together with orderby:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2135" href="#t2135">2135</a></span><span class="t"><span class="str">                groupby can be a field (e.g. table.name) to group records by</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2136" href="#t2136">2136</a></span><span class="t"><span class="str">                having can be a query, only those `having` the condition are grouped</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2137" href="#t2137">2137</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2138" href="#t2138">2138</a></span><span class="t"><span class="str">            limitby: tuple of min and max. When using the query builder, .paginate(limit, page) is recommended.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2139" href="#t2139">2139</a></span><span class="t"><span class="str">            distinct: bool/field. Only select rows that differ</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2140" href="#t2140">2140</a></span><span class="t"><span class="str">            orderby_on_limitby (bool, default: True): by default, an implicit orderby is added when doing limitby.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2141" href="#t2141">2141</a></span><span class="t"><span class="str">            join: othertable.on(query) - do an INNER JOIN. Using TypeDAL relationships with .join() is recommended!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2142" href="#t2142">2142</a></span><span class="t"><span class="str">            left: othertable.on(query) - do a LEFT JOIN. Using TypeDAL relationships with .join() is recommended!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2143" href="#t2143">2143</a></span><span class="t"><span class="str">            cache: cache the query result to speed up repeated queries; e.g. (cache=(cache.ram, 3600), cacheable=True)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2144" href="#t2144">2144</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2145" href="#t2145">2145</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">select_args</span><span class="op">=</span><span class="nam">list</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span><span class="op">,</span> <span class="nam">select_kwargs</span><span class="op">=</span><span class="nam">options</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2146" href="#t2146">2146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2147" href="#t2147">2147</a></span><span class="t">    <span class="key">def</span> <span class="nam">where</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2148" href="#t2148">2148</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2149" href="#t2149">2149</a></span><span class="t">        <span class="op">*</span><span class="nam">queries_or_lambdas</span><span class="op">:</span> <span class="nam">Query</span> <span class="op">|</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">[</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">]</span><span class="op">,</span> <span class="nam">Query</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2150" href="#t2150">2150</a></span><span class="t">        <span class="op">**</span><span class="nam">filters</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2151" href="#t2151">2151</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2152" href="#t2152">2152</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2153" href="#t2153">2153</a></span><span class="t"><span class="str">        Extend the builder's query.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2154" href="#t2154">2154</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2155" href="#t2155">2155</a></span><span class="t"><span class="str">        Can be used in multiple ways:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2156" href="#t2156">2156</a></span><span class="t"><span class="str">        .where(Query) -> with a direct query such as `Table.id == 5`</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2157" href="#t2157">2157</a></span><span class="t"><span class="str">        .where(lambda table: table.id == 5) -> with a query via a lambda</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2158" href="#t2158">2158</a></span><span class="t"><span class="str">        .where(id=5) -> via keyword arguments</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2159" href="#t2159">2159</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2160" href="#t2160">2160</a></span><span class="t"><span class="str">        When using multiple where's, they will be ANDed:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2161" href="#t2161">2161</a></span><span class="t"><span class="str">            .where(lambda table: table.id == 5).where(lambda table: table.id == 6) == (table.id == 5) &amp; (table.id=6)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2162" href="#t2162">2162</a></span><span class="t"><span class="str">        When passing multiple queries to a single .where, they will be ORed:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2163" href="#t2163">2163</a></span><span class="t"><span class="str">            .where(lambda table: table.id == 5, lambda table: table.id == 6) == (table.id == 5) | (table.id=6)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2164" href="#t2164">2164</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2165" href="#t2165">2165</a></span><span class="t">        <span class="nam">new_query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2166" href="#t2166">2166</a></span><span class="t">        <span class="nam">table</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2167" href="#t2167">2167</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2168" href="#t2168">2168</a></span><span class="t">        <span class="key">for</span> <span class="nam">field</span><span class="op">,</span> <span class="nam">value</span> <span class="key">in</span> <span class="nam">filters</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2169" href="#t2169">2169</a></span><span class="t">            <span class="nam">new_query</span> <span class="op">&amp;=</span> <span class="nam">table</span><span class="op">[</span><span class="nam">field</span><span class="op">]</span> <span class="op">==</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2170" href="#t2170">2170</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2171" href="#t2171">2171</a></span><span class="t">        <span class="key">if</span> <span class="nam">subquery</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2172" href="#t2172">2172</a></span><span class="t">            <span class="nam">new_query</span> <span class="op">&amp;=</span> <span class="nam">subquery</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2173" href="#t2173">2173</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2174" href="#t2174">2174</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">overwrite_query</span><span class="op">=</span><span class="nam">new_query</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2175" href="#t2175">2175</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2176" href="#t2176">2176</a></span><span class="t">    <span class="key">def</span> <span class="nam">join</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2177" href="#t2177">2177</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2178" href="#t2178">2178</a></span><span class="t">        <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2179" href="#t2179">2179</a></span><span class="t">        <span class="nam">method</span><span class="op">:</span> <span class="nam">JOIN_OPTIONS</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2180" href="#t2180">2180</a></span><span class="t">        <span class="nam">on</span><span class="op">:</span> <span class="nam">OnQuery</span> <span class="op">|</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Expression</span><span class="op">]</span> <span class="op">|</span> <span class="nam">Expression</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2181" href="#t2181">2181</a></span><span class="t">        <span class="nam">condition</span><span class="op">:</span> <span class="nam">Condition</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2182" href="#t2182">2182</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2183" href="#t2183">2183</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2184" href="#t2184">2184</a></span><span class="t"><span class="str">        Include relationship fields in the result.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2171" href="#t2171">2171</a></span><span class="t">        <span class="nam">subquery</span><span class="op">:</span> <span class="nam">DummyQuery</span> <span class="op">|</span> <span class="nam">Query</span> <span class="op">=</span> <span class="nam">DummyQuery</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2172" href="#t2172">2172</a></span><span class="t">        <span class="key">for</span> <span class="nam">query_or_lambda</span> <span class="key">in</span> <span class="nam">queries_or_lambdas</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2173" href="#t2173">2173</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">,</span> <span class="nam">_Query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2174" href="#t2174">2174</a></span><span class="t">                <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">query_or_lambda</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2175" href="#t2175">2175</a></span><span class="t">            <span class="key">elif</span> <span class="nam">callable</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2176" href="#t2176">2176</a></span><span class="t">                <span class="key">if</span> <span class="nam">result</span> <span class="op">:=</span> <span class="nam">query_or_lambda</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2177" href="#t2177">2177</a></span><span class="t">                    <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2178" href="#t2178">2178</a></span><span class="t">            <span class="key">elif</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">,</span> <span class="op">(</span><span class="nam">Field</span><span class="op">,</span> <span class="nam">_Field</span><span class="op">)</span><span class="op">)</span> <span class="key">or</span> <span class="nam">is_typed_field</span><span class="op">(</span><span class="nam">query_or_lambda</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2179" href="#t2179">2179</a></span><span class="t">                <span class="nam">subquery</span> <span class="op">|=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">query_or_lambda</span> <span class="op">!=</span> <span class="key">None</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2180" href="#t2180">2180</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2181" href="#t2181">2181</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Unexpected query type ({type(query_or_lambda)})."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2182" href="#t2182">2182</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2183" href="#t2183">2183</a></span><span class="t">        <span class="key">if</span> <span class="nam">subquery</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2184" href="#t2184">2184</a></span><span class="t">            <span class="nam">new_query</span> <span class="op">&amp;=</span> <span class="nam">subquery</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2185" href="#t2185">2185</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2186" href="#t2186">2186</a></span><span class="t"><span class="str">        `fields` can be names of Relationships on the current model.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2187" href="#t2187">2187</a></span><span class="t"><span class="str">        If no fields are passed, all will be used.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2188" href="#t2188">2188</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2189" href="#t2189">2189</a></span><span class="t"><span class="str">        By default, the `method` defined in the relationship is used.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2190" href="#t2190">2190</a></span><span class="t"><span class="str">            This can be overwritten with the `method` keyword argument (left or inner)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2191" href="#t2191">2191</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2192" href="#t2192">2192</a></span><span class="t">        <span class="com"># todo: allow limiting amount of related rows returned for join?</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2193" href="#t2193">2193</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2194" href="#t2194">2194</a></span><span class="t">        <span class="nam">relationships</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">get_relationships</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2195" href="#t2195">2195</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2196" href="#t2196">2196</a></span><span class="t">        <span class="key">if</span> <span class="nam">condition</span> <span class="key">and</span> <span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2197" href="#t2197">2197</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"condition and on can not be used together!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2198" href="#t2198">2198</a></span><span class="t">        <span class="key">elif</span> <span class="nam">condition</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2199" href="#t2199">2199</a></span><span class="t">            <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span> <span class="op">!=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2200" href="#t2200">2200</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"join(field, condition=...) can only be used with exactly one field!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2201" href="#t2201">2201</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2202" href="#t2202">2202</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">condition</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2203" href="#t2203">2203</a></span><span class="t">                <span class="nam">condition</span> <span class="op">=</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">condition</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2204" href="#t2204">2204</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2205" href="#t2205">2205</a></span><span class="t">            <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationship</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">,</span> <span class="nam">condition</span><span class="op">=</span><span class="nam">condition</span><span class="op">,</span> <span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2206" href="#t2206">2206</a></span><span class="t">        <span class="key">elif</span> <span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2207" href="#t2207">2207</a></span><span class="t">            <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span> <span class="op">!=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2208" href="#t2208">2208</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"join(field, on=...) can only be used with exactly one field!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2209" href="#t2209">2209</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2210" href="#t2210">2210</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Expression</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2211" href="#t2211">2211</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="op">[</span><span class="nam">on</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2212" href="#t2212">2212</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2213" href="#t2213">2213</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2214" href="#t2214">2214</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">on</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2215" href="#t2215">2215</a></span><span class="t">            <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationship</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">,</span> <span class="nam">on</span><span class="op">=</span><span class="nam">on</span><span class="op">,</span> <span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2186" href="#t2186">2186</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">overwrite_query</span><span class="op">=</span><span class="nam">new_query</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2187" href="#t2187">2187</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2188" href="#t2188">2188</a></span><span class="t">    <span class="key">def</span> <span class="nam">join</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2189" href="#t2189">2189</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2190" href="#t2190">2190</a></span><span class="t">        <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">str</span> <span class="op">|</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">TypedTable</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2191" href="#t2191">2191</a></span><span class="t">        <span class="nam">method</span><span class="op">:</span> <span class="nam">JOIN_OPTIONS</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2192" href="#t2192">2192</a></span><span class="t">        <span class="nam">on</span><span class="op">:</span> <span class="nam">OnQuery</span> <span class="op">|</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Expression</span><span class="op">]</span> <span class="op">|</span> <span class="nam">Expression</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2193" href="#t2193">2193</a></span><span class="t">        <span class="nam">condition</span><span class="op">:</span> <span class="nam">Condition</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2194" href="#t2194">2194</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2195" href="#t2195">2195</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2196" href="#t2196">2196</a></span><span class="t"><span class="str">        Include relationship fields in the result.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2197" href="#t2197">2197</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2198" href="#t2198">2198</a></span><span class="t"><span class="str">        `fields` can be names of Relationships on the current model.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2199" href="#t2199">2199</a></span><span class="t"><span class="str">        If no fields are passed, all will be used.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2200" href="#t2200">2200</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2201" href="#t2201">2201</a></span><span class="t"><span class="str">        By default, the `method` defined in the relationship is used.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2202" href="#t2202">2202</a></span><span class="t"><span class="str">            This can be overwritten with the `method` keyword argument (left or inner)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2203" href="#t2203">2203</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2204" href="#t2204">2204</a></span><span class="t">        <span class="com"># todo: allow limiting amount of related rows returned for join?</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2205" href="#t2205">2205</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2206" href="#t2206">2206</a></span><span class="t">        <span class="nam">relationships</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">get_relationships</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2207" href="#t2207">2207</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2208" href="#t2208">2208</a></span><span class="t">        <span class="key">if</span> <span class="nam">condition</span> <span class="key">and</span> <span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2209" href="#t2209">2209</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"condition and on can not be used together!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2210" href="#t2210">2210</a></span><span class="t">        <span class="key">elif</span> <span class="nam">condition</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2211" href="#t2211">2211</a></span><span class="t">            <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span> <span class="op">!=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2212" href="#t2212">2212</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"join(field, condition=...) can only be used with exactly one field!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2213" href="#t2213">2213</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2214" href="#t2214">2214</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">condition</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Query</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2215" href="#t2215">2215</a></span><span class="t">                <span class="nam">condition</span> <span class="op">=</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">condition</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2216" href="#t2216">2216</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2217" href="#t2217">2217</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2218" href="#t2218">2218</a></span><span class="t">            <span class="key">if</span> <span class="nam">fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2219" href="#t2219">2219</a></span><span class="t">                <span class="com"># join on every relationship</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2220" href="#t2220">2220</a></span><span class="t">                <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationships</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">]</span> <span class="key">for</span> <span class="nam">k</span> <span class="key">in</span> <span class="nam">fields</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2217" href="#t2217">2217</a></span><span class="t">            <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationship</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">,</span> <span class="nam">condition</span><span class="op">=</span><span class="nam">condition</span><span class="op">,</span> <span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2218" href="#t2218">2218</a></span><span class="t">        <span class="key">elif</span> <span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2219" href="#t2219">2219</a></span><span class="t">            <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">fields</span><span class="op">)</span> <span class="op">!=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2220" href="#t2220">2220</a></span><span class="t">                <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"join(field, on=...) can only be used with exactly one field!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2221" href="#t2221">2221</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2222" href="#t2222">2222</a></span><span class="t">            <span class="key">if</span> <span class="nam">method</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2223" href="#t2223">2223</a></span><span class="t">                <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">:</span> <span class="nam">r</span><span class="op">.</span><span class="nam">clone</span><span class="op">(</span><span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">r</span> <span class="key">in</span> <span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2222" href="#t2222">2222</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Expression</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2223" href="#t2223">2223</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="op">[</span><span class="nam">on</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2224" href="#t2224">2224</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2225" href="#t2225">2225</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">relationships</span><span class="op">=</span><span class="nam">relationships</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2226" href="#t2226">2226</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2227" href="#t2227">2227</a></span><span class="t">    <span class="key">def</span> <span class="nam">cache</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2228" href="#t2228">2228</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">deps</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">expires_at</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">dt</span><span class="op">.</span><span class="nam">datetime</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">ttl</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span> <span class="op">|</span> <span class="nam">dt</span><span class="op">.</span><span class="nam">timedelta</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2229" href="#t2229">2229</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2230" href="#t2230">2230</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2231" href="#t2231">2231</a></span><span class="t"><span class="str">        Enable caching for this query to load repeated calls from a dill row \</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2232" href="#t2232">2232</a></span><span class="t"><span class="str">            instead of executing the sql and collecing matching rows again.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2233" href="#t2233">2233</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2234" href="#t2234">2234</a></span><span class="t">        <span class="nam">existing</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2235" href="#t2235">2235</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2236" href="#t2236">2236</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2237" href="#t2237">2237</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2238" href="#t2238">2238</a></span><span class="t">        <span class="nam">cache_meta</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2239" href="#t2239">2239</a></span><span class="t">            <span class="nam">CacheMetadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2240" href="#t2240">2240</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2241" href="#t2241">2241</a></span><span class="t">            <span class="op">|</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2242" href="#t2242">2242</a></span><span class="t">                <span class="str">"enabled"</span><span class="op">:</span> <span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2243" href="#t2243">2243</a></span><span class="t">                <span class="str">"depends_on"</span><span class="op">:</span> <span class="nam">existing</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"depends_on"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">deps</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2244" href="#t2244">2244</a></span><span class="t">                <span class="str">"expires_at"</span><span class="op">:</span> <span class="nam">get_expire</span><span class="op">(</span><span class="nam">expires_at</span><span class="op">=</span><span class="nam">expires_at</span><span class="op">,</span> <span class="nam">ttl</span><span class="op">=</span><span class="nam">ttl</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2245" href="#t2245">2245</a></span><span class="t">            <span class="op">}</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2246" href="#t2246">2246</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2225" href="#t2225">2225</a></span><span class="t">            <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2226" href="#t2226">2226</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">on</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2227" href="#t2227">2227</a></span><span class="t">            <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationship</span><span class="op">(</span><span class="nam">fields</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">,</span> <span class="nam">on</span><span class="op">=</span><span class="nam">on</span><span class="op">,</span> <span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2228" href="#t2228">2228</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2229" href="#t2229">2229</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2230" href="#t2230">2230</a></span><span class="t">            <span class="key">if</span> <span class="nam">fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2231" href="#t2231">2231</a></span><span class="t">                <span class="com"># join on every relationship</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2232" href="#t2232">2232</a></span><span class="t">                <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">:</span> <span class="nam">relationships</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">]</span> <span class="key">for</span> <span class="nam">k</span> <span class="key">in</span> <span class="nam">fields</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2233" href="#t2233">2233</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2234" href="#t2234">2234</a></span><span class="t">            <span class="key">if</span> <span class="nam">method</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2235" href="#t2235">2235</a></span><span class="t">                <span class="nam">relationships</span> <span class="op">=</span> <span class="op">{</span><span class="nam">str</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span><span class="op">:</span> <span class="nam">r</span><span class="op">.</span><span class="nam">clone</span><span class="op">(</span><span class="nam">join</span><span class="op">=</span><span class="nam">method</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">r</span> <span class="key">in</span> <span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2236" href="#t2236">2236</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2237" href="#t2237">2237</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">relationships</span><span class="op">=</span><span class="nam">relationships</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2238" href="#t2238">2238</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2239" href="#t2239">2239</a></span><span class="t">    <span class="key">def</span> <span class="nam">cache</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2240" href="#t2240">2240</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">deps</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">expires_at</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">dt</span><span class="op">.</span><span class="nam">datetime</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">ttl</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span> <span class="op">|</span> <span class="nam">dt</span><span class="op">.</span><span class="nam">timedelta</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2241" href="#t2241">2241</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2242" href="#t2242">2242</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2243" href="#t2243">2243</a></span><span class="t"><span class="str">        Enable caching for this query to load repeated calls from a dill row \</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2244" href="#t2244">2244</a></span><span class="t"><span class="str">            instead of executing the sql and collecing matching rows again.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2245" href="#t2245">2245</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2246" href="#t2246">2246</a></span><span class="t">        <span class="nam">existing</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2247" href="#t2247">2247</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2248" href="#t2248">2248</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">cache_meta</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2249" href="#t2249">2249</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2250" href="#t2250">2250</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2251" href="#t2251">2251</a></span><span class="t">    <span class="key">def</span> <span class="nam">_get_db</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">TypeDAL</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2252" href="#t2252">2252</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_db</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2253" href="#t2253">2253</a></span><span class="t">            <span class="key">return</span> <span class="nam">db</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2254" href="#t2254">2254</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2255" href="#t2255">2255</a></span><span class="t">            <span class="key">raise</span> <span class="nam">EnvironmentError</span><span class="op">(</span><span class="str">"@define or db.define is not called on this class yet!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2256" href="#t2256">2256</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2257" href="#t2257">2257</a></span><span class="t">    <span class="key">def</span> <span class="nam">_select_arg_convert</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">arg</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2258" href="#t2258">2258</a></span><span class="t">        <span class="com"># typedfield are not really used at runtime anymore, but leave it in for safety:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2259" href="#t2259">2259</a></span><span class="t">        <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">arg</span><span class="op">,</span> <span class="nam">TypedField</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2260" href="#t2260">2260</a></span><span class="t">            <span class="nam">arg</span> <span class="op">=</span> <span class="nam">arg</span><span class="op">.</span><span class="nam">_field</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2261" href="#t2261">2261</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2262" href="#t2262">2262</a></span><span class="t">        <span class="key">return</span> <span class="nam">arg</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2263" href="#t2263">2263</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2264" href="#t2264">2264</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2265" href="#t2265">2265</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2266" href="#t2266">2266</a></span><span class="t"><span class="str">        Based on the current query, delete rows and return a list of deleted IDs.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2267" href="#t2267">2267</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2268" href="#t2268">2268</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2269" href="#t2269">2269</a></span><span class="t">        <span class="nam">removed_ids</span> <span class="op">=</span> <span class="op">[</span><span class="nam">_</span><span class="op">.</span><span class="nam">id</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2270" href="#t2270">2270</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">delete</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2271" href="#t2271">2271</a></span><span class="t">            <span class="com"># success!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2272" href="#t2272">2272</a></span><span class="t">            <span class="key">return</span> <span class="nam">removed_ids</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2248" href="#t2248">2248</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2249" href="#t2249">2249</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2250" href="#t2250">2250</a></span><span class="t">        <span class="nam">cache_meta</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2251" href="#t2251">2251</a></span><span class="t">            <span class="nam">CacheMetadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2252" href="#t2252">2252</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2253" href="#t2253">2253</a></span><span class="t">            <span class="op">|</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2254" href="#t2254">2254</a></span><span class="t">                <span class="str">"enabled"</span><span class="op">:</span> <span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2255" href="#t2255">2255</a></span><span class="t">                <span class="str">"depends_on"</span><span class="op">:</span> <span class="nam">existing</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"depends_on"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">deps</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2256" href="#t2256">2256</a></span><span class="t">                <span class="str">"expires_at"</span><span class="op">:</span> <span class="nam">get_expire</span><span class="op">(</span><span class="nam">expires_at</span><span class="op">=</span><span class="nam">expires_at</span><span class="op">,</span> <span class="nam">ttl</span><span class="op">=</span><span class="nam">ttl</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2257" href="#t2257">2257</a></span><span class="t">            <span class="op">}</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2258" href="#t2258">2258</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2259" href="#t2259">2259</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2260" href="#t2260">2260</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">cache_meta</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2261" href="#t2261">2261</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2262" href="#t2262">2262</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2263" href="#t2263">2263</a></span><span class="t">    <span class="key">def</span> <span class="nam">_get_db</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">TypeDAL</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2264" href="#t2264">2264</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_db</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2265" href="#t2265">2265</a></span><span class="t">            <span class="key">return</span> <span class="nam">db</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2266" href="#t2266">2266</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2267" href="#t2267">2267</a></span><span class="t">            <span class="key">raise</span> <span class="nam">EnvironmentError</span><span class="op">(</span><span class="str">"@define or db.define is not called on this class yet!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2268" href="#t2268">2268</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2269" href="#t2269">2269</a></span><span class="t">    <span class="key">def</span> <span class="nam">_select_arg_convert</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">arg</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2270" href="#t2270">2270</a></span><span class="t">        <span class="com"># typedfield are not really used at runtime anymore, but leave it in for safety:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2271" href="#t2271">2271</a></span><span class="t">        <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">arg</span><span class="op">,</span> <span class="nam">TypedField</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2272" href="#t2272">2272</a></span><span class="t">            <span class="nam">arg</span> <span class="op">=</span> <span class="nam">arg</span><span class="op">.</span><span class="nam">_field</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2273" href="#t2273">2273</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2274" href="#t2274">2274</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2274" href="#t2274">2274</a></span><span class="t">        <span class="key">return</span> <span class="nam">arg</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2275" href="#t2275">2275</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2276" href="#t2276">2276</a></span><span class="t">    <span class="key">def</span> <span class="nam">_delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2277" href="#t2277">2277</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2278" href="#t2278">2278</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_delete</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2279" href="#t2279">2279</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2280" href="#t2280">2280</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2281" href="#t2281">2281</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2282" href="#t2282">2282</a></span><span class="t"><span class="str">        Based on the current query, update `fields` and return a list of updated IDs.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2283" href="#t2283">2283</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2284" href="#t2284">2284</a></span><span class="t">        <span class="com"># todo: limit?</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2285" href="#t2285">2285</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2286" href="#t2286">2286</a></span><span class="t">        <span class="nam">updated_ids</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2287" href="#t2287">2287</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2288" href="#t2288">2288</a></span><span class="t">            <span class="com"># success!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2289" href="#t2289">2289</a></span><span class="t">            <span class="key">return</span> <span class="nam">updated_ids</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2290" href="#t2290">2290</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2291" href="#t2291">2291</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2292" href="#t2292">2292</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2293" href="#t2293">2293</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2294" href="#t2294">2294</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2295" href="#t2295">2295</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2296" href="#t2296">2296</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2297" href="#t2297">2297</a></span><span class="t">    <span class="key">def</span> <span class="nam">_before_query</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mut_metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2298" href="#t2298">2298</a></span><span class="t">        <span class="nam">select_args</span> <span class="op">=</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">_select_arg_convert</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">]</span> <span class="key">or</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">ALL</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2299" href="#t2299">2299</a></span><span class="t">        <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2300" href="#t2300">2300</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2301" href="#t2301">2301</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2302" href="#t2302">2302</a></span><span class="t">        <span class="nam">mut_metadata</span><span class="op">[</span><span class="str">"query"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2303" href="#t2303">2303</a></span><span class="t">        <span class="com"># require at least id of main table:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2304" href="#t2304">2304</a></span><span class="t">        <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2305" href="#t2305">2305</a></span><span class="t">        <span class="nam">tablename</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">model</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2306" href="#t2306">2306</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2307" href="#t2307">2307</a></span><span class="t">        <span class="key">if</span> <span class="nam">add_id</span> <span class="key">and</span> <span class="str">f"{tablename}.id"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2308" href="#t2308">2308</a></span><span class="t">            <span class="com"># fields of other selected, but required ID is missing.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2309" href="#t2309">2309</a></span><span class="t">            <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2310" href="#t2310">2310</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2311" href="#t2311">2311</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2312" href="#t2312">2312</a></span><span class="t">            <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_handle_relationships_pre_select</span><span class="op">(</span><span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span><span class="op">,</span> <span class="nam">mut_metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2313" href="#t2313">2313</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2314" href="#t2314">2314</a></span><span class="t">        <span class="key">return</span> <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2315" href="#t2315">2315</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2316" href="#t2316">2316</a></span><span class="t">    <span class="key">def</span> <span class="nam">to_sql</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2317" href="#t2317">2317</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2318" href="#t2318">2318</a></span><span class="t"><span class="str">        Generate the SQL for the built query.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2319" href="#t2319">2319</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2320" href="#t2320">2320</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2321" href="#t2321">2321</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2322" href="#t2322">2322</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="op">{</span><span class="op">}</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2323" href="#t2323">2323</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2324" href="#t2324">2324</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2276" href="#t2276">2276</a></span><span class="t">    <span class="key">def</span> <span class="nam">delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2277" href="#t2277">2277</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2278" href="#t2278">2278</a></span><span class="t"><span class="str">        Based on the current query, delete rows and return a list of deleted IDs.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2279" href="#t2279">2279</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2280" href="#t2280">2280</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2281" href="#t2281">2281</a></span><span class="t">        <span class="nam">removed_ids</span> <span class="op">=</span> <span class="op">[</span><span class="nam">_</span><span class="op">.</span><span class="nam">id</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2282" href="#t2282">2282</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">delete</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2283" href="#t2283">2283</a></span><span class="t">            <span class="com"># success!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2284" href="#t2284">2284</a></span><span class="t">            <span class="key">return</span> <span class="nam">removed_ids</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2285" href="#t2285">2285</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2286" href="#t2286">2286</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2287" href="#t2287">2287</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2288" href="#t2288">2288</a></span><span class="t">    <span class="key">def</span> <span class="nam">_delete</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2289" href="#t2289">2289</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2290" href="#t2290">2290</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_delete</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2291" href="#t2291">2291</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2292" href="#t2292">2292</a></span><span class="t">    <span class="key">def</span> <span class="nam">update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2293" href="#t2293">2293</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2294" href="#t2294">2294</a></span><span class="t"><span class="str">        Based on the current query, update `fields` and return a list of updated IDs.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2295" href="#t2295">2295</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2296" href="#t2296">2296</a></span><span class="t">        <span class="com"># todo: limit?</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2297" href="#t2297">2297</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2298" href="#t2298">2298</a></span><span class="t">        <span class="nam">updated_ids</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span><span class="op">.</span><span class="nam">column</span><span class="op">(</span><span class="str">"id"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2299" href="#t2299">2299</a></span><span class="t">        <span class="key">if</span> <span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2300" href="#t2300">2300</a></span><span class="t">            <span class="com"># success!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2301" href="#t2301">2301</a></span><span class="t">            <span class="key">return</span> <span class="nam">updated_ids</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2302" href="#t2302">2302</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2303" href="#t2303">2303</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2304" href="#t2304">2304</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2305" href="#t2305">2305</a></span><span class="t">    <span class="key">def</span> <span class="nam">_update</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">**</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2306" href="#t2306">2306</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2307" href="#t2307">2307</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_update</span><span class="op">(</span><span class="op">**</span><span class="nam">fields</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2308" href="#t2308">2308</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2309" href="#t2309">2309</a></span><span class="t">    <span class="key">def</span> <span class="nam">_before_query</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mut_metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">AnyDict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2310" href="#t2310">2310</a></span><span class="t">        <span class="nam">select_args</span> <span class="op">=</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">_select_arg_convert</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">]</span> <span class="key">or</span> <span class="op">[</span><span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">ALL</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2311" href="#t2311">2311</a></span><span class="t">        <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2312" href="#t2312">2312</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2313" href="#t2313">2313</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2314" href="#t2314">2314</a></span><span class="t">        <span class="nam">mut_metadata</span><span class="op">[</span><span class="str">"query"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2315" href="#t2315">2315</a></span><span class="t">        <span class="com"># require at least id of main table:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2316" href="#t2316">2316</a></span><span class="t">        <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2317" href="#t2317">2317</a></span><span class="t">        <span class="nam">tablename</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">model</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2318" href="#t2318">2318</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2319" href="#t2319">2319</a></span><span class="t">        <span class="key">if</span> <span class="nam">add_id</span> <span class="key">and</span> <span class="str">f"{tablename}.id"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2320" href="#t2320">2320</a></span><span class="t">            <span class="com"># fields of other selected, but required ID is missing.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2321" href="#t2321">2321</a></span><span class="t">            <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2322" href="#t2322">2322</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2323" href="#t2323">2323</a></span><span class="t">        <span class="key">if</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2324" href="#t2324">2324</a></span><span class="t">            <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_handle_relationships_pre_select</span><span class="op">(</span><span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span><span class="op">,</span> <span class="nam">mut_metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2325" href="#t2325">2325</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2326" href="#t2326">2326</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2327" href="#t2327">2327</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2328" href="#t2328">2328</a></span><span class="t"><span class="str">        Alias for to_sql, pydal-like syntax.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2329" href="#t2329">2329</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2330" href="#t2330">2330</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">to_sql</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2331" href="#t2331">2331</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2332" href="#t2332">2332</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect_cached</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance] | None"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2333" href="#t2333">2333</a></span><span class="t">        <span class="nam">expires_at</span> <span class="op">=</span> <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"expires_at"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2334" href="#t2334">2334</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span> <span class="op">|=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2335" href="#t2335">2335</a></span><span class="t">            <span class="com"># key is partly dependant on cache metadata but not these:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2336" href="#t2336">2336</a></span><span class="t">            <span class="str">"key"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2337" href="#t2337">2337</a></span><span class="t">            <span class="str">"status"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2338" href="#t2338">2338</a></span><span class="t">            <span class="str">"cached_at"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2339" href="#t2339">2339</a></span><span class="t">            <span class="str">"expires_at"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2340" href="#t2340">2340</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2341" href="#t2341">2341</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2342" href="#t2342">2342</a></span><span class="t">        <span class="nam">_</span><span class="op">,</span> <span class="nam">key</span> <span class="op">=</span> <span class="nam">create_and_hash_cache_key</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2343" href="#t2343">2343</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2344" href="#t2344">2344</a></span><span class="t">            <span class="nam">metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2345" href="#t2345">2345</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2346" href="#t2346">2346</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2347" href="#t2347">2347</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2348" href="#t2348">2348</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2349" href="#t2349">2349</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2350" href="#t2350">2350</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2351" href="#t2351">2351</a></span><span class="t">        <span class="com"># re-set after creating key:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2352" href="#t2352">2352</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">[</span><span class="str">"expires_at"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">expires_at</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2353" href="#t2353">2353</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">[</span><span class="str">"key"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">key</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2354" href="#t2354">2354</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2355" href="#t2355">2355</a></span><span class="t">        <span class="key">return</span> <span class="nam">load_from_cache</span><span class="op">(</span><span class="nam">key</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2356" href="#t2356">2356</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2357" href="#t2357">2357</a></span><span class="t">    <span class="key">def</span> <span class="nam">execute</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2358" href="#t2358">2358</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2359" href="#t2359">2359</a></span><span class="t"><span class="str">        Raw version of .collect which only executes the SQL, without performing any magic afterwards.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2360" href="#t2360">2360</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2361" href="#t2361">2361</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2362" href="#t2362">2362</a></span><span class="t">        <span class="nam">metadata</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Metadata</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2363" href="#t2363">2363</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2364" href="#t2364">2364</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2365" href="#t2365">2365</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2366" href="#t2366">2366</a></span><span class="t">        <span class="key">return</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2367" href="#t2367">2367</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2368" href="#t2368">2368</a></span><span class="t">    <span class="key">def</span> <span class="nam">collect</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2369" href="#t2369">2369</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">_to</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="str">"TypedRows[Any]"</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2370" href="#t2370">2370</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2371" href="#t2371">2371</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2372" href="#t2372">2372</a></span><span class="t"><span class="str">        Execute the built query and turn it into model instances, while handling relationships.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2373" href="#t2373">2373</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2374" href="#t2374">2374</a></span><span class="t">        <span class="key">if</span> <span class="nam">_to</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2375" href="#t2375">2375</a></span><span class="t">            <span class="nam">_to</span> <span class="op">=</span> <span class="nam">TypedRows</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2376" href="#t2376">2376</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2377" href="#t2377">2377</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2378" href="#t2378">2378</a></span><span class="t">        <span class="nam">metadata</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Metadata</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2326" href="#t2326">2326</a></span><span class="t">        <span class="key">return</span> <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2327" href="#t2327">2327</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2328" href="#t2328">2328</a></span><span class="t">    <span class="key">def</span> <span class="nam">to_sql</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2329" href="#t2329">2329</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2330" href="#t2330">2330</a></span><span class="t"><span class="str">        Generate the SQL for the built query.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2331" href="#t2331">2331</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2332" href="#t2332">2332</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2333" href="#t2333">2333</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2334" href="#t2334">2334</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="op">{</span><span class="op">}</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2335" href="#t2335">2335</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2336" href="#t2336">2336</a></span><span class="t">        <span class="key">return</span> <span class="nam">str</span><span class="op">(</span><span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2337" href="#t2337">2337</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2338" href="#t2338">2338</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2339" href="#t2339">2339</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2340" href="#t2340">2340</a></span><span class="t"><span class="str">        Alias for to_sql, pydal-like syntax.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2341" href="#t2341">2341</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2342" href="#t2342">2342</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">to_sql</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2343" href="#t2343">2343</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2344" href="#t2344">2344</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect_cached</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance] | None"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2345" href="#t2345">2345</a></span><span class="t">        <span class="nam">expires_at</span> <span class="op">=</span> <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"expires_at"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2346" href="#t2346">2346</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span> <span class="op">|=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2347" href="#t2347">2347</a></span><span class="t">            <span class="com"># key is partly dependant on cache metadata but not these:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2348" href="#t2348">2348</a></span><span class="t">            <span class="str">"key"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2349" href="#t2349">2349</a></span><span class="t">            <span class="str">"status"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2350" href="#t2350">2350</a></span><span class="t">            <span class="str">"cached_at"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2351" href="#t2351">2351</a></span><span class="t">            <span class="str">"expires_at"</span><span class="op">:</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2352" href="#t2352">2352</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2353" href="#t2353">2353</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2354" href="#t2354">2354</a></span><span class="t">        <span class="nam">_</span><span class="op">,</span> <span class="nam">key</span> <span class="op">=</span> <span class="nam">create_and_hash_cache_key</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2355" href="#t2355">2355</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2356" href="#t2356">2356</a></span><span class="t">            <span class="nam">metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2357" href="#t2357">2357</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2358" href="#t2358">2358</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">select_args</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2359" href="#t2359">2359</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">select_kwargs</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2360" href="#t2360">2360</a></span><span class="t">            <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2361" href="#t2361">2361</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2362" href="#t2362">2362</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2363" href="#t2363">2363</a></span><span class="t">        <span class="com"># re-set after creating key:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2364" href="#t2364">2364</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">[</span><span class="str">"expires_at"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">expires_at</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2365" href="#t2365">2365</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"cache"</span><span class="op">]</span><span class="op">[</span><span class="str">"key"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">key</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2366" href="#t2366">2366</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2367" href="#t2367">2367</a></span><span class="t">        <span class="key">return</span> <span class="nam">load_from_cache</span><span class="op">(</span><span class="nam">key</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2368" href="#t2368">2368</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2369" href="#t2369">2369</a></span><span class="t">    <span class="key">def</span> <span class="nam">execute</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2370" href="#t2370">2370</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2371" href="#t2371">2371</a></span><span class="t"><span class="str">        Raw version of .collect which only executes the SQL, without performing any magic afterwards.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2372" href="#t2372">2372</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2373" href="#t2373">2373</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2374" href="#t2374">2374</a></span><span class="t">        <span class="nam">metadata</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Metadata</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2375" href="#t2375">2375</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2376" href="#t2376">2376</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2377" href="#t2377">2377</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2378" href="#t2378">2378</a></span><span class="t">        <span class="key">return</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2379" href="#t2379">2379</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2380" href="#t2380">2380</a></span><span class="t">        <span class="key">if</span> <span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"enabled"</span><span class="op">)</span> <span class="key">and</span> <span class="op">(</span><span class="nam">result</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_collect_cached</span><span class="op">(</span><span class="nam">metadata</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2381" href="#t2381">2381</a></span><span class="t">            <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2382" href="#t2382">2382</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2383" href="#t2383">2383</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2384" href="#t2384">2384</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2385" href="#t2385">2385</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"sql"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2386" href="#t2386">2386</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2387" href="#t2387">2387</a></span><span class="t">        <span class="key">if</span> <span class="nam">verbose</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2388" href="#t2388">2388</a></span><span class="t">            <span class="nam">print</span><span class="op">(</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"sql"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2389" href="#t2389">2389</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2390" href="#t2390">2390</a></span><span class="t">        <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2380" href="#t2380">2380</a></span><span class="t">    <span class="key">def</span> <span class="nam">collect</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2381" href="#t2381">2381</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">,</span> <span class="nam">_to</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="str">"TypedRows[Any]"</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2382" href="#t2382">2382</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2383" href="#t2383">2383</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2384" href="#t2384">2384</a></span><span class="t"><span class="str">        Execute the built query and turn it into model instances, while handling relationships.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2385" href="#t2385">2385</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2386" href="#t2386">2386</a></span><span class="t">        <span class="key">if</span> <span class="nam">_to</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2387" href="#t2387">2387</a></span><span class="t">            <span class="nam">_to</span> <span class="op">=</span> <span class="nam">TypedRows</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2388" href="#t2388">2388</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2389" href="#t2389">2389</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2390" href="#t2390">2390</a></span><span class="t">        <span class="nam">metadata</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Metadata</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2391" href="#t2391">2391</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2392" href="#t2392">2392</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_query"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2393" href="#t2393">2393</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_args"</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2394" href="#t2394">2394</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_kwargs"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">select_kwargs</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2395" href="#t2395">2395</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2396" href="#t2396">2396</a></span><span class="t">        <span class="key">if</span> <span class="nam">verbose</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2397" href="#t2397">2397</a></span><span class="t">            <span class="nam">print</span><span class="op">(</span><span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2392" href="#t2392">2392</a></span><span class="t">        <span class="key">if</span> <span class="nam">metadata</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"cache"</span><span class="op">,</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"enabled"</span><span class="op">)</span> <span class="key">and</span> <span class="op">(</span><span class="nam">result</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_collect_cached</span><span class="op">(</span><span class="nam">metadata</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2393" href="#t2393">2393</a></span><span class="t">            <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2394" href="#t2394">2394</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2395" href="#t2395">2395</a></span><span class="t">        <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span><span class="op">,</span> <span class="nam">select_kwargs</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_before_query</span><span class="op">(</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">add_id</span><span class="op">=</span><span class="nam">add_id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2396" href="#t2396">2396</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2397" href="#t2397">2397</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"sql"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2398" href="#t2398">2398</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2399" href="#t2399">2399</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2400" href="#t2400">2400</a></span><span class="t">            <span class="com"># easy</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2401" href="#t2401">2401</a></span><span class="t">            <span class="nam">typed_rows</span> <span class="op">=</span> <span class="nam">_to</span><span class="op">.</span><span class="nam">from_rows</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2402" href="#t2402">2402</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2403" href="#t2403">2403</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2404" href="#t2404">2404</a></span><span class="t">            <span class="com"># harder: try to match rows to the belonging objects</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2405" href="#t2405">2405</a></span><span class="t">            <span class="com"># assume structure of {'table': &lt;data>} per row.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2406" href="#t2406">2406</a></span><span class="t">            <span class="com"># if that's not the case, return default behavior again</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2407" href="#t2407">2407</a></span><span class="t">            <span class="nam">typed_rows</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_collect_with_relationships</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">_to</span><span class="op">=</span><span class="nam">_to</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2408" href="#t2408">2408</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2409" href="#t2409">2409</a></span><span class="t">        <span class="com"># only saves if requested in metadata:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2410" href="#t2410">2410</a></span><span class="t">        <span class="key">return</span> <span class="nam">save_to_cache</span><span class="op">(</span><span class="nam">typed_rows</span><span class="op">,</span> <span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2411" href="#t2411">2411</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2412" href="#t2412">2412</a></span><span class="t">    <span class="key">def</span> <span class="nam">_handle_relationships_pre_select</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2413" href="#t2413">2413</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2414" href="#t2414">2414</a></span><span class="t">        <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2415" href="#t2415">2415</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2416" href="#t2416">2416</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2417" href="#t2417">2417</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2418" href="#t2418">2418</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2419" href="#t2419">2419</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2420" href="#t2420">2420</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2421" href="#t2421">2421</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2422" href="#t2422">2422</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"relationships"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2399" href="#t2399">2399</a></span><span class="t">        <span class="key">if</span> <span class="nam">verbose</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2400" href="#t2400">2400</a></span><span class="t">            <span class="nam">print</span><span class="op">(</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"sql"</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2401" href="#t2401">2401</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2402" href="#t2402">2402</a></span><span class="t">        <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">select_args</span><span class="op">,</span> <span class="op">**</span><span class="nam">select_kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2403" href="#t2403">2403</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2404" href="#t2404">2404</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_query"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2405" href="#t2405">2405</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_args"</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2406" href="#t2406">2406</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"final_kwargs"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">select_kwargs</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2407" href="#t2407">2407</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2408" href="#t2408">2408</a></span><span class="t">        <span class="key">if</span> <span class="nam">verbose</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2409" href="#t2409">2409</a></span><span class="t">            <span class="nam">print</span><span class="op">(</span><span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2410" href="#t2410">2410</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2411" href="#t2411">2411</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2412" href="#t2412">2412</a></span><span class="t">            <span class="com"># easy</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2413" href="#t2413">2413</a></span><span class="t">            <span class="nam">typed_rows</span> <span class="op">=</span> <span class="nam">_to</span><span class="op">.</span><span class="nam">from_rows</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2414" href="#t2414">2414</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2415" href="#t2415">2415</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2416" href="#t2416">2416</a></span><span class="t">            <span class="com"># harder: try to match rows to the belonging objects</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2417" href="#t2417">2417</a></span><span class="t">            <span class="com"># assume structure of {'table': &lt;data>} per row.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2418" href="#t2418">2418</a></span><span class="t">            <span class="com"># if that's not the case, return default behavior again</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2419" href="#t2419">2419</a></span><span class="t">            <span class="nam">typed_rows</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_collect_with_relationships</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">,</span> <span class="nam">_to</span><span class="op">=</span><span class="nam">_to</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2420" href="#t2420">2420</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2421" href="#t2421">2421</a></span><span class="t">        <span class="com"># only saves if requested in metadata:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2422" href="#t2422">2422</a></span><span class="t">        <span class="key">return</span> <span class="nam">save_to_cache</span><span class="op">(</span><span class="nam">typed_rows</span><span class="op">,</span> <span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2423" href="#t2423">2423</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2424" href="#t2424">2424</a></span><span class="t">        <span class="com"># query = self._update_query_for_inner(db, model, query)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2425" href="#t2425">2425</a></span><span class="t">        <span class="nam">join</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2426" href="#t2426">2426</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2427" href="#t2427">2427</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span> <span class="key">or</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="op">!=</span> <span class="str">"inner"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2428" href="#t2428">2428</a></span><span class="t">                <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2429" href="#t2429">2429</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2430" href="#t2430">2430</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2431" href="#t2431">2431</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2432" href="#t2432">2432</a></span><span class="t">            <span class="nam">join</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2424" href="#t2424">2424</a></span><span class="t">    <span class="key">def</span> <span class="nam">_handle_relationships_pre_select</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2425" href="#t2425">2425</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2426" href="#t2426">2426</a></span><span class="t">        <span class="nam">query</span><span class="op">:</span> <span class="nam">Query</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2427" href="#t2427">2427</a></span><span class="t">        <span class="nam">select_args</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2428" href="#t2428">2428</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">:</span> <span class="nam">AnyDict</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2429" href="#t2429">2429</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2430" href="#t2430">2430</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2431" href="#t2431">2431</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2432" href="#t2432">2432</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2433" href="#t2433">2433</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2434" href="#t2434">2434</a></span><span class="t">        <span class="key">if</span> <span class="nam">limitby</span> <span class="op">:=</span> <span class="nam">select_kwargs</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">"limitby"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2435" href="#t2435">2435</a></span><span class="t">            <span class="com"># if limitby + relationships:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2436" href="#t2436">2436</a></span><span class="t">            <span class="com"># 1. get IDs of main table entries that match 'query'</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2437" href="#t2437">2437</a></span><span class="t">            <span class="com"># 2. change query to .belongs(id)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2438" href="#t2438">2438</a></span><span class="t">            <span class="com"># 3. add joins etc</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2439" href="#t2439">2439</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2440" href="#t2440">2440</a></span><span class="t">            <span class="nam">kwargs</span> <span class="op">=</span> <span class="op">{</span><span class="str">"limitby"</span><span class="op">:</span> <span class="nam">limitby</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2434" href="#t2434">2434</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"relationships"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2435" href="#t2435">2435</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2436" href="#t2436">2436</a></span><span class="t">        <span class="com"># query = self._update_query_for_inner(db, model, query)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2437" href="#t2437">2437</a></span><span class="t">        <span class="nam">join</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2438" href="#t2438">2438</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2439" href="#t2439">2439</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span> <span class="key">or</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="op">!=</span> <span class="str">"inner"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2440" href="#t2440">2440</a></span><span class="t">                <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2441" href="#t2441">2441</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2442" href="#t2442">2442</a></span><span class="t">            <span class="key">if</span> <span class="nam">join</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2443" href="#t2443">2443</a></span><span class="t">                <span class="nam">kwargs</span><span class="op">[</span><span class="str">"join"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">join</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2444" href="#t2444">2444</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2445" href="#t2445">2445</a></span><span class="t">            <span class="nam">ids</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2446" href="#t2446">2446</a></span><span class="t">            <span class="nam">query</span> <span class="op">=</span> <span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2447" href="#t2447">2447</a></span><span class="t">            <span class="nam">metadata</span><span class="op">[</span><span class="str">"ids"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">ids</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2448" href="#t2448">2448</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2449" href="#t2449">2449</a></span><span class="t">        <span class="key">if</span> <span class="nam">join</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2450" href="#t2450">2450</a></span><span class="t">            <span class="nam">select_kwargs</span><span class="op">[</span><span class="str">"join"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">join</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2442" href="#t2442">2442</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2443" href="#t2443">2443</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2444" href="#t2444">2444</a></span><span class="t">            <span class="nam">join</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2445" href="#t2445">2445</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2446" href="#t2446">2446</a></span><span class="t">        <span class="key">if</span> <span class="nam">limitby</span> <span class="op">:=</span> <span class="nam">select_kwargs</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">"limitby"</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2447" href="#t2447">2447</a></span><span class="t">            <span class="com"># if limitby + relationships:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2448" href="#t2448">2448</a></span><span class="t">            <span class="com"># 1. get IDs of main table entries that match 'query'</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2449" href="#t2449">2449</a></span><span class="t">            <span class="com"># 2. change query to .belongs(id)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2450" href="#t2450">2450</a></span><span class="t">            <span class="com"># 3. add joins etc</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2451" href="#t2451">2451</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2452" href="#t2452">2452</a></span><span class="t">        <span class="nam">left</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2452" href="#t2452">2452</a></span><span class="t">            <span class="nam">kwargs</span> <span class="op">=</span> <span class="op">{</span><span class="str">"limitby"</span><span class="op">:</span> <span class="nam">limitby</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2453" href="#t2453">2453</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2454" href="#t2454">2454</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2455" href="#t2455">2455</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2456" href="#t2456">2456</a></span><span class="t">            <span class="nam">method</span><span class="op">:</span> <span class="nam">JOIN_OPTIONS</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="key">or</span> <span class="nam">DEFAULT_JOIN_OPTION</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2457" href="#t2457">2457</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2458" href="#t2458">2458</a></span><span class="t">            <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2459" href="#t2459">2459</a></span><span class="t">            <span class="nam">pre_alias</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2454" href="#t2454">2454</a></span><span class="t">            <span class="key">if</span> <span class="nam">join</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2455" href="#t2455">2455</a></span><span class="t">                <span class="nam">kwargs</span><span class="op">[</span><span class="str">"join"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">join</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2456" href="#t2456">2456</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2457" href="#t2457">2457</a></span><span class="t">            <span class="nam">ids</span> <span class="op">=</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">_select</span><span class="op">(</span><span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2458" href="#t2458">2458</a></span><span class="t">            <span class="nam">query</span> <span class="op">=</span> <span class="nam">model</span><span class="op">.</span><span class="nam">id</span><span class="op">.</span><span class="nam">belongs</span><span class="op">(</span><span class="nam">ids</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2459" href="#t2459">2459</a></span><span class="t">            <span class="nam">metadata</span><span class="op">[</span><span class="str">"ids"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">ids</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2460" href="#t2460">2460</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2461" href="#t2461">2461</a></span><span class="t">            <span class="key">if</span> <span class="str">f"{other}."</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2462" href="#t2462">2462</a></span><span class="t">                <span class="com"># no fields of other selected. add .ALL:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2463" href="#t2463">2463</a></span><span class="t">                <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">ALL</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2464" href="#t2464">2464</a></span><span class="t">            <span class="key">elif</span> <span class="str">f"{other}.id"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2465" href="#t2465">2465</a></span><span class="t">                <span class="com"># fields of other selected, but required ID is missing.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2466" href="#t2466">2466</a></span><span class="t">                <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2467" href="#t2467">2467</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2468" href="#t2468">2468</a></span><span class="t">            <span class="key">if</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2469" href="#t2469">2469</a></span><span class="t">                <span class="com"># if it has a .on, it's always a left join!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2470" href="#t2470">2470</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2471" href="#t2471">2471</a></span><span class="t">                <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2472" href="#t2472">2472</a></span><span class="t">                    <span class="nam">on</span> <span class="op">=</span> <span class="op">[</span><span class="nam">on</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2473" href="#t2473">2473</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2474" href="#t2474">2474</a></span><span class="t">                <span class="nam">left</span><span class="op">.</span><span class="nam">extend</span><span class="op">(</span><span class="nam">on</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2475" href="#t2475">2475</a></span><span class="t">            <span class="key">elif</span> <span class="nam">method</span> <span class="op">==</span> <span class="str">"left"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2476" href="#t2476">2476</a></span><span class="t">                <span class="com"># .on not given, generate it:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2477" href="#t2477">2477</a></span><span class="t">                <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2478" href="#t2478">2478</a></span><span class="t">                <span class="nam">condition</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2479" href="#t2479">2479</a></span><span class="t">                <span class="nam">left</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">condition</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2480" href="#t2480">2480</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2481" href="#t2481">2481</a></span><span class="t">                <span class="com"># else: inner join (handled earlier)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2482" href="#t2482">2482</a></span><span class="t">                <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>  <span class="com"># only for replace</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2483" href="#t2483">2483</a></span><span class="t">                <span class="com"># other = other.with_alias(f"{key}_{hash(relation)}")</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2484" href="#t2484">2484</a></span><span class="t">                <span class="com"># query &amp;= relation.condition(model, other)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2461" href="#t2461">2461</a></span><span class="t">        <span class="key">if</span> <span class="nam">join</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2462" href="#t2462">2462</a></span><span class="t">            <span class="nam">select_kwargs</span><span class="op">[</span><span class="str">"join"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">join</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2463" href="#t2463">2463</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2464" href="#t2464">2464</a></span><span class="t">        <span class="nam">left</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2465" href="#t2465">2465</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2466" href="#t2466">2466</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2467" href="#t2467">2467</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2468" href="#t2468">2468</a></span><span class="t">            <span class="nam">method</span><span class="op">:</span> <span class="nam">JOIN_OPTIONS</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="key">or</span> <span class="nam">DEFAULT_JOIN_OPTION</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2469" href="#t2469">2469</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2470" href="#t2470">2470</a></span><span class="t">            <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2471" href="#t2471">2471</a></span><span class="t">            <span class="nam">pre_alias</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2472" href="#t2472">2472</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2473" href="#t2473">2473</a></span><span class="t">            <span class="key">if</span> <span class="str">f"{other}."</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2474" href="#t2474">2474</a></span><span class="t">                <span class="com"># no fields of other selected. add .ALL:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2475" href="#t2475">2475</a></span><span class="t">                <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">ALL</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2476" href="#t2476">2476</a></span><span class="t">            <span class="key">elif</span> <span class="str">f"{other}.id"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">select_fields</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2477" href="#t2477">2477</a></span><span class="t">                <span class="com"># fields of other selected, but required ID is missing.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2478" href="#t2478">2478</a></span><span class="t">                <span class="nam">select_args</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">id</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2479" href="#t2479">2479</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2480" href="#t2480">2480</a></span><span class="t">            <span class="key">if</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">on</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2481" href="#t2481">2481</a></span><span class="t">                <span class="com"># if it has a .on, it's always a left join!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2482" href="#t2482">2482</a></span><span class="t">                <span class="nam">on</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2483" href="#t2483">2483</a></span><span class="t">                <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">on</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2484" href="#t2484">2484</a></span><span class="t">                    <span class="nam">on</span> <span class="op">=</span> <span class="op">[</span><span class="nam">on</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2485" href="#t2485">2485</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2486" href="#t2486">2486</a></span><span class="t">            <span class="com"># if no fields of 'other' are included, add other.ALL</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2487" href="#t2487">2487</a></span><span class="t">            <span class="com"># else: only add other.id if missing</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2488" href="#t2488">2488</a></span><span class="t">            <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2489" href="#t2489">2489</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2490" href="#t2490">2490</a></span><span class="t">            <span class="nam">post_alias</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">other</span><span class="op">)</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" AS "</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="num">1</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2491" href="#t2491">2491</a></span><span class="t">            <span class="key">if</span> <span class="nam">pre_alias</span> <span class="op">!=</span> <span class="nam">post_alias</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2492" href="#t2492">2492</a></span><span class="t">                <span class="com"># replace .select's with aliased:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2493" href="#t2493">2493</a></span><span class="t">                <span class="nam">select_fields</span> <span class="op">=</span> <span class="nam">select_fields</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2494" href="#t2494">2494</a></span><span class="t">                    <span class="str">f"{pre_alias}."</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2495" href="#t2495">2495</a></span><span class="t">                    <span class="str">f"{post_alias}."</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2496" href="#t2496">2496</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2486" href="#t2486">2486</a></span><span class="t">                <span class="nam">left</span><span class="op">.</span><span class="nam">extend</span><span class="op">(</span><span class="nam">on</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2487" href="#t2487">2487</a></span><span class="t">            <span class="key">elif</span> <span class="nam">method</span> <span class="op">==</span> <span class="str">"left"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2488" href="#t2488">2488</a></span><span class="t">                <span class="com"># .on not given, generate it:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2489" href="#t2489">2489</a></span><span class="t">                <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2490" href="#t2490">2490</a></span><span class="t">                <span class="nam">condition</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">Query</span><span class="op">,</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2491" href="#t2491">2491</a></span><span class="t">                <span class="nam">left</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">other</span><span class="op">.</span><span class="nam">on</span><span class="op">(</span><span class="nam">condition</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2492" href="#t2492">2492</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2493" href="#t2493">2493</a></span><span class="t">                <span class="com"># else: inner join (handled earlier)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2494" href="#t2494">2494</a></span><span class="t">                <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>  <span class="com"># only for replace</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2495" href="#t2495">2495</a></span><span class="t">                <span class="com"># other = other.with_alias(f"{key}_{hash(relation)}")</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2496" href="#t2496">2496</a></span><span class="t">                <span class="com"># query &amp;= relation.condition(model, other)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2497" href="#t2497">2497</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2498" href="#t2498">2498</a></span><span class="t">                <span class="nam">select_args</span> <span class="op">=</span> <span class="nam">select_fields</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">", "</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2499" href="#t2499">2499</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2500" href="#t2500">2500</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">[</span><span class="str">"left"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">left</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2501" href="#t2501">2501</a></span><span class="t">        <span class="key">return</span> <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2502" href="#t2502">2502</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2503" href="#t2503">2503</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect_with_relationships</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2504" href="#t2504">2504</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span> <span class="nam">_to</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="str">"TypedRows[Any]"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2505" href="#t2505">2505</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2506" href="#t2506">2506</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2507" href="#t2507">2507</a></span><span class="t"><span class="str">        Transform the raw rows into Typed Table model instances.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2508" href="#t2508">2508</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2509" href="#t2509">2509</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2510" href="#t2510">2510</a></span><span class="t">        <span class="nam">main_table</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2498" href="#t2498">2498</a></span><span class="t">            <span class="com"># if no fields of 'other' are included, add other.ALL</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2499" href="#t2499">2499</a></span><span class="t">            <span class="com"># else: only add other.id if missing</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2500" href="#t2500">2500</a></span><span class="t">            <span class="nam">select_fields</span> <span class="op">=</span> <span class="str">", "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">_</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">select_args</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2501" href="#t2501">2501</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2502" href="#t2502">2502</a></span><span class="t">            <span class="nam">post_alias</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">other</span><span class="op">)</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">" AS "</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="num">1</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2503" href="#t2503">2503</a></span><span class="t">            <span class="key">if</span> <span class="nam">pre_alias</span> <span class="op">!=</span> <span class="nam">post_alias</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2504" href="#t2504">2504</a></span><span class="t">                <span class="com"># replace .select's with aliased:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2505" href="#t2505">2505</a></span><span class="t">                <span class="nam">select_fields</span> <span class="op">=</span> <span class="nam">select_fields</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2506" href="#t2506">2506</a></span><span class="t">                    <span class="str">f"{pre_alias}."</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2507" href="#t2507">2507</a></span><span class="t">                    <span class="str">f"{post_alias}."</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2508" href="#t2508">2508</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2509" href="#t2509">2509</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2510" href="#t2510">2510</a></span><span class="t">                <span class="nam">select_args</span> <span class="op">=</span> <span class="nam">select_fields</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">", "</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2511" href="#t2511">2511</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2512" href="#t2512">2512</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2513" href="#t2513">2513</a></span><span class="t">        <span class="nam">seen_relations</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">set</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="nam">defaultdict</span><span class="op">(</span><span class="nam">set</span><span class="op">)</span>  <span class="com"># main id -> set of col + id for relation</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2512" href="#t2512">2512</a></span><span class="t">        <span class="nam">select_kwargs</span><span class="op">[</span><span class="str">"left"</span><span class="op">]</span> <span class="op">=</span> <span class="nam">left</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2513" href="#t2513">2513</a></span><span class="t">        <span class="key">return</span> <span class="nam">query</span><span class="op">,</span> <span class="nam">select_args</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2514" href="#t2514">2514</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2515" href="#t2515">2515</a></span><span class="t">        <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2516" href="#t2516">2516</a></span><span class="t">            <span class="nam">main</span> <span class="op">=</span> <span class="nam">row</span><span class="op">[</span><span class="nam">main_table</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2517" href="#t2517">2517</a></span><span class="t">            <span class="nam">main_id</span> <span class="op">=</span> <span class="nam">main</span><span class="op">.</span><span class="nam">id</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2518" href="#t2518">2518</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2519" href="#t2519">2519</a></span><span class="t">            <span class="key">if</span> <span class="nam">main_id</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2520" href="#t2520">2520</a></span><span class="t">                <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">(</span><span class="nam">main</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2521" href="#t2521">2521</a></span><span class="t">                <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">_with</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2522" href="#t2522">2522</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2523" href="#t2523">2523</a></span><span class="t">                <span class="com"># setup up all relationship defaults (once)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2524" href="#t2524">2524</a></span><span class="t">                <span class="key">for</span> <span class="nam">col</span><span class="op">,</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2525" href="#t2525">2525</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">col</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span> <span class="key">if</span> <span class="nam">relationship</span><span class="op">.</span><span class="nam">multiple</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2515" href="#t2515">2515</a></span><span class="t">    <span class="key">def</span> <span class="nam">_collect_with_relationships</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2516" href="#t2516">2516</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span> <span class="nam">rows</span><span class="op">:</span> <span class="nam">Rows</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span><span class="op">,</span> <span class="nam">_to</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="str">"TypedRows[Any]"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2517" href="#t2517">2517</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2518" href="#t2518">2518</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2519" href="#t2519">2519</a></span><span class="t"><span class="str">        Transform the raw rows into Typed Table model instances.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2520" href="#t2520">2520</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2521" href="#t2521">2521</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2522" href="#t2522">2522</a></span><span class="t">        <span class="nam">main_table</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">_ensure_table_defined</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2523" href="#t2523">2523</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2524" href="#t2524">2524</a></span><span class="t">        <span class="nam">records</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2525" href="#t2525">2525</a></span><span class="t">        <span class="nam">seen_relations</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">set</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="nam">defaultdict</span><span class="op">(</span><span class="nam">set</span><span class="op">)</span>  <span class="com"># main id -> set of col + id for relation</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2526" href="#t2526">2526</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2527" href="#t2527">2527</a></span><span class="t">            <span class="com"># now add other relationship data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2528" href="#t2528">2528</a></span><span class="t">            <span class="key">for</span> <span class="nam">column</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2529" href="#t2529">2529</a></span><span class="t">                <span class="nam">relationship_column</span> <span class="op">=</span> <span class="str">f"{column}_{hash(relation)}"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2527" href="#t2527">2527</a></span><span class="t">        <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2528" href="#t2528">2528</a></span><span class="t">            <span class="nam">main</span> <span class="op">=</span> <span class="nam">row</span><span class="op">[</span><span class="nam">main_table</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2529" href="#t2529">2529</a></span><span class="t">            <span class="nam">main_id</span> <span class="op">=</span> <span class="nam">main</span><span class="op">.</span><span class="nam">id</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2530" href="#t2530">2530</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2531" href="#t2531">2531</a></span><span class="t">                <span class="com"># relationship_column works for aliases with the same target column.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2532" href="#t2532">2532</a></span><span class="t">                <span class="com"># if col + relationship not in the row, just use the regular name.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2533" href="#t2533">2533</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2534" href="#t2534">2534</a></span><span class="t">                <span class="nam">relation_data</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2535" href="#t2535">2535</a></span><span class="t">                    <span class="nam">row</span><span class="op">[</span><span class="nam">relationship_column</span><span class="op">]</span> <span class="key">if</span> <span class="nam">relationship_column</span> <span class="key">in</span> <span class="nam">row</span> <span class="key">else</span> <span class="nam">row</span><span class="op">[</span><span class="nam">relation</span><span class="op">.</span><span class="nam">get_table_name</span><span class="op">(</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2536" href="#t2536">2536</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2537" href="#t2537">2537</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2538" href="#t2538">2538</a></span><span class="t">                <span class="key">if</span> <span class="nam">relation_data</span><span class="op">.</span><span class="nam">id</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2539" href="#t2539">2539</a></span><span class="t">                    <span class="com"># always skip None ids</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2540" href="#t2540">2540</a></span><span class="t">                    <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2541" href="#t2541">2541</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2542" href="#t2542">2542</a></span><span class="t">                <span class="key">if</span> <span class="str">f"{column}-{relation_data.id}"</span> <span class="key">in</span> <span class="nam">seen_relations</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2543" href="#t2543">2543</a></span><span class="t">                    <span class="com"># speed up duplicates</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2544" href="#t2544">2544</a></span><span class="t">                    <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2545" href="#t2545">2545</a></span><span class="t">                <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2546" href="#t2546">2546</a></span><span class="t">                    <span class="nam">seen_relations</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">add</span><span class="op">(</span><span class="str">f"{column}-{relation_data.id}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2547" href="#t2547">2547</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2548" href="#t2548">2548</a></span><span class="t">                <span class="nam">relation_table</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2549" href="#t2549">2549</a></span><span class="t">                <span class="com"># hopefully an instance of a typed table and a regular row otherwise:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2550" href="#t2550">2550</a></span><span class="t">                <span class="nam">instance</span> <span class="op">=</span> <span class="nam">relation_table</span><span class="op">(</span><span class="nam">relation_data</span><span class="op">)</span> <span class="key">if</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">relation_table</span><span class="op">,</span> <span class="nam">TypedTable</span><span class="op">)</span> <span class="key">else</span> <span class="nam">relation_data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2551" href="#t2551">2551</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2552" href="#t2552">2552</a></span><span class="t">                <span class="key">if</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">multiple</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2553" href="#t2553">2553</a></span><span class="t">                    <span class="com"># create list of T</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2554" href="#t2554">2554</a></span><span class="t">                    <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">column</span><span class="op">)</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2555" href="#t2555">2555</a></span><span class="t">                        <span class="com"># should already be set up before!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2556" href="#t2556">2556</a></span><span class="t">                        <span class="nam">setattr</span><span class="op">(</span><span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">,</span> <span class="nam">column</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2557" href="#t2557">2557</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2558" href="#t2558">2558</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">column</span><span class="op">]</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">instance</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2559" href="#t2559">2559</a></span><span class="t">                <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2560" href="#t2560">2560</a></span><span class="t">                    <span class="com"># create single T</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2561" href="#t2561">2561</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">column</span><span class="op">]</span> <span class="op">=</span> <span class="nam">instance</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2562" href="#t2562">2562</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2563" href="#t2563">2563</a></span><span class="t">        <span class="key">return</span> <span class="nam">_to</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">records</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2564" href="#t2564">2564</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2565" href="#t2565">2565</a></span><span class="t">    <span class="key">def</span> <span class="nam">collect_or_fail</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">exception</span><span class="op">:</span> <span class="nam">Exception</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2566" href="#t2566">2566</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2567" href="#t2567">2567</a></span><span class="t"><span class="str">        Call .collect() and raise an error if nothing found.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2568" href="#t2568">2568</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2569" href="#t2569">2569</a></span><span class="t"><span class="str">        Basically unwraps Optional type.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2570" href="#t2570">2570</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2571" href="#t2571">2571</a></span><span class="t">        <span class="key">if</span> <span class="nam">result</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2572" href="#t2572">2572</a></span><span class="t">            <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2573" href="#t2573">2573</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2574" href="#t2574">2574</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">exception</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2575" href="#t2575">2575</a></span><span class="t">            <span class="nam">exception</span> <span class="op">=</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nothing found!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2531" href="#t2531">2531</a></span><span class="t">            <span class="key">if</span> <span class="nam">main_id</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">records</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2532" href="#t2532">2532</a></span><span class="t">                <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">(</span><span class="nam">main</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2533" href="#t2533">2533</a></span><span class="t">                <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">_with</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2534" href="#t2534">2534</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2535" href="#t2535">2535</a></span><span class="t">                <span class="com"># setup up all relationship defaults (once)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2536" href="#t2536">2536</a></span><span class="t">                <span class="key">for</span> <span class="nam">col</span><span class="op">,</span> <span class="nam">relationship</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2537" href="#t2537">2537</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">col</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span> <span class="key">if</span> <span class="nam">relationship</span><span class="op">.</span><span class="nam">multiple</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2538" href="#t2538">2538</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2539" href="#t2539">2539</a></span><span class="t">            <span class="com"># now add other relationship data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2540" href="#t2540">2540</a></span><span class="t">            <span class="key">for</span> <span class="nam">column</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2541" href="#t2541">2541</a></span><span class="t">                <span class="nam">relationship_column</span> <span class="op">=</span> <span class="str">f"{column}_{hash(relation)}"</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2542" href="#t2542">2542</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2543" href="#t2543">2543</a></span><span class="t">                <span class="com"># relationship_column works for aliases with the same target column.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2544" href="#t2544">2544</a></span><span class="t">                <span class="com"># if col + relationship not in the row, just use the regular name.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2545" href="#t2545">2545</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2546" href="#t2546">2546</a></span><span class="t">                <span class="nam">relation_data</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2547" href="#t2547">2547</a></span><span class="t">                    <span class="nam">row</span><span class="op">[</span><span class="nam">relationship_column</span><span class="op">]</span> <span class="key">if</span> <span class="nam">relationship_column</span> <span class="key">in</span> <span class="nam">row</span> <span class="key">else</span> <span class="nam">row</span><span class="op">[</span><span class="nam">relation</span><span class="op">.</span><span class="nam">get_table_name</span><span class="op">(</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2548" href="#t2548">2548</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2549" href="#t2549">2549</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2550" href="#t2550">2550</a></span><span class="t">                <span class="key">if</span> <span class="nam">relation_data</span><span class="op">.</span><span class="nam">id</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2551" href="#t2551">2551</a></span><span class="t">                    <span class="com"># always skip None ids</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2552" href="#t2552">2552</a></span><span class="t">                    <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2553" href="#t2553">2553</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2554" href="#t2554">2554</a></span><span class="t">                <span class="key">if</span> <span class="str">f"{column}-{relation_data.id}"</span> <span class="key">in</span> <span class="nam">seen_relations</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2555" href="#t2555">2555</a></span><span class="t">                    <span class="com"># speed up duplicates</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2556" href="#t2556">2556</a></span><span class="t">                    <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2557" href="#t2557">2557</a></span><span class="t">                <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2558" href="#t2558">2558</a></span><span class="t">                    <span class="nam">seen_relations</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">add</span><span class="op">(</span><span class="str">f"{column}-{relation_data.id}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2559" href="#t2559">2559</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2560" href="#t2560">2560</a></span><span class="t">                <span class="nam">relation_table</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2561" href="#t2561">2561</a></span><span class="t">                <span class="com"># hopefully an instance of a typed table and a regular row otherwise:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2562" href="#t2562">2562</a></span><span class="t">                <span class="nam">instance</span> <span class="op">=</span> <span class="nam">relation_table</span><span class="op">(</span><span class="nam">relation_data</span><span class="op">)</span> <span class="key">if</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">relation_table</span><span class="op">,</span> <span class="nam">TypedTable</span><span class="op">)</span> <span class="key">else</span> <span class="nam">relation_data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2563" href="#t2563">2563</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2564" href="#t2564">2564</a></span><span class="t">                <span class="key">if</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">multiple</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2565" href="#t2565">2565</a></span><span class="t">                    <span class="com"># create list of T</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2566" href="#t2566">2566</a></span><span class="t">                    <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">column</span><span class="op">)</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>  <span class="com"># pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2567" href="#t2567">2567</a></span><span class="t">                        <span class="com"># should already be set up before!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2568" href="#t2568">2568</a></span><span class="t">                        <span class="nam">setattr</span><span class="op">(</span><span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">,</span> <span class="nam">column</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2569" href="#t2569">2569</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2570" href="#t2570">2570</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">column</span><span class="op">]</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">instance</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2571" href="#t2571">2571</a></span><span class="t">                <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2572" href="#t2572">2572</a></span><span class="t">                    <span class="com"># create single T</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2573" href="#t2573">2573</a></span><span class="t">                    <span class="nam">records</span><span class="op">[</span><span class="nam">main_id</span><span class="op">]</span><span class="op">[</span><span class="nam">column</span><span class="op">]</span> <span class="op">=</span> <span class="nam">instance</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2574" href="#t2574">2574</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2575" href="#t2575">2575</a></span><span class="t">        <span class="key">return</span> <span class="nam">_to</span><span class="op">(</span><span class="nam">rows</span><span class="op">,</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">,</span> <span class="nam">records</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2576" href="#t2576">2576</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2577" href="#t2577">2577</a></span><span class="t">        <span class="key">raise</span> <span class="nam">exception</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2578" href="#t2578">2578</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2579" href="#t2579">2579</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2580" href="#t2580">2580</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2581" href="#t2581">2581</a></span><span class="t"><span class="str">        You can start iterating a Query Builder object before calling collect, for ease of use.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2577" href="#t2577">2577</a></span><span class="t">    <span class="key">def</span> <span class="nam">collect_or_fail</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">exception</span><span class="op">:</span> <span class="nam">Exception</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2578" href="#t2578">2578</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2579" href="#t2579">2579</a></span><span class="t"><span class="str">        Call .collect() and raise an error if nothing found.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2580" href="#t2580">2580</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2581" href="#t2581">2581</a></span><span class="t"><span class="str">        Basically unwraps Optional type.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2582" href="#t2582">2582</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2583" href="#t2583">2583</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">self</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2584" href="#t2584">2584</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2585" href="#t2585">2585</a></span><span class="t">    <span class="key">def</span> <span class="nam">count</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2586" href="#t2586">2586</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2587" href="#t2587">2587</a></span><span class="t"><span class="str">        Return the amount of rows matching the current query.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2588" href="#t2588">2588</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2589" href="#t2589">2589</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2590" href="#t2590">2590</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2591" href="#t2591">2591</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2592" href="#t2592">2592</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2593" href="#t2593">2593</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2594" href="#t2594">2594</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span> <span class="key">or</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="op">!=</span> <span class="str">"inner"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2595" href="#t2595">2595</a></span><span class="t">                <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2583" href="#t2583">2583</a></span><span class="t">        <span class="key">if</span> <span class="nam">result</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2584" href="#t2584">2584</a></span><span class="t">            <span class="key">return</span> <span class="nam">result</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2585" href="#t2585">2585</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2586" href="#t2586">2586</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">exception</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2587" href="#t2587">2587</a></span><span class="t">            <span class="nam">exception</span> <span class="op">=</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nothing found!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2588" href="#t2588">2588</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2589" href="#t2589">2589</a></span><span class="t">        <span class="key">raise</span> <span class="nam">exception</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2590" href="#t2590">2590</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2591" href="#t2591">2591</a></span><span class="t">    <span class="key">def</span> <span class="nam">__iter__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2592" href="#t2592">2592</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2593" href="#t2593">2593</a></span><span class="t"><span class="str">        You can start iterating a Query Builder object before calling collect, for ease of use.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2594" href="#t2594">2594</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2595" href="#t2595">2595</a></span><span class="t">        <span class="key">yield</span> <span class="key">from</span> <span class="nam">self</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2596" href="#t2596">2596</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2597" href="#t2597">2597</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2598" href="#t2598">2598</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2599" href="#t2599">2599</a></span><span class="t">            <span class="nam">query</span> <span class="op">&amp;=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2600" href="#t2600">2600</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2601" href="#t2601">2601</a></span><span class="t">        <span class="key">return</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2602" href="#t2602">2602</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2603" href="#t2603">2603</a></span><span class="t">    <span class="key">def</span> <span class="nam">__paginate</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2604" href="#t2604">2604</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2605" href="#t2605">2605</a></span><span class="t">        <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2606" href="#t2606">2606</a></span><span class="t">        <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2607" href="#t2607">2607</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2608" href="#t2608">2608</a></span><span class="t">        <span class="nam">_from</span> <span class="op">=</span> <span class="nam">limit</span> <span class="op">*</span> <span class="op">(</span><span class="nam">page</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2609" href="#t2609">2609</a></span><span class="t">        <span class="nam">_to</span> <span class="op">=</span> <span class="nam">limit</span> <span class="op">*</span> <span class="nam">page</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2610" href="#t2610">2610</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2611" href="#t2611">2611</a></span><span class="t">        <span class="nam">available</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2597" href="#t2597">2597</a></span><span class="t">    <span class="key">def</span> <span class="nam">count</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2598" href="#t2598">2598</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2599" href="#t2599">2599</a></span><span class="t"><span class="str">        Return the amount of rows matching the current query.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2600" href="#t2600">2600</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2601" href="#t2601">2601</a></span><span class="t">        <span class="nam">db</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_get_db</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2602" href="#t2602">2602</a></span><span class="t">        <span class="nam">model</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2603" href="#t2603">2603</a></span><span class="t">        <span class="nam">query</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">query</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2604" href="#t2604">2604</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2605" href="#t2605">2605</a></span><span class="t">        <span class="key">for</span> <span class="nam">key</span><span class="op">,</span> <span class="nam">relation</span> <span class="key">in</span> <span class="nam">self</span><span class="op">.</span><span class="nam">relationships</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2606" href="#t2606">2606</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span> <span class="key">or</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">join</span> <span class="op">!=</span> <span class="str">"inner"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2607" href="#t2607">2607</a></span><span class="t">                <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2608" href="#t2608">2608</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2609" href="#t2609">2609</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">get_table</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2610" href="#t2610">2610</a></span><span class="t">            <span class="nam">other</span> <span class="op">=</span> <span class="nam">other</span><span class="op">.</span><span class="nam">with_alias</span><span class="op">(</span><span class="str">f"{key}_{hash(relation)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2611" href="#t2611">2611</a></span><span class="t">            <span class="nam">query</span> <span class="op">&amp;=</span> <span class="nam">relation</span><span class="op">.</span><span class="nam">condition</span><span class="op">(</span><span class="nam">model</span><span class="op">,</span> <span class="nam">other</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2612" href="#t2612">2612</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2613" href="#t2613">2613</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2613" href="#t2613">2613</a></span><span class="t">        <span class="key">return</span> <span class="nam">db</span><span class="op">(</span><span class="nam">query</span><span class="op">)</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2614" href="#t2614">2614</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2615" href="#t2615">2615</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2616" href="#t2616">2616</a></span><span class="t">            <span class="str">"limit"</span><span class="op">:</span> <span class="nam">limit</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2617" href="#t2617">2617</a></span><span class="t">            <span class="str">"current_page"</span><span class="op">:</span> <span class="nam">page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2618" href="#t2618">2618</a></span><span class="t">            <span class="str">"max_page"</span><span class="op">:</span> <span class="nam">math</span><span class="op">.</span><span class="nam">ceil</span><span class="op">(</span><span class="nam">available</span> <span class="op">/</span> <span class="nam">limit</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2619" href="#t2619">2619</a></span><span class="t">            <span class="str">"rows"</span><span class="op">:</span> <span class="nam">available</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2620" href="#t2620">2620</a></span><span class="t">            <span class="str">"min_max"</span><span class="op">:</span> <span class="op">(</span><span class="nam">_from</span><span class="op">,</span> <span class="nam">_to</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2621" href="#t2621">2621</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2615" href="#t2615">2615</a></span><span class="t">    <span class="key">def</span> <span class="nam">__paginate</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2616" href="#t2616">2616</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2617" href="#t2617">2617</a></span><span class="t">        <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2618" href="#t2618">2618</a></span><span class="t">        <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2619" href="#t2619">2619</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="str">"QueryBuilder[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2620" href="#t2620">2620</a></span><span class="t">        <span class="nam">_from</span> <span class="op">=</span> <span class="nam">limit</span> <span class="op">*</span> <span class="op">(</span><span class="nam">page</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2621" href="#t2621">2621</a></span><span class="t">        <span class="nam">_to</span> <span class="op">=</span> <span class="nam">limit</span> <span class="op">*</span> <span class="nam">page</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2622" href="#t2622">2622</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2623" href="#t2623">2623</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">select_kwargs</span><span class="op">=</span><span class="op">{</span><span class="str">"limitby"</span><span class="op">:</span> <span class="op">(</span><span class="nam">_from</span><span class="op">,</span> <span class="nam">_to</span><span class="op">)</span><span class="op">}</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2623" href="#t2623">2623</a></span><span class="t">        <span class="nam">available</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2624" href="#t2624">2624</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2625" href="#t2625">2625</a></span><span class="t">    <span class="key">def</span> <span class="nam">paginate</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="str">"PaginatedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2626" href="#t2626">2626</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2627" href="#t2627">2627</a></span><span class="t"><span class="str">        Paginate transforms the more readable `page` and `limit` to pydals internal limit and offset.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2628" href="#t2628">2628</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2629" href="#t2629">2629</a></span><span class="t"><span class="str">        Note: when using relationships, this limit is only applied to the 'main' table and any number of extra rows \</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2630" href="#t2630">2630</a></span><span class="t"><span class="str">            can be loaded with relationship data!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2631" href="#t2631">2631</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2632" href="#t2632">2632</a></span><span class="t">        <span class="nam">builder</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">,</span> <span class="nam">page</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2633" href="#t2633">2633</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2634" href="#t2634">2634</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">PaginatedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">builder</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">,</span> <span class="nam">_to</span><span class="op">=</span><span class="nam">PaginatedRows</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2635" href="#t2635">2635</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2636" href="#t2636">2636</a></span><span class="t">        <span class="nam">rows</span><span class="op">.</span><span class="nam">_query_builder</span> <span class="op">=</span> <span class="nam">builder</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2637" href="#t2637">2637</a></span><span class="t">        <span class="key">return</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2638" href="#t2638">2638</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2639" href="#t2639">2639</a></span><span class="t">    <span class="key">def</span> <span class="nam">_paginate</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2640" href="#t2640">2640</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2641" href="#t2641">2641</a></span><span class="t">        <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2642" href="#t2642">2642</a></span><span class="t">        <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2643" href="#t2643">2643</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2625" href="#t2625">2625</a></span><span class="t">        <span class="nam">metadata</span><span class="op">:</span> <span class="nam">Metadata</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2626" href="#t2626">2626</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2627" href="#t2627">2627</a></span><span class="t">        <span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2628" href="#t2628">2628</a></span><span class="t">            <span class="str">"limit"</span><span class="op">:</span> <span class="nam">limit</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2629" href="#t2629">2629</a></span><span class="t">            <span class="str">"current_page"</span><span class="op">:</span> <span class="nam">page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2630" href="#t2630">2630</a></span><span class="t">            <span class="str">"max_page"</span><span class="op">:</span> <span class="nam">math</span><span class="op">.</span><span class="nam">ceil</span><span class="op">(</span><span class="nam">available</span> <span class="op">/</span> <span class="nam">limit</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2631" href="#t2631">2631</a></span><span class="t">            <span class="str">"rows"</span><span class="op">:</span> <span class="nam">available</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2632" href="#t2632">2632</a></span><span class="t">            <span class="str">"min_max"</span><span class="op">:</span> <span class="op">(</span><span class="nam">_from</span><span class="op">,</span> <span class="nam">_to</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2633" href="#t2633">2633</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2634" href="#t2634">2634</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2635" href="#t2635">2635</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_extend</span><span class="op">(</span><span class="nam">select_kwargs</span><span class="op">=</span><span class="op">{</span><span class="str">"limitby"</span><span class="op">:</span> <span class="op">(</span><span class="nam">_from</span><span class="op">,</span> <span class="nam">_to</span><span class="op">)</span><span class="op">}</span><span class="op">,</span> <span class="nam">metadata</span><span class="op">=</span><span class="nam">metadata</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2636" href="#t2636">2636</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2637" href="#t2637">2637</a></span><span class="t">    <span class="key">def</span> <span class="nam">paginate</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="str">"PaginatedRows[T_MetaInstance]"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2638" href="#t2638">2638</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2639" href="#t2639">2639</a></span><span class="t"><span class="str">        Paginate transforms the more readable `page` and `limit` to pydals internal limit and offset.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2640" href="#t2640">2640</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2641" href="#t2641">2641</a></span><span class="t"><span class="str">        Note: when using relationships, this limit is only applied to the 'main' table and any number of extra rows \</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2642" href="#t2642">2642</a></span><span class="t"><span class="str">            can be loaded with relationship data!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2643" href="#t2643">2643</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t2644" href="#t2644">2644</a></span><span class="t">        <span class="nam">builder</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">,</span> <span class="nam">page</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2645" href="#t2645">2645</a></span><span class="t">        <span class="key">return</span> <span class="nam">builder</span><span class="op">.</span><span class="nam">_collect</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2646" href="#t2646">2646</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2647" href="#t2647">2647</a></span><span class="t">    <span class="key">def</span> <span class="nam">chunk</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">chunk_size</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">,</span> <span class="nam">Any</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2648" href="#t2648">2648</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2649" href="#t2649">2649</a></span><span class="t"><span class="str">        Generator that yields rows from a paginated source in chunks.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2645" href="#t2645">2645</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2646" href="#t2646">2646</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">PaginatedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">builder</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">,</span> <span class="nam">_to</span><span class="op">=</span><span class="nam">PaginatedRows</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2647" href="#t2647">2647</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2648" href="#t2648">2648</a></span><span class="t">        <span class="nam">rows</span><span class="op">.</span><span class="nam">_query_builder</span> <span class="op">=</span> <span class="nam">builder</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2649" href="#t2649">2649</a></span><span class="t">        <span class="key">return</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2650" href="#t2650">2650</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2651" href="#t2651">2651</a></span><span class="t"><span class="str">        This function retrieves rows from a paginated data source in chunks of the</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2652" href="#t2652">2652</a></span><span class="t"><span class="str">        specified `chunk_size` and yields them as TypedRows.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2653" href="#t2653">2653</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2654" href="#t2654">2654</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2655" href="#t2655">2655</a></span><span class="t"><span class="str">            ```</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2656" href="#t2656">2656</a></span><span class="t"><span class="str">            for chunk_of_rows in Table.where(SomeTable.id > 5).chunk(100):</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2657" href="#t2657">2657</a></span><span class="t"><span class="str">                for row in chunk_of_rows:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2658" href="#t2658">2658</a></span><span class="t"><span class="str">                    # Process each row within the chunk.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2659" href="#t2659">2659</a></span><span class="t"><span class="str">                    pass</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2660" href="#t2660">2660</a></span><span class="t"><span class="str">            ```</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2661" href="#t2661">2661</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2662" href="#t2662">2662</a></span><span class="t">        <span class="nam">page</span> <span class="op">=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2663" href="#t2663">2663</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2664" href="#t2664">2664</a></span><span class="t">        <span class="key">while</span> <span class="nam">rows</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__paginate</span><span class="op">(</span><span class="nam">chunk_size</span><span class="op">,</span> <span class="nam">page</span><span class="op">)</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2665" href="#t2665">2665</a></span><span class="t">            <span class="key">yield</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2666" href="#t2666">2666</a></span><span class="t">            <span class="nam">page</span> <span class="op">+=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2667" href="#t2667">2667</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2668" href="#t2668">2668</a></span><span class="t">    <span class="key">def</span> <span class="nam">first</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2669" href="#t2669">2669</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2670" href="#t2670">2670</a></span><span class="t"><span class="str">        Get the first row matching the currently built query.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2671" href="#t2671">2671</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2672" href="#t2672">2672</a></span><span class="t"><span class="str">        Also adds paginate, since it would be a waste to select more rows than needed.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2651" href="#t2651">2651</a></span><span class="t">    <span class="key">def</span> <span class="nam">_paginate</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2652" href="#t2652">2652</a></span><span class="t">        <span class="nam">self</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2653" href="#t2653">2653</a></span><span class="t">        <span class="nam">limit</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2654" href="#t2654">2654</a></span><span class="t">        <span class="nam">page</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2655" href="#t2655">2655</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2656" href="#t2656">2656</a></span><span class="t">        <span class="nam">builder</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">,</span> <span class="nam">page</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2657" href="#t2657">2657</a></span><span class="t">        <span class="key">return</span> <span class="nam">builder</span><span class="op">.</span><span class="nam">_collect</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2658" href="#t2658">2658</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2659" href="#t2659">2659</a></span><span class="t">    <span class="key">def</span> <span class="nam">chunk</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">chunk_size</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Generator</span><span class="op">[</span><span class="str">"TypedRows[T_MetaInstance]"</span><span class="op">,</span> <span class="nam">Any</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2660" href="#t2660">2660</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2661" href="#t2661">2661</a></span><span class="t"><span class="str">        Generator that yields rows from a paginated source in chunks.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2662" href="#t2662">2662</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2663" href="#t2663">2663</a></span><span class="t"><span class="str">        This function retrieves rows from a paginated data source in chunks of the</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2664" href="#t2664">2664</a></span><span class="t"><span class="str">        specified `chunk_size` and yields them as TypedRows.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2665" href="#t2665">2665</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2666" href="#t2666">2666</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2667" href="#t2667">2667</a></span><span class="t"><span class="str">            ```</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2668" href="#t2668">2668</a></span><span class="t"><span class="str">            for chunk_of_rows in Table.where(SomeTable.id > 5).chunk(100):</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2669" href="#t2669">2669</a></span><span class="t"><span class="str">                for row in chunk_of_rows:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2670" href="#t2670">2670</a></span><span class="t"><span class="str">                    # Process each row within the chunk.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2671" href="#t2671">2671</a></span><span class="t"><span class="str">                    pass</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2672" href="#t2672">2672</a></span><span class="t"><span class="str">            ```</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2673" href="#t2673">2673</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2674" href="#t2674">2674</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">page</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">)</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2675" href="#t2675">2675</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">from_row</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2676" href="#t2676">2676</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2677" href="#t2677">2677</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2678" href="#t2678">2678</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2679" href="#t2679">2679</a></span><span class="t">    <span class="key">def</span> <span class="nam">_first</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2680" href="#t2680">2680</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_paginate</span><span class="op">(</span><span class="nam">page</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2681" href="#t2681">2681</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2682" href="#t2682">2682</a></span><span class="t">    <span class="key">def</span> <span class="nam">first_or_fail</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">exception</span><span class="op">:</span> <span class="nam">Exception</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2683" href="#t2683">2683</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2684" href="#t2684">2684</a></span><span class="t"><span class="str">        Call .first() and raise an error if nothing found.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2685" href="#t2685">2685</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2686" href="#t2686">2686</a></span><span class="t"><span class="str">        Basically unwraps Optional type.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2687" href="#t2687">2687</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2688" href="#t2688">2688</a></span><span class="t">        <span class="key">if</span> <span class="nam">inst</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2689" href="#t2689">2689</a></span><span class="t">            <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2674" href="#t2674">2674</a></span><span class="t">        <span class="nam">page</span> <span class="op">=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2675" href="#t2675">2675</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2676" href="#t2676">2676</a></span><span class="t">        <span class="key">while</span> <span class="nam">rows</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">__paginate</span><span class="op">(</span><span class="nam">chunk_size</span><span class="op">,</span> <span class="nam">page</span><span class="op">)</span><span class="op">.</span><span class="nam">collect</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2677" href="#t2677">2677</a></span><span class="t">            <span class="key">yield</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2678" href="#t2678">2678</a></span><span class="t">            <span class="nam">page</span> <span class="op">+=</span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2679" href="#t2679">2679</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2680" href="#t2680">2680</a></span><span class="t">    <span class="key">def</span> <span class="nam">first</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span> <span class="op">|</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2681" href="#t2681">2681</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2682" href="#t2682">2682</a></span><span class="t"><span class="str">        Get the first row matching the currently built query.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2683" href="#t2683">2683</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2684" href="#t2684">2684</a></span><span class="t"><span class="str">        Also adds paginate, since it would be a waste to select more rows than needed.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2685" href="#t2685">2685</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2686" href="#t2686">2686</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">page</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">)</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2687" href="#t2687">2687</a></span><span class="t">            <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">model</span><span class="op">.</span><span class="nam">from_row</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2688" href="#t2688">2688</a></span><span class="t">        <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2689" href="#t2689">2689</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2690" href="#t2690">2690</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2691" href="#t2691">2691</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">exception</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2692" href="#t2692">2692</a></span><span class="t">            <span class="nam">exception</span> <span class="op">=</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nothing found!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2691" href="#t2691">2691</a></span><span class="t">    <span class="key">def</span> <span class="nam">_first</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2692" href="#t2692">2692</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_paginate</span><span class="op">(</span><span class="nam">page</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">limit</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2693" href="#t2693">2693</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2694" href="#t2694">2694</a></span><span class="t">        <span class="key">raise</span> <span class="nam">exception</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2695" href="#t2695">2695</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2696" href="#t2696">2696</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2697" href="#t2697">2697</a></span><span class="t"><span class="nam">S</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"S"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2698" href="#t2698">2698</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2699" href="#t2699">2699</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2700" href="#t2700">2700</a></span><span class="t"><span class="key">class</span> <span class="nam">PaginatedRows</span><span class="op">(</span><span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2701" href="#t2701">2701</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2702" href="#t2702">2702</a></span><span class="t"><span class="str">    Extension on top of rows that is used when calling .paginate() instead of .collect().</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2703" href="#t2703">2703</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2704" href="#t2704">2704</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2705" href="#t2705">2705</a></span><span class="t">    <span class="nam">_query_builder</span><span class="op">:</span> <span class="nam">QueryBuilder</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2706" href="#t2706">2706</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2707" href="#t2707">2707</a></span><span class="t">    <span class="op">@</span><span class="nam">property</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2708" href="#t2708">2708</a></span><span class="t">    <span class="key">def</span> <span class="nam">data</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2709" href="#t2709">2709</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2710" href="#t2710">2710</a></span><span class="t"><span class="str">        Get the underlying data.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2711" href="#t2711">2711</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2712" href="#t2712">2712</a></span><span class="t">        <span class="key">return</span> <span class="nam">list</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2713" href="#t2713">2713</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2714" href="#t2714">2714</a></span><span class="t">    <span class="op">@</span><span class="nam">property</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2715" href="#t2715">2715</a></span><span class="t">    <span class="key">def</span> <span class="nam">pagination</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Pagination</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2716" href="#t2716">2716</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2717" href="#t2717">2717</a></span><span class="t"><span class="str">        Get all page info.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2718" href="#t2718">2718</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2719" href="#t2719">2719</a></span><span class="t">        <span class="nam">pagination_data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2720" href="#t2720">2720</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2721" href="#t2721">2721</a></span><span class="t">        <span class="nam">has_next_page</span> <span class="op">=</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">&lt;</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2722" href="#t2722">2722</a></span><span class="t">        <span class="nam">has_prev_page</span> <span class="op">=</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">></span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2723" href="#t2723">2723</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2724" href="#t2724">2724</a></span><span class="t">            <span class="str">"total_items"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"rows"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2725" href="#t2725">2725</a></span><span class="t">            <span class="str">"current_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2726" href="#t2726">2726</a></span><span class="t">            <span class="str">"per_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2727" href="#t2727">2727</a></span><span class="t">            <span class="str">"total_pages"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2728" href="#t2728">2728</a></span><span class="t">            <span class="str">"has_next_page"</span><span class="op">:</span> <span class="nam">has_next_page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2729" href="#t2729">2729</a></span><span class="t">            <span class="str">"has_prev_page"</span><span class="op">:</span> <span class="nam">has_prev_page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2730" href="#t2730">2730</a></span><span class="t">            <span class="str">"next_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">+</span> <span class="num">1</span> <span class="key">if</span> <span class="nam">has_next_page</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2731" href="#t2731">2731</a></span><span class="t">            <span class="str">"prev_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">-</span> <span class="num">1</span> <span class="key">if</span> <span class="nam">has_prev_page</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2732" href="#t2732">2732</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2733" href="#t2733">2733</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2734" href="#t2734">2734</a></span><span class="t">    <span class="key">def</span> <span class="nam">next</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Self</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2735" href="#t2735">2735</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2736" href="#t2736">2736</a></span><span class="t"><span class="str">        Get the next page.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2737" href="#t2737">2737</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2738" href="#t2738">2738</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2739" href="#t2739">2739</a></span><span class="t">        <span class="key">if</span> <span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">>=</span> <span class="nam">data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2740" href="#t2740">2740</a></span><span class="t">            <span class="key">raise</span> <span class="nam">StopIteration</span><span class="op">(</span><span class="str">"Final Page"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2741" href="#t2741">2741</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2742" href="#t2742">2742</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_query_builder</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span> <span class="nam">page</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">+</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2743" href="#t2743">2743</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2744" href="#t2744">2744</a></span><span class="t">    <span class="key">def</span> <span class="nam">previous</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Self</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2745" href="#t2745">2745</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2746" href="#t2746">2746</a></span><span class="t"><span class="str">        Get the previous page.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2747" href="#t2747">2747</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2748" href="#t2748">2748</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2749" href="#t2749">2749</a></span><span class="t">        <span class="key">if</span> <span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2750" href="#t2750">2750</a></span><span class="t">            <span class="key">raise</span> <span class="nam">StopIteration</span><span class="op">(</span><span class="str">"First Page"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2751" href="#t2751">2751</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2752" href="#t2752">2752</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_query_builder</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span> <span class="nam">page</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2694" href="#t2694">2694</a></span><span class="t">    <span class="key">def</span> <span class="nam">first_or_fail</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">exception</span><span class="op">:</span> <span class="nam">Exception</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">verbose</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T_MetaInstance</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2695" href="#t2695">2695</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2696" href="#t2696">2696</a></span><span class="t"><span class="str">        Call .first() and raise an error if nothing found.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2697" href="#t2697">2697</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2698" href="#t2698">2698</a></span><span class="t"><span class="str">        Basically unwraps Optional type.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2699" href="#t2699">2699</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2700" href="#t2700">2700</a></span><span class="t">        <span class="key">if</span> <span class="nam">inst</span> <span class="op">:=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">first</span><span class="op">(</span><span class="nam">verbose</span><span class="op">=</span><span class="nam">verbose</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2701" href="#t2701">2701</a></span><span class="t">            <span class="key">return</span> <span class="nam">inst</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2702" href="#t2702">2702</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2703" href="#t2703">2703</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">exception</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2704" href="#t2704">2704</a></span><span class="t">            <span class="nam">exception</span> <span class="op">=</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nothing found!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2705" href="#t2705">2705</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2706" href="#t2706">2706</a></span><span class="t">        <span class="key">raise</span> <span class="nam">exception</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2707" href="#t2707">2707</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2708" href="#t2708">2708</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2709" href="#t2709">2709</a></span><span class="t"><span class="nam">S</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"S"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2710" href="#t2710">2710</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2711" href="#t2711">2711</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2712" href="#t2712">2712</a></span><span class="t"><span class="key">class</span> <span class="nam">PaginatedRows</span><span class="op">(</span><span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2713" href="#t2713">2713</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2714" href="#t2714">2714</a></span><span class="t"><span class="str">    Extension on top of rows that is used when calling .paginate() instead of .collect().</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2715" href="#t2715">2715</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2716" href="#t2716">2716</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2717" href="#t2717">2717</a></span><span class="t">    <span class="nam">_query_builder</span><span class="op">:</span> <span class="nam">QueryBuilder</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2718" href="#t2718">2718</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2719" href="#t2719">2719</a></span><span class="t">    <span class="op">@</span><span class="nam">property</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2720" href="#t2720">2720</a></span><span class="t">    <span class="key">def</span> <span class="nam">data</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2721" href="#t2721">2721</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2722" href="#t2722">2722</a></span><span class="t"><span class="str">        Get the underlying data.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2723" href="#t2723">2723</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2724" href="#t2724">2724</a></span><span class="t">        <span class="key">return</span> <span class="nam">list</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">records</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2725" href="#t2725">2725</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2726" href="#t2726">2726</a></span><span class="t">    <span class="op">@</span><span class="nam">property</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2727" href="#t2727">2727</a></span><span class="t">    <span class="key">def</span> <span class="nam">pagination</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Pagination</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2728" href="#t2728">2728</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2729" href="#t2729">2729</a></span><span class="t"><span class="str">        Get all page info.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2730" href="#t2730">2730</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2731" href="#t2731">2731</a></span><span class="t">        <span class="nam">pagination_data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2732" href="#t2732">2732</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2733" href="#t2733">2733</a></span><span class="t">        <span class="nam">has_next_page</span> <span class="op">=</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">&lt;</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2734" href="#t2734">2734</a></span><span class="t">        <span class="nam">has_prev_page</span> <span class="op">=</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">></span> <span class="num">1</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2735" href="#t2735">2735</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2736" href="#t2736">2736</a></span><span class="t">            <span class="str">"total_items"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"rows"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2737" href="#t2737">2737</a></span><span class="t">            <span class="str">"current_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2738" href="#t2738">2738</a></span><span class="t">            <span class="str">"per_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2739" href="#t2739">2739</a></span><span class="t">            <span class="str">"total_pages"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2740" href="#t2740">2740</a></span><span class="t">            <span class="str">"has_next_page"</span><span class="op">:</span> <span class="nam">has_next_page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2741" href="#t2741">2741</a></span><span class="t">            <span class="str">"has_prev_page"</span><span class="op">:</span> <span class="nam">has_prev_page</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2742" href="#t2742">2742</a></span><span class="t">            <span class="str">"next_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">+</span> <span class="num">1</span> <span class="key">if</span> <span class="nam">has_next_page</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2743" href="#t2743">2743</a></span><span class="t">            <span class="str">"prev_page"</span><span class="op">:</span> <span class="nam">pagination_data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">-</span> <span class="num">1</span> <span class="key">if</span> <span class="nam">has_prev_page</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2744" href="#t2744">2744</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2745" href="#t2745">2745</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2746" href="#t2746">2746</a></span><span class="t">    <span class="key">def</span> <span class="nam">next</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Self</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2747" href="#t2747">2747</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2748" href="#t2748">2748</a></span><span class="t"><span class="str">        Get the next page.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2749" href="#t2749">2749</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2750" href="#t2750">2750</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2751" href="#t2751">2751</a></span><span class="t">        <span class="key">if</span> <span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">>=</span> <span class="nam">data</span><span class="op">[</span><span class="str">"max_page"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2752" href="#t2752">2752</a></span><span class="t">            <span class="key">raise</span> <span class="nam">StopIteration</span><span class="op">(</span><span class="str">"Final Page"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2753" href="#t2753">2753</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2754" href="#t2754">2754</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">_</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">__</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">PaginateDict</span><span class="op">:</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2755" href="#t2755">2755</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2756" href="#t2756">2756</a></span><span class="t"><span class="str">        Convert to a dictionary with pagination info and original data.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2757" href="#t2757">2757</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2758" href="#t2758">2758</a></span><span class="t"><span class="str">        All arguments are ignored!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2754" href="#t2754">2754</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_query_builder</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span> <span class="nam">page</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">+</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2755" href="#t2755">2755</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2756" href="#t2756">2756</a></span><span class="t">    <span class="key">def</span> <span class="nam">previous</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Self</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2757" href="#t2757">2757</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2758" href="#t2758">2758</a></span><span class="t"><span class="str">        Get the previous page.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2759" href="#t2759">2759</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t2760" href="#t2760">2760</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="str">"data"</span><span class="op">:</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="str">"pagination"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">pagination</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2761" href="#t2761">2761</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2762" href="#t2762">2762</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2763" href="#t2763">2763</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedSet</span><span class="op">(</span><span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Set</span><span class="op">)</span><span class="op">:</span>  <span class="com"># type: ignore # pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2764" href="#t2764">2764</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2765" href="#t2765">2765</a></span><span class="t"><span class="str">    Used to make pydal Set more typed.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2766" href="#t2766">2766</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2767" href="#t2767">2767</a></span><span class="t"><span class="str">    This class is not actually used, only 'cast' by TypeDAL.__call__</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2768" href="#t2768">2768</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2760" href="#t2760">2760</a></span><span class="t">        <span class="nam">data</span> <span class="op">=</span> <span class="nam">self</span><span class="op">.</span><span class="nam">metadata</span><span class="op">[</span><span class="str">"pagination"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2761" href="#t2761">2761</a></span><span class="t">        <span class="key">if</span> <span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="num">1</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2762" href="#t2762">2762</a></span><span class="t">            <span class="key">raise</span> <span class="nam">StopIteration</span><span class="op">(</span><span class="str">"First Page"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2763" href="#t2763">2763</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2764" href="#t2764">2764</a></span><span class="t">        <span class="key">return</span> <span class="nam">self</span><span class="op">.</span><span class="nam">_query_builder</span><span class="op">.</span><span class="nam">paginate</span><span class="op">(</span><span class="nam">limit</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"limit"</span><span class="op">]</span><span class="op">,</span> <span class="nam">page</span><span class="op">=</span><span class="nam">data</span><span class="op">[</span><span class="str">"current_page"</span><span class="op">]</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2765" href="#t2765">2765</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2766" href="#t2766">2766</a></span><span class="t">    <span class="key">def</span> <span class="nam">as_dict</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">_</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">__</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">PaginateDict</span><span class="op">:</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2767" href="#t2767">2767</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2768" href="#t2768">2768</a></span><span class="t"><span class="str">        Convert to a dictionary with pagination info and original data.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2769" href="#t2769">2769</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2770" href="#t2770">2770</a></span><span class="t">    <span class="key">def</span> <span class="nam">count</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">distinct</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">cache</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2771" href="#t2771">2771</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2772" href="#t2772">2772</a></span><span class="t"><span class="str">        Count returns an int.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2773" href="#t2773">2773</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2774" href="#t2774">2774</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="nam">distinct</span><span class="op">,</span> <span class="nam">cache</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2775" href="#t2775">2775</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">int</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2776" href="#t2776">2776</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2777" href="#t2777">2777</a></span><span class="t">    <span class="key">def</span> <span class="nam">select</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">attributes</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2778" href="#t2778">2778</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2779" href="#t2779">2779</a></span><span class="t"><span class="str">        Select returns a TypedRows of a user defined table.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2780" href="#t2780">2780</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2781" href="#t2781">2781</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2782" href="#t2782">2782</a></span><span class="t"><span class="str">            result: TypedRows[MyTable] = db(MyTable.id > 0).select()</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2783" href="#t2783">2783</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2784" href="#t2784">2784</a></span><span class="t"><span class="str">            for row in result:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2785" href="#t2785">2785</a></span><span class="t"><span class="str">                typing.reveal_type(row)  # MyTable</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t2786" href="#t2786">2786</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2787" href="#t2787">2787</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">fields</span><span class="op">,</span> <span class="op">**</span><span class="nam">attributes</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="exc show_exc"><span class="n"><a id="t2788" href="#t2788">2788</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2770" href="#t2770">2770</a></span><span class="t"><span class="str">        All arguments are ignored!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2771" href="#t2771">2771</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t2772" href="#t2772">2772</a></span><span class="t">        <span class="key">return</span> <span class="op">{</span><span class="str">"data"</span><span class="op">:</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">as_dict</span><span class="op">(</span><span class="op">)</span><span class="op">,</span> <span class="str">"pagination"</span><span class="op">:</span> <span class="nam">self</span><span class="op">.</span><span class="nam">pagination</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2773" href="#t2773">2773</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2774" href="#t2774">2774</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2775" href="#t2775">2775</a></span><span class="t"><span class="key">class</span> <span class="nam">TypedSet</span><span class="op">(</span><span class="nam">pydal</span><span class="op">.</span><span class="nam">objects</span><span class="op">.</span><span class="nam">Set</span><span class="op">)</span><span class="op">:</span>  <span class="com"># type: ignore # pragma: no cover</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2776" href="#t2776">2776</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2777" href="#t2777">2777</a></span><span class="t"><span class="str">    Used to make pydal Set more typed.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2778" href="#t2778">2778</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2779" href="#t2779">2779</a></span><span class="t"><span class="str">    This class is not actually used, only 'cast' by TypeDAL.__call__</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2780" href="#t2780">2780</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2781" href="#t2781">2781</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2782" href="#t2782">2782</a></span><span class="t">    <span class="key">def</span> <span class="nam">count</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">distinct</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">cache</span><span class="op">:</span> <span class="nam">AnyDict</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2783" href="#t2783">2783</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2784" href="#t2784">2784</a></span><span class="t"><span class="str">        Count returns an int.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2785" href="#t2785">2785</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2786" href="#t2786">2786</a></span><span class="t">        <span class="nam">result</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">count</span><span class="op">(</span><span class="nam">distinct</span><span class="op">,</span> <span class="nam">cache</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2787" href="#t2787">2787</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">int</span><span class="op">,</span> <span class="nam">result</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2788" href="#t2788">2788</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2789" href="#t2789">2789</a></span><span class="t">    <span class="key">def</span> <span class="nam">select</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="op">*</span><span class="nam">fields</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="op">**</span><span class="nam">attributes</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2790" href="#t2790">2790</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2791" href="#t2791">2791</a></span><span class="t"><span class="str">        Select returns a TypedRows of a user defined table.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2792" href="#t2792">2792</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2793" href="#t2793">2793</a></span><span class="t"><span class="str">        Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2794" href="#t2794">2794</a></span><span class="t"><span class="str">            result: TypedRows[MyTable] = db(MyTable.id > 0).select()</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2795" href="#t2795">2795</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2796" href="#t2796">2796</a></span><span class="t"><span class="str">            for row in result:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2797" href="#t2797">2797</a></span><span class="t"><span class="str">                typing.reveal_type(row)  # MyTable</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t2798" href="#t2798">2798</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2799" href="#t2799">2799</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">select</span><span class="op">(</span><span class="op">*</span><span class="nam">fields</span><span class="op">,</span> <span class="op">**</span><span class="nam">attributes</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="exc show_exc"><span class="n"><a id="t2800" href="#t2800">2800</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">TypedRows</span><span class="op">[</span><span class="nam">T_MetaInstance</span><span class="op">]</span><span class="op">,</span> <span class="nam">rows</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_config_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_fields_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -4,17 +4,17 @@
 r m x  toggle line displays
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
-********** 990033 ssttaatteemmeennttss ? 990033 rruunn 00 mmiissssiinngg 114444 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+********** 990044 ssttaatteemmeennttss ? 990044 rruunn 00 mmiissssiinngg 114444 eexxcclluuddeedd **********
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2Core functionality of TypeDAL.
 _3"""
 _4
 _5import contextlib
 _6import csv
 _7import datetime as dt
@@ -576,15 +576,16 @@
 _5_1_6 relationships |= {
 _5_1_7 k: new_relationship
 _5_1_8 for k in reference_field_keys
 _5_1_9 if k not in relationships and (new_relationship := to_relationship(cls, k,
 annotations[k]))
 _5_2_0 }
 _5_2_1
-_5_2_2 cache_dependency = kwargs.pop("cache_dependency", True)
+_5_2_2 cache_dependency = self._config.caching and kwargs.pop("cache_dependency",
+True)
 _5_2_3
 _5_2_4 table: Table = self.define_table(tablename, *fields.values(), **kwargs)
 _5_2_5
 _5_2_6 for name, typed_field in typedfields.items():
 _5_2_7 field = fields[name]
 _5_2_8 typed_field.bind(field, table)
 _5_2_9
@@ -1425,1572 +1426,1587 @@
 _1_3_1_3 """
 _1_3_1_4 if not self._field: # pragma: no cover
 _1_3_1_5 raise ValueError("Unbound Field can not be inverted!")
 _1_3_1_6
 _1_3_1_7 return typing.cast(Expression, ~self._field)
 _1_3_1_8
 _1_3_1_9
-_1_3_2_0class TypedTable(metaclass=TableMeta):
+_1_3_2_0class _TypedTable:
 _1_3_2_1 """
-_1_3_2_2 Enhanded modeling system on top of pydal's Table that adds typing and
-additional functionality.
-_1_3_2_3 """
-_1_3_2_4
-_1_3_2_5 # set up by 'new':
-_1_3_2_6 _row: Row | None = None
-_1_3_2_7
-_1_3_2_8 _with: list[str]
-_1_3_2_9
-_1_3_3_0 id: "TypedField[int]"
-_1_3_3_1
-_1_3_3_2 _before_insert: list[BeforeInsertCallable]
-_1_3_3_3 _after_insert: list[AfterInsertCallable]
-_1_3_3_4 _before_update: list[BeforeUpdateCallable]
-_1_3_3_5 _after_update: list[AfterUpdateCallable]
-_1_3_3_6 _before_delete: list[BeforeDeleteCallable]
-_1_3_3_7 _after_delete: list[AfterDeleteCallable]
-_1_3_3_8
-_1_3_3_9 def _setup_instance_methods(self) -> None:
-_1_3_4_0 self.as_dict = self._as_dict # type: ignore
-_1_3_4_1 self.__json__ = self.as_json = self._as_json # type: ignore
-_1_3_4_2 # self.as_yaml = self._as_yaml # type: ignore
-_1_3_4_3 self.as_xml = self._as_xml # type: ignore
+_1_3_2_2 This class is a final shared parent between TypedTable and Mixins.
+_1_3_2_3
+_1_3_2_4 This needs to exist because otherwise the __on_define__ of Mixins are not
+executed.
+_1_3_2_5 Notably, this class exists at a level ABOVE the `metaclass=TableMeta`,
+_1_3_2_6 because otherwise typing gets confused when Mixins are used and multiple
+types could satisfy
+_1_3_2_7 generic 'T subclass of TypedTable'
+_1_3_2_8 -> Setting 'TypedTable' as the parent for Mixin does not work at runtime
+(and works semi at type check time)
+_1_3_2_9 """
+_1_3_3_0
+_1_3_3_1 id: "TypedField[int]"
+_1_3_3_2
+_1_3_3_3 _before_insert: list[BeforeInsertCallable]
+_1_3_3_4 _after_insert: list[AfterInsertCallable]
+_1_3_3_5 _before_update: list[BeforeUpdateCallable]
+_1_3_3_6 _after_update: list[AfterUpdateCallable]
+_1_3_3_7 _before_delete: list[BeforeDeleteCallable]
+_1_3_3_8 _after_delete: list[AfterDeleteCallable]
+_1_3_3_9
+_1_3_4_0 @classmethod
+_1_3_4_1 def __on_define__(cls, db: TypeDAL) -> None:
+_1_3_4_2 """
+_1_3_4_3 Method that can be implemented by tables to do an action after db.define
+is completed.
 _1_3_4_4
-_1_3_4_5 self.update = self._update # type: ignore
-_1_3_4_6
-_1_3_4_7 self.delete_record = self._delete_record # type: ignore
-_1_3_4_8 self.update_record = self._update_record # type: ignore
+_1_3_4_5 This can be useful if you need to add something like requires=IS_NOT_IN_DB
+(db, "table.field"),
+_1_3_4_6 where you need a reference to the current database, which may not exist
+yet when defining the model.
+_1_3_4_7 """
+_1_3_4_8
 _1_3_4_9
-_1_3_5_0 def __new__(
-_1_3_5_1 cls, row_or_id: typing.Union[Row, Query, pydal.objects.Set, int, str,
-None, "TypedTable"] = None, **filters: Any
-_1_3_5_2 ) -> "TypedTable":
+_1_3_5_0class TypedTable(_TypedTable, metaclass=TableMeta):
+_1_3_5_1 """
+_1_3_5_2 Enhanded modeling system on top of pydal's Table that adds typing and
+additional functionality.
 _1_3_5_3 """
-_1_3_5_4 Create a Typed Rows model instance from an existing row, ID or query.
-_1_3_5_5
-_1_3_5_6 Examples:
-_1_3_5_7 MyTable(1)
-_1_3_5_8 MyTable(id=1)
-_1_3_5_9 MyTable(MyTable.id == 1)
-_1_3_6_0 """
-_1_3_6_1 table = cls._ensure_table_defined()
-_1_3_6_2 inst = super().__new__(cls)
-_1_3_6_3
-_1_3_6_4 if isinstance(row_or_id, TypedTable):
-_1_3_6_5 # existing typed table instance!
-_1_3_6_6 return row_or_id
-_1_3_6_7 elif isinstance(row_or_id, pydal.objects.Row):
-_1_3_6_8 row = row_or_id
-_1_3_6_9 elif row_or_id is not None:
-_1_3_7_0 row = table(row_or_id, **filters)
-_1_3_7_1 elif filters:
-_1_3_7_2 row = table(**filters)
-_1_3_7_3 else:
-_1_3_7_4 # dummy object
-_1_3_7_5 return inst
+_1_3_5_4
+_1_3_5_5 # set up by 'new':
+_1_3_5_6 _row: Row | None = None
+_1_3_5_7
+_1_3_5_8 _with: list[str]
+_1_3_5_9
+_1_3_6_0 def _setup_instance_methods(self) -> None:
+_1_3_6_1 self.as_dict = self._as_dict # type: ignore
+_1_3_6_2 self.__json__ = self.as_json = self._as_json # type: ignore
+_1_3_6_3 # self.as_yaml = self._as_yaml # type: ignore
+_1_3_6_4 self.as_xml = self._as_xml # type: ignore
+_1_3_6_5
+_1_3_6_6 self.update = self._update # type: ignore
+_1_3_6_7
+_1_3_6_8 self.delete_record = self._delete_record # type: ignore
+_1_3_6_9 self.update_record = self._update_record # type: ignore
+_1_3_7_0
+_1_3_7_1 def __new__(
+_1_3_7_2 cls, row_or_id: typing.Union[Row, Query, pydal.objects.Set, int, str,
+None, "TypedTable"] = None, **filters: Any
+_1_3_7_3 ) -> "TypedTable":
+_1_3_7_4 """
+_1_3_7_5 Create a Typed Rows model instance from an existing row, ID or query.
 _1_3_7_6
-_1_3_7_7 if not row:
-_1_3_7_8 return None # type: ignore
-_1_3_7_9
-_1_3_8_0 inst._row = row
-_1_3_8_1 inst.__dict__.update(row)
-_1_3_8_2 inst._setup_instance_methods()
-_1_3_8_3 return inst
+_1_3_7_7 Examples:
+_1_3_7_8 MyTable(1)
+_1_3_7_9 MyTable(id=1)
+_1_3_8_0 MyTable(MyTable.id == 1)
+_1_3_8_1 """
+_1_3_8_2 table = cls._ensure_table_defined()
+_1_3_8_3 inst = super().__new__(cls)
 _1_3_8_4
-_1_3_8_5 @classmethod
-_1_3_8_6 def __on_define__(cls, db: TypeDAL) -> None:
-_1_3_8_7 """
-_1_3_8_8 Method that can be implemented by tables to do an action after db.define
-is completed.
-_1_3_8_9
-_1_3_9_0 This can be useful if you need to add something like requires=IS_NOT_IN_DB
-(db, "table.field"),
-_1_3_9_1 where you need a reference to the current database, which may not exist
-yet when defining the model.
-_1_3_9_2 """
-_1_3_9_3
-_1_3_9_4 def __iter__(self) -> typing.Generator[Any, None, None]:
-_1_3_9_5 """
-_1_3_9_6 Allows looping through the columns.
-_1_3_9_7 """
-_1_3_9_8 row = self._ensure_matching_row()
-_1_3_9_9 yield from iter(row)
+_1_3_8_5 if isinstance(row_or_id, TypedTable):
+_1_3_8_6 # existing typed table instance!
+_1_3_8_7 return row_or_id
+_1_3_8_8 elif isinstance(row_or_id, pydal.objects.Row):
+_1_3_8_9 row = row_or_id
+_1_3_9_0 elif row_or_id is not None:
+_1_3_9_1 row = table(row_or_id, **filters)
+_1_3_9_2 elif filters:
+_1_3_9_3 row = table(**filters)
+_1_3_9_4 else:
+_1_3_9_5 # dummy object
+_1_3_9_6 return inst
+_1_3_9_7
+_1_3_9_8 if not row:
+_1_3_9_9 return None # type: ignore
 _1_4_0_0
-_1_4_0_1 def __getitem__(self, item: str) -> Any:
-_1_4_0_2 """
-_1_4_0_3 Allows dictionary notation to get columns.
-_1_4_0_4 """
-_1_4_0_5 if item in self.__dict__:
-_1_4_0_6 return self.__dict__.get(item)
-_1_4_0_7
-_1_4_0_8 # fallback to lookup in row
-_1_4_0_9 if self._row:
-_1_4_1_0 return self._row[item]
-_1_4_1_1
-_1_4_1_2 # nothing found!
-_1_4_1_3 raise KeyError(item)
-_1_4_1_4
-_1_4_1_5 def __getattr__(self, item: str) -> Any:
+_1_4_0_1 inst._row = row
+_1_4_0_2 inst.__dict__.update(row)
+_1_4_0_3 inst._setup_instance_methods()
+_1_4_0_4 return inst
+_1_4_0_5
+_1_4_0_6 def __iter__(self) -> typing.Generator[Any, None, None]:
+_1_4_0_7 """
+_1_4_0_8 Allows looping through the columns.
+_1_4_0_9 """
+_1_4_1_0 row = self._ensure_matching_row()
+_1_4_1_1 yield from iter(row)
+_1_4_1_2
+_1_4_1_3 def __getitem__(self, item: str) -> Any:
+_1_4_1_4 """
+_1_4_1_5 Allows dictionary notation to get columns.
 _1_4_1_6 """
-_1_4_1_7 Allows dot notation to get columns.
-_1_4_1_8 """
-_1_4_1_9 if value := self.get(item):
-_1_4_2_0 return value
-_1_4_2_1
-_1_4_2_2 raise AttributeError(item)
+_1_4_1_7 if item in self.__dict__:
+_1_4_1_8 return self.__dict__.get(item)
+_1_4_1_9
+_1_4_2_0 # fallback to lookup in row
+_1_4_2_1 if self._row:
+_1_4_2_2 return self._row[item]
 _1_4_2_3
-_1_4_2_4 def get(self, item: str, default: Any = None) -> Any:
-_1_4_2_5 """
-_1_4_2_6 Try to get a column from this instance, else return default.
-_1_4_2_7 """
-_1_4_2_8 try:
-_1_4_2_9 return self.__getitem__(item)
-_1_4_3_0 except KeyError:
-_1_4_3_1 return default
-_1_4_3_2
-_1_4_3_3 def __setitem__(self, key: str, value: Any) -> None:
-_1_4_3_4 """
-_1_4_3_5 Data can both be updated via dot and dict notation.
-_1_4_3_6 """
-_1_4_3_7 return setattr(self, key, value)
-_1_4_3_8
-_1_4_3_9 def __int__(self) -> int:
-_1_4_4_0 """
-_1_4_4_1 Calling int on a model instance will return its id.
-_1_4_4_2 """
-_1_4_4_3 return getattr(self, "id", 0)
+_1_4_2_4 # nothing found!
+_1_4_2_5 raise KeyError(item)
+_1_4_2_6
+_1_4_2_7 def __getattr__(self, item: str) -> Any:
+_1_4_2_8 """
+_1_4_2_9 Allows dot notation to get columns.
+_1_4_3_0 """
+_1_4_3_1 if value := self.get(item):
+_1_4_3_2 return value
+_1_4_3_3
+_1_4_3_4 raise AttributeError(item)
+_1_4_3_5
+_1_4_3_6 def get(self, item: str, default: Any = None) -> Any:
+_1_4_3_7 """
+_1_4_3_8 Try to get a column from this instance, else return default.
+_1_4_3_9 """
+_1_4_4_0 try:
+_1_4_4_1 return self.__getitem__(item)
+_1_4_4_2 except KeyError:
+_1_4_4_3 return default
 _1_4_4_4
-_1_4_4_5 def __bool__(self) -> bool:
+_1_4_4_5 def __setitem__(self, key: str, value: Any) -> None:
 _1_4_4_6 """
-_1_4_4_7 If the instance has an underlying row with data, it is truthy.
+_1_4_4_7 Data can both be updated via dot and dict notation.
 _1_4_4_8 """
-_1_4_4_9 return bool(getattr(self, "_row", False))
+_1_4_4_9 return setattr(self, key, value)
 _1_4_5_0
-_1_4_5_1 def _ensure_matching_row(self) -> Row:
-_1_4_5_2 if not getattr(self, "_row", None):
-_1_4_5_3 raise EnvironmentError("Trying to access non-existant row. Maybe it was
-deleted or not yet initialized?")
-_1_4_5_4 return self._row
-_1_4_5_5
-_1_4_5_6 def __repr__(self) -> str:
-_1_4_5_7 """
-_1_4_5_8 String representation of the model instance.
-_1_4_5_9 """
-_1_4_6_0 model_name = self.__class__.__name__
-_1_4_6_1 model_data = {}
+_1_4_5_1 def __int__(self) -> int:
+_1_4_5_2 """
+_1_4_5_3 Calling int on a model instance will return its id.
+_1_4_5_4 """
+_1_4_5_5 return getattr(self, "id", 0)
+_1_4_5_6
+_1_4_5_7 def __bool__(self) -> bool:
+_1_4_5_8 """
+_1_4_5_9 If the instance has an underlying row with data, it is truthy.
+_1_4_6_0 """
+_1_4_6_1 return bool(getattr(self, "_row", False))
 _1_4_6_2
-_1_4_6_3 if self._row:
-_1_4_6_4 model_data = self._row.as_json()
-_1_4_6_5
-_1_4_6_6 details = model_name
-_1_4_6_7 details += f"({model_data})"
-_1_4_6_8
-_1_4_6_9 if relationships := getattr(self, "_with", []):
-_1_4_7_0 details += f" + {relationships}"
-_1_4_7_1
-_1_4_7_2 return f"<{details}>"
-_1_4_7_3
-_1_4_7_4 # serialization
-_1_4_7_5 # underscore variants work for class instances (set up by
+_1_4_6_3 def _ensure_matching_row(self) -> Row:
+_1_4_6_4 if not getattr(self, "_row", None):
+_1_4_6_5 raise EnvironmentError("Trying to access non-existant row. Maybe it was
+deleted or not yet initialized?")
+_1_4_6_6 return self._row
+_1_4_6_7
+_1_4_6_8 def __repr__(self) -> str:
+_1_4_6_9 """
+_1_4_7_0 String representation of the model instance.
+_1_4_7_1 """
+_1_4_7_2 model_name = self.__class__.__name__
+_1_4_7_3 model_data = {}
+_1_4_7_4
+_1_4_7_5 if self._row:
+_1_4_7_6 model_data = self._row.as_json()
+_1_4_7_7
+_1_4_7_8 details = model_name
+_1_4_7_9 details += f"({model_data})"
+_1_4_8_0
+_1_4_8_1 if relationships := getattr(self, "_with", []):
+_1_4_8_2 details += f" + {relationships}"
+_1_4_8_3
+_1_4_8_4 return f"<{details}>"
+_1_4_8_5
+_1_4_8_6 # serialization
+_1_4_8_7 # underscore variants work for class instances (set up by
 _setup_instance_methods)
-_1_4_7_6
-_1_4_7_7 @classmethod
-_1_4_7_8 def as_dict(cls, flat: bool = False, sanitize: bool = True) -> AnyDict:
-_1_4_7_9 """
-_1_4_8_0 Dump the object to a plain dict.
-_1_4_8_1
-_1_4_8_2 Can be used as both a class or instance method:
-_1_4_8_3 - dumps the table info if it's a class
-_1_4_8_4 - dumps the row info if it's an instance (see _as_dict)
-_1_4_8_5 """
-_1_4_8_6 table = cls._ensure_table_defined()
-_1_4_8_7 result = table.as_dict(flat, sanitize)
-_1_4_8_8 return typing.cast(AnyDict, result)
-_1_4_8_9
-_1_4_9_0 @classmethod
-_1_4_9_1 def as_json(cls, sanitize: bool = True, indent: Optional[int] = None,
-**kwargs: Any) -> str:
-_1_4_9_2 """
-_1_4_9_3 Dump the object to json.
-_1_4_9_4
-_1_4_9_5 Can be used as both a class or instance method:
-_1_4_9_6 - dumps the table info if it's a class
-_1_4_9_7 - dumps the row info if it's an instance (see _as_json)
-_1_4_9_8 """
-_1_4_9_9 data = cls.as_dict(sanitize=sanitize)
-_1_5_0_0 return as_json.encode(data, indent=indent, **kwargs)
+_1_4_8_8
+_1_4_8_9 @classmethod
+_1_4_9_0 def as_dict(cls, flat: bool = False, sanitize: bool = True) -> AnyDict:
+_1_4_9_1 """
+_1_4_9_2 Dump the object to a plain dict.
+_1_4_9_3
+_1_4_9_4 Can be used as both a class or instance method:
+_1_4_9_5 - dumps the table info if it's a class
+_1_4_9_6 - dumps the row info if it's an instance (see _as_dict)
+_1_4_9_7 """
+_1_4_9_8 table = cls._ensure_table_defined()
+_1_4_9_9 result = table.as_dict(flat, sanitize)
+_1_5_0_0 return typing.cast(AnyDict, result)
 _1_5_0_1
 _1_5_0_2 @classmethod
-_1_5_0_3 def as_xml(cls, sanitize: bool = True) -> str: # pragma: no cover
+_1_5_0_3 def as_json(cls, sanitize: bool = True, indent: Optional[int] = None,
+**kwargs: Any) -> str:
 _1_5_0_4 """
-_1_5_0_5 Dump the object to xml.
+_1_5_0_5 Dump the object to json.
 _1_5_0_6
 _1_5_0_7 Can be used as both a class or instance method:
 _1_5_0_8 - dumps the table info if it's a class
-_1_5_0_9 - dumps the row info if it's an instance (see _as_xml)
+_1_5_0_9 - dumps the row info if it's an instance (see _as_json)
 _1_5_1_0 """
-_1_5_1_1 table = cls._ensure_table_defined()
-_1_5_1_2 return typing.cast(str, table.as_xml(sanitize))
+_1_5_1_1 data = cls.as_dict(sanitize=sanitize)
+_1_5_1_2 return as_json.encode(data, indent=indent, **kwargs)
 _1_5_1_3
 _1_5_1_4 @classmethod
-_1_5_1_5 def as_yaml(cls, sanitize: bool = True) -> str:
+_1_5_1_5 def as_xml(cls, sanitize: bool = True) -> str: # pragma: no cover
 _1_5_1_6 """
-_1_5_1_7 Dump the object to yaml.
+_1_5_1_7 Dump the object to xml.
 _1_5_1_8
 _1_5_1_9 Can be used as both a class or instance method:
 _1_5_2_0 - dumps the table info if it's a class
-_1_5_2_1 - dumps the row info if it's an instance (see _as_yaml)
+_1_5_2_1 - dumps the row info if it's an instance (see _as_xml)
 _1_5_2_2 """
 _1_5_2_3 table = cls._ensure_table_defined()
-_1_5_2_4 return typing.cast(str, table.as_yaml(sanitize))
+_1_5_2_4 return typing.cast(str, table.as_xml(sanitize))
 _1_5_2_5
-_1_5_2_6 def _as_dict(
-_1_5_2_7 self, datetime_to_str: bool = False, custom_types: typing.Iterable[type] |
-type | None = None
-_1_5_2_8 ) -> AnyDict:
-_1_5_2_9 row = self._ensure_matching_row()
+_1_5_2_6 @classmethod
+_1_5_2_7 def as_yaml(cls, sanitize: bool = True) -> str:
+_1_5_2_8 """
+_1_5_2_9 Dump the object to yaml.
 _1_5_3_0
-_1_5_3_1 result = row.as_dict(datetime_to_str=datetime_to_str,
+_1_5_3_1 Can be used as both a class or instance method:
+_1_5_3_2 - dumps the table info if it's a class
+_1_5_3_3 - dumps the row info if it's an instance (see _as_yaml)
+_1_5_3_4 """
+_1_5_3_5 table = cls._ensure_table_defined()
+_1_5_3_6 return typing.cast(str, table.as_yaml(sanitize))
+_1_5_3_7
+_1_5_3_8 def _as_dict(
+_1_5_3_9 self, datetime_to_str: bool = False, custom_types: typing.Iterable[type] |
+type | None = None
+_1_5_4_0 ) -> AnyDict:
+_1_5_4_1 row = self._ensure_matching_row()
+_1_5_4_2
+_1_5_4_3 result = row.as_dict(datetime_to_str=datetime_to_str,
 custom_types=custom_types)
-_1_5_3_2
-_1_5_3_3 def asdict_method(obj: Any) -> Any: # pragma: no cover
-_1_5_3_4 if hasattr(obj, "_as_dict"): # typedal
-_1_5_3_5 return obj._as_dict()
-_1_5_3_6 elif hasattr(obj, "as_dict"): # pydal
-_1_5_3_7 return obj.as_dict()
-_1_5_3_8 else: # something else??
-_1_5_3_9 return obj.__dict__
-_1_5_4_0
-_1_5_4_1 if _with := getattr(self, "_with", None):
-_1_5_4_2 for relationship in _with:
-_1_5_4_3 data = self.get(relationship)
 _1_5_4_4
-_1_5_4_5 if isinstance(data, list):
-_1_5_4_6 data = [asdict_method(_) for _ in data]
-_1_5_4_7 elif data:
-_1_5_4_8 data = asdict_method(data)
-_1_5_4_9
-_1_5_5_0 result[relationship] = data
-_1_5_5_1
-_1_5_5_2 return typing.cast(AnyDict, result)
-_1_5_5_3
-_1_5_5_4 def _as_json(
-_1_5_5_5 self,
-_1_5_5_6 default: typing.Callable[[Any], Any] = None,
-_1_5_5_7 indent: Optional[int] = None,
-_1_5_5_8 **kwargs: Any,
-_1_5_5_9 ) -> str:
-_1_5_6_0 data = self._as_dict()
-_1_5_6_1 return as_json.encode(data, default=default, indent=indent, **kwargs)
-_1_5_6_2
-_1_5_6_3 def _as_xml(self, sanitize: bool = True) -> str: # pragma: no cover
-_1_5_6_4 row = self._ensure_matching_row()
-_1_5_6_5 return typing.cast(str, row.as_xml(sanitize))
-_1_5_6_6
-_1_5_6_7 # def _as_yaml(self, sanitize: bool = True) -> str:
-_1_5_6_8 # row = self._ensure_matching_row()
-_1_5_6_9 # return typing.cast(str, row.as_yaml(sanitize))
-_1_5_7_0
-_1_5_7_1 def __setattr__(self, key: str, value: Any) -> None:
-_1_5_7_2 """
-_1_5_7_3 When setting a property on a Typed Table model instance, also update the
-underlying row.
-_1_5_7_4 """
-_1_5_7_5 if self._row and key in self._row.__dict__ and not callable(value):
-_1_5_7_6 # enables `row.key = value; row.update_record()`
-_1_5_7_7 self._row[key] = value
+_1_5_4_5 def asdict_method(obj: Any) -> Any: # pragma: no cover
+_1_5_4_6 if hasattr(obj, "_as_dict"): # typedal
+_1_5_4_7 return obj._as_dict()
+_1_5_4_8 elif hasattr(obj, "as_dict"): # pydal
+_1_5_4_9 return obj.as_dict()
+_1_5_5_0 else: # something else??
+_1_5_5_1 return obj.__dict__
+_1_5_5_2
+_1_5_5_3 if _with := getattr(self, "_with", None):
+_1_5_5_4 for relationship in _with:
+_1_5_5_5 data = self.get(relationship)
+_1_5_5_6
+_1_5_5_7 if isinstance(data, list):
+_1_5_5_8 data = [asdict_method(_) for _ in data]
+_1_5_5_9 elif data:
+_1_5_6_0 data = asdict_method(data)
+_1_5_6_1
+_1_5_6_2 result[relationship] = data
+_1_5_6_3
+_1_5_6_4 return typing.cast(AnyDict, result)
+_1_5_6_5
+_1_5_6_6 def _as_json(
+_1_5_6_7 self,
+_1_5_6_8 default: typing.Callable[[Any], Any] = None,
+_1_5_6_9 indent: Optional[int] = None,
+_1_5_7_0 **kwargs: Any,
+_1_5_7_1 ) -> str:
+_1_5_7_2 data = self._as_dict()
+_1_5_7_3 return as_json.encode(data, default=default, indent=indent, **kwargs)
+_1_5_7_4
+_1_5_7_5 def _as_xml(self, sanitize: bool = True) -> str: # pragma: no cover
+_1_5_7_6 row = self._ensure_matching_row()
+_1_5_7_7 return typing.cast(str, row.as_xml(sanitize))
 _1_5_7_8
-_1_5_7_9 super().__setattr__(key, value)
-_1_5_8_0
-_1_5_8_1 @classmethod
-_1_5_8_2 def update(cls: typing.Type[T_MetaInstance], query: Query, **fields: Any)
+_1_5_7_9 # def _as_yaml(self, sanitize: bool = True) -> str:
+_1_5_8_0 # row = self._ensure_matching_row()
+_1_5_8_1 # return typing.cast(str, row.as_yaml(sanitize))
+_1_5_8_2
+_1_5_8_3 def __setattr__(self, key: str, value: Any) -> None:
+_1_5_8_4 """
+_1_5_8_5 When setting a property on a Typed Table model instance, also update the
+underlying row.
+_1_5_8_6 """
+_1_5_8_7 if self._row and key in self._row.__dict__ and not callable(value):
+_1_5_8_8 # enables `row.key = value; row.update_record()`
+_1_5_8_9 self._row[key] = value
+_1_5_9_0
+_1_5_9_1 super().__setattr__(key, value)
+_1_5_9_2
+_1_5_9_3 @classmethod
+_1_5_9_4 def update(cls: typing.Type[T_MetaInstance], query: Query, **fields: Any)
 -> T_MetaInstance | None:
-_1_5_8_3 """
-_1_5_8_4 Update one record.
-_1_5_8_5
-_1_5_8_6 Example:
-_1_5_8_7 MyTable.update(MyTable.id == 1, name="NewName") -> MyTable
-_1_5_8_8 """
-_1_5_8_9 # todo: update multiple?
-_1_5_9_0 if record := cls(query):
-_1_5_9_1 return record.update_record(**fields)
-_1_5_9_2 else:
-_1_5_9_3 return None
-_1_5_9_4
-_1_5_9_5 def _update(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
-_1_5_9_6 row = self._ensure_matching_row()
-_1_5_9_7 row.update(**fields)
-_1_5_9_8 self.__dict__.update(**fields)
-_1_5_9_9 return self
-_1_6_0_0
-_1_6_0_1 def _update_record(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
-
-_1_6_0_2 row = self._ensure_matching_row()
-_1_6_0_3 new_row = row.update_record(**fields)
-_1_6_0_4 self.update(**new_row)
-_1_6_0_5 return self
+_1_5_9_5 """
+_1_5_9_6 Update one record.
+_1_5_9_7
+_1_5_9_8 Example:
+_1_5_9_9 MyTable.update(MyTable.id == 1, name="NewName") -> MyTable
+_1_6_0_0 """
+_1_6_0_1 # todo: update multiple?
+_1_6_0_2 if record := cls(query):
+_1_6_0_3 return record.update_record(**fields)
+_1_6_0_4 else:
+_1_6_0_5 return None
 _1_6_0_6
-_1_6_0_7 def update_record(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
+_1_6_0_7 def _update(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
+_1_6_0_8 row = self._ensure_matching_row()
+_1_6_0_9 row.update(**fields)
+_1_6_1_0 self.__dict__.update(**fields)
+_1_6_1_1 return self
+_1_6_1_2
+_1_6_1_3 def _update_record(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
+
+_1_6_1_4 row = self._ensure_matching_row()
+_1_6_1_5 new_row = row.update_record(**fields)
+_1_6_1_6 self.update(**new_row)
+_1_6_1_7 return self
+_1_6_1_8
+_1_6_1_9 def update_record(self: T_MetaInstance, **fields: Any) -> T_MetaInstance:
 # pragma: no cover
-_1_6_0_8 """
-_1_6_0_9 Here as a placeholder for _update_record.
-_1_6_1_0
-_1_6_1_1 Will be replaced on instance creation!
-_1_6_1_2 """
-_1_6_1_3 return self._update_record(**fields)
-_1_6_1_4
-_1_6_1_5 def _delete_record(self) -> int:
-_1_6_1_6 """
-_1_6_1_7 Actual logic in `pydal.helpers.classes.RecordDeleter`.
-_1_6_1_8 """
-_1_6_1_9 row = self._ensure_matching_row()
-_1_6_2_0 result = row.delete_record()
-_1_6_2_1 self.__dict__ = {} # empty self, since row is no more.
-_1_6_2_2 self._row = None # just to be sure
-_1_6_2_3 self._setup_instance_methods()
-_1_6_2_4 # ^ instance methods might've been deleted by emptying dict,
-_1_6_2_5 # but we still want .as_dict to show an error, not the table's as_dict.
-_1_6_2_6 return typing.cast(int, result)
-_1_6_2_7
-_1_6_2_8 def delete_record(self) -> int: # pragma: no cover
-_1_6_2_9 """
-_1_6_3_0 Here as a placeholder for _delete_record.
-_1_6_3_1
-_1_6_3_2 Will be replaced on instance creation!
-_1_6_3_3 """
-_1_6_3_4 return self._delete_record()
-_1_6_3_5
-_1_6_3_6 # __del__ is also called on the end of a scope so don't remove records on
-every del!!
-_1_6_3_7
-_1_6_3_8 # pickling:
+_1_6_2_0 """
+_1_6_2_1 Here as a placeholder for _update_record.
+_1_6_2_2
+_1_6_2_3 Will be replaced on instance creation!
+_1_6_2_4 """
+_1_6_2_5 return self._update_record(**fields)
+_1_6_2_6
+_1_6_2_7 def _delete_record(self) -> int:
+_1_6_2_8 """
+_1_6_2_9 Actual logic in `pydal.helpers.classes.RecordDeleter`.
+_1_6_3_0 """
+_1_6_3_1 row = self._ensure_matching_row()
+_1_6_3_2 result = row.delete_record()
+_1_6_3_3 self.__dict__ = {} # empty self, since row is no more.
+_1_6_3_4 self._row = None # just to be sure
+_1_6_3_5 self._setup_instance_methods()
+_1_6_3_6 # ^ instance methods might've been deleted by emptying dict,
+_1_6_3_7 # but we still want .as_dict to show an error, not the table's as_dict.
+_1_6_3_8 return typing.cast(int, result)
 _1_6_3_9
-_1_6_4_0 def __getstate__(self) -> AnyDict:
+_1_6_4_0 def delete_record(self) -> int: # pragma: no cover
 _1_6_4_1 """
-_1_6_4_2 State to save when pickling.
+_1_6_4_2 Here as a placeholder for _delete_record.
 _1_6_4_3
-_1_6_4_4 Prevents db connection from being pickled.
-_1_6_4_5 Similar to as_dict but without changing the data of the relationships
-(dill does that recursively)
-_1_6_4_6 """
-_1_6_4_7 row = self._ensure_matching_row()
-_1_6_4_8 result: AnyDict = row.as_dict()
+_1_6_4_4 Will be replaced on instance creation!
+_1_6_4_5 """
+_1_6_4_6 return self._delete_record()
+_1_6_4_7
+_1_6_4_8 # __del__ is also called on the end of a scope so don't remove records on
+every del!!
 _1_6_4_9
-_1_6_5_0 if _with := getattr(self, "_with", None):
-_1_6_5_1 result["_with"] = _with
-_1_6_5_2 for relationship in _with:
-_1_6_5_3 data = self.get(relationship)
-_1_6_5_4
-_1_6_5_5 result[relationship] = data
-_1_6_5_6
-_1_6_5_7 result["_row"] = self._row.as_json() if self._row else ""
-_1_6_5_8 return result
-_1_6_5_9
-_1_6_6_0 def __setstate__(self, state: AnyDict) -> None:
-_1_6_6_1 """
-_1_6_6_2 Used by dill when loading from a bytestring.
-_1_6_6_3 """
-_1_6_6_4 # as_dict also includes table info, so dump as json to only get the actual
-row data
-_1_6_6_5 # then create a new (more empty) row object:
-_1_6_6_6 state["_row"] = Row(json.loads(state["_row"]))
-_1_6_6_7 self.__dict__ |= state
+_1_6_5_0 # pickling:
+_1_6_5_1
+_1_6_5_2 def __getstate__(self) -> AnyDict:
+_1_6_5_3 """
+_1_6_5_4 State to save when pickling.
+_1_6_5_5
+_1_6_5_6 Prevents db connection from being pickled.
+_1_6_5_7 Similar to as_dict but without changing the data of the relationships
+(dill does that recursively)
+_1_6_5_8 """
+_1_6_5_9 row = self._ensure_matching_row()
+_1_6_6_0 result: AnyDict = row.as_dict()
+_1_6_6_1
+_1_6_6_2 if _with := getattr(self, "_with", None):
+_1_6_6_3 result["_with"] = _with
+_1_6_6_4 for relationship in _with:
+_1_6_6_5 data = self.get(relationship)
+_1_6_6_6
+_1_6_6_7 result[relationship] = data
 _1_6_6_8
-_1_6_6_9
-_1_6_7_0# backwards compat:
-_1_6_7_1TypedRow = TypedTable
-_1_6_7_2
-_1_6_7_3
-_1_6_7_4class TypedRows(typing.Collection[T_MetaInstance], Rows):
+_1_6_6_9 result["_row"] = self._row.as_json() if self._row else ""
+_1_6_7_0 return result
+_1_6_7_1
+_1_6_7_2 def __setstate__(self, state: AnyDict) -> None:
+_1_6_7_3 """
+_1_6_7_4 Used by dill when loading from a bytestring.
 _1_6_7_5 """
-_1_6_7_6 Slighly enhaned and typed functionality on top of pydal Rows (the result
+_1_6_7_6 # as_dict also includes table info, so dump as json to only get the actual
+row data
+_1_6_7_7 # then create a new (more empty) row object:
+_1_6_7_8 state["_row"] = Row(json.loads(state["_row"]))
+_1_6_7_9 self.__dict__ |= state
+_1_6_8_0
+_1_6_8_1
+_1_6_8_2# backwards compat:
+_1_6_8_3TypedRow = TypedTable
+_1_6_8_4
+_1_6_8_5
+_1_6_8_6class TypedRows(typing.Collection[T_MetaInstance], Rows):
+_1_6_8_7 """
+_1_6_8_8 Slighly enhaned and typed functionality on top of pydal Rows (the result
 of a select).
-_1_6_7_7 """
-_1_6_7_8
-_1_6_7_9 records: dict[int, T_MetaInstance]
-_1_6_8_0 # _rows: Rows
-_1_6_8_1 model: typing.Type[T_MetaInstance]
-_1_6_8_2 metadata: Metadata
-_1_6_8_3
-_1_6_8_4 # pseudo-properties: actually stored in _rows
-_1_6_8_5 db: TypeDAL
-_1_6_8_6 colnames: list[str]
-_1_6_8_7 fields: list[Field]
-_1_6_8_8 colnames_fields: list[Field]
-_1_6_8_9 response: list[tuple[Any, ...]]
+_1_6_8_9 """
 _1_6_9_0
-_1_6_9_1 def __init__(
-_1_6_9_2 self,
-_1_6_9_3 rows: Rows,
-_1_6_9_4 model: typing.Type[T_MetaInstance],
-_1_6_9_5 records: dict[int, T_MetaInstance] = None,
-_1_6_9_6 metadata: Metadata = None,
-_1_6_9_7 ) -> None:
-_1_6_9_8 """
-_1_6_9_9 Should not be called manually!
-_1_7_0_0
-_1_7_0_1 Normally, the `records` from an existing `Rows` object are used
-_1_7_0_2 but these can be overwritten with a `records` dict.
-_1_7_0_3 `metadata` can be any (un)structured data
-_1_7_0_4 `model` is a Typed Table class
-_1_7_0_5 """
-_1_7_0_6 records = records or {row.id: model(row) for row in rows}
-_1_7_0_7 super().__init__(rows.db, records, rows.colnames, rows.compact,
+_1_6_9_1 records: dict[int, T_MetaInstance]
+_1_6_9_2 # _rows: Rows
+_1_6_9_3 model: typing.Type[T_MetaInstance]
+_1_6_9_4 metadata: Metadata
+_1_6_9_5
+_1_6_9_6 # pseudo-properties: actually stored in _rows
+_1_6_9_7 db: TypeDAL
+_1_6_9_8 colnames: list[str]
+_1_6_9_9 fields: list[Field]
+_1_7_0_0 colnames_fields: list[Field]
+_1_7_0_1 response: list[tuple[Any, ...]]
+_1_7_0_2
+_1_7_0_3 def __init__(
+_1_7_0_4 self,
+_1_7_0_5 rows: Rows,
+_1_7_0_6 model: typing.Type[T_MetaInstance],
+_1_7_0_7 records: dict[int, T_MetaInstance] = None,
+_1_7_0_8 metadata: Metadata = None,
+_1_7_0_9 ) -> None:
+_1_7_1_0 """
+_1_7_1_1 Should not be called manually!
+_1_7_1_2
+_1_7_1_3 Normally, the `records` from an existing `Rows` object are used
+_1_7_1_4 but these can be overwritten with a `records` dict.
+_1_7_1_5 `metadata` can be any (un)structured data
+_1_7_1_6 `model` is a Typed Table class
+_1_7_1_7 """
+_1_7_1_8 records = records or {row.id: model(row) for row in rows}
+_1_7_1_9 super().__init__(rows.db, records, rows.colnames, rows.compact,
 rows.response, rows.fields)
-_1_7_0_8 self.model = model
-_1_7_0_9 self.metadata = metadata or {}
-_1_7_1_0 self.colnames = rows.colnames
-_1_7_1_1
-_1_7_1_2 def __len__(self) -> int:
-_1_7_1_3 """
-_1_7_1_4 Return the count of rows.
-_1_7_1_5 """
-_1_7_1_6 return len(self.records)
-_1_7_1_7
-_1_7_1_8 def __iter__(self) -> typing.Iterator[T_MetaInstance]:
-_1_7_1_9 """
-_1_7_2_0 Loop through the rows.
-_1_7_2_1 """
-_1_7_2_2 yield from self.records.values()
+_1_7_2_0 self.model = model
+_1_7_2_1 self.metadata = metadata or {}
+_1_7_2_2 self.colnames = rows.colnames
 _1_7_2_3
-_1_7_2_4 def __contains__(self, ind: Any) -> bool:
+_1_7_2_4 def __len__(self) -> int:
 _1_7_2_5 """
-_1_7_2_6 Check if an id exists in this result set.
+_1_7_2_6 Return the count of rows.
 _1_7_2_7 """
-_1_7_2_8 return ind in self.records
+_1_7_2_8 return len(self.records)
 _1_7_2_9
-_1_7_3_0 def first(self) -> T_MetaInstance | None:
+_1_7_3_0 def __iter__(self) -> typing.Iterator[T_MetaInstance]:
 _1_7_3_1 """
-_1_7_3_2 Get the row with the lowest id.
+_1_7_3_2 Loop through the rows.
 _1_7_3_3 """
-_1_7_3_4 if not self.records:
-_1_7_3_5 return None
-_1_7_3_6
-_1_7_3_7 return next(iter(self))
-_1_7_3_8
-_1_7_3_9 def last(self) -> T_MetaInstance | None:
-_1_7_4_0 """
-_1_7_4_1 Get the row with the highest id.
-_1_7_4_2 """
-_1_7_4_3 if not self.records:
-_1_7_4_4 return None
-_1_7_4_5
-_1_7_4_6 max_id = max(self.records.keys())
-_1_7_4_7 return self[max_id]
+_1_7_3_4 yield from self.records.values()
+_1_7_3_5
+_1_7_3_6 def __contains__(self, ind: Any) -> bool:
+_1_7_3_7 """
+_1_7_3_8 Check if an id exists in this result set.
+_1_7_3_9 """
+_1_7_4_0 return ind in self.records
+_1_7_4_1
+_1_7_4_2 def first(self) -> T_MetaInstance | None:
+_1_7_4_3 """
+_1_7_4_4 Get the row with the lowest id.
+_1_7_4_5 """
+_1_7_4_6 if not self.records:
+_1_7_4_7 return None
 _1_7_4_8
-_1_7_4_9 def find(
-_1_7_5_0 self, f: typing.Callable[[T_MetaInstance], Query], limitby: tuple[int,
-int] = None
-_1_7_5_1 ) -> "TypedRows[T_MetaInstance]":
+_1_7_4_9 return next(iter(self))
+_1_7_5_0
+_1_7_5_1 def last(self) -> T_MetaInstance | None:
 _1_7_5_2 """
-_1_7_5_3 Returns a new Rows object, a subset of the original object, filtered by
-the function `f`.
+_1_7_5_3 Get the row with the highest id.
 _1_7_5_4 """
 _1_7_5_5 if not self.records:
-_1_7_5_6 return self.__class__(self, self.model, {})
+_1_7_5_6 return None
 _1_7_5_7
-_1_7_5_8 records = {}
-_1_7_5_9 if limitby:
-_1_7_6_0 _min, _max = limitby
-_1_7_6_1 else:
-_1_7_6_2 _min, _max = 0, len(self)
-_1_7_6_3 count = 0
-_1_7_6_4 for i, row in self.records.items():
-_1_7_6_5 if f(row):
-_1_7_6_6 if _min <= count:
-_1_7_6_7 records[i] = row
-_1_7_6_8 count += 1
-_1_7_6_9 if count == _max:
-_1_7_7_0 break
-_1_7_7_1
-_1_7_7_2 return self.__class__(self, self.model, records)
-_1_7_7_3
-_1_7_7_4 def exclude(self, f: typing.Callable[[T_MetaInstance], Query]) -
+_1_7_5_8 max_id = max(self.records.keys())
+_1_7_5_9 return self[max_id]
+_1_7_6_0
+_1_7_6_1 def find(
+_1_7_6_2 self, f: typing.Callable[[T_MetaInstance], Query], limitby: tuple[int,
+int] = None
+_1_7_6_3 ) -> "TypedRows[T_MetaInstance]":
+_1_7_6_4 """
+_1_7_6_5 Returns a new Rows object, a subset of the original object, filtered by
+the function `f`.
+_1_7_6_6 """
+_1_7_6_7 if not self.records:
+_1_7_6_8 return self.__class__(self, self.model, {})
+_1_7_6_9
+_1_7_7_0 records = {}
+_1_7_7_1 if limitby:
+_1_7_7_2 _min, _max = limitby
+_1_7_7_3 else:
+_1_7_7_4 _min, _max = 0, len(self)
+_1_7_7_5 count = 0
+_1_7_7_6 for i, row in self.records.items():
+_1_7_7_7 if f(row):
+_1_7_7_8 if _min <= count:
+_1_7_7_9 records[i] = row
+_1_7_8_0 count += 1
+_1_7_8_1 if count == _max:
+_1_7_8_2 break
+_1_7_8_3
+_1_7_8_4 return self.__class__(self, self.model, records)
+_1_7_8_5
+_1_7_8_6 def exclude(self, f: typing.Callable[[T_MetaInstance], Query]) -
 > "TypedRows[T_MetaInstance]":
-_1_7_7_5 """
-_1_7_7_6 Removes elements from the calling Rows object, filtered by the function
+_1_7_8_7 """
+_1_7_8_8 Removes elements from the calling Rows object, filtered by the function
 `f`, \
-_1_7_7_7 and returns a new Rows object containing the removed elements.
-_1_7_7_8 """
-_1_7_7_9 if not self.records:
-_1_7_8_0 return self.__class__(self, self.model, {})
-_1_7_8_1 removed = {}
-_1_7_8_2 to_remove = []
-_1_7_8_3 for i in self.records:
-_1_7_8_4 row = self[i]
-_1_7_8_5 if f(row):
-_1_7_8_6 removed[i] = self.records[i]
-_1_7_8_7 to_remove.append(i)
-_1_7_8_8
-_1_7_8_9 [self.records.pop(i) for i in to_remove]
-_1_7_9_0
-_1_7_9_1 return self.__class__(
-_1_7_9_2 self,
-_1_7_9_3 self.model,
-_1_7_9_4 removed,
-_1_7_9_5 )
-_1_7_9_6
-_1_7_9_7 def sort(self, f: typing.Callable[[T_MetaInstance], Any], reverse: bool =
-False) -> list[T_MetaInstance]:
-_1_7_9_8 """
-_1_7_9_9 Returns a list of sorted elements (not sorted in place).
-_1_8_0_0 """
-_1_8_0_1 return [r for (r, s) in sorted(zip(self.records.values(), self),
-key=lambda r: f(r[1]), reverse=reverse)]
+_1_7_8_9 and returns a new Rows object containing the removed elements.
+_1_7_9_0 """
+_1_7_9_1 if not self.records:
+_1_7_9_2 return self.__class__(self, self.model, {})
+_1_7_9_3 removed = {}
+_1_7_9_4 to_remove = []
+_1_7_9_5 for i in self.records:
+_1_7_9_6 row = self[i]
+_1_7_9_7 if f(row):
+_1_7_9_8 removed[i] = self.records[i]
+_1_7_9_9 to_remove.append(i)
+_1_8_0_0
+_1_8_0_1 [self.records.pop(i) for i in to_remove]
 _1_8_0_2
-_1_8_0_3 def __str__(self) -> str:
-_1_8_0_4 """
-_1_8_0_5 Simple string representation.
-_1_8_0_6 """
-_1_8_0_7 return f"<TypedRows with {len(self)} records>"
+_1_8_0_3 return self.__class__(
+_1_8_0_4 self,
+_1_8_0_5 self.model,
+_1_8_0_6 removed,
+_1_8_0_7 )
 _1_8_0_8
-_1_8_0_9 def __repr__(self) -> str:
+_1_8_0_9 def sort(self, f: typing.Callable[[T_MetaInstance], Any], reverse: bool =
+False) -> list[T_MetaInstance]:
 _1_8_1_0 """
-_1_8_1_1 Print a table on repr().
+_1_8_1_1 Returns a list of sorted elements (not sorted in place).
 _1_8_1_2 """
-_1_8_1_3 data = self.as_dict()
-_1_8_1_4 headers = list(next(iter(data.values())).keys())
-_1_8_1_5 return mktable(data, headers)
-_1_8_1_6
-_1_8_1_7 def group_by_value(
-_1_8_1_8 self, *fields: "str | Field | TypedField[T]", one_result: bool = False,
-**kwargs: Any
-_1_8_1_9 ) -> dict[T, list[T_MetaInstance]]:
-_1_8_2_0 """
-_1_8_2_1 Group the rows by a specific field (which will be the dict key).
+_1_8_1_3 return [r for (r, s) in sorted(zip(self.records.values(), self),
+key=lambda r: f(r[1]), reverse=reverse)]
+_1_8_1_4
+_1_8_1_5 def __str__(self) -> str:
+_1_8_1_6 """
+_1_8_1_7 Simple string representation.
+_1_8_1_8 """
+_1_8_1_9 return f"<TypedRows with {len(self)} records>"
+_1_8_2_0
+_1_8_2_1 def __repr__(self) -> str:
 _1_8_2_2 """
-_1_8_2_3 kwargs["one_result"] = one_result
-_1_8_2_4 result = super().group_by_value(*fields, **kwargs)
-_1_8_2_5 return typing.cast(dict[T, list[T_MetaInstance]], result)
-_1_8_2_6
-_1_8_2_7 def column(self, column: str = None) -> list[Any]:
-_1_8_2_8 """
-_1_8_2_9 Get a list of all values in a specific column.
-_1_8_3_0
-_1_8_3_1 Example:
-_1_8_3_2 rows.column('name') -> ['Name 1', 'Name 2', ...]
-_1_8_3_3 """
-_1_8_3_4 return typing.cast(list[Any], super().column(column))
-_1_8_3_5
-_1_8_3_6 def as_csv(self) -> str:
-_1_8_3_7 """
-_1_8_3_8 Dump the data to csv.
-_1_8_3_9 """
-_1_8_4_0 return typing.cast(str, super().as_csv())
-_1_8_4_1
-_1_8_4_2 def as_dict(
-_1_8_4_3 self,
-_1_8_4_4 key: str = None,
-_1_8_4_5 compact: bool = False,
-_1_8_4_6 storage_to_dict: bool = False,
-_1_8_4_7 datetime_to_str: bool = False,
-_1_8_4_8 custom_types: list[type] = None,
-_1_8_4_9 ) -> dict[int, AnyDict]:
-_1_8_5_0 """
-_1_8_5_1 Get the data in a dict of dicts.
-_1_8_5_2 """
-_1_8_5_3 if any([key, compact, storage_to_dict, datetime_to_str, custom_types]):
-_1_8_5_4 # functionality not guaranteed
-_1_8_5_5 return typing.cast(
-_1_8_5_6 dict[int, AnyDict],
-_1_8_5_7 super().as_dict(
-_1_8_5_8 key or "id",
-_1_8_5_9 compact,
-_1_8_6_0 storage_to_dict,
-_1_8_6_1 datetime_to_str,
-_1_8_6_2 custom_types,
-_1_8_6_3 ),
-_1_8_6_4 )
-_1_8_6_5
-_1_8_6_6 return {k: v.as_dict() for k, v in self.records.items()}
-_1_8_6_7
-_1_8_6_8 def as_json(self, default: typing.Callable[[Any], Any] = None, indent:
+_1_8_2_3 Print a table on repr().
+_1_8_2_4 """
+_1_8_2_5 data = self.as_dict()
+_1_8_2_6 headers = list(next(iter(data.values())).keys())
+_1_8_2_7 return mktable(data, headers)
+_1_8_2_8
+_1_8_2_9 def group_by_value(
+_1_8_3_0 self, *fields: "str | Field | TypedField[T]", one_result: bool = False,
+**kwargs: Any
+_1_8_3_1 ) -> dict[T, list[T_MetaInstance]]:
+_1_8_3_2 """
+_1_8_3_3 Group the rows by a specific field (which will be the dict key).
+_1_8_3_4 """
+_1_8_3_5 kwargs["one_result"] = one_result
+_1_8_3_6 result = super().group_by_value(*fields, **kwargs)
+_1_8_3_7 return typing.cast(dict[T, list[T_MetaInstance]], result)
+_1_8_3_8
+_1_8_3_9 def column(self, column: str = None) -> list[Any]:
+_1_8_4_0 """
+_1_8_4_1 Get a list of all values in a specific column.
+_1_8_4_2
+_1_8_4_3 Example:
+_1_8_4_4 rows.column('name') -> ['Name 1', 'Name 2', ...]
+_1_8_4_5 """
+_1_8_4_6 return typing.cast(list[Any], super().column(column))
+_1_8_4_7
+_1_8_4_8 def as_csv(self) -> str:
+_1_8_4_9 """
+_1_8_5_0 Dump the data to csv.
+_1_8_5_1 """
+_1_8_5_2 return typing.cast(str, super().as_csv())
+_1_8_5_3
+_1_8_5_4 def as_dict(
+_1_8_5_5 self,
+_1_8_5_6 key: str = None,
+_1_8_5_7 compact: bool = False,
+_1_8_5_8 storage_to_dict: bool = False,
+_1_8_5_9 datetime_to_str: bool = False,
+_1_8_6_0 custom_types: list[type] = None,
+_1_8_6_1 ) -> dict[int, AnyDict]:
+_1_8_6_2 """
+_1_8_6_3 Get the data in a dict of dicts.
+_1_8_6_4 """
+_1_8_6_5 if any([key, compact, storage_to_dict, datetime_to_str, custom_types]):
+_1_8_6_6 # functionality not guaranteed
+_1_8_6_7 return typing.cast(
+_1_8_6_8 dict[int, AnyDict],
+_1_8_6_9 super().as_dict(
+_1_8_7_0 key or "id",
+_1_8_7_1 compact,
+_1_8_7_2 storage_to_dict,
+_1_8_7_3 datetime_to_str,
+_1_8_7_4 custom_types,
+_1_8_7_5 ),
+_1_8_7_6 )
+_1_8_7_7
+_1_8_7_8 return {k: v.as_dict() for k, v in self.records.items()}
+_1_8_7_9
+_1_8_8_0 def as_json(self, default: typing.Callable[[Any], Any] = None, indent:
 Optional[int] = None, **kwargs: Any) -> str:
-_1_8_6_9 """
-_1_8_7_0 Turn the data into a dict and then dump to JSON.
-_1_8_7_1 """
-_1_8_7_2 data = self.as_list()
-_1_8_7_3
-_1_8_7_4 return as_json.encode(data, default=default, indent=indent, **kwargs)
-_1_8_7_5
-_1_8_7_6 def json(self, default: typing.Callable[[Any], Any] = None, indent:
+_1_8_8_1 """
+_1_8_8_2 Turn the data into a dict and then dump to JSON.
+_1_8_8_3 """
+_1_8_8_4 data = self.as_list()
+_1_8_8_5
+_1_8_8_6 return as_json.encode(data, default=default, indent=indent, **kwargs)
+_1_8_8_7
+_1_8_8_8 def json(self, default: typing.Callable[[Any], Any] = None, indent:
 Optional[int] = None, **kwargs: Any) -> str:
-_1_8_7_7 """
-_1_8_7_8 Turn the data into a dict and then dump to JSON.
-_1_8_7_9 """
-_1_8_8_0 return self.as_json(default=default, indent=indent, **kwargs)
-_1_8_8_1
-_1_8_8_2 def as_list(
-_1_8_8_3 self,
-_1_8_8_4 compact: bool = False,
-_1_8_8_5 storage_to_dict: bool = False,
-_1_8_8_6 datetime_to_str: bool = False,
-_1_8_8_7 custom_types: list[type] = None,
-_1_8_8_8 ) -> list[AnyDict]:
 _1_8_8_9 """
-_1_8_9_0 Get the data in a list of dicts.
+_1_8_9_0 Turn the data into a dict and then dump to JSON.
 _1_8_9_1 """
-_1_8_9_2 if any([compact, storage_to_dict, datetime_to_str, custom_types]):
-_1_8_9_3 return typing.cast(list[AnyDict], super().as_list(compact,
+_1_8_9_2 return self.as_json(default=default, indent=indent, **kwargs)
+_1_8_9_3
+_1_8_9_4 def as_list(
+_1_8_9_5 self,
+_1_8_9_6 compact: bool = False,
+_1_8_9_7 storage_to_dict: bool = False,
+_1_8_9_8 datetime_to_str: bool = False,
+_1_8_9_9 custom_types: list[type] = None,
+_1_9_0_0 ) -> list[AnyDict]:
+_1_9_0_1 """
+_1_9_0_2 Get the data in a list of dicts.
+_1_9_0_3 """
+_1_9_0_4 if any([compact, storage_to_dict, datetime_to_str, custom_types]):
+_1_9_0_5 return typing.cast(list[AnyDict], super().as_list(compact,
 storage_to_dict, datetime_to_str, custom_types))
-_1_8_9_4
-_1_8_9_5 return [_.as_dict() for _ in self.records.values()]
-_1_8_9_6
-_1_8_9_7 def __getitem__(self, item: int) -> T_MetaInstance:
-_1_8_9_8 """
-_1_8_9_9 You can get a specific row by ID from a typedrows by using rows[idx]
+_1_9_0_6
+_1_9_0_7 return [_.as_dict() for _ in self.records.values()]
+_1_9_0_8
+_1_9_0_9 def __getitem__(self, item: int) -> T_MetaInstance:
+_1_9_1_0 """
+_1_9_1_1 You can get a specific row by ID from a typedrows by using rows[idx]
 notation.
-_1_9_0_0
-_1_9_0_1 Since pydal's implementation differs (they expect a list instead of a dict
-with id keys),
-_1_9_0_2 using rows[0] will return the first row, regardless of its id.
-_1_9_0_3 """
-_1_9_0_4 try:
-_1_9_0_5 return self.records[item]
-_1_9_0_6 except KeyError as e:
-_1_9_0_7 if item == 0 and (row := self.first()):
-_1_9_0_8 # special case: pydal internals think Rows.records is a list, not a dict
-_1_9_0_9 return row
-_1_9_1_0
-_1_9_1_1 raise e
 _1_9_1_2
-_1_9_1_3 def get(self, item: int) -> typing.Optional[T_MetaInstance]:
-_1_9_1_4 """
-_1_9_1_5 Get a row by ID, or receive None if it isn't in this result set.
-_1_9_1_6 """
-_1_9_1_7 return self.records.get(item)
-_1_9_1_8
-_1_9_1_9 def update(self, **new_values: Any) -> bool:
-_1_9_2_0 """
-_1_9_2_1 Update the current rows in the database with new_values.
-_1_9_2_2 """
-_1_9_2_3 # cast to make mypy understand .id is a TypedField and not an int!
-_1_9_2_4 table = typing.cast(typing.Type[TypedTable],
+_1_9_1_3 Since pydal's implementation differs (they expect a list instead of a dict
+with id keys),
+_1_9_1_4 using rows[0] will return the first row, regardless of its id.
+_1_9_1_5 """
+_1_9_1_6 try:
+_1_9_1_7 return self.records[item]
+_1_9_1_8 except KeyError as e:
+_1_9_1_9 if item == 0 and (row := self.first()):
+_1_9_2_0 # special case: pydal internals think Rows.records is a list, not a dict
+_1_9_2_1 return row
+_1_9_2_2
+_1_9_2_3 raise e
+_1_9_2_4
+_1_9_2_5 def get(self, item: int) -> typing.Optional[T_MetaInstance]:
+_1_9_2_6 """
+_1_9_2_7 Get a row by ID, or receive None if it isn't in this result set.
+_1_9_2_8 """
+_1_9_2_9 return self.records.get(item)
+_1_9_3_0
+_1_9_3_1 def update(self, **new_values: Any) -> bool:
+_1_9_3_2 """
+_1_9_3_3 Update the current rows in the database with new_values.
+_1_9_3_4 """
+_1_9_3_5 # cast to make mypy understand .id is a TypedField and not an int!
+_1_9_3_6 table = typing.cast(typing.Type[TypedTable],
 self.model._ensure_table_defined())
-_1_9_2_5
-_1_9_2_6 ids = set(self.column("id"))
-_1_9_2_7 query = table.id.belongs(ids)
-_1_9_2_8 return bool(self.db(query).update(**new_values))
-_1_9_2_9
-_1_9_3_0 def delete(self) -> bool:
-_1_9_3_1 """
-_1_9_3_2 Delete the currently selected rows from the database.
-_1_9_3_3 """
-_1_9_3_4 # cast to make mypy understand .id is a TypedField and not an int!
-_1_9_3_5 table = typing.cast(typing.Type[TypedTable],
+_1_9_3_7
+_1_9_3_8 ids = set(self.column("id"))
+_1_9_3_9 query = table.id.belongs(ids)
+_1_9_4_0 return bool(self.db(query).update(**new_values))
+_1_9_4_1
+_1_9_4_2 def delete(self) -> bool:
+_1_9_4_3 """
+_1_9_4_4 Delete the currently selected rows from the database.
+_1_9_4_5 """
+_1_9_4_6 # cast to make mypy understand .id is a TypedField and not an int!
+_1_9_4_7 table = typing.cast(typing.Type[TypedTable],
 self.model._ensure_table_defined())
-_1_9_3_6
-_1_9_3_7 ids = set(self.column("id"))
-_1_9_3_8 query = table.id.belongs(ids)
-_1_9_3_9 return bool(self.db(query).delete())
-_1_9_4_0
-_1_9_4_1 def join(
-_1_9_4_2 self,
-_1_9_4_3 field: "Field | TypedField[Any]",
-_1_9_4_4 name: str = None,
-_1_9_4_5 constraint: Query = None,
-_1_9_4_6 fields: list[str | Field] = None,
-_1_9_4_7 orderby: Optional[str | Field] = None,
-_1_9_4_8 ) -> T_MetaInstance:
-_1_9_4_9 """
-_1_9_5_0 This can be used to JOIN with some relationships after the initial
+_1_9_4_8
+_1_9_4_9 ids = set(self.column("id"))
+_1_9_5_0 query = table.id.belongs(ids)
+_1_9_5_1 return bool(self.db(query).delete())
+_1_9_5_2
+_1_9_5_3 def join(
+_1_9_5_4 self,
+_1_9_5_5 field: "Field | TypedField[Any]",
+_1_9_5_6 name: str = None,
+_1_9_5_7 constraint: Query = None,
+_1_9_5_8 fields: list[str | Field] = None,
+_1_9_5_9 orderby: Optional[str | Field] = None,
+_1_9_6_0 ) -> T_MetaInstance:
+_1_9_6_1 """
+_1_9_6_2 This can be used to JOIN with some relationships after the initial
 select.
-_1_9_5_1
-_1_9_5_2 Using the querybuilder's .join() method is prefered!
-_1_9_5_3 """
-_1_9_5_4 result = super().join(field, name, constraint, fields or [], orderby)
-_1_9_5_5 return typing.cast(T_MetaInstance, result)
-_1_9_5_6
-_1_9_5_7 def export_to_csv_file(
-_1_9_5_8 self,
-_1_9_5_9 ofile: typing.TextIO,
-_1_9_6_0 null: Any = "<NULL>",
-_1_9_6_1 delimiter: str = ",",
-_1_9_6_2 quotechar: str = '"',
-_1_9_6_3 quoting: int = csv.QUOTE_MINIMAL,
-_1_9_6_4 represent: bool = False,
-_1_9_6_5 colnames: list[str] = None,
-_1_9_6_6 write_colnames: bool = True,
-_1_9_6_7 *args: Any,
-_1_9_6_8 **kwargs: Any,
-_1_9_6_9 ) -> None:
-_1_9_7_0 """
-_1_9_7_1 Shadow export_to_csv_file from Rows, but with typing.
-_1_9_7_2
-_1_9_7_3 See http://web2py.com/books/default/chapter/29/06/the-database-
+_1_9_6_3
+_1_9_6_4 Using the querybuilder's .join() method is prefered!
+_1_9_6_5 """
+_1_9_6_6 result = super().join(field, name, constraint, fields or [], orderby)
+_1_9_6_7 return typing.cast(T_MetaInstance, result)
+_1_9_6_8
+_1_9_6_9 def export_to_csv_file(
+_1_9_7_0 self,
+_1_9_7_1 ofile: typing.TextIO,
+_1_9_7_2 null: Any = "<NULL>",
+_1_9_7_3 delimiter: str = ",",
+_1_9_7_4 quotechar: str = '"',
+_1_9_7_5 quoting: int = csv.QUOTE_MINIMAL,
+_1_9_7_6 represent: bool = False,
+_1_9_7_7 colnames: list[str] = None,
+_1_9_7_8 write_colnames: bool = True,
+_1_9_7_9 *args: Any,
+_1_9_8_0 **kwargs: Any,
+_1_9_8_1 ) -> None:
+_1_9_8_2 """
+_1_9_8_3 Shadow export_to_csv_file from Rows, but with typing.
+_1_9_8_4
+_1_9_8_5 See http://web2py.com/books/default/chapter/29/06/the-database-
 abstraction-layer?search=export_to_csv_file#Exporting-and-importing-data
-_1_9_7_4 """
-_1_9_7_5 super().export_to_csv_file(
-_1_9_7_6 ofile,
-_1_9_7_7 null,
-_1_9_7_8 *args,
-_1_9_7_9 delimiter=delimiter,
-_1_9_8_0 quotechar=quotechar,
-_1_9_8_1 quoting=quoting,
-_1_9_8_2 represent=represent,
-_1_9_8_3 colnames=colnames or self.colnames,
-_1_9_8_4 write_colnames=write_colnames,
-_1_9_8_5 **kwargs,
-_1_9_8_6 )
-_1_9_8_7
-_1_9_8_8 @classmethod
-_1_9_8_9 def from_rows(
-_1_9_9_0 cls, rows: Rows, model: typing.Type[T_MetaInstance], metadata: Metadata =
+_1_9_8_6 """
+_1_9_8_7 super().export_to_csv_file(
+_1_9_8_8 ofile,
+_1_9_8_9 null,
+_1_9_9_0 *args,
+_1_9_9_1 delimiter=delimiter,
+_1_9_9_2 quotechar=quotechar,
+_1_9_9_3 quoting=quoting,
+_1_9_9_4 represent=represent,
+_1_9_9_5 colnames=colnames or self.colnames,
+_1_9_9_6 write_colnames=write_colnames,
+_1_9_9_7 **kwargs,
+_1_9_9_8 )
+_1_9_9_9
+_2_0_0_0 @classmethod
+_2_0_0_1 def from_rows(
+_2_0_0_2 cls, rows: Rows, model: typing.Type[T_MetaInstance], metadata: Metadata =
 None
-_1_9_9_1 ) -> "TypedRows[T_MetaInstance]":
-_1_9_9_2 """
-_1_9_9_3 Internal method to convert a Rows object to a TypedRows.
-_1_9_9_4 """
-_1_9_9_5 return cls(rows, model, metadata=metadata)
-_1_9_9_6
-_1_9_9_7 def __getstate__(self) -> AnyDict:
-_1_9_9_8 """
-_1_9_9_9 Used by dill to dump to bytes (exclude db connection etc).
-_2_0_0_0 """
-_2_0_0_1 return {
-_2_0_0_2 "metadata": json.dumps(self.metadata, default=str),
-_2_0_0_3 "records": self.records,
-_2_0_0_4 "model": str(self.model._table),
-_2_0_0_5 "colnames": self.colnames,
-_2_0_0_6 }
-_2_0_0_7
-_2_0_0_8 def __setstate__(self, state: AnyDict) -> None:
-_2_0_0_9 """
-_2_0_1_0 Used by dill when loading from a bytestring.
-_2_0_1_1 """
-_2_0_1_2 state["metadata"] = json.loads(state["metadata"])
-_2_0_1_3 self.__dict__.update(state)
-_2_0_1_4 # db etc. set after undill by caching.py
-_2_0_1_5
-_2_0_1_6
-_2_0_1_7from .caching import ( # noqa: E402
-_2_0_1_8 _remove_cache,
-_2_0_1_9 _TypedalCache,
-_2_0_2_0 _TypedalCacheDependency,
-_2_0_2_1 create_and_hash_cache_key,
-_2_0_2_2 get_expire,
-_2_0_2_3 load_from_cache,
-_2_0_2_4 save_to_cache,
-_2_0_2_5)
-_2_0_2_6
+_2_0_0_3 ) -> "TypedRows[T_MetaInstance]":
+_2_0_0_4 """
+_2_0_0_5 Internal method to convert a Rows object to a TypedRows.
+_2_0_0_6 """
+_2_0_0_7 return cls(rows, model, metadata=metadata)
+_2_0_0_8
+_2_0_0_9 def __getstate__(self) -> AnyDict:
+_2_0_1_0 """
+_2_0_1_1 Used by dill to dump to bytes (exclude db connection etc).
+_2_0_1_2 """
+_2_0_1_3 return {
+_2_0_1_4 "metadata": json.dumps(self.metadata, default=str),
+_2_0_1_5 "records": self.records,
+_2_0_1_6 "model": str(self.model._table),
+_2_0_1_7 "colnames": self.colnames,
+_2_0_1_8 }
+_2_0_1_9
+_2_0_2_0 def __setstate__(self, state: AnyDict) -> None:
+_2_0_2_1 """
+_2_0_2_2 Used by dill when loading from a bytestring.
+_2_0_2_3 """
+_2_0_2_4 state["metadata"] = json.loads(state["metadata"])
+_2_0_2_5 self.__dict__.update(state)
+_2_0_2_6 # db etc. set after undill by caching.py
 _2_0_2_7
-_2_0_2_8class QueryBuilder(typing.Generic[T_MetaInstance]):
-_2_0_2_9 """
-_2_0_3_0 Abstration on top of pydal's query system.
-_2_0_3_1 """
-_2_0_3_2
-_2_0_3_3 model: typing.Type[T_MetaInstance]
-_2_0_3_4 query: Query
-_2_0_3_5 select_args: list[Any]
-_2_0_3_6 select_kwargs: AnyDict
-_2_0_3_7 relationships: dict[str, Relationship[Any]]
-_2_0_3_8 metadata: Metadata
+_2_0_2_8
+_2_0_2_9from .caching import ( # noqa: E402
+_2_0_3_0 _remove_cache,
+_2_0_3_1 _TypedalCache,
+_2_0_3_2 _TypedalCacheDependency,
+_2_0_3_3 create_and_hash_cache_key,
+_2_0_3_4 get_expire,
+_2_0_3_5 load_from_cache,
+_2_0_3_6 save_to_cache,
+_2_0_3_7)
+_2_0_3_8
 _2_0_3_9
-_2_0_4_0 def __init__(
-_2_0_4_1 self,
-_2_0_4_2 model: typing.Type[T_MetaInstance],
-_2_0_4_3 add_query: Optional[Query] = None,
-_2_0_4_4 select_args: Optional[list[Any]] = None,
-_2_0_4_5 select_kwargs: Optional[AnyDict] = None,
-_2_0_4_6 relationships: dict[str, Relationship[Any]] = None,
-_2_0_4_7 metadata: Metadata = None,
-_2_0_4_8 ):
-_2_0_4_9 """
-_2_0_5_0 Normally, you wouldn't manually initialize a QueryBuilder but start using
-a method on a TypedTable.
+_2_0_4_0class QueryBuilder(typing.Generic[T_MetaInstance]):
+_2_0_4_1 """
+_2_0_4_2 Abstration on top of pydal's query system.
+_2_0_4_3 """
+_2_0_4_4
+_2_0_4_5 model: typing.Type[T_MetaInstance]
+_2_0_4_6 query: Query
+_2_0_4_7 select_args: list[Any]
+_2_0_4_8 select_kwargs: AnyDict
+_2_0_4_9 relationships: dict[str, Relationship[Any]]
+_2_0_5_0 metadata: Metadata
 _2_0_5_1
-_2_0_5_2 Example:
-_2_0_5_3 MyTable.where(...) -> QueryBuilder[MyTable]
-_2_0_5_4 """
-_2_0_5_5 self.model = model
-_2_0_5_6 table = model._ensure_table_defined()
-_2_0_5_7 default_query = typing.cast(Query, table.id > 0)
-_2_0_5_8 self.query = add_query or default_query
-_2_0_5_9 self.select_args = select_args or []
-_2_0_6_0 self.select_kwargs = select_kwargs or {}
-_2_0_6_1 self.relationships = relationships or {}
-_2_0_6_2 self.metadata = metadata or {}
+_2_0_5_2 def __init__(
+_2_0_5_3 self,
+_2_0_5_4 model: typing.Type[T_MetaInstance],
+_2_0_5_5 add_query: Optional[Query] = None,
+_2_0_5_6 select_args: Optional[list[Any]] = None,
+_2_0_5_7 select_kwargs: Optional[AnyDict] = None,
+_2_0_5_8 relationships: dict[str, Relationship[Any]] = None,
+_2_0_5_9 metadata: Metadata = None,
+_2_0_6_0 ):
+_2_0_6_1 """
+_2_0_6_2 Normally, you wouldn't manually initialize a QueryBuilder but start using
+a method on a TypedTable.
 _2_0_6_3
-_2_0_6_4 def __str__(self) -> str:
-_2_0_6_5 """
-_2_0_6_6 Simple string representation for the query builder.
-_2_0_6_7 """
-_2_0_6_8 return f"QueryBuilder for {self.model}"
-_2_0_6_9
-_2_0_7_0 def __repr__(self) -> str:
-_2_0_7_1 """
-_2_0_7_2 Advanced string representation for the query builder.
-_2_0_7_3 """
-_2_0_7_4 return (
-_2_0_7_5 f"<QueryBuilder for {self.model} with "
-_2_0_7_6 f"{len(self.select_args)} select args; "
-_2_0_7_7 f"{len(self.select_kwargs)} select kwargs; "
-_2_0_7_8 f"{len(self.relationships)} relationships; "
-_2_0_7_9 f"query: {bool(self.query)}; "
-_2_0_8_0 f"metadata: {self.metadata}; "
-_2_0_8_1 f">"
-_2_0_8_2 )
-_2_0_8_3
-_2_0_8_4 def __bool__(self) -> bool:
+_2_0_6_4 Example:
+_2_0_6_5 MyTable.where(...) -> QueryBuilder[MyTable]
+_2_0_6_6 """
+_2_0_6_7 self.model = model
+_2_0_6_8 table = model._ensure_table_defined()
+_2_0_6_9 default_query = typing.cast(Query, table.id > 0)
+_2_0_7_0 self.query = add_query or default_query
+_2_0_7_1 self.select_args = select_args or []
+_2_0_7_2 self.select_kwargs = select_kwargs or {}
+_2_0_7_3 self.relationships = relationships or {}
+_2_0_7_4 self.metadata = metadata or {}
+_2_0_7_5
+_2_0_7_6 def __str__(self) -> str:
+_2_0_7_7 """
+_2_0_7_8 Simple string representation for the query builder.
+_2_0_7_9 """
+_2_0_8_0 return f"QueryBuilder for {self.model}"
+_2_0_8_1
+_2_0_8_2 def __repr__(self) -> str:
+_2_0_8_3 """
+_2_0_8_4 Advanced string representation for the query builder.
 _2_0_8_5 """
-_2_0_8_6 Querybuilder is truthy if it has rows.
-_2_0_8_7 """
-_2_0_8_8 return self.count() > 0
-_2_0_8_9
-_2_0_9_0 def _extend(
-_2_0_9_1 self,
-_2_0_9_2 add_query: Optional[Query] = None,
-_2_0_9_3 overwrite_query: Optional[Query] = None,
-_2_0_9_4 select_args: Optional[list[Any]] = None,
-_2_0_9_5 select_kwargs: Optional[AnyDict] = None,
-_2_0_9_6 relationships: dict[str, Relationship[Any]] = None,
-_2_0_9_7 metadata: Metadata = None,
-_2_0_9_8 ) -> "QueryBuilder[T_MetaInstance]":
-_2_0_9_9 return QueryBuilder(
-_2_1_0_0 self.model,
-_2_1_0_1 (add_query & self.query) if add_query else overwrite_query or self.query,
-_2_1_0_2 (self.select_args + select_args) if select_args else self.select_args,
-_2_1_0_3 (self.select_kwargs | select_kwargs) if select_kwargs else
+_2_0_8_6 return (
+_2_0_8_7 f"<QueryBuilder for {self.model} with "
+_2_0_8_8 f"{len(self.select_args)} select args; "
+_2_0_8_9 f"{len(self.select_kwargs)} select kwargs; "
+_2_0_9_0 f"{len(self.relationships)} relationships; "
+_2_0_9_1 f"query: {bool(self.query)}; "
+_2_0_9_2 f"metadata: {self.metadata}; "
+_2_0_9_3 f">"
+_2_0_9_4 )
+_2_0_9_5
+_2_0_9_6 def __bool__(self) -> bool:
+_2_0_9_7 """
+_2_0_9_8 Querybuilder is truthy if it has rows.
+_2_0_9_9 """
+_2_1_0_0 return self.count() > 0
+_2_1_0_1
+_2_1_0_2 def _extend(
+_2_1_0_3 self,
+_2_1_0_4 add_query: Optional[Query] = None,
+_2_1_0_5 overwrite_query: Optional[Query] = None,
+_2_1_0_6 select_args: Optional[list[Any]] = None,
+_2_1_0_7 select_kwargs: Optional[AnyDict] = None,
+_2_1_0_8 relationships: dict[str, Relationship[Any]] = None,
+_2_1_0_9 metadata: Metadata = None,
+_2_1_1_0 ) -> "QueryBuilder[T_MetaInstance]":
+_2_1_1_1 return QueryBuilder(
+_2_1_1_2 self.model,
+_2_1_1_3 (add_query & self.query) if add_query else overwrite_query or self.query,
+_2_1_1_4 (self.select_args + select_args) if select_args else self.select_args,
+_2_1_1_5 (self.select_kwargs | select_kwargs) if select_kwargs else
 self.select_kwargs,
-_2_1_0_4 (self.relationships | relationships) if relationships else
+_2_1_1_6 (self.relationships | relationships) if relationships else
 self.relationships,
-_2_1_0_5 (self.metadata | (metadata or {})) if metadata else self.metadata,
-_2_1_0_6 )
-_2_1_0_7
-_2_1_0_8 def select(self, *fields: Any, **options: Any) -> "QueryBuilder
+_2_1_1_7 (self.metadata | (metadata or {})) if metadata else self.metadata,
+_2_1_1_8 )
+_2_1_1_9
+_2_1_2_0 def select(self, *fields: Any, **options: Any) -> "QueryBuilder
 [T_MetaInstance]":
-_2_1_0_9 """
-_2_1_1_0 Fields: database columns by name ('id'), by field reference (table.id) or
+_2_1_2_1 """
+_2_1_2_2 Fields: database columns by name ('id'), by field reference (table.id) or
 other (e.g. table.ALL).
-_2_1_1_1
-_2_1_1_2 Options:
-_2_1_1_3 paraphrased from the web2py pydal docs,
-_2_1_1_4 For more info, see http://www.web2py.com/books/default/chapter/29/06/the-
+_2_1_2_3
+_2_1_2_4 Options:
+_2_1_2_5 paraphrased from the web2py pydal docs,
+_2_1_2_6 For more info, see http://www.web2py.com/books/default/chapter/29/06/the-
 database-abstraction-layer#orderby-groupby-limitby-distinct-having-
 orderby_on_limitby-join-left-cache
-_2_1_1_5
-_2_1_1_6 orderby: field(s) to order by. Supported:
-_2_1_1_7 table.name - sort by name, ascending
-_2_1_1_8 ~table.name - sort by name, descending
-_2_1_1_9 <random> - sort randomly
-_2_1_2_0 table.name|table.id - sort by two fields (first name, then id)
-_2_1_2_1
-_2_1_2_2 groupby, having: together with orderby:
-_2_1_2_3 groupby can be a field (e.g. table.name) to group records by
-_2_1_2_4 having can be a query, only those `having` the condition are grouped
-_2_1_2_5
-_2_1_2_6 limitby: tuple of min and max. When using the query builder, .paginate
+_2_1_2_7
+_2_1_2_8 orderby: field(s) to order by. Supported:
+_2_1_2_9 table.name - sort by name, ascending
+_2_1_3_0 ~table.name - sort by name, descending
+_2_1_3_1 <random> - sort randomly
+_2_1_3_2 table.name|table.id - sort by two fields (first name, then id)
+_2_1_3_3
+_2_1_3_4 groupby, having: together with orderby:
+_2_1_3_5 groupby can be a field (e.g. table.name) to group records by
+_2_1_3_6 having can be a query, only those `having` the condition are grouped
+_2_1_3_7
+_2_1_3_8 limitby: tuple of min and max. When using the query builder, .paginate
 (limit, page) is recommended.
-_2_1_2_7 distinct: bool/field. Only select rows that differ
-_2_1_2_8 orderby_on_limitby (bool, default: True): by default, an implicit orderby
+_2_1_3_9 distinct: bool/field. Only select rows that differ
+_2_1_4_0 orderby_on_limitby (bool, default: True): by default, an implicit orderby
 is added when doing limitby.
-_2_1_2_9 join: othertable.on(query) - do an INNER JOIN. Using TypeDAL relationships
+_2_1_4_1 join: othertable.on(query) - do an INNER JOIN. Using TypeDAL relationships
 with .join() is recommended!
-_2_1_3_0 left: othertable.on(query) - do a LEFT JOIN. Using TypeDAL relationships
+_2_1_4_2 left: othertable.on(query) - do a LEFT JOIN. Using TypeDAL relationships
 with .join() is recommended!
-_2_1_3_1 cache: cache the query result to speed up repeated queries; e.g. (cache=
+_2_1_4_3 cache: cache the query result to speed up repeated queries; e.g. (cache=
 (cache.ram, 3600), cacheable=True)
-_2_1_3_2 """
-_2_1_3_3 return self._extend(select_args=list(fields), select_kwargs=options)
-_2_1_3_4
-_2_1_3_5 def where(
-_2_1_3_6 self,
-_2_1_3_7 *queries_or_lambdas: Query | typing.Callable[[typing.Type
+_2_1_4_4 """
+_2_1_4_5 return self._extend(select_args=list(fields), select_kwargs=options)
+_2_1_4_6
+_2_1_4_7 def where(
+_2_1_4_8 self,
+_2_1_4_9 *queries_or_lambdas: Query | typing.Callable[[typing.Type
 [T_MetaInstance]], Query],
-_2_1_3_8 **filters: Any,
-_2_1_3_9 ) -> "QueryBuilder[T_MetaInstance]":
-_2_1_4_0 """
-_2_1_4_1 Extend the builder's query.
-_2_1_4_2
-_2_1_4_3 Can be used in multiple ways:
-_2_1_4_4 .where(Query) -> with a direct query such as `Table.id == 5`
-_2_1_4_5 .where(lambda table: table.id == 5) -> with a query via a lambda
-_2_1_4_6 .where(id=5) -> via keyword arguments
-_2_1_4_7
-_2_1_4_8 When using multiple where's, they will be ANDed:
-_2_1_4_9 .where(lambda table: table.id == 5).where(lambda table: table.id == 6) ==
+_2_1_5_0 **filters: Any,
+_2_1_5_1 ) -> "QueryBuilder[T_MetaInstance]":
+_2_1_5_2 """
+_2_1_5_3 Extend the builder's query.
+_2_1_5_4
+_2_1_5_5 Can be used in multiple ways:
+_2_1_5_6 .where(Query) -> with a direct query such as `Table.id == 5`
+_2_1_5_7 .where(lambda table: table.id == 5) -> with a query via a lambda
+_2_1_5_8 .where(id=5) -> via keyword arguments
+_2_1_5_9
+_2_1_6_0 When using multiple where's, they will be ANDed:
+_2_1_6_1 .where(lambda table: table.id == 5).where(lambda table: table.id == 6) ==
 (table.id == 5) & (table.id=6)
-_2_1_5_0 When passing multiple queries to a single .where, they will be ORed:
-_2_1_5_1 .where(lambda table: table.id == 5, lambda table: table.id == 6) ==
+_2_1_6_2 When passing multiple queries to a single .where, they will be ORed:
+_2_1_6_3 .where(lambda table: table.id == 5, lambda table: table.id == 6) ==
 (table.id == 5) | (table.id=6)
-_2_1_5_2 """
-_2_1_5_3 new_query = self.query
-_2_1_5_4 table = self.model._ensure_table_defined()
-_2_1_5_5
-_2_1_5_6 for field, value in filters.items():
-_2_1_5_7 new_query &= table[field] == value
-_2_1_5_8
-_2_1_5_9 subquery: DummyQuery | Query = DummyQuery()
-_2_1_6_0 for query_or_lambda in queries_or_lambdas:
-_2_1_6_1 if isinstance(query_or_lambda, _Query):
-_2_1_6_2 subquery |= typing.cast(Query, query_or_lambda)
-_2_1_6_3 elif callable(query_or_lambda):
-_2_1_6_4 if result := query_or_lambda(self.model):
-_2_1_6_5 subquery |= result
-_2_1_6_6 elif isinstance(query_or_lambda, (Field, _Field)) or is_typed_field
-(query_or_lambda):
-_2_1_6_7 subquery |= typing.cast(Query, query_or_lambda != None)
-_2_1_6_8 else:
-_2_1_6_9 raise ValueError(f"Unexpected query type ({type(query_or_lambda)}).")
+_2_1_6_4 """
+_2_1_6_5 new_query = self.query
+_2_1_6_6 table = self.model._ensure_table_defined()
+_2_1_6_7
+_2_1_6_8 for field, value in filters.items():
+_2_1_6_9 new_query &= table[field] == value
 _2_1_7_0
-_2_1_7_1 if subquery:
-_2_1_7_2 new_query &= subquery
-_2_1_7_3
-_2_1_7_4 return self._extend(overwrite_query=new_query)
-_2_1_7_5
-_2_1_7_6 def join(
-_2_1_7_7 self,
-_2_1_7_8 *fields: str | typing.Type[TypedTable],
-_2_1_7_9 method: JOIN_OPTIONS = None,
-_2_1_8_0 on: OnQuery | list[Expression] | Expression = None,
-_2_1_8_1 condition: Condition = None,
-_2_1_8_2 ) -> "QueryBuilder[T_MetaInstance]":
-_2_1_8_3 """
-_2_1_8_4 Include relationship fields in the result.
+_2_1_7_1 subquery: DummyQuery | Query = DummyQuery()
+_2_1_7_2 for query_or_lambda in queries_or_lambdas:
+_2_1_7_3 if isinstance(query_or_lambda, _Query):
+_2_1_7_4 subquery |= typing.cast(Query, query_or_lambda)
+_2_1_7_5 elif callable(query_or_lambda):
+_2_1_7_6 if result := query_or_lambda(self.model):
+_2_1_7_7 subquery |= result
+_2_1_7_8 elif isinstance(query_or_lambda, (Field, _Field)) or is_typed_field
+(query_or_lambda):
+_2_1_7_9 subquery |= typing.cast(Query, query_or_lambda != None)
+_2_1_8_0 else:
+_2_1_8_1 raise ValueError(f"Unexpected query type ({type(query_or_lambda)}).")
+_2_1_8_2
+_2_1_8_3 if subquery:
+_2_1_8_4 new_query &= subquery
 _2_1_8_5
-_2_1_8_6 `fields` can be names of Relationships on the current model.
-_2_1_8_7 If no fields are passed, all will be used.
-_2_1_8_8
-_2_1_8_9 By default, the `method` defined in the relationship is used.
-_2_1_9_0 This can be overwritten with the `method` keyword argument (left or
+_2_1_8_6 return self._extend(overwrite_query=new_query)
+_2_1_8_7
+_2_1_8_8 def join(
+_2_1_8_9 self,
+_2_1_9_0 *fields: str | typing.Type[TypedTable],
+_2_1_9_1 method: JOIN_OPTIONS = None,
+_2_1_9_2 on: OnQuery | list[Expression] | Expression = None,
+_2_1_9_3 condition: Condition = None,
+_2_1_9_4 ) -> "QueryBuilder[T_MetaInstance]":
+_2_1_9_5 """
+_2_1_9_6 Include relationship fields in the result.
+_2_1_9_7
+_2_1_9_8 `fields` can be names of Relationships on the current model.
+_2_1_9_9 If no fields are passed, all will be used.
+_2_2_0_0
+_2_2_0_1 By default, the `method` defined in the relationship is used.
+_2_2_0_2 This can be overwritten with the `method` keyword argument (left or
 inner)
-_2_1_9_1 """
-_2_1_9_2 # todo: allow limiting amount of related rows returned for join?
-_2_1_9_3
-_2_1_9_4 relationships = self.model.get_relationships()
-_2_1_9_5
-_2_1_9_6 if condition and on:
-_2_1_9_7 raise ValueError("condition and on can not be used together!")
-_2_1_9_8 elif condition:
-_2_1_9_9 if len(fields) != 1:
-_2_2_0_0 raise ValueError("join(field, condition=...) can only be used with exactly
+_2_2_0_3 """
+_2_2_0_4 # todo: allow limiting amount of related rows returned for join?
+_2_2_0_5
+_2_2_0_6 relationships = self.model.get_relationships()
+_2_2_0_7
+_2_2_0_8 if condition and on:
+_2_2_0_9 raise ValueError("condition and on can not be used together!")
+_2_2_1_0 elif condition:
+_2_2_1_1 if len(fields) != 1:
+_2_2_1_2 raise ValueError("join(field, condition=...) can only be used with exactly
 one field!")
-_2_2_0_1
-_2_2_0_2 if isinstance(condition, pydal.objects.Query):
-_2_2_0_3 condition = as_lambda(condition)
-_2_2_0_4
-_2_2_0_5 relationships = {str(fields[0]): relationship(fields[0],
+_2_2_1_3
+_2_2_1_4 if isinstance(condition, pydal.objects.Query):
+_2_2_1_5 condition = as_lambda(condition)
+_2_2_1_6
+_2_2_1_7 relationships = {str(fields[0]): relationship(fields[0],
 condition=condition, join=method)}
-_2_2_0_6 elif on:
-_2_2_0_7 if len(fields) != 1:
-_2_2_0_8 raise ValueError("join(field, on=...) can only be used with exactly one
+_2_2_1_8 elif on:
+_2_2_1_9 if len(fields) != 1:
+_2_2_2_0 raise ValueError("join(field, on=...) can only be used with exactly one
 field!")
-_2_2_0_9
-_2_2_1_0 if isinstance(on, pydal.objects.Expression):
-_2_2_1_1 on = [on]
-_2_2_1_2
-_2_2_1_3 if isinstance(on, list):
-_2_2_1_4 on = as_lambda(on)
-_2_2_1_5 relationships = {str(fields[0]): relationship(fields[0], on=on,
-join=method)}
-_2_2_1_6
-_2_2_1_7 else:
-_2_2_1_8 if fields:
-_2_2_1_9 # join on every relationship
-_2_2_2_0 relationships = {str(k): relationships[str(k)] for k in fields}
 _2_2_2_1
-_2_2_2_2 if method:
-_2_2_2_3 relationships = {str(k): r.clone(join=method) for k, r in
-relationships.items()}
+_2_2_2_2 if isinstance(on, pydal.objects.Expression):
+_2_2_2_3 on = [on]
 _2_2_2_4
-_2_2_2_5 return self._extend(relationships=relationships)
-_2_2_2_6
-_2_2_2_7 def cache(
-_2_2_2_8 self, *deps: Any, expires_at: Optional[dt.datetime] = None, ttl: Optional
+_2_2_2_5 if isinstance(on, list):
+_2_2_2_6 on = as_lambda(on)
+_2_2_2_7 relationships = {str(fields[0]): relationship(fields[0], on=on,
+join=method)}
+_2_2_2_8
+_2_2_2_9 else:
+_2_2_3_0 if fields:
+_2_2_3_1 # join on every relationship
+_2_2_3_2 relationships = {str(k): relationships[str(k)] for k in fields}
+_2_2_3_3
+_2_2_3_4 if method:
+_2_2_3_5 relationships = {str(k): r.clone(join=method) for k, r in
+relationships.items()}
+_2_2_3_6
+_2_2_3_7 return self._extend(relationships=relationships)
+_2_2_3_8
+_2_2_3_9 def cache(
+_2_2_4_0 self, *deps: Any, expires_at: Optional[dt.datetime] = None, ttl: Optional
 [int | dt.timedelta] = None
-_2_2_2_9 ) -> "QueryBuilder[T_MetaInstance]":
-_2_2_3_0 """
-_2_2_3_1 Enable caching for this query to load repeated calls from a dill row \
-_2_2_3_2 instead of executing the sql and collecing matching rows again.
-_2_2_3_3 """
-_2_2_3_4 existing = self.metadata.get("cache", {})
-_2_2_3_5
-_2_2_3_6 metadata: Metadata = {}
-_2_2_3_7
-_2_2_3_8 cache_meta = typing.cast(
-_2_2_3_9 CacheMetadata,
-_2_2_4_0 self.metadata.get("cache", {})
-_2_2_4_1 | {
-_2_2_4_2 "enabled": True,
-_2_2_4_3 "depends_on": existing.get("depends_on", []) + [str(_) for _ in deps],
-_2_2_4_4 "expires_at": get_expire(expires_at=expires_at, ttl=ttl),
-_2_2_4_5 },
-_2_2_4_6 )
+_2_2_4_1 ) -> "QueryBuilder[T_MetaInstance]":
+_2_2_4_2 """
+_2_2_4_3 Enable caching for this query to load repeated calls from a dill row \
+_2_2_4_4 instead of executing the sql and collecing matching rows again.
+_2_2_4_5 """
+_2_2_4_6 existing = self.metadata.get("cache", {})
 _2_2_4_7
-_2_2_4_8 metadata["cache"] = cache_meta
-_2_2_4_9 return self._extend(metadata=metadata)
-_2_2_5_0
-_2_2_5_1 def _get_db(self) -> TypeDAL:
-_2_2_5_2 if db := self.model._db:
-_2_2_5_3 return db
-_2_2_5_4 else: # pragma: no cover
-_2_2_5_5 raise EnvironmentError("@define or db.define is not called on this class
+_2_2_4_8 metadata: Metadata = {}
+_2_2_4_9
+_2_2_5_0 cache_meta = typing.cast(
+_2_2_5_1 CacheMetadata,
+_2_2_5_2 self.metadata.get("cache", {})
+_2_2_5_3 | {
+_2_2_5_4 "enabled": True,
+_2_2_5_5 "depends_on": existing.get("depends_on", []) + [str(_) for _ in deps],
+_2_2_5_6 "expires_at": get_expire(expires_at=expires_at, ttl=ttl),
+_2_2_5_7 },
+_2_2_5_8 )
+_2_2_5_9
+_2_2_6_0 metadata["cache"] = cache_meta
+_2_2_6_1 return self._extend(metadata=metadata)
+_2_2_6_2
+_2_2_6_3 def _get_db(self) -> TypeDAL:
+_2_2_6_4 if db := self.model._db:
+_2_2_6_5 return db
+_2_2_6_6 else: # pragma: no cover
+_2_2_6_7 raise EnvironmentError("@define or db.define is not called on this class
 yet!")
-_2_2_5_6
-_2_2_5_7 def _select_arg_convert(self, arg: Any) -> Any:
-_2_2_5_8 # typedfield are not really used at runtime anymore, but leave it in for
+_2_2_6_8
+_2_2_6_9 def _select_arg_convert(self, arg: Any) -> Any:
+_2_2_7_0 # typedfield are not really used at runtime anymore, but leave it in for
 safety:
-_2_2_5_9 if isinstance(arg, TypedField): # pragma: no cover
-_2_2_6_0 arg = arg._field
-_2_2_6_1
-_2_2_6_2 return arg
-_2_2_6_3
-_2_2_6_4 def delete(self) -> list[int]:
-_2_2_6_5 """
-_2_2_6_6 Based on the current query, delete rows and return a list of deleted IDs.
-_2_2_6_7 """
-_2_2_6_8 db = self._get_db()
-_2_2_6_9 removed_ids = [_.id for _ in db(self.query).select("id")]
-_2_2_7_0 if db(self.query).delete():
-_2_2_7_1 # success!
-_2_2_7_2 return removed_ids
+_2_2_7_1 if isinstance(arg, TypedField): # pragma: no cover
+_2_2_7_2 arg = arg._field
 _2_2_7_3
-_2_2_7_4 return []
+_2_2_7_4 return arg
 _2_2_7_5
-_2_2_7_6 def _delete(self) -> str:
-_2_2_7_7 db = self._get_db()
-_2_2_7_8 return str(db(self.query)._delete())
-_2_2_7_9
-_2_2_8_0 def update(self, **fields: Any) -> list[int]:
-_2_2_8_1 """
-_2_2_8_2 Based on the current query, update `fields` and return a list of updated
+_2_2_7_6 def delete(self) -> list[int]:
+_2_2_7_7 """
+_2_2_7_8 Based on the current query, delete rows and return a list of deleted IDs.
+_2_2_7_9 """
+_2_2_8_0 db = self._get_db()
+_2_2_8_1 removed_ids = [_.id for _ in db(self.query).select("id")]
+_2_2_8_2 if db(self.query).delete():
+_2_2_8_3 # success!
+_2_2_8_4 return removed_ids
+_2_2_8_5
+_2_2_8_6 return []
+_2_2_8_7
+_2_2_8_8 def _delete(self) -> str:
+_2_2_8_9 db = self._get_db()
+_2_2_9_0 return str(db(self.query)._delete())
+_2_2_9_1
+_2_2_9_2 def update(self, **fields: Any) -> list[int]:
+_2_2_9_3 """
+_2_2_9_4 Based on the current query, update `fields` and return a list of updated
 IDs.
-_2_2_8_3 """
-_2_2_8_4 # todo: limit?
-_2_2_8_5 db = self._get_db()
-_2_2_8_6 updated_ids = db(self.query).select("id").column("id")
-_2_2_8_7 if db(self.query).update(**fields):
-_2_2_8_8 # success!
-_2_2_8_9 return updated_ids
-_2_2_9_0
-_2_2_9_1 return []
-_2_2_9_2
-_2_2_9_3 def _update(self, **fields: Any) -> str:
-_2_2_9_4 db = self._get_db()
-_2_2_9_5 return str(db(self.query)._update(**fields))
-_2_2_9_6
-_2_2_9_7 def _before_query(self, mut_metadata: Metadata, add_id: bool = True) -
+_2_2_9_5 """
+_2_2_9_6 # todo: limit?
+_2_2_9_7 db = self._get_db()
+_2_2_9_8 updated_ids = db(self.query).select("id").column("id")
+_2_2_9_9 if db(self.query).update(**fields):
+_2_3_0_0 # success!
+_2_3_0_1 return updated_ids
+_2_3_0_2
+_2_3_0_3 return []
+_2_3_0_4
+_2_3_0_5 def _update(self, **fields: Any) -> str:
+_2_3_0_6 db = self._get_db()
+_2_3_0_7 return str(db(self.query)._update(**fields))
+_2_3_0_8
+_2_3_0_9 def _before_query(self, mut_metadata: Metadata, add_id: bool = True) -
 > tuple[Query, list[Any], AnyDict]:
-_2_2_9_8 select_args = [self._select_arg_convert(_) for _ in self.select_args] or
+_2_3_1_0 select_args = [self._select_arg_convert(_) for _ in self.select_args] or
 [self.model.ALL]
-_2_2_9_9 select_kwargs = self.select_kwargs.copy()
-_2_3_0_0 query = self.query
-_2_3_0_1 model = self.model
-_2_3_0_2 mut_metadata["query"] = query
-_2_3_0_3 # require at least id of main table:
-_2_3_0_4 select_fields = ", ".join([str(_) for _ in select_args])
-_2_3_0_5 tablename = str(model)
-_2_3_0_6
-_2_3_0_7 if add_id and f"{tablename}.id" not in select_fields:
-_2_3_0_8 # fields of other selected, but required ID is missing.
-_2_3_0_9 select_args.append(model.id)
-_2_3_1_0
-_2_3_1_1 if self.relationships:
-_2_3_1_2 query, select_args = self._handle_relationships_pre_select(query,
+_2_3_1_1 select_kwargs = self.select_kwargs.copy()
+_2_3_1_2 query = self.query
+_2_3_1_3 model = self.model
+_2_3_1_4 mut_metadata["query"] = query
+_2_3_1_5 # require at least id of main table:
+_2_3_1_6 select_fields = ", ".join([str(_) for _ in select_args])
+_2_3_1_7 tablename = str(model)
+_2_3_1_8
+_2_3_1_9 if add_id and f"{tablename}.id" not in select_fields:
+_2_3_2_0 # fields of other selected, but required ID is missing.
+_2_3_2_1 select_args.append(model.id)
+_2_3_2_2
+_2_3_2_3 if self.relationships:
+_2_3_2_4 query, select_args = self._handle_relationships_pre_select(query,
 select_args, select_kwargs, mut_metadata)
-_2_3_1_3
-_2_3_1_4 return query, select_args, select_kwargs
-_2_3_1_5
-_2_3_1_6 def to_sql(self, add_id: bool = False) -> str:
-_2_3_1_7 """
-_2_3_1_8 Generate the SQL for the built query.
-_2_3_1_9 """
-_2_3_2_0 db = self._get_db()
-_2_3_2_1
-_2_3_2_2 query, select_args, select_kwargs = self._before_query({}, add_id=add_id)
-_2_3_2_3
-_2_3_2_4 return str(db(query)._select(*select_args, **select_kwargs))
 _2_3_2_5
-_2_3_2_6 def _collect(self) -> str:
-_2_3_2_7 """
-_2_3_2_8 Alias for to_sql, pydal-like syntax.
+_2_3_2_6 return query, select_args, select_kwargs
+_2_3_2_7
+_2_3_2_8 def to_sql(self, add_id: bool = False) -> str:
 _2_3_2_9 """
-_2_3_3_0 return self.to_sql()
-_2_3_3_1
-_2_3_3_2 def _collect_cached(self, metadata: Metadata) -> "TypedRows
+_2_3_3_0 Generate the SQL for the built query.
+_2_3_3_1 """
+_2_3_3_2 db = self._get_db()
+_2_3_3_3
+_2_3_3_4 query, select_args, select_kwargs = self._before_query({}, add_id=add_id)
+_2_3_3_5
+_2_3_3_6 return str(db(query)._select(*select_args, **select_kwargs))
+_2_3_3_7
+_2_3_3_8 def _collect(self) -> str:
+_2_3_3_9 """
+_2_3_4_0 Alias for to_sql, pydal-like syntax.
+_2_3_4_1 """
+_2_3_4_2 return self.to_sql()
+_2_3_4_3
+_2_3_4_4 def _collect_cached(self, metadata: Metadata) -> "TypedRows
 [T_MetaInstance] | None":
-_2_3_3_3 expires_at = metadata["cache"].get("expires_at")
-_2_3_3_4 metadata["cache"] |= {
-_2_3_3_5 # key is partly dependant on cache metadata but not these:
-_2_3_3_6 "key": None,
-_2_3_3_7 "status": None,
-_2_3_3_8 "cached_at": None,
-_2_3_3_9 "expires_at": None,
-_2_3_4_0 }
-_2_3_4_1
-_2_3_4_2 _, key = create_and_hash_cache_key(
-_2_3_4_3 self.model,
-_2_3_4_4 metadata,
-_2_3_4_5 self.query,
-_2_3_4_6 self.select_args,
-_2_3_4_7 self.select_kwargs,
-_2_3_4_8 self.relationships.keys(),
-_2_3_4_9 )
-_2_3_5_0
-_2_3_5_1 # re-set after creating key:
-_2_3_5_2 metadata["cache"]["expires_at"] = expires_at
-_2_3_5_3 metadata["cache"]["key"] = key
-_2_3_5_4
-_2_3_5_5 return load_from_cache(key, self._get_db())
-_2_3_5_6
-_2_3_5_7 def execute(self, add_id: bool = False) -> Rows:
-_2_3_5_8 """
-_2_3_5_9 Raw version of .collect which only executes the SQL, without performing
+_2_3_4_5 expires_at = metadata["cache"].get("expires_at")
+_2_3_4_6 metadata["cache"] |= {
+_2_3_4_7 # key is partly dependant on cache metadata but not these:
+_2_3_4_8 "key": None,
+_2_3_4_9 "status": None,
+_2_3_5_0 "cached_at": None,
+_2_3_5_1 "expires_at": None,
+_2_3_5_2 }
+_2_3_5_3
+_2_3_5_4 _, key = create_and_hash_cache_key(
+_2_3_5_5 self.model,
+_2_3_5_6 metadata,
+_2_3_5_7 self.query,
+_2_3_5_8 self.select_args,
+_2_3_5_9 self.select_kwargs,
+_2_3_6_0 self.relationships.keys(),
+_2_3_6_1 )
+_2_3_6_2
+_2_3_6_3 # re-set after creating key:
+_2_3_6_4 metadata["cache"]["expires_at"] = expires_at
+_2_3_6_5 metadata["cache"]["key"] = key
+_2_3_6_6
+_2_3_6_7 return load_from_cache(key, self._get_db())
+_2_3_6_8
+_2_3_6_9 def execute(self, add_id: bool = False) -> Rows:
+_2_3_7_0 """
+_2_3_7_1 Raw version of .collect which only executes the SQL, without performing
 any magic afterwards.
-_2_3_6_0 """
-_2_3_6_1 db = self._get_db()
-_2_3_6_2 metadata = typing.cast(Metadata, self.metadata.copy())
-_2_3_6_3
-_2_3_6_4 query, select_args, select_kwargs = self._before_query(metadata,
+_2_3_7_2 """
+_2_3_7_3 db = self._get_db()
+_2_3_7_4 metadata = typing.cast(Metadata, self.metadata.copy())
+_2_3_7_5
+_2_3_7_6 query, select_args, select_kwargs = self._before_query(metadata,
 add_id=add_id)
-_2_3_6_5
-_2_3_6_6 return db(query).select(*select_args, **select_kwargs)
-_2_3_6_7
-_2_3_6_8 def collect(
-_2_3_6_9 self, verbose: bool = False, _to: typing.Type["TypedRows[Any]"] = None,
+_2_3_7_7
+_2_3_7_8 return db(query).select(*select_args, **select_kwargs)
+_2_3_7_9
+_2_3_8_0 def collect(
+_2_3_8_1 self, verbose: bool = False, _to: typing.Type["TypedRows[Any]"] = None,
 add_id: bool = True
-_2_3_7_0 ) -> "TypedRows[T_MetaInstance]":
-_2_3_7_1 """
-_2_3_7_2 Execute the built query and turn it into model instances, while handling
+_2_3_8_2 ) -> "TypedRows[T_MetaInstance]":
+_2_3_8_3 """
+_2_3_8_4 Execute the built query and turn it into model instances, while handling
 relationships.
-_2_3_7_3 """
-_2_3_7_4 if _to is None:
-_2_3_7_5 _to = TypedRows
-_2_3_7_6
-_2_3_7_7 db = self._get_db()
-_2_3_7_8 metadata = typing.cast(Metadata, self.metadata.copy())
-_2_3_7_9
-_2_3_8_0 if metadata.get("cache", {}).get("enabled") and (result :
+_2_3_8_5 """
+_2_3_8_6 if _to is None:
+_2_3_8_7 _to = TypedRows
+_2_3_8_8
+_2_3_8_9 db = self._get_db()
+_2_3_9_0 metadata = typing.cast(Metadata, self.metadata.copy())
+_2_3_9_1
+_2_3_9_2 if metadata.get("cache", {}).get("enabled") and (result :
 = self._collect_cached(metadata)):
-_2_3_8_1 return result
-_2_3_8_2
-_2_3_8_3 query, select_args, select_kwargs = self._before_query(metadata,
+_2_3_9_3 return result
+_2_3_9_4
+_2_3_9_5 query, select_args, select_kwargs = self._before_query(metadata,
 add_id=add_id)
-_2_3_8_4
-_2_3_8_5 metadata["sql"] = db(query)._select(*select_args, **select_kwargs)
-_2_3_8_6
-_2_3_8_7 if verbose: # pragma: no cover
-_2_3_8_8 print(metadata["sql"])
-_2_3_8_9
-_2_3_9_0 rows: Rows = db(query).select(*select_args, **select_kwargs)
-_2_3_9_1
-_2_3_9_2 metadata["final_query"] = str(query)
-_2_3_9_3 metadata["final_args"] = [str(_) for _ in select_args]
-_2_3_9_4 metadata["final_kwargs"] = select_kwargs
-_2_3_9_5
-_2_3_9_6 if verbose: # pragma: no cover
-_2_3_9_7 print(rows)
+_2_3_9_6
+_2_3_9_7 metadata["sql"] = db(query)._select(*select_args, **select_kwargs)
 _2_3_9_8
-_2_3_9_9 if not self.relationships:
-_2_4_0_0 # easy
-_2_4_0_1 typed_rows = _to.from_rows(rows, self.model, metadata=metadata)
-_2_4_0_2
-_2_4_0_3 else:
-_2_4_0_4 # harder: try to match rows to the belonging objects
-_2_4_0_5 # assume structure of {'table': <data>} per row.
-_2_4_0_6 # if that's not the case, return default behavior again
-_2_4_0_7 typed_rows = self._collect_with_relationships(rows, metadata=metadata,
+_2_3_9_9 if verbose: # pragma: no cover
+_2_4_0_0 print(metadata["sql"])
+_2_4_0_1
+_2_4_0_2 rows: Rows = db(query).select(*select_args, **select_kwargs)
+_2_4_0_3
+_2_4_0_4 metadata["final_query"] = str(query)
+_2_4_0_5 metadata["final_args"] = [str(_) for _ in select_args]
+_2_4_0_6 metadata["final_kwargs"] = select_kwargs
+_2_4_0_7
+_2_4_0_8 if verbose: # pragma: no cover
+_2_4_0_9 print(rows)
+_2_4_1_0
+_2_4_1_1 if not self.relationships:
+_2_4_1_2 # easy
+_2_4_1_3 typed_rows = _to.from_rows(rows, self.model, metadata=metadata)
+_2_4_1_4
+_2_4_1_5 else:
+_2_4_1_6 # harder: try to match rows to the belonging objects
+_2_4_1_7 # assume structure of {'table': <data>} per row.
+_2_4_1_8 # if that's not the case, return default behavior again
+_2_4_1_9 typed_rows = self._collect_with_relationships(rows, metadata=metadata,
 _to=_to)
-_2_4_0_8
-_2_4_0_9 # only saves if requested in metadata:
-_2_4_1_0 return save_to_cache(typed_rows, rows)
-_2_4_1_1
-_2_4_1_2 def _handle_relationships_pre_select(
-_2_4_1_3 self,
-_2_4_1_4 query: Query,
-_2_4_1_5 select_args: list[Any],
-_2_4_1_6 select_kwargs: AnyDict,
-_2_4_1_7 metadata: Metadata,
-_2_4_1_8 ) -> tuple[Query, list[Any]]:
-_2_4_1_9 db = self._get_db()
-_2_4_2_0 model = self.model
-_2_4_2_1
-_2_4_2_2 metadata["relationships"] = set(self.relationships.keys())
+_2_4_2_0
+_2_4_2_1 # only saves if requested in metadata:
+_2_4_2_2 return save_to_cache(typed_rows, rows)
 _2_4_2_3
-_2_4_2_4 # query = self._update_query_for_inner(db, model, query)
-_2_4_2_5 join = []
-_2_4_2_6 for key, relation in self.relationships.items():
-_2_4_2_7 if not relation.condition or relation.join != "inner":
-_2_4_2_8 continue
-_2_4_2_9
-_2_4_3_0 other = relation.get_table(db)
-_2_4_3_1 other = other.with_alias(f"{key}_{hash(relation)}")
-_2_4_3_2 join.append(other.on(relation.condition(model, other)))
+_2_4_2_4 def _handle_relationships_pre_select(
+_2_4_2_5 self,
+_2_4_2_6 query: Query,
+_2_4_2_7 select_args: list[Any],
+_2_4_2_8 select_kwargs: AnyDict,
+_2_4_2_9 metadata: Metadata,
+_2_4_3_0 ) -> tuple[Query, list[Any]]:
+_2_4_3_1 db = self._get_db()
+_2_4_3_2 model = self.model
 _2_4_3_3
-_2_4_3_4 if limitby := select_kwargs.pop("limitby", None):
-_2_4_3_5 # if limitby + relationships:
-_2_4_3_6 # 1. get IDs of main table entries that match 'query'
-_2_4_3_7 # 2. change query to .belongs(id)
-_2_4_3_8 # 3. add joins etc
-_2_4_3_9
-_2_4_4_0 kwargs = {"limitby": limitby}
+_2_4_3_4 metadata["relationships"] = set(self.relationships.keys())
+_2_4_3_5
+_2_4_3_6 # query = self._update_query_for_inner(db, model, query)
+_2_4_3_7 join = []
+_2_4_3_8 for key, relation in self.relationships.items():
+_2_4_3_9 if not relation.condition or relation.join != "inner":
+_2_4_4_0 continue
 _2_4_4_1
-_2_4_4_2 if join:
-_2_4_4_3 kwargs["join"] = join
-_2_4_4_4
-_2_4_4_5 ids = db(query)._select(model.id, **kwargs)
-_2_4_4_6 query = model.id.belongs(ids)
-_2_4_4_7 metadata["ids"] = ids
-_2_4_4_8
-_2_4_4_9 if join:
-_2_4_5_0 select_kwargs["join"] = join
+_2_4_4_2 other = relation.get_table(db)
+_2_4_4_3 other = other.with_alias(f"{key}_{hash(relation)}")
+_2_4_4_4 join.append(other.on(relation.condition(model, other)))
+_2_4_4_5
+_2_4_4_6 if limitby := select_kwargs.pop("limitby", None):
+_2_4_4_7 # if limitby + relationships:
+_2_4_4_8 # 1. get IDs of main table entries that match 'query'
+_2_4_4_9 # 2. change query to .belongs(id)
+_2_4_5_0 # 3. add joins etc
 _2_4_5_1
-_2_4_5_2 left = []
+_2_4_5_2 kwargs = {"limitby": limitby}
 _2_4_5_3
-_2_4_5_4 for key, relation in self.relationships.items():
-_2_4_5_5 other = relation.get_table(db)
-_2_4_5_6 method: JOIN_OPTIONS = relation.join or DEFAULT_JOIN_OPTION
-_2_4_5_7
-_2_4_5_8 select_fields = ", ".join([str(_) for _ in select_args])
-_2_4_5_9 pre_alias = str(other)
+_2_4_5_4 if join:
+_2_4_5_5 kwargs["join"] = join
+_2_4_5_6
+_2_4_5_7 ids = db(query)._select(model.id, **kwargs)
+_2_4_5_8 query = model.id.belongs(ids)
+_2_4_5_9 metadata["ids"] = ids
 _2_4_6_0
-_2_4_6_1 if f"{other}." not in select_fields:
-_2_4_6_2 # no fields of other selected. add .ALL:
-_2_4_6_3 select_args.append(other.ALL)
-_2_4_6_4 elif f"{other}.id" not in select_fields:
-_2_4_6_5 # fields of other selected, but required ID is missing.
-_2_4_6_6 select_args.append(other.id)
-_2_4_6_7
-_2_4_6_8 if relation.on:
-_2_4_6_9 # if it has a .on, it's always a left join!
-_2_4_7_0 on = relation.on(model, other)
-_2_4_7_1 if not isinstance(on, list): # pragma: no cover
-_2_4_7_2 on = [on]
-_2_4_7_3
-_2_4_7_4 left.extend(on)
-_2_4_7_5 elif method == "left":
-_2_4_7_6 # .on not given, generate it:
-_2_4_7_7 other = other.with_alias(f"{key}_{hash(relation)}")
-_2_4_7_8 condition = typing.cast(Query, relation.condition(model, other))
-_2_4_7_9 left.append(other.on(condition))
-_2_4_8_0 else:
-_2_4_8_1 # else: inner join (handled earlier)
-_2_4_8_2 other = other.with_alias(f"{key}_{hash(relation)}") # only for replace
-_2_4_8_3 # other = other.with_alias(f"{key}_{hash(relation)}")
-_2_4_8_4 # query &= relation.condition(model, other)
+_2_4_6_1 if join:
+_2_4_6_2 select_kwargs["join"] = join
+_2_4_6_3
+_2_4_6_4 left = []
+_2_4_6_5
+_2_4_6_6 for key, relation in self.relationships.items():
+_2_4_6_7 other = relation.get_table(db)
+_2_4_6_8 method: JOIN_OPTIONS = relation.join or DEFAULT_JOIN_OPTION
+_2_4_6_9
+_2_4_7_0 select_fields = ", ".join([str(_) for _ in select_args])
+_2_4_7_1 pre_alias = str(other)
+_2_4_7_2
+_2_4_7_3 if f"{other}." not in select_fields:
+_2_4_7_4 # no fields of other selected. add .ALL:
+_2_4_7_5 select_args.append(other.ALL)
+_2_4_7_6 elif f"{other}.id" not in select_fields:
+_2_4_7_7 # fields of other selected, but required ID is missing.
+_2_4_7_8 select_args.append(other.id)
+_2_4_7_9
+_2_4_8_0 if relation.on:
+_2_4_8_1 # if it has a .on, it's always a left join!
+_2_4_8_2 on = relation.on(model, other)
+_2_4_8_3 if not isinstance(on, list): # pragma: no cover
+_2_4_8_4 on = [on]
 _2_4_8_5
-_2_4_8_6 # if no fields of 'other' are included, add other.ALL
-_2_4_8_7 # else: only add other.id if missing
-_2_4_8_8 select_fields = ", ".join([str(_) for _ in select_args])
-_2_4_8_9
-_2_4_9_0 post_alias = str(other).split(" AS ")[-1]
-_2_4_9_1 if pre_alias != post_alias:
-_2_4_9_2 # replace .select's with aliased:
-_2_4_9_3 select_fields = select_fields.replace(
-_2_4_9_4 f"{pre_alias}.",
-_2_4_9_5 f"{post_alias}.",
-_2_4_9_6 )
+_2_4_8_6 left.extend(on)
+_2_4_8_7 elif method == "left":
+_2_4_8_8 # .on not given, generate it:
+_2_4_8_9 other = other.with_alias(f"{key}_{hash(relation)}")
+_2_4_9_0 condition = typing.cast(Query, relation.condition(model, other))
+_2_4_9_1 left.append(other.on(condition))
+_2_4_9_2 else:
+_2_4_9_3 # else: inner join (handled earlier)
+_2_4_9_4 other = other.with_alias(f"{key}_{hash(relation)}") # only for replace
+_2_4_9_5 # other = other.with_alias(f"{key}_{hash(relation)}")
+_2_4_9_6 # query &= relation.condition(model, other)
 _2_4_9_7
-_2_4_9_8 select_args = select_fields.split(", ")
-_2_4_9_9
-_2_5_0_0 select_kwargs["left"] = left
-_2_5_0_1 return query, select_args
-_2_5_0_2
-_2_5_0_3 def _collect_with_relationships(
-_2_5_0_4 self, rows: Rows, metadata: Metadata, _to: typing.Type["TypedRows[Any]"]
-_2_5_0_5 ) -> "TypedRows[T_MetaInstance]":
-_2_5_0_6 """
-_2_5_0_7 Transform the raw rows into Typed Table model instances.
-_2_5_0_8 """
-_2_5_0_9 db = self._get_db()
-_2_5_1_0 main_table = self.model._ensure_table_defined()
+_2_4_9_8 # if no fields of 'other' are included, add other.ALL
+_2_4_9_9 # else: only add other.id if missing
+_2_5_0_0 select_fields = ", ".join([str(_) for _ in select_args])
+_2_5_0_1
+_2_5_0_2 post_alias = str(other).split(" AS ")[-1]
+_2_5_0_3 if pre_alias != post_alias:
+_2_5_0_4 # replace .select's with aliased:
+_2_5_0_5 select_fields = select_fields.replace(
+_2_5_0_6 f"{pre_alias}.",
+_2_5_0_7 f"{post_alias}.",
+_2_5_0_8 )
+_2_5_0_9
+_2_5_1_0 select_args = select_fields.split(", ")
 _2_5_1_1
-_2_5_1_2 records = {}
-_2_5_1_3 seen_relations: dict[str, set[str]] = defaultdict(set) # main id -> set of
-col + id for relation
+_2_5_1_2 select_kwargs["left"] = left
+_2_5_1_3 return query, select_args
 _2_5_1_4
-_2_5_1_5 for row in rows:
-_2_5_1_6 main = row[main_table]
-_2_5_1_7 main_id = main.id
-_2_5_1_8
-_2_5_1_9 if main_id not in records:
-_2_5_2_0 records[main_id] = self.model(main)
-_2_5_2_1 records[main_id]._with = list(self.relationships.keys())
-_2_5_2_2
-_2_5_2_3 # setup up all relationship defaults (once)
-_2_5_2_4 for col, relationship in self.relationships.items():
-_2_5_2_5 records[main_id][col] = [] if relationship.multiple else None
+_2_5_1_5 def _collect_with_relationships(
+_2_5_1_6 self, rows: Rows, metadata: Metadata, _to: typing.Type["TypedRows[Any]"]
+_2_5_1_7 ) -> "TypedRows[T_MetaInstance]":
+_2_5_1_8 """
+_2_5_1_9 Transform the raw rows into Typed Table model instances.
+_2_5_2_0 """
+_2_5_2_1 db = self._get_db()
+_2_5_2_2 main_table = self.model._ensure_table_defined()
+_2_5_2_3
+_2_5_2_4 records = {}
+_2_5_2_5 seen_relations: dict[str, set[str]] = defaultdict(set) # main id -> set of
+col + id for relation
 _2_5_2_6
-_2_5_2_7 # now add other relationship data
-_2_5_2_8 for column, relation in self.relationships.items():
-_2_5_2_9 relationship_column = f"{column}_{hash(relation)}"
+_2_5_2_7 for row in rows:
+_2_5_2_8 main = row[main_table]
+_2_5_2_9 main_id = main.id
 _2_5_3_0
-_2_5_3_1 # relationship_column works for aliases with the same target column.
-_2_5_3_2 # if col + relationship not in the row, just use the regular name.
-_2_5_3_3
-_2_5_3_4 relation_data = (
-_2_5_3_5 row[relationship_column] if relationship_column in row else row
+_2_5_3_1 if main_id not in records:
+_2_5_3_2 records[main_id] = self.model(main)
+_2_5_3_3 records[main_id]._with = list(self.relationships.keys())
+_2_5_3_4
+_2_5_3_5 # setup up all relationship defaults (once)
+_2_5_3_6 for col, relationship in self.relationships.items():
+_2_5_3_7 records[main_id][col] = [] if relationship.multiple else None
+_2_5_3_8
+_2_5_3_9 # now add other relationship data
+_2_5_4_0 for column, relation in self.relationships.items():
+_2_5_4_1 relationship_column = f"{column}_{hash(relation)}"
+_2_5_4_2
+_2_5_4_3 # relationship_column works for aliases with the same target column.
+_2_5_4_4 # if col + relationship not in the row, just use the regular name.
+_2_5_4_5
+_2_5_4_6 relation_data = (
+_2_5_4_7 row[relationship_column] if relationship_column in row else row
 [relation.get_table_name()]
-_2_5_3_6 )
-_2_5_3_7
-_2_5_3_8 if relation_data.id is None:
-_2_5_3_9 # always skip None ids
-_2_5_4_0 continue
-_2_5_4_1
-_2_5_4_2 if f"{column}-{relation_data.id}" in seen_relations[main_id]:
-_2_5_4_3 # speed up duplicates
-_2_5_4_4 continue
-_2_5_4_5 else:
-_2_5_4_6 seen_relations[main_id].add(f"{column}-{relation_data.id}")
-_2_5_4_7
-_2_5_4_8 relation_table = relation.get_table(db)
-_2_5_4_9 # hopefully an instance of a typed table and a regular row otherwise:
-_2_5_5_0 instance = relation_table(relation_data) if looks_like(relation_table,
+_2_5_4_8 )
+_2_5_4_9
+_2_5_5_0 if relation_data.id is None:
+_2_5_5_1 # always skip None ids
+_2_5_5_2 continue
+_2_5_5_3
+_2_5_5_4 if f"{column}-{relation_data.id}" in seen_relations[main_id]:
+_2_5_5_5 # speed up duplicates
+_2_5_5_6 continue
+_2_5_5_7 else:
+_2_5_5_8 seen_relations[main_id].add(f"{column}-{relation_data.id}")
+_2_5_5_9
+_2_5_6_0 relation_table = relation.get_table(db)
+_2_5_6_1 # hopefully an instance of a typed table and a regular row otherwise:
+_2_5_6_2 instance = relation_table(relation_data) if looks_like(relation_table,
 TypedTable) else relation_data
-_2_5_5_1
-_2_5_5_2 if relation.multiple:
-_2_5_5_3 # create list of T
-_2_5_5_4 if not isinstance(records[main_id].get(column), list): # pragma: no cover
-_2_5_5_5 # should already be set up before!
-_2_5_5_6 setattr(records[main_id], column, [])
-_2_5_5_7
-_2_5_5_8 records[main_id][column].append(instance)
-_2_5_5_9 else:
-_2_5_6_0 # create single T
-_2_5_6_1 records[main_id][column] = instance
-_2_5_6_2
-_2_5_6_3 return _to(rows, self.model, records, metadata=metadata)
-_2_5_6_4
-_2_5_6_5 def collect_or_fail(self, exception: Exception = None) -> "TypedRows
-[T_MetaInstance]":
-_2_5_6_6 """
-_2_5_6_7 Call .collect() and raise an error if nothing found.
-_2_5_6_8
-_2_5_6_9 Basically unwraps Optional type.
-_2_5_7_0 """
-_2_5_7_1 if result := self.collect():
-_2_5_7_2 return result
-_2_5_7_3
-_2_5_7_4 if not exception:
-_2_5_7_5 exception = ValueError("Nothing found!")
+_2_5_6_3
+_2_5_6_4 if relation.multiple:
+_2_5_6_5 # create list of T
+_2_5_6_6 if not isinstance(records[main_id].get(column), list): # pragma: no cover
+_2_5_6_7 # should already be set up before!
+_2_5_6_8 setattr(records[main_id], column, [])
+_2_5_6_9
+_2_5_7_0 records[main_id][column].append(instance)
+_2_5_7_1 else:
+_2_5_7_2 # create single T
+_2_5_7_3 records[main_id][column] = instance
+_2_5_7_4
+_2_5_7_5 return _to(rows, self.model, records, metadata=metadata)
 _2_5_7_6
-_2_5_7_7 raise exception
-_2_5_7_8
-_2_5_7_9 def __iter__(self) -> typing.Generator[T_MetaInstance, None, None]:
-_2_5_8_0 """
-_2_5_8_1 You can start iterating a Query Builder object before calling collect, for
-ease of use.
+_2_5_7_7 def collect_or_fail(self, exception: Exception = None) -> "TypedRows
+[T_MetaInstance]":
+_2_5_7_8 """
+_2_5_7_9 Call .collect() and raise an error if nothing found.
+_2_5_8_0
+_2_5_8_1 Basically unwraps Optional type.
 _2_5_8_2 """
-_2_5_8_3 yield from self.collect()
-_2_5_8_4
-_2_5_8_5 def count(self) -> int:
-_2_5_8_6 """
-_2_5_8_7 Return the amount of rows matching the current query.
-_2_5_8_8 """
-_2_5_8_9 db = self._get_db()
-_2_5_9_0 model = self.model
-_2_5_9_1 query = self.query
-_2_5_9_2
-_2_5_9_3 for key, relation in self.relationships.items():
-_2_5_9_4 if not relation.condition or relation.join != "inner":
-_2_5_9_5 continue
+_2_5_8_3 if result := self.collect():
+_2_5_8_4 return result
+_2_5_8_5
+_2_5_8_6 if not exception:
+_2_5_8_7 exception = ValueError("Nothing found!")
+_2_5_8_8
+_2_5_8_9 raise exception
+_2_5_9_0
+_2_5_9_1 def __iter__(self) -> typing.Generator[T_MetaInstance, None, None]:
+_2_5_9_2 """
+_2_5_9_3 You can start iterating a Query Builder object before calling collect, for
+ease of use.
+_2_5_9_4 """
+_2_5_9_5 yield from self.collect()
 _2_5_9_6
-_2_5_9_7 other = relation.get_table(db)
-_2_5_9_8 other = other.with_alias(f"{key}_{hash(relation)}")
-_2_5_9_9 query &= relation.condition(model, other)
-_2_6_0_0
-_2_6_0_1 return db(query).count()
-_2_6_0_2
-_2_6_0_3 def __paginate(
-_2_6_0_4 self,
-_2_6_0_5 limit: int,
-_2_6_0_6 page: int = 1,
-_2_6_0_7 ) -> "QueryBuilder[T_MetaInstance]":
-_2_6_0_8 _from = limit * (page - 1)
-_2_6_0_9 _to = limit * page
-_2_6_1_0
-_2_6_1_1 available = self.count()
+_2_5_9_7 def count(self) -> int:
+_2_5_9_8 """
+_2_5_9_9 Return the amount of rows matching the current query.
+_2_6_0_0 """
+_2_6_0_1 db = self._get_db()
+_2_6_0_2 model = self.model
+_2_6_0_3 query = self.query
+_2_6_0_4
+_2_6_0_5 for key, relation in self.relationships.items():
+_2_6_0_6 if not relation.condition or relation.join != "inner":
+_2_6_0_7 continue
+_2_6_0_8
+_2_6_0_9 other = relation.get_table(db)
+_2_6_1_0 other = other.with_alias(f"{key}_{hash(relation)}")
+_2_6_1_1 query &= relation.condition(model, other)
 _2_6_1_2
-_2_6_1_3 metadata: Metadata = {}
+_2_6_1_3 return db(query).count()
 _2_6_1_4
-_2_6_1_5 metadata["pagination"] = {
-_2_6_1_6 "limit": limit,
-_2_6_1_7 "current_page": page,
-_2_6_1_8 "max_page": math.ceil(available / limit),
-_2_6_1_9 "rows": available,
-_2_6_2_0 "min_max": (_from, _to),
-_2_6_2_1 }
+_2_6_1_5 def __paginate(
+_2_6_1_6 self,
+_2_6_1_7 limit: int,
+_2_6_1_8 page: int = 1,
+_2_6_1_9 ) -> "QueryBuilder[T_MetaInstance]":
+_2_6_2_0 _from = limit * (page - 1)
+_2_6_2_1 _to = limit * page
 _2_6_2_2
-_2_6_2_3 return self._extend(select_kwargs={"limitby": (_from, _to)},
-metadata=metadata)
+_2_6_2_3 available = self.count()
 _2_6_2_4
-_2_6_2_5 def paginate(self, limit: int, page: int = 1, verbose: bool = False) -
+_2_6_2_5 metadata: Metadata = {}
+_2_6_2_6
+_2_6_2_7 metadata["pagination"] = {
+_2_6_2_8 "limit": limit,
+_2_6_2_9 "current_page": page,
+_2_6_3_0 "max_page": math.ceil(available / limit),
+_2_6_3_1 "rows": available,
+_2_6_3_2 "min_max": (_from, _to),
+_2_6_3_3 }
+_2_6_3_4
+_2_6_3_5 return self._extend(select_kwargs={"limitby": (_from, _to)},
+metadata=metadata)
+_2_6_3_6
+_2_6_3_7 def paginate(self, limit: int, page: int = 1, verbose: bool = False) -
 > "PaginatedRows[T_MetaInstance]":
-_2_6_2_6 """
-_2_6_2_7 Paginate transforms the more readable `page` and `limit` to pydals
+_2_6_3_8 """
+_2_6_3_9 Paginate transforms the more readable `page` and `limit` to pydals
 internal limit and offset.
-_2_6_2_8
-_2_6_2_9 Note: when using relationships, this limit is only applied to the 'main'
+_2_6_4_0
+_2_6_4_1 Note: when using relationships, this limit is only applied to the 'main'
 table and any number of extra rows \
-_2_6_3_0 can be loaded with relationship data!
-_2_6_3_1 """
-_2_6_3_2 builder = self.__paginate(limit, page)
-_2_6_3_3
-_2_6_3_4 rows = typing.cast(PaginatedRows[T_MetaInstance], builder.collect
-(verbose=verbose, _to=PaginatedRows))
-_2_6_3_5
-_2_6_3_6 rows._query_builder = builder
-_2_6_3_7 return rows
-_2_6_3_8
-_2_6_3_9 def _paginate(
-_2_6_4_0 self,
-_2_6_4_1 limit: int,
-_2_6_4_2 page: int = 1,
-_2_6_4_3 ) -> str:
+_2_6_4_2 can be loaded with relationship data!
+_2_6_4_3 """
 _2_6_4_4 builder = self.__paginate(limit, page)
-_2_6_4_5 return builder._collect()
-_2_6_4_6
-_2_6_4_7 def chunk(self, chunk_size: int) -> typing.Generator["TypedRows
-[T_MetaInstance]", Any, None]:
-_2_6_4_8 """
-_2_6_4_9 Generator that yields rows from a paginated source in chunks.
+_2_6_4_5
+_2_6_4_6 rows = typing.cast(PaginatedRows[T_MetaInstance], builder.collect
+(verbose=verbose, _to=PaginatedRows))
+_2_6_4_7
+_2_6_4_8 rows._query_builder = builder
+_2_6_4_9 return rows
 _2_6_5_0
-_2_6_5_1 This function retrieves rows from a paginated data source in chunks of
+_2_6_5_1 def _paginate(
+_2_6_5_2 self,
+_2_6_5_3 limit: int,
+_2_6_5_4 page: int = 1,
+_2_6_5_5 ) -> str:
+_2_6_5_6 builder = self.__paginate(limit, page)
+_2_6_5_7 return builder._collect()
+_2_6_5_8
+_2_6_5_9 def chunk(self, chunk_size: int) -> typing.Generator["TypedRows
+[T_MetaInstance]", Any, None]:
+_2_6_6_0 """
+_2_6_6_1 Generator that yields rows from a paginated source in chunks.
+_2_6_6_2
+_2_6_6_3 This function retrieves rows from a paginated data source in chunks of
 the
-_2_6_5_2 specified `chunk_size` and yields them as TypedRows.
-_2_6_5_3
-_2_6_5_4 Example:
-_2_6_5_5 ```
-_2_6_5_6 for chunk_of_rows in Table.where(SomeTable.id > 5).chunk(100):
-_2_6_5_7 for row in chunk_of_rows:
-_2_6_5_8 # Process each row within the chunk.
-_2_6_5_9 pass
-_2_6_6_0 ```
-_2_6_6_1 """
-_2_6_6_2 page = 1
-_2_6_6_3
-_2_6_6_4 while rows := self.__paginate(chunk_size, page).collect():
-_2_6_6_5 yield rows
-_2_6_6_6 page += 1
-_2_6_6_7
-_2_6_6_8 def first(self, verbose: bool = False) -> T_MetaInstance | None:
-_2_6_6_9 """
-_2_6_7_0 Get the first row matching the currently built query.
-_2_6_7_1
-_2_6_7_2 Also adds paginate, since it would be a waste to select more rows than
-needed.
+_2_6_6_4 specified `chunk_size` and yields them as TypedRows.
+_2_6_6_5
+_2_6_6_6 Example:
+_2_6_6_7 ```
+_2_6_6_8 for chunk_of_rows in Table.where(SomeTable.id > 5).chunk(100):
+_2_6_6_9 for row in chunk_of_rows:
+_2_6_7_0 # Process each row within the chunk.
+_2_6_7_1 pass
+_2_6_7_2 ```
 _2_6_7_3 """
-_2_6_7_4 if row := self.paginate(page=1, limit=1, verbose=verbose).first():
-_2_6_7_5 return self.model.from_row(row)
-_2_6_7_6 else:
-_2_6_7_7 return None
-_2_6_7_8
-_2_6_7_9 def _first(self) -> str:
-_2_6_8_0 return self._paginate(page=1, limit=1)
-_2_6_8_1
-_2_6_8_2 def first_or_fail(self, exception: Exception = None, verbose: bool =
-False) -> T_MetaInstance:
-_2_6_8_3 """
-_2_6_8_4 Call .first() and raise an error if nothing found.
-_2_6_8_5
-_2_6_8_6 Basically unwraps Optional type.
-_2_6_8_7 """
-_2_6_8_8 if inst := self.first(verbose=verbose):
-_2_6_8_9 return inst
+_2_6_7_4 page = 1
+_2_6_7_5
+_2_6_7_6 while rows := self.__paginate(chunk_size, page).collect():
+_2_6_7_7 yield rows
+_2_6_7_8 page += 1
+_2_6_7_9
+_2_6_8_0 def first(self, verbose: bool = False) -> T_MetaInstance | None:
+_2_6_8_1 """
+_2_6_8_2 Get the first row matching the currently built query.
+_2_6_8_3
+_2_6_8_4 Also adds paginate, since it would be a waste to select more rows than
+needed.
+_2_6_8_5 """
+_2_6_8_6 if row := self.paginate(page=1, limit=1, verbose=verbose).first():
+_2_6_8_7 return self.model.from_row(row)
+_2_6_8_8 else:
+_2_6_8_9 return None
 _2_6_9_0
-_2_6_9_1 if not exception:
-_2_6_9_2 exception = ValueError("Nothing found!")
+_2_6_9_1 def _first(self) -> str:
+_2_6_9_2 return self._paginate(page=1, limit=1)
 _2_6_9_3
-_2_6_9_4 raise exception
-_2_6_9_5
-_2_6_9_6
-_2_6_9_7S = typing.TypeVar("S")
-_2_6_9_8
-_2_6_9_9
-_2_7_0_0class PaginatedRows(TypedRows[T_MetaInstance]):
-_2_7_0_1 """
-_2_7_0_2 Extension on top of rows that is used when calling .paginate() instead of
+_2_6_9_4 def first_or_fail(self, exception: Exception = None, verbose: bool =
+False) -> T_MetaInstance:
+_2_6_9_5 """
+_2_6_9_6 Call .first() and raise an error if nothing found.
+_2_6_9_7
+_2_6_9_8 Basically unwraps Optional type.
+_2_6_9_9 """
+_2_7_0_0 if inst := self.first(verbose=verbose):
+_2_7_0_1 return inst
+_2_7_0_2
+_2_7_0_3 if not exception:
+_2_7_0_4 exception = ValueError("Nothing found!")
+_2_7_0_5
+_2_7_0_6 raise exception
+_2_7_0_7
+_2_7_0_8
+_2_7_0_9S = typing.TypeVar("S")
+_2_7_1_0
+_2_7_1_1
+_2_7_1_2class PaginatedRows(TypedRows[T_MetaInstance]):
+_2_7_1_3 """
+_2_7_1_4 Extension on top of rows that is used when calling .paginate() instead of
 .collect().
-_2_7_0_3 """
-_2_7_0_4
-_2_7_0_5 _query_builder: QueryBuilder[T_MetaInstance]
-_2_7_0_6
-_2_7_0_7 @property
-_2_7_0_8 def data(self) -> list[T_MetaInstance]:
-_2_7_0_9 """
-_2_7_1_0 Get the underlying data.
-_2_7_1_1 """
-_2_7_1_2 return list(self.records.values())
-_2_7_1_3
-_2_7_1_4 @property
-_2_7_1_5 def pagination(self) -> Pagination:
-_2_7_1_6 """
-_2_7_1_7 Get all page info.
-_2_7_1_8 """
-_2_7_1_9 pagination_data = self.metadata["pagination"]
-_2_7_2_0
-_2_7_2_1 has_next_page = pagination_data["current_page"] < pagination_data
+_2_7_1_5 """
+_2_7_1_6
+_2_7_1_7 _query_builder: QueryBuilder[T_MetaInstance]
+_2_7_1_8
+_2_7_1_9 @property
+_2_7_2_0 def data(self) -> list[T_MetaInstance]:
+_2_7_2_1 """
+_2_7_2_2 Get the underlying data.
+_2_7_2_3 """
+_2_7_2_4 return list(self.records.values())
+_2_7_2_5
+_2_7_2_6 @property
+_2_7_2_7 def pagination(self) -> Pagination:
+_2_7_2_8 """
+_2_7_2_9 Get all page info.
+_2_7_3_0 """
+_2_7_3_1 pagination_data = self.metadata["pagination"]
+_2_7_3_2
+_2_7_3_3 has_next_page = pagination_data["current_page"] < pagination_data
 ["max_page"]
-_2_7_2_2 has_prev_page = pagination_data["current_page"] > 1
-_2_7_2_3 return {
-_2_7_2_4 "total_items": pagination_data["rows"],
-_2_7_2_5 "current_page": pagination_data["current_page"],
-_2_7_2_6 "per_page": pagination_data["limit"],
-_2_7_2_7 "total_pages": pagination_data["max_page"],
-_2_7_2_8 "has_next_page": has_next_page,
-_2_7_2_9 "has_prev_page": has_prev_page,
-_2_7_3_0 "next_page": pagination_data["current_page"] + 1 if has_next_page else
+_2_7_3_4 has_prev_page = pagination_data["current_page"] > 1
+_2_7_3_5 return {
+_2_7_3_6 "total_items": pagination_data["rows"],
+_2_7_3_7 "current_page": pagination_data["current_page"],
+_2_7_3_8 "per_page": pagination_data["limit"],
+_2_7_3_9 "total_pages": pagination_data["max_page"],
+_2_7_4_0 "has_next_page": has_next_page,
+_2_7_4_1 "has_prev_page": has_prev_page,
+_2_7_4_2 "next_page": pagination_data["current_page"] + 1 if has_next_page else
 None,
-_2_7_3_1 "prev_page": pagination_data["current_page"] - 1 if has_prev_page else
+_2_7_4_3 "prev_page": pagination_data["current_page"] - 1 if has_prev_page else
 None,
-_2_7_3_2 }
-_2_7_3_3
-_2_7_3_4 def next(self) -> Self:
-_2_7_3_5 """
-_2_7_3_6 Get the next page.
-_2_7_3_7 """
-_2_7_3_8 data = self.metadata["pagination"]
-_2_7_3_9 if data["current_page"] >= data["max_page"]:
-_2_7_4_0 raise StopIteration("Final Page")
-_2_7_4_1
-_2_7_4_2 return self._query_builder.paginate(limit=data["limit"], page=data
-["current_page"] + 1)
-_2_7_4_3
-_2_7_4_4 def previous(self) -> Self:
-_2_7_4_5 """
-_2_7_4_6 Get the previous page.
+_2_7_4_4 }
+_2_7_4_5
+_2_7_4_6 def next(self) -> Self:
 _2_7_4_7 """
-_2_7_4_8 data = self.metadata["pagination"]
-_2_7_4_9 if data["current_page"] <= 1:
-_2_7_5_0 raise StopIteration("First Page")
-_2_7_5_1
-_2_7_5_2 return self._query_builder.paginate(limit=data["limit"], page=data
-["current_page"] - 1)
+_2_7_4_8 Get the next page.
+_2_7_4_9 """
+_2_7_5_0 data = self.metadata["pagination"]
+_2_7_5_1 if data["current_page"] >= data["max_page"]:
+_2_7_5_2 raise StopIteration("Final Page")
 _2_7_5_3
-_2_7_5_4 def as_dict(self, *_: Any, **__: Any) -> PaginateDict: # type: ignore
-_2_7_5_5 """
-_2_7_5_6 Convert to a dictionary with pagination info and original data.
-_2_7_5_7
-_2_7_5_8 All arguments are ignored!
+_2_7_5_4 return self._query_builder.paginate(limit=data["limit"], page=data
+["current_page"] + 1)
+_2_7_5_5
+_2_7_5_6 def previous(self) -> Self:
+_2_7_5_7 """
+_2_7_5_8 Get the previous page.
 _2_7_5_9 """
-_2_7_6_0 return {"data": super().as_dict(), "pagination": self.pagination}
-_2_7_6_1
-_2_7_6_2
-_2_7_6_3class TypedSet(pydal.objects.Set): # type: ignore # pragma: no cover
-_2_7_6_4 """
-_2_7_6_5 Used to make pydal Set more typed.
-_2_7_6_6
-_2_7_6_7 This class is not actually used, only 'cast' by TypeDAL.__call__
-_2_7_6_8 """
+_2_7_6_0 data = self.metadata["pagination"]
+_2_7_6_1 if data["current_page"] <= 1:
+_2_7_6_2 raise StopIteration("First Page")
+_2_7_6_3
+_2_7_6_4 return self._query_builder.paginate(limit=data["limit"], page=data
+["current_page"] - 1)
+_2_7_6_5
+_2_7_6_6 def as_dict(self, *_: Any, **__: Any) -> PaginateDict: # type: ignore
+_2_7_6_7 """
+_2_7_6_8 Convert to a dictionary with pagination info and original data.
 _2_7_6_9
-_2_7_7_0 def count(self, distinct: bool = None, cache: AnyDict = None) -> int:
+_2_7_7_0 All arguments are ignored!
 _2_7_7_1 """
-_2_7_7_2 Count returns an int.
-_2_7_7_3 """
-_2_7_7_4 result = super().count(distinct, cache)
-_2_7_7_5 return typing.cast(int, result)
-_2_7_7_6
-_2_7_7_7 def select(self, *fields: Any, **attributes: Any) -> TypedRows
+_2_7_7_2 return {"data": super().as_dict(), "pagination": self.pagination}
+_2_7_7_3
+_2_7_7_4
+_2_7_7_5class TypedSet(pydal.objects.Set): # type: ignore # pragma: no cover
+_2_7_7_6 """
+_2_7_7_7 Used to make pydal Set more typed.
+_2_7_7_8
+_2_7_7_9 This class is not actually used, only 'cast' by TypeDAL.__call__
+_2_7_8_0 """
+_2_7_8_1
+_2_7_8_2 def count(self, distinct: bool = None, cache: AnyDict = None) -> int:
+_2_7_8_3 """
+_2_7_8_4 Count returns an int.
+_2_7_8_5 """
+_2_7_8_6 result = super().count(distinct, cache)
+_2_7_8_7 return typing.cast(int, result)
+_2_7_8_8
+_2_7_8_9 def select(self, *fields: Any, **attributes: Any) -> TypedRows
 [T_MetaInstance]:
-_2_7_7_8 """
-_2_7_7_9 Select returns a TypedRows of a user defined table.
-_2_7_8_0
-_2_7_8_1 Example:
-_2_7_8_2 result: TypedRows[MyTable] = db(MyTable.id > 0).select()
-_2_7_8_3
-_2_7_8_4 for row in result:
-_2_7_8_5 typing.reveal_type(row) # MyTable
-_2_7_8_6 """
-_2_7_8_7 rows = super().select(*fields, **attributes)
-_2_7_8_8 return typing.cast(TypedRows[T_MetaInstance], rows)
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+_2_7_9_0 """
+_2_7_9_1 Select returns a TypedRows of a user defined table.
+_2_7_9_2
+_2_7_9_3 Example:
+_2_7_9_4 result: TypedRows[MyTable] = db(MyTable.id > 0).select()
+_2_7_9_5
+_2_7_9_6 for row in result:
+_2_7_9_7 typing.reveal_type(row) # MyTable
+_2_7_9_8 """
+_2_7_9_9 rows = super().select(*fields, **attributes)
+_2_8_0_0 return typing.cast(TypedRows[T_MetaInstance], rows)
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_fields_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_fields_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_core_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_for_py4web_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -326,14 +326,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_core_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_for_py4web_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 8855 ssttaatteemmeennttss ? 8855 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
 _1"""
 _2This file contains available Field types.
 _3"""
 _4
 _5import datetime as dt
 _6import decimal
 _7import typing
@@ -254,9 +254,9 @@
 _2_3_6 Pydal type is bigint, Python type is int.
 _2_3_7 """
 _2_3_8 kw["type"] = "bigint"
 _2_3_9 return TypedField(int, **kw)
 _2_4_0
 _2_4_1
 _2_4_2Bigint = BigintField
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_for_py4web_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_for_py4web_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">12<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_fields_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_for_web2py_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -141,14 +141,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_fields_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_for_web2py_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 1100 ssttaatteemmeennttss ? 1100 rruunn 00 mmiissssiinngg 1122 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
 _1"""
 _2ONLY USE IN COMBINATION WITH PY4WEB!
 _3"""
 _4
 _5import threadsafevariable
 _6from py4web.core import ICECUBE
 _7from py4web.core import Fixture as _Fixture
@@ -64,9 +64,9 @@
 _5_1
 _5_2__all__ = [
 _5_3 "AuthUser",
 _5_4 "Fixture",
 _5_5 "DAL",
 _5_6 "setup_py4web_tables",
 _5_7]
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_for_web2py_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_for_web2py_py.html`

 * *Files 1% similar despite different names*

```diff
@@ -50,26 +50,26 @@
                     <p>
                         <kbd>?</kbd> &nbsp; show/hide this help
                     </p>
                 </div>
             </div>
         </aside>
         <h2>
-            <span class="text">31 statements &nbsp;</span>
-            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">31<span class="text"> run</span></button>
+            <span class="text">32 statements &nbsp;</span>
+            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">32<span class="text"> run</span></button>
             <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_for_py4web_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_helpers_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -102,66 +102,68 @@
     <p class="run"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="nam">description</span> <span class="op">=</span> <span class="nam">TextField</span><span class="op">(</span><span class="nam">notnull</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="key">def</span> <span class="nam">__on_define__</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        When we have access to 'db', set the NOT IN DB requirement to make the role unique.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">cls</span><span class="op">.</span><span class="nam">role</span><span class="op">.</span><span class="nam">requires</span> <span class="op">=</span> <span class="nam">IS_NOT_IN_DB</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="str">"w2p_auth_group.role"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__on_define__</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthMembership</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="str">    Model for w2p_auth_membership.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="nam">user_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthUser</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">    <span class="nam">group_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthGroup</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthPermission</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">    Model for w2p_auth_permission.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="nam">group_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthGroup</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="nam">name</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="nam">table_name</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="nam">record_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthEvent</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="str">    Model for w2p_auth_event.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="nam">time_stamp</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">dt</span><span class="op">.</span><span class="nam">datetime</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">    <span class="nam">client_ip</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">    <span class="nam">user_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthUser</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="nam">origin</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="nam">description</span> <span class="op">=</span> <span class="nam">TextField</span><span class="op">(</span><span class="nam">notnull</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="key">def</span> <span class="nam">setup_web2py_tables</span><span class="op">(</span><span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="str">    Setup all the (default) web2py required tables.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthUser</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthGroup</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_group"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthMembership</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_membership"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthPermission</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_permission"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthEvent</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_event"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">cls</span><span class="op">.</span><span class="nam">role</span><span class="op">.</span><span class="nam">requires</span> <span class="op">=</span> <span class="nam">IS_NOT_IN_DB</span><span class="op">(</span><span class="nam">db</span><span class="op">,</span> <span class="str">"w2p_auth_group.role"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthMembership</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="str">    Model for w2p_auth_membership.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">    <span class="nam">user_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthUser</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">    <span class="nam">group_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthGroup</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthPermission</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">    Model for w2p_auth_permission.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="nam">group_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthGroup</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="nam">name</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="nam">table_name</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="nam">record_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="key">class</span> <span class="nam">AuthEvent</span><span class="op">(</span><span class="nam">TypedTable</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="str">    Model for w2p_auth_event.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">    <span class="nam">time_stamp</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">dt</span><span class="op">.</span><span class="nam">datetime</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="nam">client_ip</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="nam">user_id</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">AuthUser</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="nam">origin</span><span class="op">:</span> <span class="nam">TypedField</span><span class="op">[</span><span class="nam">str</span> <span class="op">|</span> <span class="key">None</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="nam">description</span> <span class="op">=</span> <span class="nam">TextField</span><span class="op">(</span><span class="nam">notnull</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="key">def</span> <span class="nam">setup_web2py_tables</span><span class="op">(</span><span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="str">    Setup all the (default) web2py required tables.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthUser</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthGroup</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_group"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthMembership</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_membership"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthPermission</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_permission"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">    <span class="nam">db</span><span class="op">.</span><span class="nam">define</span><span class="op">(</span><span class="nam">AuthEvent</span><span class="op">,</span> <span class="nam">rname</span><span class="op">=</span><span class="str">"w2p_auth_event"</span><span class="op">,</span> <span class="nam">redefine</span><span class="op">=</span><span class="key">True</span><span class="op">,</span> <span class="nam">migrate</span><span class="op">=</span><span class="nam">migrate</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_for_py4web_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_helpers_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -4,17 +4,17 @@
 r m x  toggle line displays
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
-********** 3311 ssttaatteemmeennttss ? 3311 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+********** 3322 ssttaatteemmeennttss ? 3322 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2ONLY USE IN COMBINATION WITH WEB2PY!
 _3"""
 _4
 _5import datetime as dt
 _6
 _7from pydal.validators import IS_NOT_IN_DB
@@ -34,57 +34,59 @@
 _2_1
 _2_2 @classmethod
 _2_3 def __on_define__(cls, db: TypeDAL) -> None:
 _2_4 """
 _2_5 When we have access to 'db', set the NOT IN DB requirement to make the role
 unique.
 _2_6 """
-_2_7 cls.role.requires = IS_NOT_IN_DB(db, "w2p_auth_group.role")
+_2_7 super().__on_define__(db)
 _2_8
-_2_9
-_3_0class AuthMembership(TypedTable):
-_3_1 """
-_3_2 Model for w2p_auth_membership.
+_2_9 cls.role.requires = IS_NOT_IN_DB(db, "w2p_auth_group.role")
+_3_0
+_3_1
+_3_2class AuthMembership(TypedTable):
 _3_3 """
-_3_4
-_3_5 user_id: TypedField[AuthUser]
-_3_6 group_id: TypedField[AuthGroup]
-_3_7
-_3_8
-_3_9class AuthPermission(TypedTable):
-_4_0 """
-_4_1 Model for w2p_auth_permission.
+_3_4 Model for w2p_auth_membership.
+_3_5 """
+_3_6
+_3_7 user_id: TypedField[AuthUser]
+_3_8 group_id: TypedField[AuthGroup]
+_3_9
+_4_0
+_4_1class AuthPermission(TypedTable):
 _4_2 """
-_4_3
-_4_4 group_id: TypedField[AuthGroup]
-_4_5 name: TypedField[str]
-_4_6 table_name: TypedField[str]
-_4_7 record_id: TypedField[int]
-_4_8
-_4_9
-_5_0class AuthEvent(TypedTable):
-_5_1 """
-_5_2 Model for w2p_auth_event.
+_4_3 Model for w2p_auth_permission.
+_4_4 """
+_4_5
+_4_6 group_id: TypedField[AuthGroup]
+_4_7 name: TypedField[str]
+_4_8 table_name: TypedField[str]
+_4_9 record_id: TypedField[int]
+_5_0
+_5_1
+_5_2class AuthEvent(TypedTable):
 _5_3 """
-_5_4
-_5_5 time_stamp: TypedField[dt.datetime | None]
-_5_6 client_ip: TypedField[str | None]
-_5_7 user_id: TypedField[AuthUser | None]
-_5_8 origin: TypedField[str | None]
-_5_9 description = TextField(notnull=False)
-_6_0
-_6_1
-_6_2def setup_web2py_tables(db: TypeDAL, migrate: bool = False) -> None:
-_6_3 """
-_6_4 Setup all the (default) web2py required tables.
+_5_4 Model for w2p_auth_event.
+_5_5 """
+_5_6
+_5_7 time_stamp: TypedField[dt.datetime | None]
+_5_8 client_ip: TypedField[str | None]
+_5_9 user_id: TypedField[AuthUser | None]
+_6_0 origin: TypedField[str | None]
+_6_1 description = TextField(notnull=False)
+_6_2
+_6_3
+_6_4def setup_web2py_tables(db: TypeDAL, migrate: bool = False) -> None:
 _6_5 """
-_6_6 db.define(AuthUser, redefine=True, migrate=migrate)
-_6_7 db.define(AuthGroup, rname="w2p_auth_group", redefine=True,
+_6_6 Setup all the (default) web2py required tables.
+_6_7 """
+_6_8 db.define(AuthUser, redefine=True, migrate=migrate)
+_6_9 db.define(AuthGroup, rname="w2p_auth_group", redefine=True,
 migrate=migrate)
-_6_8 db.define(AuthMembership, rname="w2p_auth_membership", redefine=True,
+_7_0 db.define(AuthMembership, rname="w2p_auth_membership", redefine=True,
 migrate=migrate)
-_6_9 db.define(AuthPermission, rname="w2p_auth_permission", redefine=True,
+_7_1 db.define(AuthPermission, rname="w2p_auth_permission", redefine=True,
 migrate=migrate)
-_7_0 db.define(AuthEvent, rname="w2p_auth_event", redefine=True,
+_7_2 db.define(AuthEvent, rname="w2p_auth_event", redefine=True,
 migrate=migrate)
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_helpers_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_helpers_py.html`

 * *Files 1% similar despite different names*

```diff
@@ -50,26 +50,26 @@
                     <p>
                         <kbd>?</kbd> &nbsp; show/hide this help
                     </p>
                 </div>
             </div>
         </aside>
         <h2>
-            <span class="text">80 statements &nbsp;</span>
-            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">80<span class="text"> run</span></button>
+            <span class="text">90 statements &nbsp;</span>
+            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">90<span class="text"> run</span></button>
             <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_for_web2py_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
-            <a id="nextFileLink" class="nav" href="d_18c616467159315a_as_json_py.html">&#xbb; next</a>
+            <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_mixins_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -80,261 +80,285 @@
     </div>
 </header>
 <main id="source">
     <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Helpers that work independently of core.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">io</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">types</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">typing</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">collections</span> <span class="key">import</span> <span class="nam">ChainMap</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">types</span> <span class="key">import</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="nam">T</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"T"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">fnmatch</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">io</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">types</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">import</span> <span class="nam">typing</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">collections</span> <span class="key">import</span> <span class="nam">ChainMap</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="key">from</span> <span class="op">.</span><span class="nam">types</span> <span class="key">import</span> <span class="nam">AnyDict</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="nam">T</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"T"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="key">def</span> <span class="nam">is_union</span><span class="op">(</span><span class="nam">some_type</span><span class="op">:</span> <span class="nam">type</span> <span class="op">|</span> <span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    Check if a type is some type of Union.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">        some_type: types.UnionType = type(int | str); typing.Union = typing.Union[int, str]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">    <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">some_type</span><span class="op">)</span> <span class="key">in</span> <span class="op">(</span><span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">,</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="key">def</span> <span class="nam">is_union</span><span class="op">(</span><span class="nam">some_type</span><span class="op">:</span> <span class="nam">type</span> <span class="op">|</span> <span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">    Check if a type is some type of Union.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">        some_type: types.UnionType = type(int | str); typing.Union = typing.Union[int, str]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">some_type</span><span class="op">)</span> <span class="key">in</span> <span class="op">(</span><span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">,</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="key">def</span> <span class="nam">_all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">ChainMap</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">type</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">    Returns a dictionary-like ChainMap that includes annotations for all \</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">    attributes defined in cls or inherited from superclasses.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="key">def</span> <span class="nam">reversed_mro</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">type</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">    Get the Method Resolution Order (mro) for a class, in reverse order to be used with ChainMap.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="key">return</span> <span class="nam">ChainMap</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">__annotations__</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="str">"__mro__"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span> <span class="key">if</span> <span class="str">"__annotations__"</span> <span class="key">in</span> <span class="nam">c</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="key">return</span> <span class="nam">reversed</span><span class="op">(</span><span class="nam">getattr</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="str">"__mro__"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="key">def</span> <span class="nam">all_dict</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="key">def</span> <span class="nam">_all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">ChainMap</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">type</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="str">    Get the internal data of a class and all it's parents.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="key">return</span> <span class="nam">dict</span><span class="op">(</span><span class="nam">ChainMap</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">__dict__</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">getattr</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="str">"__mro__"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="str">    Returns a dictionary-like ChainMap that includes annotations for all \</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">    attributes defined in cls or inherited from superclasses.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">    <span class="com"># chainmap reverses the iterable, so reverse again beforehand to keep order normally:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="key">def</span> <span class="nam">all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">,</span> <span class="nam">_except</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">type</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="str">    Wrapper around `_all_annotations` that filters away any keys in _except.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t"><span class="str">    It also flattens the ChainMap to a regular dict.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="key">if</span> <span class="nam">_except</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">_except</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="key">return</span> <span class="nam">ChainMap</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">__annotations__</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">reversed_mro</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span> <span class="key">if</span> <span class="str">"__annotations__"</span> <span class="key">in</span> <span class="nam">c</span><span class="op">.</span><span class="nam">__dict__</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t"><span class="key">def</span> <span class="nam">all_dict</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">AnyDict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t"><span class="str">    Get the internal data of a class and all it's parents.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="key">return</span> <span class="nam">dict</span><span class="op">(</span><span class="nam">ChainMap</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">__dict__</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">reversed_mro</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>  <span class="com"># type: ignore</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="nam">_all</span> <span class="op">=</span> <span class="nam">_all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">v</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">_all</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span> <span class="key">if</span> <span class="nam">k</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">_except</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t"><span class="key">def</span> <span class="nam">instanciate</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span> <span class="op">|</span> <span class="nam">T</span><span class="op">,</span> <span class="nam">with_args</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="str">    Create an instance of T (if it is a class).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="str">    If it already is an instance, return it.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t"><span class="str">    If it is a generic (list[int)) create an instance  of the 'origin' (-> list()).</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="str">    If with_args: spread the generic args into the class creation</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t"><span class="str">    (needed for e.g. TypedField(str), but not for list[str])</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="key">if</span> <span class="nam">inner_cls</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">with_args</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">inner_cls</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="key">def</span> <span class="nam">all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">type</span><span class="op">,</span> <span class="nam">_except</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">type</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="str">    Wrapper around `_all_annotations` that filters away any keys in _except.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t"><span class="str">    It also flattens the ChainMap to a regular dict.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="key">if</span> <span class="nam">_except</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="nam">_except</span> <span class="op">=</span> <span class="nam">set</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="nam">_all</span> <span class="op">=</span> <span class="nam">_all_annotations</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">    <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">v</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">_all</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span> <span class="key">if</span> <span class="nam">k</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">_except</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t"><span class="key">def</span> <span class="nam">instanciate</span><span class="op">(</span><span class="nam">cls</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span> <span class="op">|</span> <span class="nam">T</span><span class="op">,</span> <span class="nam">with_args</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">False</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t"><span class="str">    Create an instance of T (if it is a class).</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">args</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">inner_cls</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="str">    If it already is an instance, return it.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t"><span class="str">    If it is a generic (list[int)) create an instance  of the 'origin' (-> list()).</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">cls</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">    <span class="key">return</span> <span class="nam">cls</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t"><span class="key">def</span> <span class="nam">origin_is_subclass</span><span class="op">(</span><span class="nam">obj</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="str">    Check if the origin of a generic is a subclass of _type.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t"><span class="str">    If with_args: spread the generic args into the class creation</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">    (needed for e.g. TypedField(str), but not for list[str])</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">    <span class="key">if</span> <span class="nam">inner_cls</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">with_args</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">            <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">inner_cls</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="nam">args</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">cls</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">inner_cls</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t"><span class="str">    Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t"><span class="str">        origin_is_subclass(list[str], list) -> True</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">        <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">        <span class="key">and</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">        <span class="key">and</span> <span class="nam">issubclass</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="key">return</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">cast</span><span class="op">(</span><span class="nam">T</span><span class="op">,</span> <span class="nam">cls</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="key">return</span> <span class="nam">cls</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t"><span class="key">def</span> <span class="nam">origin_is_subclass</span><span class="op">(</span><span class="nam">obj</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t"><span class="str">    Check if the origin of a generic is a subclass of _type.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t"><span class="key">def</span> <span class="nam">mktable</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">header</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">[</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">|</span> <span class="nam">range</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">skip_first</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t"><span class="str">    Display a table for 'data'.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t"><span class="str">    See Also:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="str">         https://stackoverflow.com/questions/70937491/python-flexible-way-to-format-string-output-into-a-table-without-using-a-non-st</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">    <span class="com"># get max col width</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">    <span class="nam">col_widths</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">map</span><span class="op">(</span><span class="nam">max</span><span class="op">,</span> <span class="nam">zip</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">map</span><span class="op">(</span><span class="key">lambda</span> <span class="nam">x</span><span class="op">:</span> <span class="nam">len</span><span class="op">(</span><span class="nam">str</span><span class="op">(</span><span class="nam">x</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="nam">k</span><span class="op">,</span> <span class="op">*</span><span class="nam">v</span><span class="op">)</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">    <span class="com"># default numeric header if missing</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">header</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">        <span class="nam">header</span> <span class="op">=</span> <span class="nam">range</span><span class="op">(</span><span class="num">1</span><span class="op">,</span> <span class="nam">len</span><span class="op">(</span><span class="nam">col_widths</span><span class="op">)</span> <span class="op">+</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t"><span class="str">    Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t"><span class="str">        origin_is_subclass(list[str], list) -> True</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">    <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">        <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">        <span class="key">and</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">        <span class="key">and</span> <span class="nam">issubclass</span><span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">obj</span><span class="op">)</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t"><span class="key">def</span> <span class="nam">mktable</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">Any</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">,</span> <span class="nam">header</span><span class="op">:</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">[</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Iterable</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">|</span> <span class="nam">range</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">skip_first</span><span class="op">:</span> <span class="nam">bool</span> <span class="op">=</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t"><span class="str">    Display a table for 'data'.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="nam">header_widths</span> <span class="op">=</span> <span class="nam">map</span><span class="op">(</span><span class="key">lambda</span> <span class="nam">x</span><span class="op">:</span> <span class="nam">len</span><span class="op">(</span><span class="nam">str</span><span class="op">(</span><span class="nam">x</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="nam">header</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">    <span class="com"># correct column width if headers are longer</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="nam">col_widths</span> <span class="op">=</span> <span class="op">[</span><span class="nam">max</span><span class="op">(</span><span class="nam">c</span><span class="op">,</span> <span class="nam">h</span><span class="op">)</span> <span class="key">for</span> <span class="nam">c</span><span class="op">,</span> <span class="nam">h</span> <span class="key">in</span> <span class="nam">zip</span><span class="op">(</span><span class="nam">col_widths</span><span class="op">,</span> <span class="nam">header_widths</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">    <span class="com"># create separator line</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">    <span class="nam">line</span> <span class="op">=</span> <span class="str">f"+{'+'.join('-' * (w + 2) for w in col_widths)}+"</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">    <span class="com"># create formating string</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">    <span class="nam">fmt_str</span> <span class="op">=</span> <span class="str">"| %s |"</span> <span class="op">%</span> <span class="str">" | "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="str">f"{{:&lt;{i}}}"</span> <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">col_widths</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">    <span class="nam">output</span> <span class="op">=</span> <span class="nam">io</span><span class="op">.</span><span class="nam">StringIO</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">    <span class="com"># header</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">line</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">fmt_str</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">*</span><span class="nam">header</span><span class="op">)</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">line</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t"><span class="str">    See Also:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t"><span class="str">         https://stackoverflow.com/questions/70937491/python-flexible-way-to-format-string-output-into-a-table-without-using-a-non-st</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="com"># get max col width</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">    <span class="nam">col_widths</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">map</span><span class="op">(</span><span class="nam">max</span><span class="op">,</span> <span class="nam">zip</span><span class="op">(</span><span class="op">*</span><span class="op">(</span><span class="nam">map</span><span class="op">(</span><span class="key">lambda</span> <span class="nam">x</span><span class="op">:</span> <span class="nam">len</span><span class="op">(</span><span class="nam">str</span><span class="op">(</span><span class="nam">x</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="op">(</span><span class="nam">k</span><span class="op">,</span> <span class="op">*</span><span class="nam">v</span><span class="op">)</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">    <span class="com"># default numeric header if missing</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">header</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">        <span class="nam">header</span> <span class="op">=</span> <span class="nam">range</span><span class="op">(</span><span class="num">1</span><span class="op">,</span> <span class="nam">len</span><span class="op">(</span><span class="nam">col_widths</span><span class="op">)</span> <span class="op">+</span> <span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">    <span class="nam">header_widths</span> <span class="op">=</span> <span class="nam">map</span><span class="op">(</span><span class="key">lambda</span> <span class="nam">x</span><span class="op">:</span> <span class="nam">len</span><span class="op">(</span><span class="nam">str</span><span class="op">(</span><span class="nam">x</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="nam">header</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">    <span class="com"># correct column width if headers are longer</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">    <span class="nam">col_widths</span> <span class="op">=</span> <span class="op">[</span><span class="nam">max</span><span class="op">(</span><span class="nam">c</span><span class="op">,</span> <span class="nam">h</span><span class="op">)</span> <span class="key">for</span> <span class="nam">c</span><span class="op">,</span> <span class="nam">h</span> <span class="key">in</span> <span class="nam">zip</span><span class="op">(</span><span class="nam">col_widths</span><span class="op">,</span> <span class="nam">header_widths</span><span class="op">)</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">    <span class="com"># create separator line</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">    <span class="nam">line</span> <span class="op">=</span> <span class="str">f"+{'+'.join('-' * (w + 2) for w in col_widths)}+"</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">    <span class="com"># data</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">    <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">        <span class="nam">values</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">v</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="num">1</span><span class="op">:</span><span class="op">]</span> <span class="key">if</span> <span class="nam">skip_first</span> <span class="key">else</span> <span class="nam">v</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="nam">fmt_str</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="nam">k</span><span class="op">,</span> <span class="op">*</span><span class="nam">values</span><span class="op">)</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">    <span class="com"># footer</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">    <span class="com"># create formating string</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">    <span class="nam">fmt_str</span> <span class="op">=</span> <span class="str">"| %s |"</span> <span class="op">%</span> <span class="str">" | "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="str">f"{{:&lt;{i}}}"</span> <span class="key">for</span> <span class="nam">i</span> <span class="key">in</span> <span class="nam">col_widths</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">    <span class="nam">output</span> <span class="op">=</span> <span class="nam">io</span><span class="op">.</span><span class="nam">StringIO</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">    <span class="com"># header</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">line</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">    <span class="key">return</span> <span class="nam">output</span><span class="op">.</span><span class="nam">getvalue</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">fmt_str</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="op">*</span><span class="nam">header</span><span class="op">)</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">line</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t"><span class="nam">K</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"K"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t"><span class="nam">V</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"V"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">    <span class="com"># data</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">    <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">data</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">        <span class="nam">values</span> <span class="op">=</span> <span class="nam">list</span><span class="op">(</span><span class="nam">v</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="num">1</span><span class="op">:</span><span class="op">]</span> <span class="key">if</span> <span class="nam">skip_first</span> <span class="key">else</span> <span class="nam">v</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="nam">fmt_str</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="nam">k</span><span class="op">,</span> <span class="op">*</span><span class="nam">values</span><span class="op">)</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t"><span class="key">def</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">v</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t"><span class="str">    Returns true if v or v's class is of type _type, including if it is a generic.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t"><span class="str">        assert looks_like([], list)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t"><span class="str">        assert looks_like(list, list)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t"><span class="str">        assert looks_like(list[str], list)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">    <span class="key">return</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span> <span class="key">or</span> <span class="op">(</span><span class="nam">isinstance</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span> <span class="key">and</span> <span class="nam">issubclass</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span><span class="op">)</span> <span class="key">or</span> <span class="nam">origin_is_subclass</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t"><span class="key">def</span> <span class="nam">filter_out</span><span class="op">(</span><span class="nam">mut_dict</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">K</span><span class="op">,</span> <span class="nam">V</span><span class="op">]</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">K</span><span class="op">,</span> <span class="nam">type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t"><span class="str">    Split a dictionary into things matching _type and the rest.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t"><span class="str">    Modifies mut_dict and returns everything of type _type.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">    <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">mut_dict</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">list</span><span class="op">(</span><span class="nam">mut_dict</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">    <span class="com"># footer</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">    <span class="nam">print</span><span class="op">(</span><span class="nam">line</span><span class="op">,</span> <span class="nam">file</span><span class="op">=</span><span class="nam">output</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">    <span class="key">return</span> <span class="nam">output</span><span class="op">.</span><span class="nam">getvalue</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t"><span class="nam">K</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"K"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t"><span class="nam">V</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">TypeVar</span><span class="op">(</span><span class="str">"V"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t"><span class="key">def</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">v</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t"><span class="str">    Returns true if v or v's class is of type _type, including if it is a generic.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t"><span class="str">        assert looks_like([], list)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t"><span class="str">        assert looks_like(list, list)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t"><span class="str">        assert looks_like(list[str], list)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">    <span class="key">return</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span> <span class="key">or</span> <span class="op">(</span><span class="nam">isinstance</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">type</span><span class="op">)</span> <span class="key">and</span> <span class="nam">issubclass</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span><span class="op">)</span> <span class="key">or</span> <span class="nam">origin_is_subclass</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t"><span class="key">def</span> <span class="nam">unwrap_type</span><span class="op">(</span><span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">type</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t"><span class="str">    Get the inner type of a generic.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t"><span class="str">    Example:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t"><span class="str">        list[list[str]] -> str</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t"><span class="key">def</span> <span class="nam">filter_out</span><span class="op">(</span><span class="nam">mut_dict</span><span class="op">:</span> <span class="nam">dict</span><span class="op">[</span><span class="nam">K</span><span class="op">,</span> <span class="nam">V</span><span class="op">]</span><span class="op">,</span> <span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">[</span><span class="nam">K</span><span class="op">,</span> <span class="nam">type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t"><span class="str">    Split a dictionary into things matching _type and the rest.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t"><span class="str">    Modifies mut_dict and returns everything of type _type.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">    <span class="key">while</span> <span class="nam">args</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">_type</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">        <span class="nam">_type</span> <span class="op">=</span> <span class="nam">args</span><span class="op">[</span><span class="num">0</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">    <span class="key">return</span> <span class="nam">_type</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t"><span class="op">@</span><span class="nam">typing</span><span class="op">.</span><span class="nam">overload</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t"><span class="str">    T -> T is not exactly right because you'll get the inner type, but mypy seems happy with this.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">    <span class="key">return</span> <span class="op">{</span><span class="nam">k</span><span class="op">:</span> <span class="nam">mut_dict</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="nam">k</span><span class="op">)</span> <span class="key">for</span> <span class="nam">k</span><span class="op">,</span> <span class="nam">v</span> <span class="key">in</span> <span class="nam">list</span><span class="op">(</span><span class="nam">mut_dict</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">looks_like</span><span class="op">(</span><span class="nam">v</span><span class="op">,</span> <span class="nam">_type</span><span class="op">)</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t"><span class="key">def</span> <span class="nam">unwrap_type</span><span class="op">(</span><span class="nam">_type</span><span class="op">:</span> <span class="nam">type</span><span class="op">)</span> <span class="op">-></span> <span class="nam">type</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t"><span class="str">    Get the inner type of a generic.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t"><span class="str">    Example:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t"><span class="str">        list[list[str]] -> str</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t"><span class="op">@</span><span class="nam">typing</span><span class="op">.</span><span class="nam">overload</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="key">None</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t"><span class="str">    None leads to None, False.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="nam">T</span> <span class="op">|</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">T</span> <span class="op">|</span> <span class="key">None</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t"><span class="str">    Given an annotation, extract the actual type and whether it is optional.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t">    <span class="key">if</span> <span class="nam">annotation</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t193" href="#t193">193</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span><span class="op">,</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t194" href="#t194">194</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t195" href="#t195">195</a></span><span class="t">    <span class="key">if</span> <span class="nam">origin</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">annotation</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t196" href="#t196">196</a></span><span class="t">        <span class="nam">args</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">annotation</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">    <span class="key">while</span> <span class="nam">args</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">_type</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">        <span class="nam">_type</span> <span class="op">=</span> <span class="nam">args</span><span class="op">[</span><span class="num">0</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">    <span class="key">return</span> <span class="nam">_type</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t"><span class="op">@</span><span class="nam">typing</span><span class="op">.</span><span class="nam">overload</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">T</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t"><span class="str">    T -> T is not exactly right because you'll get the inner type, but mypy seems happy with this.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t"><span class="op">@</span><span class="nam">typing</span><span class="op">.</span><span class="nam">overload</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="key">None</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t193" href="#t193">193</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t194" href="#t194">194</a></span><span class="t"><span class="str">    None leads to None, False.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t195" href="#t195">195</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t196" href="#t196">196</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t197" href="#t197">197</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t198" href="#t198">198</a></span><span class="t">        <span class="key">if</span> <span class="nam">origin</span> <span class="key">in</span> <span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">,</span> <span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">,</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">)</span> <span class="key">and</span> <span class="nam">args</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t199" href="#t199">199</a></span><span class="t">            <span class="com"># remove None:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t200" href="#t200">200</a></span><span class="t">            <span class="key">return</span> <span class="nam">next</span><span class="op">(</span><span class="nam">_</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">args</span> <span class="key">if</span> <span class="nam">_</span> <span class="key">and</span> <span class="nam">_</span> <span class="op">!=</span> <span class="nam">types</span><span class="op">.</span><span class="nam">NoneType</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">_</span><span class="op">,</span> <span class="nam">types</span><span class="op">.</span><span class="nam">NoneType</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t201" href="#t201">201</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t202" href="#t202">202</a></span><span class="t">    <span class="key">return</span> <span class="nam">annotation</span><span class="op">,</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t203" href="#t203">203</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t198" href="#t198">198</a></span><span class="t"><span class="key">def</span> <span class="nam">extract_type_optional</span><span class="op">(</span><span class="nam">annotation</span><span class="op">:</span> <span class="nam">T</span> <span class="op">|</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">T</span> <span class="op">|</span> <span class="key">None</span><span class="op">,</span> <span class="nam">bool</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t199" href="#t199">199</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t200" href="#t200">200</a></span><span class="t"><span class="str">    Given an annotation, extract the actual type and whether it is optional.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t201" href="#t201">201</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t202" href="#t202">202</a></span><span class="t">    <span class="key">if</span> <span class="nam">annotation</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t203" href="#t203">203</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span><span class="op">,</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t204" href="#t204">204</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t205" href="#t205">205</a></span><span class="t"><span class="key">def</span> <span class="nam">to_snake</span><span class="op">(</span><span class="nam">camel</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t206" href="#t206">206</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t207" href="#t207">207</a></span><span class="t"><span class="str">    Convert CamelCase to snake_case.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t208" href="#t208">208</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t209" href="#t209">209</a></span><span class="t"><span class="str">    See Also:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t210" href="#t210">210</a></span><span class="t"><span class="str">        https://stackoverflow.com/a/44969381</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t211" href="#t211">211</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t212" href="#t212">212</a></span><span class="t">    <span class="key">return</span> <span class="str">""</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="str">f"_{c.lower()}"</span> <span class="key">if</span> <span class="nam">c</span><span class="op">.</span><span class="nam">isupper</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="nam">c</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">camel</span><span class="op">]</span><span class="op">)</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">"_"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t205" href="#t205">205</a></span><span class="t">    <span class="key">if</span> <span class="nam">origin</span> <span class="op">:=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_origin</span><span class="op">(</span><span class="nam">annotation</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t206" href="#t206">206</a></span><span class="t">        <span class="nam">args</span> <span class="op">=</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">get_args</span><span class="op">(</span><span class="nam">annotation</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t207" href="#t207">207</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t208" href="#t208">208</a></span><span class="t">        <span class="key">if</span> <span class="nam">origin</span> <span class="key">in</span> <span class="op">(</span><span class="nam">typing</span><span class="op">.</span><span class="nam">Union</span><span class="op">,</span> <span class="nam">types</span><span class="op">.</span><span class="nam">UnionType</span><span class="op">,</span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Optional</span><span class="op">)</span> <span class="key">and</span> <span class="nam">args</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t209" href="#t209">209</a></span><span class="t">            <span class="com"># remove None:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t210" href="#t210">210</a></span><span class="t">            <span class="key">return</span> <span class="nam">next</span><span class="op">(</span><span class="nam">_</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">args</span> <span class="key">if</span> <span class="nam">_</span> <span class="key">and</span> <span class="nam">_</span> <span class="op">!=</span> <span class="nam">types</span><span class="op">.</span><span class="nam">NoneType</span> <span class="key">and</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">_</span><span class="op">,</span> <span class="nam">types</span><span class="op">.</span><span class="nam">NoneType</span><span class="op">)</span><span class="op">)</span><span class="op">,</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t211" href="#t211">211</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t212" href="#t212">212</a></span><span class="t">    <span class="key">return</span> <span class="nam">annotation</span><span class="op">,</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t213" href="#t213">213</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t214" href="#t214">214</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t215" href="#t215">215</a></span><span class="t"><span class="key">class</span> <span class="nam">DummyQuery</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t215" href="#t215">215</a></span><span class="t"><span class="key">def</span> <span class="nam">to_snake</span><span class="op">(</span><span class="nam">camel</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t216" href="#t216">216</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t217" href="#t217">217</a></span><span class="t"><span class="str">    Placeholder to &amp;= and |= actual query parts.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t218" href="#t218">218</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t219" href="#t219">219</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t220" href="#t220">220</a></span><span class="t">    <span class="key">def</span> <span class="nam">__or__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">other</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t221" href="#t221">221</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t222" href="#t222">222</a></span><span class="t"><span class="str">        For 'or': DummyQuery | Other == Other.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t223" href="#t223">223</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t224" href="#t224">224</a></span><span class="t">        <span class="key">return</span> <span class="nam">other</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t225" href="#t225">225</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t226" href="#t226">226</a></span><span class="t">    <span class="key">def</span> <span class="nam">__and__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">other</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t227" href="#t227">227</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t228" href="#t228">228</a></span><span class="t"><span class="str">        For 'and': DummyQuery &amp; Other == Other.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t229" href="#t229">229</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t230" href="#t230">230</a></span><span class="t">        <span class="key">return</span> <span class="nam">other</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t231" href="#t231">231</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t232" href="#t232">232</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t233" href="#t233">233</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t234" href="#t234">234</a></span><span class="t"><span class="str">        A dummy query is falsey, since it can't actually be used!</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t235" href="#t235">235</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t236" href="#t236">236</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t237" href="#t237">237</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t238" href="#t238">238</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t239" href="#t239">239</a></span><span class="t"><span class="key">def</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">value</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">...</span><span class="op">,</span> <span class="nam">T</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t240" href="#t240">240</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t241" href="#t241">241</a></span><span class="t"><span class="str">    Wrap value in a callable.</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t242" href="#t242">242</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t243" href="#t243">243</a></span><span class="t">    <span class="key">return</span> <span class="key">lambda</span> <span class="op">*</span><span class="nam">_</span><span class="op">,</span> <span class="op">**</span><span class="nam">__</span><span class="op">:</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t217" href="#t217">217</a></span><span class="t"><span class="str">    Convert CamelCase to snake_case.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t218" href="#t218">218</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t219" href="#t219">219</a></span><span class="t"><span class="str">    See Also:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t220" href="#t220">220</a></span><span class="t"><span class="str">        https://stackoverflow.com/a/44969381</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t221" href="#t221">221</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t222" href="#t222">222</a></span><span class="t">    <span class="key">return</span> <span class="str">""</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="op">[</span><span class="str">f"_{c.lower()}"</span> <span class="key">if</span> <span class="nam">c</span><span class="op">.</span><span class="nam">isupper</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="nam">c</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">camel</span><span class="op">]</span><span class="op">)</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">"_"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t223" href="#t223">223</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t224" href="#t224">224</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t225" href="#t225">225</a></span><span class="t"><span class="key">class</span> <span class="nam">DummyQuery</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t226" href="#t226">226</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t227" href="#t227">227</a></span><span class="t"><span class="str">    Placeholder to &amp;= and |= actual query parts.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t228" href="#t228">228</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t229" href="#t229">229</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t230" href="#t230">230</a></span><span class="t">    <span class="key">def</span> <span class="nam">__or__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">other</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t231" href="#t231">231</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t232" href="#t232">232</a></span><span class="t"><span class="str">        For 'or': DummyQuery | Other == Other.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t233" href="#t233">233</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t234" href="#t234">234</a></span><span class="t">        <span class="key">return</span> <span class="nam">other</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t235" href="#t235">235</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t236" href="#t236">236</a></span><span class="t">    <span class="key">def</span> <span class="nam">__and__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">other</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t237" href="#t237">237</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t238" href="#t238">238</a></span><span class="t"><span class="str">        For 'and': DummyQuery &amp; Other == Other.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t239" href="#t239">239</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t240" href="#t240">240</a></span><span class="t">        <span class="key">return</span> <span class="nam">other</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t241" href="#t241">241</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t242" href="#t242">242</a></span><span class="t">    <span class="key">def</span> <span class="nam">__bool__</span><span class="op">(</span><span class="nam">self</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t243" href="#t243">243</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t244" href="#t244">244</a></span><span class="t"><span class="str">        A dummy query is falsey, since it can't actually be used!</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t245" href="#t245">245</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t246" href="#t246">246</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t247" href="#t247">247</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t248" href="#t248">248</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t249" href="#t249">249</a></span><span class="t"><span class="key">def</span> <span class="nam">as_lambda</span><span class="op">(</span><span class="nam">value</span><span class="op">:</span> <span class="nam">T</span><span class="op">)</span> <span class="op">-></span> <span class="nam">typing</span><span class="op">.</span><span class="nam">Callable</span><span class="op">[</span><span class="op">...</span><span class="op">,</span> <span class="nam">T</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t250" href="#t250">250</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t251" href="#t251">251</a></span><span class="t"><span class="str">    Wrap value in a callable.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t252" href="#t252">252</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t253" href="#t253">253</a></span><span class="t">    <span class="key">return</span> <span class="key">lambda</span> <span class="op">*</span><span class="nam">_</span><span class="op">,</span> <span class="op">**</span><span class="nam">__</span><span class="op">:</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t254" href="#t254">254</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t255" href="#t255">255</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t256" href="#t256">256</a></span><span class="t"><span class="key">def</span> <span class="nam">match_strings</span><span class="op">(</span><span class="nam">patterns</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">|</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">string_list</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t257" href="#t257">257</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t258" href="#t258">258</a></span><span class="t"><span class="str">    Glob but on a list of strings.</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t259" href="#t259">259</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t260" href="#t260">260</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">patterns</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t261" href="#t261">261</a></span><span class="t">        <span class="nam">patterns</span> <span class="op">=</span> <span class="op">[</span><span class="nam">patterns</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t262" href="#t262">262</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t263" href="#t263">263</a></span><span class="t">    <span class="nam">matches</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t264" href="#t264">264</a></span><span class="t">    <span class="key">for</span> <span class="nam">pattern</span> <span class="key">in</span> <span class="nam">patterns</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t265" href="#t265">265</a></span><span class="t">        <span class="nam">matches</span><span class="op">.</span><span class="nam">extend</span><span class="op">(</span><span class="op">[</span><span class="nam">s</span> <span class="key">for</span> <span class="nam">s</span> <span class="key">in</span> <span class="nam">string_list</span> <span class="key">if</span> <span class="nam">fnmatch</span><span class="op">.</span><span class="nam">fnmatch</span><span class="op">(</span><span class="nam">s</span><span class="op">,</span> <span class="nam">pattern</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t266" href="#t266">266</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t267" href="#t267">267</a></span><span class="t">    <span class="key">return</span> <span class="nam">matches</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_for_web2py_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
-            <a id="nextFileLink" class="nav" href="d_18c616467159315a_as_json_py.html">&#xbb; next</a>
+            <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_mixins_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -4,268 +4,296 @@
 r m x  toggle line displays
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
-********** 8800 ssttaatteemmeennttss ? 8800 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+********** 9900 ssttaatteemmeennttss ? 9900 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2Helpers that work independently of core.
 _3"""
 _4
-_5import io
-_6import types
-_7import typing
-_8from collections import ChainMap
-_9from typing import Any
-_1_0
-_1_1from .types import AnyDict
-_1_2
-_1_3T = typing.TypeVar("T")
-_1_4
+_5import fnmatch
+_6import io
+_7import types
+_8import typing
+_9from collections import ChainMap
+_1_0from typing import Any
+_1_1
+_1_2from .types import AnyDict
+_1_3
+_1_4T = typing.TypeVar("T")
 _1_5
-_1_6def is_union(some_type: type | types.UnionType) -> bool:
-_1_7 """
-_1_8 Check if a type is some type of Union.
-_1_9
-_2_0 Args:
-_2_1 some_type: types.UnionType = type(int | str); typing.Union = typing.Union
+_1_6
+_1_7def is_union(some_type: type | types.UnionType) -> bool:
+_1_8 """
+_1_9 Check if a type is some type of Union.
+_2_0
+_2_1 Args:
+_2_2 some_type: types.UnionType = type(int | str); typing.Union = typing.Union
 [int, str]
-_2_2
-_2_3 """
-_2_4 return typing.get_origin(some_type) in (types.UnionType, typing.Union)
-_2_5
+_2_3
+_2_4 """
+_2_5 return typing.get_origin(some_type) in (types.UnionType, typing.Union)
 _2_6
-_2_7def _all_annotations(cls: type) -> ChainMap[str, type]:
-_2_8 """
-_2_9 Returns a dictionary-like ChainMap that includes annotations for all \
-_3_0 attributes defined in cls or inherited from superclasses.
+_2_7
+_2_8def reversed_mro(cls: type) -> typing.Iterable[type]:
+_2_9 """
+_3_0 Get the Method Resolution Order (mro) for a class, in reverse order to be
+used with ChainMap.
 _3_1 """
-_3_2 return ChainMap(*(c.__annotations__ for c in getattr(cls, "__mro__", []) if
-"__annotations__" in c.__dict__))
+_3_2 return reversed(getattr(cls, "__mro__", []))
 _3_3
 _3_4
-_3_5def all_dict(cls: type) -> AnyDict:
+_3_5def _all_annotations(cls: type) -> ChainMap[str, type]:
 _3_6 """
-_3_7 Get the internal data of a class and all it's parents.
-_3_8 """
-_3_9 return dict(ChainMap(*(c.__dict__ for c in getattr(cls, "__mro__", []))))
-_4_0
+_3_7 Returns a dictionary-like ChainMap that includes annotations for all \
+_3_8 attributes defined in cls or inherited from superclasses.
+_3_9 """
+_4_0 # chainmap reverses the iterable, so reverse again beforehand to keep order
+normally:
 _4_1
-_4_2def all_annotations(cls: type, _except: typing.Iterable[str] = None) -> dict
-[str, type]:
-_4_3 """
-_4_4 Wrapper around `_all_annotations` that filters away any keys in _except.
-_4_5
-_4_6 It also flattens the ChainMap to a regular dict.
-_4_7 """
-_4_8 if _except is None:
-_4_9 _except = set()
+_4_2 return ChainMap(*(c.__annotations__ for c in reversed_mro(cls) if
+"__annotations__" in c.__dict__))
+_4_3
+_4_4
+_4_5def all_dict(cls: type) -> AnyDict:
+_4_6 """
+_4_7 Get the internal data of a class and all it's parents.
+_4_8 """
+_4_9 return dict(ChainMap(*(c.__dict__ for c in reversed_mro(cls)))) # type:
+ignore
 _5_0
-_5_1 _all = _all_annotations(cls)
-_5_2 return {k: v for k, v in _all.items() if k not in _except}
-_5_3
-_5_4
-_5_5def instanciate(cls: typing.Type[T] | T, with_args: bool = False) -> T:
-_5_6 """
-_5_7 Create an instance of T (if it is a class).
-_5_8
-_5_9 If it already is an instance, return it.
-_6_0 If it is a generic (list[int)) create an instance of the 'origin' (-> list
-()).
-_6_1
-_6_2 If with_args: spread the generic args into the class creation
-_6_3 (needed for e.g. TypedField(str), but not for list[str])
-_6_4 """
-_6_5 if inner_cls := typing.get_origin(cls):
-_6_6 if not with_args:
-_6_7 return typing.cast(T, inner_cls())
+_5_1
+_5_2def all_annotations(cls: type, _except: typing.Iterable[str] = None) -> dict
+[str, type]:
+_5_3 """
+_5_4 Wrapper around `_all_annotations` that filters away any keys in _except.
+_5_5
+_5_6 It also flattens the ChainMap to a regular dict.
+_5_7 """
+_5_8 if _except is None:
+_5_9 _except = set()
+_6_0
+_6_1 _all = _all_annotations(cls)
+_6_2 return {k: v for k, v in _all.items() if k not in _except}
+_6_3
+_6_4
+_6_5def instanciate(cls: typing.Type[T] | T, with_args: bool = False) -> T:
+_6_6 """
+_6_7 Create an instance of T (if it is a class).
 _6_8
-_6_9 args = typing.get_args(cls)
-_7_0 return typing.cast(T, inner_cls(*args))
+_6_9 If it already is an instance, return it.
+_7_0 If it is a generic (list[int)) create an instance of the 'origin' (-> list
+()).
 _7_1
-_7_2 if isinstance(cls, type):
-_7_3 return typing.cast(T, cls())
-_7_4
-_7_5 return cls
-_7_6
-_7_7
-_7_8def origin_is_subclass(obj: Any, _type: type) -> bool:
-_7_9 """
-_8_0 Check if the origin of a generic is a subclass of _type.
+_7_2 If with_args: spread the generic args into the class creation
+_7_3 (needed for e.g. TypedField(str), but not for list[str])
+_7_4 """
+_7_5 if inner_cls := typing.get_origin(cls):
+_7_6 if not with_args:
+_7_7 return typing.cast(T, inner_cls())
+_7_8
+_7_9 args = typing.get_args(cls)
+_8_0 return typing.cast(T, inner_cls(*args))
 _8_1
-_8_2 Example:
-_8_3 origin_is_subclass(list[str], list) -> True
-_8_4 """
-_8_5 return bool(
-_8_6 typing.get_origin(obj)
-_8_7 and isinstance(typing.get_origin(obj), type)
-_8_8 and issubclass(typing.get_origin(obj), _type)
-_8_9 )
-_9_0
+_8_2 if isinstance(cls, type):
+_8_3 return typing.cast(T, cls())
+_8_4
+_8_5 return cls
+_8_6
+_8_7
+_8_8def origin_is_subclass(obj: Any, _type: type) -> bool:
+_8_9 """
+_9_0 Check if the origin of a generic is a subclass of _type.
 _9_1
-_9_2def mktable(
-_9_3 data: dict[Any, Any], header: typing.Optional[typing.Iterable[str] | range]
+_9_2 Example:
+_9_3 origin_is_subclass(list[str], list) -> True
+_9_4 """
+_9_5 return bool(
+_9_6 typing.get_origin(obj)
+_9_7 and isinstance(typing.get_origin(obj), type)
+_9_8 and issubclass(typing.get_origin(obj), _type)
+_9_9 )
+_1_0_0
+_1_0_1
+_1_0_2def mktable(
+_1_0_3 data: dict[Any, Any], header: typing.Optional[typing.Iterable[str] | range]
 = None, skip_first: bool = True
-_9_4) -> str:
-_9_5 """
-_9_6 Display a table for 'data'.
-_9_7
-_9_8 See Also:
-_9_9 https://stackoverflow.com/questions/70937491/python-flexible-way-to-format-
+_1_0_4) -> str:
+_1_0_5 """
+_1_0_6 Display a table for 'data'.
+_1_0_7
+_1_0_8 See Also:
+_1_0_9 https://stackoverflow.com/questions/70937491/python-flexible-way-to-format-
 string-output-into-a-table-without-using-a-non-st
-_1_0_0 """
-_1_0_1 # get max col width
-_1_0_2 col_widths: list[int] = list(map(max, zip(*(map(lambda x: len(str(x)), (k,
+_1_1_0 """
+_1_1_1 # get max col width
+_1_1_2 col_widths: list[int] = list(map(max, zip(*(map(lambda x: len(str(x)), (k,
 *v)) for k, v in data.items()))))
-_1_0_3
-_1_0_4 # default numeric header if missing
-_1_0_5 if not header:
-_1_0_6 header = range(1, len(col_widths) + 1)
-_1_0_7
-_1_0_8 header_widths = map(lambda x: len(str(x)), header)
-_1_0_9
-_1_1_0 # correct column width if headers are longer
-_1_1_1 col_widths = [max(c, h) for c, h in zip(col_widths, header_widths)]
-_1_1_2
-_1_1_3 # create separator line
-_1_1_4 line = f"+{'+'.join('-' * (w + 2) for w in col_widths)}+"
-_1_1_5
-_1_1_6 # create formating string
-_1_1_7 fmt_str = "| %s |" % " | ".join(f"{{:<{i}}}" for i in col_widths)
-_1_1_8
-_1_1_9 output = io.StringIO()
-_1_2_0 # header
-_1_2_1 print()
-_1_2_2 print(line, file=output)
-_1_2_3 print(fmt_str.format(*header), file=output)
-_1_2_4 print(line, file=output)
+_1_1_3
+_1_1_4 # default numeric header if missing
+_1_1_5 if not header:
+_1_1_6 header = range(1, len(col_widths) + 1)
+_1_1_7
+_1_1_8 header_widths = map(lambda x: len(str(x)), header)
+_1_1_9
+_1_2_0 # correct column width if headers are longer
+_1_2_1 col_widths = [max(c, h) for c, h in zip(col_widths, header_widths)]
+_1_2_2
+_1_2_3 # create separator line
+_1_2_4 line = f"+{'+'.join('-' * (w + 2) for w in col_widths)}+"
 _1_2_5
-_1_2_6 # data
-_1_2_7 for k, v in data.items():
-_1_2_8 values = list(v.values())[1:] if skip_first else v.values()
-_1_2_9 print(fmt_str.format(k, *values), file=output)
-_1_3_0
-_1_3_1 # footer
+_1_2_6 # create formating string
+_1_2_7 fmt_str = "| %s |" % " | ".join(f"{{:<{i}}}" for i in col_widths)
+_1_2_8
+_1_2_9 output = io.StringIO()
+_1_3_0 # header
+_1_3_1 print()
 _1_3_2 print(line, file=output)
-_1_3_3
-_1_3_4 return output.getvalue()
+_1_3_3 print(fmt_str.format(*header), file=output)
+_1_3_4 print(line, file=output)
 _1_3_5
-_1_3_6
-_1_3_7K = typing.TypeVar("K")
-_1_3_8V = typing.TypeVar("V")
-_1_3_9
+_1_3_6 # data
+_1_3_7 for k, v in data.items():
+_1_3_8 values = list(v.values())[1:] if skip_first else v.values()
+_1_3_9 print(fmt_str.format(k, *values), file=output)
 _1_4_0
-_1_4_1def looks_like(v: Any, _type: type[Any]) -> bool:
-_1_4_2 """
-_1_4_3 Returns true if v or v's class is of type _type, including if it is a
+_1_4_1 # footer
+_1_4_2 print(line, file=output)
+_1_4_3
+_1_4_4 return output.getvalue()
+_1_4_5
+_1_4_6
+_1_4_7K = typing.TypeVar("K")
+_1_4_8V = typing.TypeVar("V")
+_1_4_9
+_1_5_0
+_1_5_1def looks_like(v: Any, _type: type[Any]) -> bool:
+_1_5_2 """
+_1_5_3 Returns true if v or v's class is of type _type, including if it is a
 generic.
-_1_4_4
-_1_4_5 Examples:
-_1_4_6 assert looks_like([], list)
-_1_4_7 assert looks_like(list, list)
-_1_4_8 assert looks_like(list[str], list)
-_1_4_9 """
-_1_5_0 return isinstance(v, _type) or (isinstance(v, type) and issubclass(v,
+_1_5_4
+_1_5_5 Examples:
+_1_5_6 assert looks_like([], list)
+_1_5_7 assert looks_like(list, list)
+_1_5_8 assert looks_like(list[str], list)
+_1_5_9 """
+_1_6_0 return isinstance(v, _type) or (isinstance(v, type) and issubclass(v,
 _type)) or origin_is_subclass(v, _type)
-_1_5_1
-_1_5_2
-_1_5_3def filter_out(mut_dict: dict[K, V], _type: type[T]) -> dict[K, type[T]]:
-_1_5_4 """
-_1_5_5 Split a dictionary into things matching _type and the rest.
-_1_5_6
-_1_5_7 Modifies mut_dict and returns everything of type _type.
-_1_5_8 """
-_1_5_9 return {k: mut_dict.pop(k) for k, v in list(mut_dict.items()) if looks_like
-(v, _type)}
-_1_6_0
 _1_6_1
-_1_6_2def unwrap_type(_type: type) -> type:
-_1_6_3 """
-_1_6_4 Get the inner type of a generic.
-_1_6_5
-_1_6_6 Example:
-_1_6_7 list[list[str]] -> str
+_1_6_2
+_1_6_3def filter_out(mut_dict: dict[K, V], _type: type[T]) -> dict[K, type[T]]:
+_1_6_4 """
+_1_6_5 Split a dictionary into things matching _type and the rest.
+_1_6_6
+_1_6_7 Modifies mut_dict and returns everything of type _type.
 _1_6_8 """
-_1_6_9 while args := typing.get_args(_type):
-_1_7_0 _type = args[0]
-_1_7_1 return _type
-_1_7_2
-_1_7_3
-_1_7_4@typing.overload
-_1_7_5def extract_type_optional(annotation: T) -> tuple[T, bool]:
-_1_7_6 """
-_1_7_7 T -> T is not exactly right because you'll get the inner type, but mypy
-seems happy with this.
+_1_6_9 return {k: mut_dict.pop(k) for k, v in list(mut_dict.items()) if looks_like
+(v, _type)}
+_1_7_0
+_1_7_1
+_1_7_2def unwrap_type(_type: type) -> type:
+_1_7_3 """
+_1_7_4 Get the inner type of a generic.
+_1_7_5
+_1_7_6 Example:
+_1_7_7 list[list[str]] -> str
 _1_7_8 """
-_1_7_9
-_1_8_0
-_1_8_1@typing.overload
-_1_8_2def extract_type_optional(annotation: None) -> tuple[None, bool]:
-_1_8_3 """
-_1_8_4 None leads to None, False.
-_1_8_5 """
-_1_8_6
-_1_8_7
-_1_8_8def extract_type_optional(annotation: T | None) -> tuple[T | None, bool]:
-_1_8_9 """
-_1_9_0 Given an annotation, extract the actual type and whether it is optional.
-_1_9_1 """
-_1_9_2 if annotation is None:
-_1_9_3 return None, False
-_1_9_4
-_1_9_5 if origin := typing.get_origin(annotation):
-_1_9_6 args = typing.get_args(annotation)
+_1_7_9 while args := typing.get_args(_type):
+_1_8_0 _type = args[0]
+_1_8_1 return _type
+_1_8_2
+_1_8_3
+_1_8_4@typing.overload
+_1_8_5def extract_type_optional(annotation: T) -> tuple[T, bool]:
+_1_8_6 """
+_1_8_7 T -> T is not exactly right because you'll get the inner type, but mypy
+seems happy with this.
+_1_8_8 """
+_1_8_9
+_1_9_0
+_1_9_1@typing.overload
+_1_9_2def extract_type_optional(annotation: None) -> tuple[None, bool]:
+_1_9_3 """
+_1_9_4 None leads to None, False.
+_1_9_5 """
+_1_9_6
 _1_9_7
-_1_9_8 if origin in (typing.Union, types.UnionType, typing.Optional) and args:
-_1_9_9 # remove None:
-_2_0_0 return next(_ for _ in args if _ and _ != types.NoneType and not isinstance
-(_, types.NoneType)), True
-_2_0_1
-_2_0_2 return annotation, False
-_2_0_3
+_1_9_8def extract_type_optional(annotation: T | None) -> tuple[T | None, bool]:
+_1_9_9 """
+_2_0_0 Given an annotation, extract the actual type and whether it is optional.
+_2_0_1 """
+_2_0_2 if annotation is None:
+_2_0_3 return None, False
 _2_0_4
-_2_0_5def to_snake(camel: str) -> str:
-_2_0_6 """
-_2_0_7 Convert CamelCase to snake_case.
-_2_0_8
-_2_0_9 See Also:
-_2_1_0 https://stackoverflow.com/a/44969381
-_2_1_1 """
-_2_1_2 return "".join([f"_{c.lower()}" if c.isupper() else c for c in
-camel]).lstrip("_")
+_2_0_5 if origin := typing.get_origin(annotation):
+_2_0_6 args = typing.get_args(annotation)
+_2_0_7
+_2_0_8 if origin in (typing.Union, types.UnionType, typing.Optional) and args:
+_2_0_9 # remove None:
+_2_1_0 return next(_ for _ in args if _ and _ != types.NoneType and not isinstance
+(_, types.NoneType)), True
+_2_1_1
+_2_1_2 return annotation, False
 _2_1_3
 _2_1_4
-_2_1_5class DummyQuery:
+_2_1_5def to_snake(camel: str) -> str:
 _2_1_6 """
-_2_1_7 Placeholder to &= and |= actual query parts.
-_2_1_8 """
-_2_1_9
-_2_2_0 def __or__(self, other: T) -> T:
+_2_1_7 Convert CamelCase to snake_case.
+_2_1_8
+_2_1_9 See Also:
+_2_2_0 https://stackoverflow.com/a/44969381
 _2_2_1 """
-_2_2_2 For 'or': DummyQuery | Other == Other.
-_2_2_3 """
-_2_2_4 return other
-_2_2_5
-_2_2_6 def __and__(self, other: T) -> T:
-_2_2_7 """
-_2_2_8 For 'and': DummyQuery & Other == Other.
-_2_2_9 """
-_2_3_0 return other
-_2_3_1
-_2_3_2 def __bool__(self) -> bool:
+_2_2_2 return "".join([f"_{c.lower()}" if c.isupper() else c for c in
+camel]).lstrip("_")
+_2_2_3
+_2_2_4
+_2_2_5class DummyQuery:
+_2_2_6 """
+_2_2_7 Placeholder to &= and |= actual query parts.
+_2_2_8 """
+_2_2_9
+_2_3_0 def __or__(self, other: T) -> T:
+_2_3_1 """
+_2_3_2 For 'or': DummyQuery | Other == Other.
 _2_3_3 """
-_2_3_4 A dummy query is falsey, since it can't actually be used!
-_2_3_5 """
-_2_3_6 return False
-_2_3_7
-_2_3_8
-_2_3_9def as_lambda(value: T) -> typing.Callable[..., T]:
-_2_4_0 """
-_2_4_1 Wrap value in a callable.
-_2_4_2 """
-_2_4_3 return lambda *_, **__: value
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+_2_3_4 return other
+_2_3_5
+_2_3_6 def __and__(self, other: T) -> T:
+_2_3_7 """
+_2_3_8 For 'and': DummyQuery & Other == Other.
+_2_3_9 """
+_2_4_0 return other
+_2_4_1
+_2_4_2 def __bool__(self) -> bool:
+_2_4_3 """
+_2_4_4 A dummy query is falsey, since it can't actually be used!
+_2_4_5 """
+_2_4_6 return False
+_2_4_7
+_2_4_8
+_2_4_9def as_lambda(value: T) -> typing.Callable[..., T]:
+_2_5_0 """
+_2_5_1 Wrap value in a callable.
+_2_5_2 """
+_2_5_3 return lambda *_, **__: value
+_2_5_4
+_2_5_5
+_2_5_6def match_strings(patterns: list[str] | str, string_list: list[str]) -> list
+[str]:
+_2_5_7 """
+_2_5_8 Glob but on a list of strings.
+_2_5_9 """
+_2_6_0 if isinstance(patterns, str):
+_2_6_1 patterns = [patterns]
+_2_6_2
+_2_6_3 matches = []
+_2_6_4 for pattern in patterns:
+_2_6_5 matches.extend([s for s in string_list if fnmatch.fnmatch(s, pattern)])
+_2_6_6
+_2_6_7 return matches
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_types_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_types_py.html`

 * *Files 0% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_18c616467159315a_as_json_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_web2py_py4web_shared_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -251,14 +251,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_18c616467159315a_as_json_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_web2py_py4web_shared_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 6644 ssttaatteemmeennttss ? 6644 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
 _1"""
 _2Stuff to make mypy happy.
 _3"""
 _4
 _5import typing
 _6from datetime import datetime
 _7from typing import Any, Optional, TypedDict
@@ -175,9 +175,9 @@
 _1_6_1
 _1_6_2 final_query: NotRequired[Query | str | None]
 _1_6_3 final_args: NotRequired[list[Any]]
 _1_6_4 final_kwargs: NotRequired[AnyDict]
 _1_6_5 relationships: NotRequired[set[str]]
 _1_6_6
 _1_6_7 sql: NotRequired[str]
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
```

### Comparing `typedal-3.0.1/htmlcov/d_0ccc93afd6526b6c_web2py_py4web_shared_py.html` & `typedal-3.1.0/htmlcov/d_0ccc93afd6526b6c_web2py_py4web_shared_py.html`

 * *Files 1% similar despite different names*

```diff
@@ -50,26 +50,26 @@
                     <p>
                         <kbd>?</kbd> &nbsp; show/hide this help
                     </p>
                 </div>
             </div>
         </aside>
         <h2>
-            <span class="text">18 statements &nbsp;</span>
-            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">18<span class="text"> run</span></button>
+            <span class="text">19 statements &nbsp;</span>
+            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">19<span class="text"> run</span></button>
             <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_types_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="index.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -111,29 +111,31 @@
     <p class="run"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="nam">registration_id</span> <span class="op">=</span> <span class="nam">TypedField</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">readable</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">writable</span><span class="op">=</span><span class="key">False</span><span class="op">,</span> <span class="nam">notnull</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="op">@</span><span class="nam">classmethod</span>&nbsp;</span><span class="r"></span></p>
     <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="key">def</span> <span class="nam">__on_define__</span><span class="op">(</span><span class="nam">cls</span><span class="op">,</span> <span class="nam">db</span><span class="op">:</span> <span class="nam">TypeDAL</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="str">        When we have access to 'db', set the IS_NOT_IN_DB requirement.</span>&nbsp;</span><span class="r"></span></p>
     <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
-    <p class="run"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">cls</span><span class="op">.</span><span class="nam">email</span><span class="op">.</span><span class="nam">requires</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">            <span class="nam">IS_EMAIL</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="nam">IS_NOT_IN_DB</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">                <span class="nam">db</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">                <span class="str">"auth_user.email"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
-    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__on_define__</span><span class="op">(</span><span class="nam">db</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
+    <p class="run"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="nam">cls</span><span class="op">.</span><span class="nam">email</span><span class="op">.</span><span class="nam">requires</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="nam">IS_EMAIL</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">            <span class="nam">IS_NOT_IN_DB</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">                <span class="nam">db</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">                <span class="str">"auth_user.email"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
+    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
 </main>
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_types_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="index.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:21 +0200
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -4,17 +4,17 @@
 r m x  toggle line displays
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
-********** 1188 ssttaatteemmeennttss ? 1188 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+********** 1199 ssttaatteemmeennttss ? 1199 rruunn 00 mmiissssiinngg 00 eexxcclluuddeedd **********
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
 _1"""
 _2Both py4web and web2py can share this Auth User table definition.
 _3"""
 _4
 _5import datetime as dt
 _6
 _7from pydal.validators import CRYPT, IS_EMAIL, IS_NOT_EMPTY, IS_NOT_IN_DB,
@@ -48,16 +48,18 @@
 notnull=False)
 _3_0
 _3_1 @classmethod
 _3_2 def __on_define__(cls, db: TypeDAL) -> None:
 _3_3 """
 _3_4 When we have access to 'db', set the IS_NOT_IN_DB requirement.
 _3_5 """
-_3_6 cls.email.requires = (
-_3_7 IS_EMAIL(),
-_3_8 IS_NOT_IN_DB(
-_3_9 db,
-_4_0 "auth_user.email",
-_4_1 ),
-_4_2 )
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+_3_6 super().__on_define__(db)
+_3_7
+_3_8 cls.email.requires = (
+_3_9 IS_EMAIL(),
+_4_0 IS_NOT_IN_DB(
+_4_1 db,
+_4_2 "auth_user.email",
+_4_3 ),
+_4_4 )
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-
+16 21:21 +0200
```

### Comparing `typedal-3.0.1/htmlcov/d_18c616467159315a_as_json_py.html` & `typedal-3.1.0/htmlcov/d_18c616467159315a_as_json_py.html`

 * *Files 2% similar despite different names*

```diff
@@ -60,16 +60,16 @@
             <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">25<span class="text"> excluded</span></button>
         </h2>
         <p class="text">
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_helpers_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_types_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
         <aside class="hidden">
             <button type="button" class="button_next_chunk" data-shortcut="j"/>
             <button type="button" class="button_prev_chunk" data-shortcut="k"/>
             <button type="button" class="button_top_of_page" data-shortcut="0"/>
             <button type="button" class="button_first_chunk" data-shortcut="1"/>
             <button type="button" class="button_prev_file" data-shortcut="["/>
@@ -159,14 +159,14 @@
 <footer>
     <div class="content">
         <p>
             <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_helpers_py.html">&#xab; prev</a> &nbsp; &nbsp;
             <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
             <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c_types_py.html">&#xbb; next</a>
             &nbsp; &nbsp; &nbsp;
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:17 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-01-29 16:15 +0100
         </p>
     </div>
 </footer>
 </body>
 </html>
```

#### html2text {}

```diff
@@ -5,16 +5,16 @@
 j k  next/prev highlighted chunk
 0  (zero) top of page
 1  (one) first highlighted chunk
 [ ]  prev/next file
 u  up to the index
 ?  show/hide this help
 ********** 1155 ssttaatteemmeennttss ? 1155 rruunn 00 mmiissssiinngg 2255 eexxcclluuddeedd **********
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
 _1"""
 _2Replacement for pydal's json serializer.
 _3"""
 _4
 _5import json
 _6import typing
 _7from typing import Any
@@ -86,9 +86,9 @@
 _6_9
 _7_0
 _7_1def encode(something: Any, indent: int = None, **kw: Any) -> str:
 _7_2 """
 _7_3 Encode anything to JSON with some improved defaults.
 _7_4 """
 _7_5 return json.dumps(something, indent=indent, cls=SerializedJson, **kw)
-__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-
-02 16:17 +0200
+__ _p_r_e_v   _&_H_a_t_;_ _i_n_d_e_x   __ _n_e_x_t    _c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-01-
+29 16:15 +0100
```

### Comparing `typedal-3.0.1/htmlcov/favicon_32.png` & `typedal-3.1.0/htmlcov/favicon_32.png`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/htmlcov/index.html` & `typedal-3.1.0/htmlcov/index.html`

 * *Files 2% similar despite different names*

```diff
@@ -7,15 +7,15 @@
     <link rel="stylesheet" href="style.css" type="text/css">
     <script type="text/javascript" src="coverage_html.js" defer></script>
 </head>
 <body class="indexfile">
 <header>
     <div class="content">
         <h1>Coverage report:
-            <span class="pc_cov">99%</span>
+            <span class="pc_cov">100%</span>
         </h1>
         <aside id="help_panel_wrapper">
             <input id="help_panel_state" type="checkbox">
             <label for="help_panel_state">
                 <img id="keyboard_icon" src="keybd_closed.png" alt="Show/hide keyboard shortcuts" />
             </label>
             <div id="help_panel">
@@ -40,16 +40,16 @@
                 </div>
             </div>
         </aside>
         <form id="filter_container">
             <input id="filter" type="text" value="" placeholder="filter..." />
         </form>
         <p class="text">
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:19 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:32 +0200
         </p>
     </div>
 </header>
 <main id="index">
     <table class="index" data-sortable>
         <thead>
             <tr class="tablehead" title="Click to sort">
@@ -80,32 +80,32 @@
                 <td>169</td>
                 <td>0</td>
                 <td>3</td>
                 <td class="right" data-ratio="169 169">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_cli_py.html">src/typedal/cli.py</a></td>
-                <td>92</td>
-                <td>6</td>
+                <td>85</td>
+                <td>0</td>
                 <td>164</td>
-                <td class="right" data-ratio="86 92">93%</td>
+                <td class="right" data-ratio="85 85">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_config_py.html">src/typedal/config.py</a></td>
                 <td>132</td>
                 <td>0</td>
                 <td>11</td>
                 <td class="right" data-ratio="132 132">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_core_py.html">src/typedal/core.py</a></td>
-                <td>903</td>
+                <td>904</td>
                 <td>0</td>
                 <td>144</td>
-                <td class="right" data-ratio="903 903">100%</td>
+                <td class="right" data-ratio="904 904">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_fields_py.html">src/typedal/fields.py</a></td>
                 <td>85</td>
                 <td>0</td>
                 <td>0</td>
                 <td class="right" data-ratio="85 85">100%</td>
@@ -115,25 +115,32 @@
                 <td>10</td>
                 <td>0</td>
                 <td>12</td>
                 <td class="right" data-ratio="10 10">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_for_web2py_py.html">src/typedal/for_web2py.py</a></td>
-                <td>31</td>
+                <td>32</td>
                 <td>0</td>
                 <td>0</td>
-                <td class="right" data-ratio="31 31">100%</td>
+                <td class="right" data-ratio="32 32">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_helpers_py.html">src/typedal/helpers.py</a></td>
-                <td>80</td>
+                <td>90</td>
+                <td>0</td>
                 <td>0</td>
+                <td class="right" data-ratio="90 90">100%</td>
+            </tr>
+            <tr class="file">
+                <td class="name left"><a href="d_0ccc93afd6526b6c_mixins_py.html">src/typedal/mixins.py</a></td>
+                <td>40</td>
                 <td>0</td>
-                <td class="right" data-ratio="80 80">100%</td>
+                <td>0</td>
+                <td class="right" data-ratio="40 40">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_18c616467159315a_as_json_py.html">src/typedal/serializers/as_json.py</a></td>
                 <td>15</td>
                 <td>0</td>
                 <td>25</td>
                 <td class="right" data-ratio="15 15">100%</td>
@@ -143,39 +150,39 @@
                 <td>64</td>
                 <td>0</td>
                 <td>0</td>
                 <td class="right" data-ratio="64 64">100%</td>
             </tr>
             <tr class="file">
                 <td class="name left"><a href="d_0ccc93afd6526b6c_web2py_py4web_shared_py.html">src/typedal/web2py_py4web_shared.py</a></td>
-                <td>18</td>
+                <td>19</td>
                 <td>0</td>
                 <td>0</td>
-                <td class="right" data-ratio="18 18">100%</td>
+                <td class="right" data-ratio="19 19">100%</td>
             </tr>
         </tbody>
         <tfoot>
             <tr class="total">
                 <td class="name left">Total</td>
-                <td>1605</td>
-                <td>6</td>
+                <td>1651</td>
+                <td>0</td>
                 <td>361</td>
-                <td class="right" data-ratio="1599 1605">99%</td>
+                <td class="right" data-ratio="1651 1651">100%</td>
             </tr>
         </tfoot>
     </table>
     <p id="no_rows">
         No items found using the specified filter.
     </p>
 </main>
 <footer>
     <div class="content">
         <p>
-            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.4">coverage.py v7.4.4</a>,
-            created at 2024-04-02 16:19 +0200
+            <a class="nav" href="https://coverage.readthedocs.io/en/7.4.1">coverage.py v7.4.1</a>,
+            created at 2024-04-16 21:32 +0200
         </p>
     </div>
     <aside class="hidden">
         <a id="prevFileLink" class="nav" href="d_0ccc93afd6526b6c_web2py_py4web_shared_py.html"/>
         <a id="nextFileLink" class="nav" href="d_0ccc93afd6526b6c___about___py.html"/>
         <button type="button" class="button_prev_file" data-shortcut="["/>
         <button type="button" class="button_next_file" data-shortcut="]"/>
```

#### html2text {}

```diff
@@ -1,25 +1,26 @@
-************ CCoovveerraaggee rreeppoorrtt:: 9999%% ************
+************ CCoovveerraaggee rreeppoorrtt:: 110000%% ************
 ??[Show/hide keyboard shortcuts]
 Shortcuts on this page
 n s m x c  change column sorting
 [ ]  prev/next file
 ?  show/hide this help
 [                    ]
-_c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-02 16:19 +0200
+_c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-16 21:32 +0200
 MMoodduullee                              ssttaatteemmeennttss mmiissssiinngg eexxcclluuddeedd ccoovveerraaggee
 _s_r_c_/_t_y_p_e_d_a_l_/_____a_b_o_u_t_____._p_y            1          0       0        100%
 _s_r_c_/_t_y_p_e_d_a_l_/_____i_n_i_t_____._p_y             5          0       2        100%
 _s_r_c_/_t_y_p_e_d_a_l_/_c_a_c_h_i_n_g_._p_y              169        0       3        100%
-_s_r_c_/_t_y_p_e_d_a_l_/_c_l_i_._p_y                  92         6       164      93%
+_s_r_c_/_t_y_p_e_d_a_l_/_c_l_i_._p_y                  85         0       164      100%
 _s_r_c_/_t_y_p_e_d_a_l_/_c_o_n_f_i_g_._p_y               132        0       11       100%
-_s_r_c_/_t_y_p_e_d_a_l_/_c_o_r_e_._p_y                 903        0       144      100%
+_s_r_c_/_t_y_p_e_d_a_l_/_c_o_r_e_._p_y                 904        0       144      100%
 _s_r_c_/_t_y_p_e_d_a_l_/_f_i_e_l_d_s_._p_y               85         0       0        100%
 _s_r_c_/_t_y_p_e_d_a_l_/_f_o_r___p_y_4_w_e_b_._p_y           10         0       12       100%
-_s_r_c_/_t_y_p_e_d_a_l_/_f_o_r___w_e_b_2_p_y_._p_y           31         0       0        100%
-_s_r_c_/_t_y_p_e_d_a_l_/_h_e_l_p_e_r_s_._p_y              80         0       0        100%
+_s_r_c_/_t_y_p_e_d_a_l_/_f_o_r___w_e_b_2_p_y_._p_y           32         0       0        100%
+_s_r_c_/_t_y_p_e_d_a_l_/_h_e_l_p_e_r_s_._p_y              90         0       0        100%
+_s_r_c_/_t_y_p_e_d_a_l_/_m_i_x_i_n_s_._p_y               40         0       0        100%
 _s_r_c_/_t_y_p_e_d_a_l_/_s_e_r_i_a_l_i_z_e_r_s_/_a_s___j_s_o_n_._p_y  15         0       25       100%
 _s_r_c_/_t_y_p_e_d_a_l_/_t_y_p_e_s_._p_y                64         0       0        100%
-_s_r_c_/_t_y_p_e_d_a_l_/_w_e_b_2_p_y___p_y_4_w_e_b___s_h_a_r_e_d_._p_y 18         0       0        100%
-Total                               1605       6       361      99%
+_s_r_c_/_t_y_p_e_d_a_l_/_w_e_b_2_p_y___p_y_4_w_e_b___s_h_a_r_e_d_._p_y 19         0       0        100%
+Total                               1651       0       361      100%
 No items found using the specified filter.
-_c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._4, created at 2024-04-02 16:19 +0200
+_c_o_v_e_r_a_g_e_._p_y_ _v_7_._4_._1, created at 2024-04-16 21:32 +0200
```

### Comparing `typedal-3.0.1/htmlcov/keybd_closed.png` & `typedal-3.1.0/htmlcov/keybd_closed.png`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/htmlcov/keybd_open.png` & `typedal-3.1.0/htmlcov/keybd_open.png`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/htmlcov/status.json` & `typedal-3.1.0/htmlcov/status.json`

 * *Files 20% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.787308201058201%*

 * *Differences: {"'files'": "{'d_0ccc93afd6526b6c___about___py': {'hash': '51b48119be6438350c623e7ac4f62570'}, "*

 * *            "'d_0ccc93afd6526b6c_cli_py': {'hash': '2d65bf75b447ef79559f007f0844540b', 'index': "*

 * *            "{'nums': {insert: [(2, 85), (4, 0)], delete: [4, 2]}}}, 'd_0ccc93afd6526b6c_core_py': "*

 * *            "{'hash': '9fe6578168680f4f9261e638c2b4ef47', 'index': {'nums': {insert: [(2, 904)], "*

 * *            "delete: [2]}}}, 'd_0ccc93afd6526b6c_for_web2py_py': {'hash': "*

 * *            "'539a1859e2a7f6c93cd4729b38e []*

```diff
@@ -1,11 +1,11 @@
 {
     "files": {
         "d_0ccc93afd6526b6c___about___py": {
-            "hash": "63ecf203fb2335f14e821c63485c03a7",
+            "hash": "51b48119be6438350c623e7ac4f62570",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c___about___py.html",
                 "nums": [
                     0,
                     1,
                     1,
                     0,
@@ -48,23 +48,23 @@
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/caching.py"
             }
         },
         "d_0ccc93afd6526b6c_cli_py": {
-            "hash": "6d8a67104b7575d5ab96284d512845bd",
+            "hash": "2d65bf75b447ef79559f007f0844540b",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_cli_py.html",
                 "nums": [
                     0,
                     1,
-                    92,
+                    85,
                     164,
-                    6,
+                    0,
                     0,
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/cli.py"
             }
         },
@@ -82,21 +82,21 @@
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/config.py"
             }
         },
         "d_0ccc93afd6526b6c_core_py": {
-            "hash": "7dc82f1bf613920158a643ac59c6225c",
+            "hash": "9fe6578168680f4f9261e638c2b4ef47",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_core_py.html",
                 "nums": [
                     0,
                     1,
-                    903,
+                    904,
                     144,
                     0,
                     0,
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/core.py"
@@ -133,47 +133,64 @@
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/for_py4web.py"
             }
         },
         "d_0ccc93afd6526b6c_for_web2py_py": {
-            "hash": "d63306bb6e59d85cb4760a299fbd40f5",
+            "hash": "539a1859e2a7f6c93cd4729b38e6cb8f",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_for_web2py_py.html",
                 "nums": [
                     0,
                     1,
-                    31,
+                    32,
                     0,
                     0,
                     0,
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/for_web2py.py"
             }
         },
         "d_0ccc93afd6526b6c_helpers_py": {
-            "hash": "e51599f0dc4feed4a6cf3cee1ae1e4f7",
+            "hash": "4190942372502b916b2ae7e9a83de13e",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_helpers_py.html",
                 "nums": [
                     0,
                     1,
-                    80,
+                    90,
                     0,
                     0,
                     0,
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/helpers.py"
             }
         },
+        "d_0ccc93afd6526b6c_mixins_py": {
+            "hash": "3984fdc55a705e3e19bb8ca530743279",
+            "index": {
+                "html_filename": "d_0ccc93afd6526b6c_mixins_py.html",
+                "nums": [
+                    0,
+                    1,
+                    40,
+                    0,
+                    0,
+                    0,
+                    0,
+                    0
+                ],
+                "relative_filename": "src/typedal/mixins.py"
+            }
+        },
         "d_0ccc93afd6526b6c_types_py": {
             "hash": "cc880117452fdb4eb4392f093cedbf36",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_types_py.html",
                 "nums": [
                     0,
                     1,
@@ -184,21 +201,21 @@
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/types.py"
             }
         },
         "d_0ccc93afd6526b6c_web2py_py4web_shared_py": {
-            "hash": "bd0a6cb8d1cb653d376cccee58899799",
+            "hash": "c6c2d3fdcbc47ba8b7f3896118f070f7",
             "index": {
                 "html_filename": "d_0ccc93afd6526b6c_web2py_py4web_shared_py.html",
                 "nums": [
                     0,
                     1,
-                    18,
+                    19,
                     0,
                     0,
                     0,
                     0,
                     0
                 ],
                 "relative_filename": "src/typedal/web2py_py4web_shared.py"
@@ -219,11 +236,11 @@
                     0
                 ],
                 "relative_filename": "src/typedal/serializers/as_json.py"
             }
         }
     },
     "format": 2,
-    "globals": "5fac35e461e18f17131020cf3749e94c",
+    "globals": "f4039bd172c455c39c398f1515294c7b",
     "note": "This file is an internal implementation detail to speed up HTML report generation. Its format can change at any time. You might be looking for the JSON report: https://coverage.rtfd.io/cmd.html#cmd-json",
-    "version": "7.4.4"
+    "version": "7.4.1"
 }
```

### Comparing `typedal-3.0.1/htmlcov/style.css` & `typedal-3.1.0/htmlcov/style.css`

 * *Files 2% similar despite different names*

```diff
@@ -150,15 +150,15 @@
 
 #source p .n { float: left; text-align: right; width: 3.5rem; box-sizing: border-box; margin-left: -3.5rem; padding-right: 1em; color: #999; user-select: none; }
 
 @media (prefers-color-scheme: dark) { #source p .n { color: #777; } }
 
 #source p .n.highlight { background: #ffdd00; }
 
-#source p .n a { scroll-margin-top: 6em; text-decoration: none; color: #999; }
+#source p .n a { margin-top: -4em; padding-top: 4em; text-decoration: none; color: #999; }
 
 @media (prefers-color-scheme: dark) { #source p .n a { color: #777; } }
 
 #source p .n a:hover { text-decoration: underline; color: #999; }
 
 @media (prefers-color-scheme: dark) { #source p .n a:hover { color: #777; } }
```

### Comparing `typedal-3.0.1/src/typedal/caching.py` & `typedal-3.1.0/src/typedal/caching.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/cli.py` & `typedal-3.1.0/src/typedal/cli.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/config.py` & `typedal-3.1.0/src/typedal/config.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/core.py` & `typedal-3.1.0/src/typedal/core.py`

 * *Files 0% similar despite different names*

```diff
@@ -1313,33 +1313,54 @@
         """
         if not self._field:  # pragma: no cover
             raise ValueError("Unbound Field can not be inverted!")
 
         return typing.cast(Expression, ~self._field)
 
 
-class TypedTable(metaclass=TableMeta):
+class _TypedTable:
     """
-    Enhanded modeling system on top of pydal's Table that adds typing and additional functionality.
-    """
-
-    # set up by 'new':
-    _row: Row | None = None
+    This class is a final shared parent between TypedTable and Mixins.
 
-    _with: list[str]
+    This needs to exist because otherwise the __on_define__ of Mixins are not executed.
+    Notably, this class exists at a level ABOVE the `metaclass=TableMeta`,
+        because otherwise typing gets confused when Mixins are used and multiple types could satisfy
+            generic 'T subclass of TypedTable'
+        -> Setting 'TypedTable' as the parent for Mixin does not work at runtime (and works semi at type check time)
+    """
 
     id: "TypedField[int]"
 
     _before_insert: list[BeforeInsertCallable]
     _after_insert: list[AfterInsertCallable]
     _before_update: list[BeforeUpdateCallable]
     _after_update: list[AfterUpdateCallable]
     _before_delete: list[BeforeDeleteCallable]
     _after_delete: list[AfterDeleteCallable]
 
+    @classmethod
+    def __on_define__(cls, db: TypeDAL) -> None:
+        """
+        Method that can be implemented by tables to do an action after db.define is completed.
+
+        This can be useful if you need to add something like requires=IS_NOT_IN_DB(db, "table.field"),
+        where you need a reference to the current database, which may not exist yet when defining the model.
+        """
+
+
+class TypedTable(_TypedTable, metaclass=TableMeta):
+    """
+    Enhanded modeling system on top of pydal's Table that adds typing and additional functionality.
+    """
+
+    # set up by 'new':
+    _row: Row | None = None
+
+    _with: list[str]
+
     def _setup_instance_methods(self) -> None:
         self.as_dict = self._as_dict  # type: ignore
         self.__json__ = self.as_json = self._as_json  # type: ignore
         # self.as_yaml = self._as_yaml  # type: ignore
         self.as_xml = self._as_xml  # type: ignore
 
         self.update = self._update  # type: ignore
@@ -1378,23 +1399,14 @@
             return None  # type: ignore
 
         inst._row = row
         inst.__dict__.update(row)
         inst._setup_instance_methods()
         return inst
 
-    @classmethod
-    def __on_define__(cls, db: TypeDAL) -> None:
-        """
-        Method that can be implemented by tables to do an action after db.define is completed.
-
-        This can be useful if you need to add something like requires=IS_NOT_IN_DB(db, "table.field"),
-        where you need a reference to the current database, which may not exist yet when defining the model.
-        """
-
     def __iter__(self) -> typing.Generator[Any, None, None]:
         """
         Allows looping through the columns.
         """
         row = self._ensure_matching_row()
         yield from iter(row)
```

### Comparing `typedal-3.0.1/src/typedal/fields.py` & `typedal-3.1.0/src/typedal/fields.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/for_py4web.py` & `typedal-3.1.0/src/typedal/for_py4web.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/for_web2py.py` & `typedal-3.1.0/src/typedal/for_web2py.py`

 * *Files 4% similar despite different names*

```diff
@@ -20,14 +20,16 @@
     description = TextField(notnull=False)
 
     @classmethod
     def __on_define__(cls, db: TypeDAL) -> None:
         """
         When we have access to 'db', set the NOT IN DB requirement to make the role unique.
         """
+        super().__on_define__(db)
+
         cls.role.requires = IS_NOT_IN_DB(db, "w2p_auth_group.role")
 
 
 class AuthMembership(TypedTable):
     """
     Model for w2p_auth_membership.
     """
```

### Comparing `typedal-3.0.1/src/typedal/helpers.py` & `typedal-3.1.0/src/typedal/helpers.py`

 * *Files 4% similar despite different names*

```diff
@@ -21,27 +21,36 @@
     Args:
         some_type: types.UnionType = type(int | str); typing.Union = typing.Union[int, str]
 
     """
     return typing.get_origin(some_type) in (types.UnionType, typing.Union)
 
 
+def reversed_mro(cls: type) -> typing.Iterable[type]:
+    """
+    Get the Method Resolution Order (mro) for a class, in reverse order to be used with ChainMap.
+    """
+    return reversed(getattr(cls, "__mro__", []))
+
+
 def _all_annotations(cls: type) -> ChainMap[str, type]:
     """
     Returns a dictionary-like ChainMap that includes annotations for all \
     attributes defined in cls or inherited from superclasses.
     """
-    return ChainMap(*(c.__annotations__ for c in getattr(cls, "__mro__", []) if "__annotations__" in c.__dict__))
+    # chainmap reverses the iterable, so reverse again beforehand to keep order normally:
+
+    return ChainMap(*(c.__annotations__ for c in reversed_mro(cls) if "__annotations__" in c.__dict__))
 
 
 def all_dict(cls: type) -> AnyDict:
     """
     Get the internal data of a class and all it's parents.
     """
-    return dict(ChainMap(*(c.__dict__ for c in getattr(cls, "__mro__", []))))
+    return dict(ChainMap(*(c.__dict__ for c in reversed_mro(cls))))  # type: ignore
 
 
 def all_annotations(cls: type, _except: typing.Iterable[str] = None) -> dict[str, type]:
     """
     Wrapper around `_all_annotations` that filters away any keys in _except.
 
     It also flattens the ChainMap to a regular dict.
```

### Comparing `typedal-3.0.1/src/typedal/types.py` & `typedal-3.1.0/src/typedal/types.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/src/typedal/web2py_py4web_shared.py` & `typedal-3.1.0/src/typedal/web2py_py4web_shared.py`

 * *Files 4% similar despite different names*

```diff
@@ -29,14 +29,16 @@
     registration_id = TypedField(str, readable=False, writable=False, notnull=False)
 
     @classmethod
     def __on_define__(cls, db: TypeDAL) -> None:
         """
         When we have access to 'db', set the IS_NOT_IN_DB requirement.
         """
+        super().__on_define__(db)
+
         cls.email.requires = (
             IS_EMAIL(),
             IS_NOT_IN_DB(
                 db,
                 "auth_user.email",
             ),
         )
```

### Comparing `typedal-3.0.1/src/typedal/serializers/as_json.py` & `typedal-3.1.0/src/typedal/serializers/as_json.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_cli.py` & `typedal-3.1.0/tests/test_cli.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_config.py` & `typedal-3.1.0/tests/test_config.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_docs_examples.py` & `typedal-3.1.0/tests/test_docs_examples.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_helpers.py` & `typedal-3.1.0/tests/test_helpers.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_json.py` & `typedal-3.1.0/tests/test_json.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_main.py` & `typedal-3.1.0/tests/test_main.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_mypy.py` & `typedal-3.1.0/tests/test_mypy.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_orm.py` & `typedal-3.1.0/tests/test_orm.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_py4web.py` & `typedal-3.1.0/tests/test_py4web.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_query_builder.py` & `typedal-3.1.0/tests/test_query_builder.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_relationships.py` & `typedal-3.1.0/tests/test_relationships.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_row.py` & `typedal-3.1.0/tests/test_row.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_stats.py` & `typedal-3.1.0/tests/test_stats.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_table.py` & `typedal-3.1.0/tests/test_table.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_web2py.py` & `typedal-3.1.0/tests/test_web2py.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/test_xx_others.py` & `typedal-3.1.0/tests/test_xx_others.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/timings.py` & `typedal-3.1.0/tests/timings.py`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/tests/configs/valid.toml` & `typedal-3.1.0/tests/configs/valid.toml`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/README.md` & `typedal-3.1.0/README.md`

 * *Files identical despite different names*

### Comparing `typedal-3.0.1/pyproject.toml` & `typedal-3.1.0/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -23,36 +23,37 @@
     "Programming Language :: Python :: Implementation :: PyPy",
 ]
 dependencies = [
     "pydal", # core
     "dill", # caching
     "configuraptor >= 1.26.2", # config
     "Configurable-JSON", # json dumping
+    "python-slugify",
 ]
 
 [project.optional-dependencies]
 py4web = [
     "py4web",
 ]
 
 migrations = [
     "typer",
     "tabulate",
     "pydal2sql>=1.1.3",
-    "edwh-migrate>=0.8.0b1",
+    "edwh-migrate>=0.8.0",
     "questionary",
     "tomlkit",
 ]
 
 all = [
     "py4web",
     "typer",
     "tabulate",
     "pydal2sql[all]>=1.1.3",
-    "edwh-migrate>=0.8.0b1",
+    "edwh-migrate>=0.8.0",
     "questionary",
     "tomlkit",
 ]
 
 dev = [
     # build:
     "hatch",
```

### Comparing `typedal-3.0.1/PKG-INFO` & `typedal-3.1.0/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
-Metadata-Version: 2.3
+Metadata-Version: 2.1
 Name: TypeDAL
-Version: 3.0.1
+Version: 3.1.0
 Summary: Typing support for PyDAL
 Project-URL: Documentation, https://typedal.readthedocs.io/
 Project-URL: Issues, https://github.com/trialandsuccess/TypeDAL/issues
 Project-URL: Source, https://github.com/trialandsuccess/TypeDAL
 Author-email: Robin van der Noord <contact@trialandsuccess.nl>
 License-Expression: MIT
 Classifier: Development Status :: 4 - Beta
@@ -15,16 +15,17 @@
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 Requires-Python: >=3.10
 Requires-Dist: configurable-json
 Requires-Dist: configuraptor>=1.26.2
 Requires-Dist: dill
 Requires-Dist: pydal
+Requires-Dist: python-slugify
 Provides-Extra: all
-Requires-Dist: edwh-migrate>=0.8.0b1; extra == 'all'
+Requires-Dist: edwh-migrate>=0.8.0; extra == 'all'
 Requires-Dist: py4web; extra == 'all'
 Requires-Dist: pydal2sql[all]>=1.1.3; extra == 'all'
 Requires-Dist: questionary; extra == 'all'
 Requires-Dist: tabulate; extra == 'all'
 Requires-Dist: tomlkit; extra == 'all'
 Requires-Dist: typer; extra == 'all'
 Provides-Extra: dev
@@ -33,15 +34,15 @@
 Requires-Dist: mkdocs-dracula-theme; extra == 'dev'
 Requires-Dist: pytest-mypy-testing; extra == 'dev'
 Requires-Dist: python-semantic-release<8; extra == 'dev'
 Requires-Dist: su6[all]; extra == 'dev'
 Requires-Dist: types-pyyaml; extra == 'dev'
 Requires-Dist: types-tabulate; extra == 'dev'
 Provides-Extra: migrations
-Requires-Dist: edwh-migrate>=0.8.0b1; extra == 'migrations'
+Requires-Dist: edwh-migrate>=0.8.0; extra == 'migrations'
 Requires-Dist: pydal2sql>=1.1.3; extra == 'migrations'
 Requires-Dist: questionary; extra == 'migrations'
 Requires-Dist: tabulate; extra == 'migrations'
 Requires-Dist: tomlkit; extra == 'migrations'
 Requires-Dist: typer; extra == 'migrations'
 Provides-Extra: py4web
 Requires-Dist: py4web; extra == 'py4web'
```

