# Comparing `tmp/freegenius-0.0.87.tar.gz` & `tmp/freegenius-0.0.9.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "freegenius-0.0.87.tar", last modified: Tue Apr 16 19:52:44 2024, max compression
+gzip compressed data, was "freegenius-0.0.9.tar", last modified: Wed Feb 28 14:42:27 2024, max compression
```

## Comparing `freegenius-0.0.87.tar` & `freegenius-0.0.9.tar`

### file list

```diff
@@ -1,178 +1,23 @@
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.639372 freegenius-0.0.87/
--rw-r--r--   0 eliran    (1000) eliran    (1000)    13105 2024-04-16 19:52:44.639372 freegenius-0.0.87/PKG-INFO
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.595373 freegenius-0.0.87/freegenius/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10056 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius/README.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3316 2024-04-11 08:45:18.000000 freegenius-0.0.87/freegenius/__init__.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.599372 freegenius-0.0.87/freegenius/audio/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    15588 2024-02-18 17:53:14.000000 freegenius-0.0.87/freegenius/audio/notification1.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2925 2024-02-20 11:12:21.000000 freegenius-0.0.87/freegenius/audio/notification1_mild.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    19428 2024-02-18 17:51:50.000000 freegenius-0.0.87/freegenius/audio/notification2.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3693 2024-02-20 11:18:40.000000 freegenius-0.0.87/freegenius/audio/notification2_mild.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6646 2024-04-11 14:37:13.000000 freegenius-0.0.87/freegenius/autoassist.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9421 2024-04-13 20:55:38.000000 freegenius-0.0.87/freegenius/autobuilder.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10727 2024-04-11 14:37:13.000000 freegenius-0.0.87/freegenius/autoretriever.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6933 2024-04-03 20:55:06.000000 freegenius-0.0.87/freegenius/chatgpt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7037 2024-04-03 20:55:57.000000 freegenius-0.0.87/freegenius/codey.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      833 2024-03-25 21:25:36.000000 freegenius-0.0.87/freegenius/commandprompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius/config.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    29583 2023-12-02 22:39:56.000000 freegenius-0.0.87/freegenius/eTextEdit.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.599372 freegenius-0.0.87/freegenius/files/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       31 2023-11-28 12:28:19.000000 freegenius-0.0.87/freegenius/files/Readme.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    11380 2024-04-04 08:36:50.000000 freegenius-0.0.87/freegenius/geminipro.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7854 2024-04-05 08:52:01.000000 freegenius-0.0.87/freegenius/geminiprovision.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.599372 freegenius-0.0.87/freegenius/gui/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9741 2024-04-09 22:46:08.000000 freegenius-0.0.87/freegenius/gui/chatgui.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2154 2024-03-12 11:57:01.000000 freegenius-0.0.87/freegenius/gui/worker.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.599372 freegenius-0.0.87/freegenius/history/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       29 2023-11-28 12:28:19.000000 freegenius-0.0.87/freegenius/history/Readme.md
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.615373 freegenius-0.0.87/freegenius/icons/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)   158655 2024-04-10 10:01:55.000000 freegenius-0.0.87/freegenius/icons/FreeGenius.ico
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  2549036 2024-04-10 09:49:32.000000 freegenius-0.0.87/freegenius/icons/FreeGenius.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  3162696 2024-04-10 09:20:11.000000 freegenius-0.0.87/freegenius/icons/FreeGenius_original.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  3141194 2024-04-10 09:41:18.000000 freegenius-0.0.87/freegenius/icons/ai.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  2390858 2024-04-10 09:27:35.000000 freegenius-0.0.87/freegenius/icons/ai_original.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8119 2024-04-11 14:34:40.000000 freegenius-0.0.87/freegenius/llamacpp.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.591373 freegenius-0.0.87/freegenius/macOS_service/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.587373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      644 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5680 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.587373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5679 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.587373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/
--rw-r--r--   0 eliran    (1000) eliran    (1000)      635 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/QuickLook/
--rw-r--r--   0 eliran    (1000) eliran    (1000)     4100 2023-12-01 10:53:39.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5684 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.587373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      649 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.587373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.623372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      643 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.591373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/
--rw-r--r--   0 eliran    (1000) eliran    (1000)      640 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/QuickLook/
--rw-r--r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-01 10:53:44.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5656 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.591373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.591373 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.627372 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5692 2024-04-06 16:46:45.000000 freegenius-0.0.87/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/document.wflow
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7320 2024-04-10 10:50:28.000000 freegenius-0.0.87/freegenius/main.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10959 2024-04-07 18:24:27.000000 freegenius-0.0.87/freegenius/ollamachat.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       10 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius/package_name.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7573 2024-04-03 20:57:58.000000 freegenius-0.0.87/freegenius/palm2.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.635372 freegenius-0.0.87/freegenius/plugins/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1326 2024-03-25 18:25:44.000000 freegenius-0.0.87/freegenius/plugins/000_check_ffmpeg.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1616 2024-03-25 18:32:07.000000 freegenius-0.0.87/freegenius/plugins/000_check_pyaudio.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1465 2024-03-25 18:26:33.000000 freegenius-0.0.87/freegenius/plugins/000_check_vlc.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      115 2023-11-28 12:28:19.000000 freegenius-0.0.87/freegenius/plugins/Readme.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6812 2024-04-12 22:35:03.000000 freegenius-0.0.87/freegenius/plugins/add calendar event.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3358 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/aliases.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7429 2024-04-09 10:22:46.000000 freegenius-0.0.87/freegenius/plugins/analyze audio.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2154 2024-04-09 10:22:46.000000 freegenius-0.0.87/freegenius/plugins/analyze files.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4667 2024-04-11 14:37:13.000000 freegenius-0.0.87/freegenius/plugins/analyze images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2316 2024-04-09 22:27:35.000000 freegenius-0.0.87/freegenius/plugins/analyze web content.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2559 2024-04-14 22:20:21.000000 freegenius-0.0.87/freegenius/plugins/auto correct python code.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1860 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/awesome prompts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5876 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/character analysis.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      654 2024-04-04 22:28:27.000000 freegenius-0.0.87/freegenius/plugins/chat.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      762 2024-04-04 08:36:50.000000 freegenius-0.0.87/freegenius/plugins/contexts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7220 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/counselling.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1688 2024-04-04 22:11:59.000000 freegenius-0.0.87/freegenius/plugins/create ai assistants.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5152 2024-04-11 14:32:24.000000 freegenius-0.0.87/freegenius/plugins/create images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1262 2024-04-10 07:42:48.000000 freegenius-0.0.87/freegenius/plugins/create maps.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1520 2024-04-04 22:15:17.000000 freegenius-0.0.87/freegenius/plugins/create qrcode.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1522 2024-04-10 07:42:48.000000 freegenius-0.0.87/freegenius/plugins/create statistical graphics.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1211 2024-04-13 22:43:22.000000 freegenius-0.0.87/freegenius/plugins/dates and times.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3950 2024-04-09 22:27:52.000000 freegenius-0.0.87/freegenius/plugins/download youtube or web content.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1862 2024-04-05 11:08:57.000000 freegenius-0.0.87/freegenius/plugins/edit text.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3316 2024-04-13 22:42:39.000000 freegenius-0.0.87/freegenius/plugins/execute computing tasks.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4213 2024-04-09 22:24:00.000000 freegenius-0.0.87/freegenius/plugins/execute termux command.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6940 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/global finance.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      975 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/improve British English.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1325 2024-04-04 08:36:50.000000 freegenius-0.0.87/freegenius/plugins/input suggestions.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1077 2024-04-07 19:39:31.000000 freegenius-0.0.87/freegenius/plugins/install python package.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1670 2024-04-04 22:36:17.000000 freegenius-0.0.87/freegenius/plugins/integrate google searches.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4606 2024-04-11 22:17:28.000000 freegenius-0.0.87/freegenius/plugins/memory.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8638 2024-04-11 14:37:13.000000 freegenius-0.0.87/freegenius/plugins/modify images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      944 2024-04-09 22:25:30.000000 freegenius-0.0.87/freegenius/plugins/open web browser.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1296 2024-04-05 11:14:34.000000 freegenius-0.0.87/freegenius/plugins/pronounce words.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2409 2024-04-10 07:42:48.000000 freegenius-0.0.87/freegenius/plugins/remove image background.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5898 2024-04-10 13:47:59.000000 freegenius-0.0.87/freegenius/plugins/search chat records.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1156 2024-04-10 07:42:48.000000 freegenius-0.0.87/freegenius/plugins/search financial data.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1966 2024-04-04 22:42:40.000000 freegenius-0.0.87/freegenius/plugins/search latest news.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3479 2024-04-11 22:13:56.000000 freegenius-0.0.87/freegenius/plugins/search sqlite.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1539 2024-04-10 07:42:48.000000 freegenius-0.0.87/freegenius/plugins/search weather info.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3987 2024-04-09 22:25:48.000000 freegenius-0.0.87/freegenius/plugins/send email.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      898 2024-04-09 22:26:03.000000 freegenius-0.0.87/freegenius/plugins/send tweet.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1280 2024-04-05 11:15:56.000000 freegenius-0.0.87/freegenius/plugins/send whatsapp messages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      528 2024-04-02 21:37:01.000000 freegenius-0.0.87/freegenius/plugins/simplified Chinese to traditional Chinese.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      242 2024-03-25 12:56:42.000000 freegenius-0.0.87/freegenius/qt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9711 2024-04-09 10:22:46.000000 freegenius-0.0.87/freegenius/rag.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      779 2024-04-16 16:37:20.000000 freegenius-0.0.87/freegenius/requirements.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1293 2024-04-11 16:00:15.000000 freegenius-0.0.87/freegenius/servers.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7677 2024-04-16 19:52:11.000000 freegenius-0.0.87/freegenius/systemtray.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.635372 freegenius-0.0.87/freegenius/temp/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       36 2023-11-28 12:28:19.000000 freegenius-0.0.87/freegenius/temp/Readme.md
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.639372 freegenius-0.0.87/freegenius/utils/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)   107728 2024-04-13 20:57:59.000000 freegenius-0.0.87/freegenius/utils/assistant.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    29449 2024-04-13 20:58:17.000000 freegenius-0.0.87/freegenius/utils/call_chatgpt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    16921 2024-04-14 20:27:48.000000 freegenius-0.0.87/freegenius/utils/call_gemini.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21353 2024-04-14 22:28:19.000000 freegenius-0.0.87/freegenius/utils/call_llamacpp.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7664 2024-04-09 10:22:46.000000 freegenius-0.0.87/freegenius/utils/call_llm.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    18510 2024-04-14 20:25:43.000000 freegenius-0.0.87/freegenius/utils/call_ollama.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    16440 2024-04-16 16:48:57.000000 freegenius-0.0.87/freegenius/utils/config_essential.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2616 2024-04-03 21:01:16.000000 freegenius-0.0.87/freegenius/utils/config_tools.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1368 2024-03-27 21:22:10.000000 freegenius-0.0.87/freegenius/utils/download.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    14296 2024-04-03 21:01:58.000000 freegenius-0.0.87/freegenius/utils/get_path_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4147 2024-04-13 21:13:00.000000 freegenius-0.0.87/freegenius/utils/ollama_models.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3872 2024-04-09 22:46:08.000000 freegenius-0.0.87/freegenius/utils/promptValidator.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6973 2024-03-25 11:20:01.000000 freegenius-0.0.87/freegenius/utils/prompt_multiline_shared_key_bindings.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7880 2024-04-09 22:40:12.000000 freegenius-0.0.87/freegenius/utils/prompt_shared_key_bindings.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21592 2024-04-09 22:46:08.000000 freegenius-0.0.87/freegenius/utils/prompts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1681 2024-04-12 23:13:01.000000 freegenius-0.0.87/freegenius/utils/python_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    42916 2024-04-16 19:48:49.000000 freegenius-0.0.87/freegenius/utils/shared_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21476 2024-04-10 11:33:28.000000 freegenius-0.0.87/freegenius/utils/shortcuts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8558 2024-04-04 08:45:13.000000 freegenius-0.0.87/freegenius/utils/single_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7936 2024-04-09 10:22:46.000000 freegenius-0.0.87/freegenius/utils/streaming_word_wrapper.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7580 2024-02-22 12:18:47.000000 freegenius-0.0.87/freegenius/utils/sttLanguages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4781 2024-03-26 19:39:22.000000 freegenius-0.0.87/freegenius/utils/terminal_mode_dialogs.py
--rwxrwxr-x   0 eliran    (1000) eliran    (1000)     9891 2024-04-03 21:02:14.000000 freegenius-0.0.87/freegenius/utils/terminal_system_command_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    23917 2024-03-12 11:57:01.000000 freegenius-0.0.87/freegenius/utils/text_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4352 2024-04-12 22:26:19.000000 freegenius-0.0.87/freegenius/utils/tool_plugins.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7640 2024-02-22 00:47:05.000000 freegenius-0.0.87/freegenius/utils/ttsLanguages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8563 2024-03-28 23:38:45.000000 freegenius-0.0.87/freegenius/utils/tts_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4651 2024-04-09 22:46:08.000000 freegenius-0.0.87/freegenius/utils/vlc_utils.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 19:52:44.639372 freegenius-0.0.87/freegenius.egg-info/
--rw-r--r--   0 eliran    (1000) eliran    (1000)    13105 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/PKG-INFO
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5856 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/SOURCES.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)        1 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/dependency_links.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1226 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/entry_points.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      780 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/requires.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       11 2024-04-16 19:52:44.000000 freegenius-0.0.87/freegenius.egg-info/top_level.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       38 2024-04-16 19:52:44.639372 freegenius-0.0.87/setup.cfg
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10383 2024-04-16 16:35:25.000000 freegenius-0.0.87/setup.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     2185 2024-02-28 14:42:27.925755 freegenius-0.0.9/PKG-INFO
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)      952 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius/README.md
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)        0 2024-02-26 10:57:44.000000 freegenius-0.0.9/freegenius/config.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/configs/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    10480 2024-02-27 11:46:27.000000 freegenius-0.0.9/freegenius/configs/config_essential.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     3824 2024-02-24 17:48:40.000000 freegenius-0.0.9/freegenius/configs/config_tools.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/core/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)   123019 2024-02-28 14:07:47.000000 freegenius-0.0.9/freegenius/core/assistant.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    12129 2024-02-26 17:51:52.000000 freegenius-0.0.9/freegenius/main.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       16 2024-02-26 10:37:43.000000 freegenius-0.0.9/freegenius/requirements.txt
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/utils/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    17965 2024-02-26 12:14:54.000000 freegenius-0.0.9/freegenius/utils/shortcuts.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius.egg-info/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     2185 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/PKG-INFO
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)      436 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/SOURCES.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)        1 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/dependency_links.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       53 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/entry_points.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       17 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/requires.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       11 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/top_level.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       38 2024-02-28 14:42:27.925755 freegenius-0.0.9/setup.cfg
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     3147 2024-02-28 14:42:22.000000 freegenius-0.0.9/setup.py
```

### Comparing `freegenius-0.0.87/freegenius/ollamachat.py` & `freegenius-0.0.9/freegenius/main.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,283 +1,284 @@
-import ollama, os, argparse, threading, shutil, json
-from ollama import Options, pull
-from freegenius.utils.download import Downloader
-from freegenius import config, is_valid_image_file
-from freegenius import print2, print3
-from freegenius.utils.ollama_models import ollama_models
-from freegenius.utils.streaming_word_wrapper import StreamingWordWrapper
-from freegenius.utils.single_prompt import SinglePrompt
-from prompt_toolkit.styles import Style
-from prompt_toolkit import PromptSession
-from prompt_toolkit.history import FileHistory
-from prompt_toolkit.shortcuts import clear
-from prompt_toolkit.completion import WordCompleter, FuzzyCompleter
-#from prompt_toolkit.shortcuts import ProgressBar
-from tqdm import tqdm
+import os, sys, platform, shutil, argparse
+
+# requires python 3.8+; required by package 'tiktoken'
+pythonVersion = sys.version_info
+if pythonVersion < (3, 8):
+    print("Python version higher than 3.8 is required!")
+    print("Closing ...")
+    exit(1)
+elif pythonVersion >= (3, 12):
+    print("Some features may not work with python version newer than 3.11!")
+
+# navigate to project directory
+letMeDoItFile = os.path.realpath(__file__)
+letMeDoItAIFolder = os.path.dirname(letMeDoItFile)
+if os.getcwd() != letMeDoItAIFolder:
+    os.chdir(letMeDoItAIFolder)
+
+# check current platform
+thisPlatform = platform.system()
+
+# set up config
+# create config.py if it does not exist
+configFile = os.path.join(letMeDoItAIFolder, "config.py")
+if not os.path.isfile(configFile):
+    open(configFile, "a", encoding="utf-8").close()
+
+# import config and setup default
+#import traceback
+try:
+    from freegenius import config
+except:
+    # write off problematic configFile
+    open(configFile, "w", encoding="utf-8").close()
+    from freegenius import config
+import letmedoit.config
 from pathlib import Path
 
-promptStyle = Style.from_dict({
-    # User input (default text).
-    "": config.terminalCommandEntryColor2,
-    # Prompt.
-    "indicator": config.terminalPromptIndicatorColor2,
-})
-
-class OllamaChat:
-
-    def __init__(self):
-        # authentication
-        if shutil.which("ollama"):
-            self.runnable = True
-        else:
-            print("Local LLM Server 'Ollama' not found! Install Ollama first!")
-            print("Visit https://ollama.com/")
-            self.runnable = False
-
-    def installModel(self, model):
-        print3(f"Downloading '{model}' ...")
-        
-        #https://github.com/ollama/ollama-python/blob/main/examples/pull-progress/main.py
-        current_digest, bars = '', {}
-        for progress in pull(model, stream=True):
-            digest = progress.get('digest', '')
-            if digest != current_digest and current_digest in bars:
-                bars[current_digest].close()
-
-            if not digest:
-                print(progress.get('status'))
-                continue
-
-            if digest not in bars and (total := progress.get('total')):
-                bars[digest] = tqdm(total=total, desc=f'pulling {digest[7:19]}', unit='B', unit_scale=True)
-
-            if completed := progress.get('completed'):
-                bars[digest].update(completed - bars[digest].n)
-
-            current_digest = digest
-
-    def run(self, prompt="", model="mistral") -> None:        
-        def extractImages(content) -> list:
-            template = {
-                "image_filepath_list": [],
-                "query": "",
-            }
-            promptPrefix = f"""Use this template:
-
-{template}
-
-To generate a JSON that contains two keys, "image_filepath_list" and "query", based on my request.
-"image_filepath_list" is a list of image paths specified in my request.  If no path is specified, return an empty list [] for its value.
-"query" is the query about the images in the list.
-
-Here is my request:
-"""
-            completion = ollama.chat(
-                model="gemma:2b",
-                messages=[
-                    {
-                        "role": "user",
-                        "content": f"{promptPrefix}{content}",
-                    },
-                ],
-                format="json",
-                stream=False,
-                options=Options(
-                    temperature=0.0,
-                    num_ctx=config.ollamaMainModel_num_ctx,
-                    num_batch=config.ollamaMainModel_num_batch,
-                    num_predict=config.ollamaMainModel_num_predict,
-                ),
-            )
-            output = json.loads(completion["message"]["content"])
-            if config.developer:
-                print2("Input:")
-                print(output)
-            imageList = output["image_filepath_list"]
-            images = [i for i in imageList if os.path.isfile(i) and is_valid_image_file(i)]
-
-            return images
-
-        if not self.runnable:
-            return None
-
-        # check model
-        if not Downloader.downloadOllamaModel(model):
-            return None
-        if model.startswith("llava"):
-            Downloader.downloadOllamaModel("gemma:2b")
-        
-        previoiusModel = config.ollamaMainModel
-        config.ollamaMainModel = model
-        if not config.ollamaMainModel:
-            config.ollamaMainModel = "mistral"
-        if not config.ollamaMainModel == previoiusModel:
-            config.saveConfig()
-
-        historyFolder = os.path.join(config.localStorage, "history")
-        Path(historyFolder).mkdir(parents=True, exist_ok=True)
-        chat_history = os.path.join(historyFolder, f"ollama_{model}")
-        chat_session = PromptSession(history=FileHistory(chat_history))
-
-        print2(f"\n{model.capitalize()} loaded!")
-
-        # history
-        messages = []
-        if hasattr(config, "currentMessages"):
-            for i in config.currentMessages[:-1]:
-                if "role" in i and i["role"] in ("system", "user", "assistant") and "content" in i and i.get("content"):
-                    messages.append(i)
-
-        # bottom toolbar
-        if hasattr(config, "currentMessages"):
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry}"""
-        else:
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry} {str(config.hotkey_new).replace("'", "")} .new"""
-            print("(To start a new chart, enter '.new')")
-        print(f"(To exit, enter '{config.exit_entry}')\n")
-
-        while True:
-            if not prompt:
-                prompt = SinglePrompt.run(style=promptStyle, promptSession=chat_session, bottom_toolbar=bottom_toolbar)
-                if prompt and not prompt in (".new", config.exit_entry) and hasattr(config, "currentMessages"):
-                    config.currentMessages.append({"content": prompt, "role": "user"})
+config.letMeDoItName = "FreeGenius AI"
+letmedoit.config.letMeDoItFile = config.letMeDoItFile = letMeDoItFile
+letmedoit.config.letMeDoItAIFolder = config.letMeDoItAIFolder = letMeDoItAIFolder
+letmedoit.config.isTermux = config.isTermux = True if os.path.isdir("/data/data/com.termux/files/home") else False
+
+letmedoit.config.terminalColors = config.terminalColors = {
+    "ansidefault": "ansidefault",
+    "ansiblack": "ansiwhite",
+    "ansired": "ansibrightred",
+    "ansigreen": "ansibrightgreen",
+    "ansiyellow": "ansibrightyellow",
+    "ansiblue": "ansibrightblue",
+    "ansimagenta": "ansibrightmagenta",
+    "ansicyan": "ansibrightcyan",
+    "ansigray": "ansibrightblack",
+    "ansiwhite": "ansiblack",
+    "ansibrightred": "ansired",
+    "ansibrightgreen": "ansigreen",
+    "ansibrightyellow": "ansiyellow",
+    "ansibrightblue": "ansiblue",
+    "ansibrightmagenta": "ansimagenta",
+    "ansibrightcyan": "ansicyan",
+    "ansibrightblack": "ansigray",
+}
+
+# package name
+package = "freegenius"
+
+def getStorageDir():
+    storageDir = os.path.join(os.path.expanduser('~'), package)
+    try:
+        Path(storageDir).mkdir(parents=True, exist_ok=True)
+    except:
+        pass
+    return storageDir if os.path.isdir(storageDir) else ""
+letmedoit.config.getStorageDir = config.getStorageDir = getStorageDir
+
+def restartApp():
+    print(f"Restarting {config.letMeDoItName} ...")
+    os.system(f"{sys.executable} {config.letMeDoItFile}")
+    exit(0)
+config.restartApp = restartApp
+
+from freegenius.configs.config_tools import *
+from freegenius.configs.config_essential import temporaryConfigs
+from letmedoit.utils.install import installmodule
+from letmedoit.utils.shared_utils import SharedUtil
+
+# automatic update
+config.pipIsUpdated = False
+def updateApp(thisPackage):
+    print(f"Checking '{thisPackage}' version ...")
+    installed_version = SharedUtil.getPackageInstalledVersion(thisPackage)
+    if installed_version is None:
+        print("Installed version information is not accessible!")
+    else:
+        print(f"Installed version: {installed_version}")
+    latest_version = SharedUtil.getPackageLatestVersion(thisPackage)
+    if latest_version is None:
+        print("Latest version information is not accessible at the moment!")
+    elif installed_version is not None:
+        print(f"Latest version: {latest_version}")
+        if latest_version > installed_version:
+            if thisPlatform == "Windows":
+                print("Automatic upgrade feature is yet to be supported on Windows!")
+                print(f"Run 'pip install --upgrade {thisPackage}' to manually upgrade this app!")
             else:
-                prompt = SinglePrompt.run(style=promptStyle, promptSession=chat_session, bottom_toolbar=bottom_toolbar, default=prompt, accept_default=True)
-            if prompt == config.exit_entry:
-                break
-            elif prompt == ".new" and not hasattr(config, "currentMessages"):
-                clear()
-                messages = []
-                print("New chat started!")
-            elif prompt := prompt.strip():
-                streamingWordWrapper = StreamingWordWrapper()
-                config.pagerContent = ""
-                if model.startswith("llava"):
-                    images = extractImages(prompt)
-                    if images:
-                        messages.append({'role': 'user', 'content': prompt, 'images': images})
-                        print3(f"Analyzing image: {str(images)}")
-                    else:
-                        messages.append({'role': 'user', 'content': prompt})
-                else:
-                    messages.append({'role': 'user', 'content': prompt})
                 try:
-                    completion = ollama.chat(
-                        model=model,
-                        messages=messages,
-                        stream=True,
-                        options=Options(
-                            temperature=config.llmTemperature,
-                            num_ctx=config.ollamaMainModel_num_ctx,
-                            num_batch=config.ollamaMainModel_num_batch,
-                            num_predict=config.ollamaMainModel_num_predict,
-                        ),
-                    )
-                    # Create a new thread for the streaming task
-                    streaming_event = threading.Event()
-                    self.streaming_thread = threading.Thread(target=streamingWordWrapper.streamOutputs, args=(streaming_event, completion,))
-                    # Start the streaming thread
-                    self.streaming_thread.start()
-
-                    # wait while text output is steaming; capture key combo 'ctrl+q' or 'ctrl+z' to stop the streaming
-                    streamingWordWrapper.keyToStopStreaming(streaming_event)
-
-                    # when streaming is done or when user press "ctrl+q"
-                    self.streaming_thread.join()
-
-                    # update messages
-                    messages.append({"role": "assistant", "content": config.new_chat_response})
-                except ollama.ResponseError as e:
-                    if hasattr(self, "streaming_thread"):
-                        self.streaming_thread.join()
-                    print('Error:', e.error)
-
-            prompt = ""
-
-        print2(f"\n{model.capitalize()} closed!")
-        if hasattr(config, "currentMessages"):
-            print2(f"Return back to {config.freeGeniusAIName} prompt ...")
-
-# available cli: 'ollamachat', 'mistral', 'llama2', 'llama213b', 'llama270b', 'gemma2b', 'gemma7b', 'llava', 'phi', 'vicuna'
-
-def starlinglm():
-    main("starling-lm")
-
-def orca2():
-    main("orca2")
-
-def mistral():
-    main("mistral")
-
-def mixtral():
-    main("mixtral")
-
-def llama2():
-    main("llama2")
-
-def llama213b():
-    main("llama2:13b")
-
-def llama270b():
-    main("llama2:70b")
-
-def codellama():
-    main("codellama")
-
-def gemma2b():
-    main("gemma:2b")
-
-def gemma7b():
-    main("gemma:7b")
-
-def llava():
-    main("llava")
-
-def phi():
-    main("phi")
+                    # upgrade package
+                    installmodule(f"--upgrade {thisPackage}")
+                    restartApp()
+                except:
+                    print(f"Failed to upgrade '{thisPackage}'!")
+
+# import other libraries
+import pprint
+from letmedoit.utils.shortcuts import createShortcuts
+from freegenius.core.assistant import FreeGenius
+from letmedoit.utils.vlc_utils import VlcUtil
+from prompt_toolkit.shortcuts import set_title, clear_title
+try:
+    # hide pygame welcome message
+    os.environ["PYGAME_HIDE_SUPPORT_PROMPT"] = "1"
+    import pygame
+    pygame.mixer.init()
+    config.isPygameInstalled = True
+except:
+    config.isPygameInstalled = False
+
+def setOsOpenCmd():
+    config.thisPlatform = thisPlatform
+    if config.terminalEnableTermuxAPI:
+        config.open = "termux-share"
+    elif thisPlatform == "Linux":
+        config.open = "xdg-open"
+    elif thisPlatform == "Darwin":
+        config.open = "open"
+    elif thisPlatform == "Windows":
+        config.open = "start"
+    # name macOS
+    if config.thisPlatform == "Darwin":
+        config.thisPlatform = "macOS"
+
+def saveConfig():
+    with open(configFile, "w", encoding="utf-8") as fileObj:
+        for name in dir(config):
+            excludeConfigList = temporaryConfigs + config.excludeConfigList
+            if not name.startswith("__") and not name in excludeConfigList:
+                try:
+                    value = eval(f"config.{name}")
+                    if not callable(value) and not str(value).startswith("<"):
+                        fileObj.write("{0} = {1}\n".format(name, pprint.pformat(value)))
+                except:
+                    pass
+config.saveConfig = saveConfig
+
+def set_log_file_max_lines(log_file, max_lines):
+    if os.path.isfile(log_file):
+        # Read the contents of the log file
+        with open(log_file, "r", encoding="utf-8") as fileObj:
+            lines = fileObj.readlines()
+        # Count the number of lines in the file
+        num_lines = len(lines)
+        if num_lines > max_lines:
+            # Calculate the number of lines to be deleted
+            num_lines_to_delete = num_lines - max_lines
+            if num_lines_to_delete > 0:
+                # Open the log file in write mode and truncate it
+                with open(log_file, "w", encoding="utf-8") as fileObj:
+                    # Write the remaining lines back to the log file
+                    fileObj.writelines(lines[num_lines_to_delete:])
+            filename = os.path.basename(log_file)
+            print(f"{num_lines_to_delete} old lines deleted from log file '{filename}'.")
 
-def vicuna():
-    main("vicuna")
+def main():
+    print(f"launching {config.letMeDoItName} ...")
 
-def main(thisModel=""):
     # Create the parser
-    parser = argparse.ArgumentParser(description="palm2 cli options")
+    parser = argparse.ArgumentParser(description="FreeGenius AI cli options")
     # Add arguments
-    parser.add_argument("default", nargs="?", default=None, help="default entry")
-    if not thisModel:
-        parser.add_argument('-m', '--model', action='store', dest='model', help="specify language model with -m flag; default: mistral")
+    parser.add_argument("default", nargs="?", default=None, help="default entry; accepts a string; ignored when -l/rf/f/r flag is used")
+    parser.add_argument('-c', '--context', action='store', dest='context', help="specify pre-defined context with -r flag; accepts a string")
+    parser.add_argument('-f', '--file', action='store', dest='file', help="read file text as default entry with -f flag; accepts a file path; ignored when -l/rf flag is used")
+    parser.add_argument('-i', '--ip', action='store', dest='ip', help="set 'true' to include or 'false' to exclude ip information in system message with -i flag")
+    parser.add_argument('-l', '--load', action='store', dest='load', help="load file that contains saved chat records with -l flag; accepts either a chat ID or a file path; required plugin 'search chat records'")
+    parser.add_argument('-n', '--nocheck', action='store', dest='nocheck', help="set 'true' to bypass completion check at startup with -n flag")
+    parser.add_argument('-r', '--run', action='store', dest='run', help="run default entry with -r flag; accepts a string; ignored when -l/rf/f flag is used")
+    parser.add_argument('-rf', '--runfile', action='store', dest='runfile', help="read file text as default entry and run with -rf flag; accepts a file path; ignored when -l flag is used")
+    parser.add_argument('-u', '--update', action='store', dest='update', help="set 'true' to force or 'false' to bypass automatic update with -u flag")
     # Parse arguments
     args = parser.parse_args()
-    # Get options
-    prompt = args.default.strip() if args.default and args.default.strip() else ""
-    if thisModel:
-        model = thisModel
+    # Check what kind of arguments were provided and perform actions accordingly
+
+    # update to the latest version
+    if args.update:
+        if args.update.lower() == "true":
+            updateApp(package)
+    # determined by config.autoUpgrade if -u flag is not used
+    elif config.autoUpgrade:
+        updateApp(package)
+
+    # initial completion check at startup
+    config.initialCompletionCheck = False if args.nocheck and args.nocheck.lower() == "true" else True
+
+    # include ip in system message
+    letmedoit.config.includeIpInSystemMessageTemp = config.includeIpInSystemMessageTemp = True if args.ip and args.ip.lower() == "true" else False
+
+    # specify pre-defined context
+    if args.context:
+        config.predefinedContextTemp = config.predefinedContext
+        config.predefinedContext = args.context
+
+    # priority: load > runfile > file > run > default
+    if args.load:
+        load = args.load.strip()
+        config.defaultEntry = f"Load chat records with this ID: {load}"
+        config.accept_default = True
+    elif args.runfile or args.file:
+        try:
+            filename = args.runfile if args.runfile else args.file
+            filename = os.path.expanduser(filename)
+            config.defaultEntry = ""
+            if os.path.isfile(filename):
+                if os.path.basename(filename) == "selected_files.txt":
+                    dirNo = 1
+                    fileNo = 1
+                    with open(filename, "r", encoding="utf-8") as fileObj:
+                        for line in fileObj.readlines():
+                            strippedLine = line.strip()
+                            if os.path.isdir(strippedLine):
+                                config.defaultEntry += f'''Folder {dirNo}: "{strippedLine}"\n'''
+                                dirNo += 1
+                            elif os.path.isfile(strippedLine):
+                                config.defaultEntry += f'''File {fileNo}: "{strippedLine}"\n'''
+                                fileNo += 1
+                            elif strippedLine:
+                                config.defaultEntry += line
+                else:
+                    with open(filename, "r", encoding="utf-8") as fileObj:
+                        config.defaultEntry = fileObj.read()
+            else:
+                print(f"'{filename}' does not exist!")
+        except:
+            config.defaultEntry = ""
+        config.accept_default = True if args.runfile else False
+        for i in ("selected_files", "selected_text"):
+            shutil.rmtree(os.path.join(os.path.expanduser('~'), config.letMeDoItName.split()[0].lower(), f"{i}.txt"), ignore_errors=True)
+    elif args.run:
+        config.defaultEntry = args.run.strip()
+        config.accept_default = True
+    elif args.default:
+        config.defaultEntry = args.default.strip()
+        config.accept_default = False
     else:
-        if args.model and args.model.strip():
-            model = args.model.strip()
-        else:
-            historyFolder = os.path.join(config.localStorage, "history")
-            Path(historyFolder).mkdir(parents=True, exist_ok=True)
-            model_history = os.path.join(historyFolder, "ollama_default")
-            model_session = PromptSession(history=FileHistory(model_history))
-            completer = FuzzyCompleter(WordCompleter(sorted(ollama_models), ignore_case=True))
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry}"""
-
-            print2("Ollama chat launched!")
-            print("Select a model below:")
-            print("Note: You should have at least 8 GB of RAM available to run the 7B models, 16 GB to run the 13B models, and 32 GB to run the 33B models.")
-            model = SinglePrompt.run(style=promptStyle, promptSession=model_session, bottom_toolbar=bottom_toolbar, default=config.ollamaMainModel, completer=completer)
-            if model and model.lower() == config.exit_entry:
-                print2("\nOllama chat closed!")
-                return None
-
-    if not model:
-        model = config.ollamaMainModel
-    # Run chat bot
-    OllamaChat().run(
-        prompt=prompt,
-        model=model,
-    )
-        
+        config.defaultEntry = ""
+        config.accept_default = False
+
+    set_title(config.letMeDoItName)
+    setOsOpenCmd()
+    createShortcuts()
+    config.excludeConfigList = []
+    config.isVlcPlayerInstalled = VlcUtil.isVlcPlayerInstalled()
+    # save loaded configs
+    saveConfig()
+    # check log files; remove old lines if more than 3000 lines is found in a log file
+    for i in ("chats", "paths", "commands"):
+        filepath = os.path.join(config.historyParentFolder if config.historyParentFolder else config.letMeDoItAIFolder, "history", i)
+        set_log_file_max_lines(filepath, 3000)
+    FreeGenius().startChats()
+    # Do the following tasks before exit
+    # backup configurations
+    saveConfig()
+    storageDir = getStorageDir()
+    if os.path.isdir(storageDir):
+        shutil.copy(configFile, os.path.join(storageDir, "config_backup.py"))
+    # delete temporary content
+    try:
+        tempFolder = os.path.join(config.letMeDoItAIFolder, "temp")
+        shutil.rmtree(tempFolder, ignore_errors=True)
+        Path(tempFolder).mkdir(parents=True, exist_ok=True)
+    except:
+        pass
+    # clear title
+    clear_title()
 
-if __name__ == '__main__':
-    main()
+if __name__ == "__main__":
+    main()
```

### Comparing `freegenius-0.0.87/freegenius/utils/assistant.py` & `freegenius-0.0.9/freegenius/core/assistant.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,6733 +1,7689 @@
-00000000: 6672 6f6d 2066 7265 6567 656e 6975 7320  from freegenius 
-00000010: 696d 706f 7274 2063 6f6e 6669 672c 2073  import config, s
-00000020: 686f 7745 7272 6f72 732c 2067 6574 4461  howErrors, getDa
-00000030: 794f 6657 6565 6b2c 2067 6574 4669 6c65  yOfWeek, getFile
-00000040: 6e61 6d65 7357 6974 686f 7574 4578 7465  namesWithoutExte
-00000050: 6e73 696f 6e2c 2067 6574 5374 7269 6e67  nsion, getString
-00000060: 5769 6474 682c 2073 746f 7053 7069 6e6e  Width, stopSpinn
-00000070: 696e 672c 2073 7069 6e6e 696e 675f 616e  ing, spinning_an
-00000080: 696d 6174 696f 6e2c 2067 6574 4c6f 6361  imation, getLoca
-00000090: 6c53 746f 7261 6765 2c20 6765 7457 6562  lStorage, getWeb
-000000a0: 5465 7874 2c20 6765 7457 6561 7468 6572  Text, getWeather
-000000b0: 0a66 726f 6d20 6672 6565 6765 6e69 7573  .from freegenius
-000000c0: 2069 6d70 6f72 7420 7072 696e 7431 2c20   import print1, 
-000000d0: 7072 696e 7432 2c20 7072 696e 7433 2c20  print2, print3, 
-000000e0: 6973 436f 6d6d 616e 6449 6e73 7461 6c6c  isCommandInstall
-000000f0: 6564 2c20 7365 7443 6861 7447 5054 4150  ed, setChatGPTAP
-00000100: 496b 6579 2c20 636f 756e 745f 746f 6b65  Ikey, count_toke
-00000110: 6e73 5f66 726f 6d5f 6675 6e63 7469 6f6e  ns_from_function
-00000120: 732c 2073 6574 546f 6f6c 4465 7065 6e64  s, setToolDepend
-00000130: 656e 6365 2c20 746f 6b65 6e4c 696d 6974  ence, tokenLimit
-00000140: 730a 6672 6f6d 2066 7265 6567 656e 6975  s.from freegeniu
-00000150: 7320 696d 706f 7274 2069 6e73 7461 6c6c  s import install
-00000160: 5069 7050 6163 6b61 6765 2c20 6765 7444  PipPackage, getD
-00000170: 6f77 6e6c 6f61 6465 644f 6c6c 616d 614d  ownloadedOllamaM
-00000180: 6f64 656c 732c 2067 6574 446f 776e 6c6f  odels, getDownlo
-00000190: 6164 6564 4767 7566 4d6f 6465 6c73 2c20  adedGgufModels, 
-000001a0: 6578 7472 6163 7450 7974 686f 6e43 6f64  extractPythonCod
-000001b0: 652c 2069 735f 7661 6c69 645f 7572 6c2c  e, is_valid_url,
-000001c0: 2067 6574 4375 7272 656e 7444 6174 6554   getCurrentDateT
-000001d0: 696d 652c 206f 7065 6e55 524c 2c20 6973  ime, openURL, is
-000001e0: 4578 6973 7469 6e67 5061 7468 2c20 6973  ExistingPath, is
-000001f0: 5f43 4a4b 0a66 726f 6d20 6672 6565 6765  _CJK.from freege
-00000200: 6e69 7573 2e75 7469 6c73 2e63 616c 6c5f  nius.utils.call_
-00000210: 6c6c 6d20 696d 706f 7274 2043 616c 6c4c  llm import CallL
-00000220: 4c4d 0a66 726f 6d20 6672 6565 6765 6e69  LM.from freegeni
-00000230: 7573 2e75 7469 6c73 2e74 6f6f 6c5f 706c  us.utils.tool_pl
-00000240: 7567 696e 7320 696d 706f 7274 2054 6f6f  ugins import Too
-00000250: 6c53 746f 7265 0a69 6d70 6f72 7420 6f70  lStore.import op
-00000260: 656e 6169 2c20 7468 7265 6164 696e 672c  enai, threading,
-00000270: 206f 732c 2074 7261 6365 6261 636b 2c20   os, traceback, 
-00000280: 7265 2c20 7375 6270 726f 6365 7373 2c20  re, subprocess, 
-00000290: 6a73 6f6e 2c20 7079 646f 632c 2073 6875  json, pydoc, shu
-000002a0: 7469 6c2c 2064 6174 6574 696d 652c 2070  til, datetime, p
-000002b0: 7072 696e 742c 2073 7973 2c20 636f 7079  print, sys, copy
-000002c0: 0a66 726f 6d20 7061 7468 6c69 6220 696d  .from pathlib im
-000002d0: 706f 7274 2050 6174 680a 6672 6f6d 2066  port Path.from f
-000002e0: 7265 6567 656e 6975 732e 7574 696c 732e  reegenius.utils.
-000002f0: 646f 776e 6c6f 6164 2069 6d70 6f72 7420  download import 
-00000300: 446f 776e 6c6f 6164 6572 0a66 726f 6d20  Downloader.from 
-00000310: 6672 6565 6765 6e69 7573 2e75 7469 6c73  freegenius.utils
-00000320: 2e6f 6c6c 616d 615f 6d6f 6465 6c73 2069  .ollama_models i
-00000330: 6d70 6f72 7420 6f6c 6c61 6d61 5f6d 6f64  mport ollama_mod
-00000340: 656c 730a 2366 726f 6d20 7079 676d 656e  els.#from pygmen
-00000350: 7473 2e6c 6578 6572 732e 7079 7468 6f6e  ts.lexers.python
-00000360: 2069 6d70 6f72 7420 5079 7468 6f6e 4c65   import PythonLe
-00000370: 7865 720a 2366 726f 6d20 7079 676d 656e  xer.#from pygmen
-00000380: 7473 2e6c 6578 6572 732e 7368 656c 6c20  ts.lexers.shell 
-00000390: 696d 706f 7274 2042 6173 684c 6578 6572  import BashLexer
-000003a0: 0a23 6672 6f6d 2070 7967 6d65 6e74 732e  .#from pygments.
-000003b0: 6c65 7865 7273 2e6d 6172 6b75 7020 696d  lexers.markup im
-000003c0: 706f 7274 204d 6172 6b64 6f77 6e4c 6578  port MarkdownLex
-000003d0: 6572 0a23 6672 6f6d 2070 726f 6d70 745f  er.#from prompt_
-000003e0: 746f 6f6c 6b69 742e 666f 726d 6174 7465  toolkit.formatte
-000003f0: 645f 7465 7874 2069 6d70 6f72 7420 5079  d_text import Py
-00000400: 676d 656e 7473 546f 6b65 6e73 0a66 726f  gmentsTokens.fro
-00000410: 6d20 7072 6f6d 7074 5f74 6f6f 6c6b 6974  m prompt_toolkit
-00000420: 2069 6d70 6f72 7420 5072 6f6d 7074 5365   import PromptSe
-00000430: 7373 696f 6e0a 6672 6f6d 2070 726f 6d70  ssion.from promp
-00000440: 745f 746f 6f6c 6b69 742e 6869 7374 6f72  t_toolkit.histor
-00000450: 7920 696d 706f 7274 2046 696c 6548 6973  y import FileHis
-00000460: 746f 7279 0a66 726f 6d20 7072 6f6d 7074  tory.from prompt
-00000470: 5f74 6f6f 6c6b 6974 2e63 6f6d 706c 6574  _toolkit.complet
-00000480: 696f 6e20 696d 706f 7274 2057 6f72 6443  ion import WordC
-00000490: 6f6d 706c 6574 6572 2c20 4675 7a7a 7943  ompleter, FuzzyC
-000004a0: 6f6d 706c 6574 6572 0a66 726f 6d20 7072  ompleter.from pr
-000004b0: 6f6d 7074 5f74 6f6f 6c6b 6974 2e73 686f  ompt_toolkit.sho
-000004c0: 7274 6375 7473 2069 6d70 6f72 7420 636c  rtcuts import cl
-000004d0: 6561 722c 2073 6574 5f74 6974 6c65 0a66  ear, set_title.f
-000004e0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
-000004f0: 6974 2e61 7070 6c69 6361 7469 6f6e 2069  it.application i
-00000500: 6d70 6f72 7420 7275 6e5f 696e 5f74 6572  mport run_in_ter
-00000510: 6d69 6e61 6c0a 6672 6f6d 2070 726f 6d70  minal.from promp
-00000520: 745f 746f 6f6c 6b69 7420 696d 706f 7274  t_toolkit import
-00000530: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
-00000540: 5f74 6578 742c 2048 544d 4c0a 6672 6f6d  _text, HTML.from
-00000550: 2066 7265 6567 656e 6975 732e 7574 696c   freegenius.util
-00000560: 732e 7465 726d 696e 616c 5f6d 6f64 655f  s.terminal_mode_
-00000570: 6469 616c 6f67 7320 696d 706f 7274 2054  dialogs import T
-00000580: 6572 6d69 6e61 6c4d 6f64 6544 6961 6c6f  erminalModeDialo
-00000590: 6773 0a66 726f 6d20 6672 6565 6765 6e69  gs.from freegeni
-000005a0: 7573 2e75 7469 6c73 2e70 726f 6d70 7473  us.utils.prompts
-000005b0: 2069 6d70 6f72 7420 5072 6f6d 7074 730a   import Prompts.
-000005c0: 6672 6f6d 2066 7265 6567 656e 6975 732e  from freegenius.
-000005d0: 7574 696c 732e 7072 6f6d 7074 5661 6c69  utils.promptVali
-000005e0: 6461 746f 7220 696d 706f 7274 2046 6c6f  dator import Flo
-000005f0: 6174 5661 6c69 6461 746f 722c 2054 6f6b  atValidator, Tok
-00000600: 656e 5661 6c69 6461 746f 720a 6672 6f6d  enValidator.from
-00000610: 2066 7265 6567 656e 6975 732e 7574 696c   freegenius.util
-00000620: 732e 6765 745f 7061 7468 5f70 726f 6d70  s.get_path_promp
-00000630: 7420 696d 706f 7274 2047 6574 5061 7468  t import GetPath
-00000640: 0a66 726f 6d20 6672 6565 6765 6e69 7573  .from freegenius
-00000650: 2e75 7469 6c73 2e70 726f 6d70 745f 7368  .utils.prompt_sh
-00000660: 6172 6564 5f6b 6579 5f62 696e 6469 6e67  ared_key_binding
-00000670: 7320 696d 706f 7274 2073 7761 7054 6572  s import swapTer
-00000680: 6d69 6e61 6c43 6f6c 6f72 730a 0a66 726f  minalColors..fro
-00000690: 6d20 6672 6565 6765 6e69 7573 2e75 7469  m freegenius.uti
-000006a0: 6c73 2e74 6572 6d69 6e61 6c5f 7379 7374  ls.terminal_syst
-000006b0: 656d 5f63 6f6d 6d61 6e64 5f70 726f 6d70  em_command_promp
-000006c0: 7420 696d 706f 7274 2053 7973 7465 6d43  t import SystemC
-000006d0: 6f6d 6d61 6e64 5072 6f6d 7074 0a66 726f  ommandPrompt.fro
-000006e0: 6d20 6672 6565 6765 6e69 7573 2e75 7469  m freegenius.uti
-000006f0: 6c73 2e74 6f6f 6c5f 706c 7567 696e 7320  ls.tool_plugins 
-00000700: 696d 706f 7274 2050 6c75 6769 6e73 0a66  import Plugins.f
-00000710: 726f 6d20 6672 6565 6765 6e69 7573 2e75  rom freegenius.u
-00000720: 7469 6c73 2e74 7473 5f75 7469 6c73 2069  tils.tts_utils i
-00000730: 6d70 6f72 7420 5454 5355 7469 6c0a 6672  mport TTSUtil.fr
-00000740: 6f6d 2066 7265 6567 656e 6975 732e 7574  om freegenius.ut
-00000750: 696c 732e 7474 734c 616e 6775 6167 6573  ils.ttsLanguages
-00000760: 2069 6d70 6f72 7420 5474 734c 616e 6775   import TtsLangu
-00000770: 6167 6573 0a66 726f 6d20 6672 6565 6765  ages.from freege
-00000780: 6e69 7573 2e75 7469 6c73 2e73 7472 6561  nius.utils.strea
-00000790: 6d69 6e67 5f77 6f72 645f 7772 6170 7065  ming_word_wrappe
-000007a0: 7220 696d 706f 7274 2053 7472 6561 6d69  r import Streami
-000007b0: 6e67 576f 7264 5772 6170 7065 720a 6672  ngWordWrapper.fr
-000007c0: 6f6d 2066 7265 6567 656e 6975 732e 7574  om freegenius.ut
-000007d0: 696c 732e 7465 7874 5f75 7469 6c73 2069  ils.text_utils i
-000007e0: 6d70 6f72 7420 5465 7874 5574 696c 0a66  mport TextUtil.f
-000007f0: 726f 6d20 6672 6565 6765 6e69 7573 2e75  rom freegenius.u
-00000800: 7469 6c73 2e73 7474 4c61 6e67 7561 6765  tils.sttLanguage
-00000810: 7320 696d 706f 7274 2067 6f6f 676c 6553  s import googleS
-00000820: 7065 6563 6b54 6f54 6578 744c 616e 6775  peeckToTextLangu
-00000830: 6167 6573 2c20 7768 6973 7065 7253 7065  ages, whisperSpe
-00000840: 6563 6b54 6f54 6578 744c 616e 6775 6167  eckToTextLanguag
-00000850: 6573 0a66 726f 6d20 6672 6565 6765 6e69  es.from freegeni
-00000860: 7573 2e63 6861 7467 7074 2069 6d70 6f72  us.chatgpt impor
-00000870: 7420 4368 6174 4750 540a 6672 6f6d 2066  t ChatGPT.from f
-00000880: 7265 6567 656e 6975 732e 6c6c 616d 6163  reegenius.llamac
-00000890: 7070 2069 6d70 6f72 7420 4c6c 616d 6163  pp import Llamac
-000008a0: 7070 4368 6174 0a66 726f 6d20 6672 6565  ppChat.from free
-000008b0: 6765 6e69 7573 2e6f 6c6c 616d 6163 6861  genius.ollamacha
-000008c0: 7420 696d 706f 7274 204f 6c6c 616d 6143  t import OllamaC
-000008d0: 6861 740a 6966 206e 6f74 2063 6f6e 6669  hat.if not confi
-000008e0: 672e 6973 5465 726d 7578 3a0a 2020 2020  g.isTermux:.    
-000008f0: 6672 6f6d 2066 7265 6567 656e 6975 732e  from freegenius.
-00000900: 6175 746f 6275 696c 6465 7220 696d 706f  autobuilder impo
-00000910: 7274 2041 7574 6f47 656e 4275 696c 6465  rt AutoGenBuilde
-00000920: 720a 2020 2020 6672 6f6d 2066 7265 6567  r.    from freeg
-00000930: 656e 6975 732e 6765 6d69 6e69 7072 6f20  enius.geminipro 
-00000940: 696d 706f 7274 2047 656d 696e 6950 726f  import GeminiPro
-00000950: 0a20 2020 2066 726f 6d20 6672 6565 6765  .    from freege
-00000960: 6e69 7573 2e70 616c 6d32 2069 6d70 6f72  nius.palm2 impor
-00000970: 7420 5061 6c6d 320a 2020 2020 6672 6f6d  t Palm2.    from
-00000980: 2066 7265 6567 656e 6975 732e 636f 6465   freegenius.code
-00000990: 7920 696d 706f 7274 2043 6f64 6579 0a66  y import Codey.f
-000009a0: 726f 6d20 656c 6576 656e 6c61 6273 2e63  rom elevenlabs.c
-000009b0: 6c69 656e 7420 696d 706f 7274 2045 6c65  lient import Ele
-000009c0: 7665 6e4c 6162 730a 0a0a 636c 6173 7320  venLabs...class 
-000009d0: 4672 6565 4765 6e69 7573 3a0a 0a20 2020  FreeGenius:..   
-000009e0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-000009f0: 6c66 293a 0a20 2020 2020 2020 2023 636f  lf):.        #co
-00000a00: 6e66 6967 2e6c 6574 4d65 446f 4974 4149  nfig.letMeDoItAI
-00000a10: 203d 2073 656c 660a 2020 2020 2020 2020   = self.        
-00000a20: 7365 6c66 2e70 726f 6d70 7473 203d 2050  self.prompts = P
-00000a30: 726f 6d70 7473 2829 0a20 2020 2020 2020  rompts().       
-00000a40: 2073 656c 662e 6469 616c 6f67 7320 3d20   self.dialogs = 
-00000a50: 5465 726d 696e 616c 4d6f 6465 4469 616c  TerminalModeDial
-00000a60: 6f67 7328 7365 6c66 290a 2020 2020 2020  ogs(self).      
-00000a70: 2020 7365 6c66 2e73 6574 7570 2829 0a20    self.setup(). 
-00000a80: 2020 2020 2020 2050 6c75 6769 6e73 2e72         Plugins.r
-00000a90: 756e 506c 7567 696e 7328 290a 0a20 2020  unPlugins()..   
-00000aa0: 2064 6566 2073 6574 7570 2873 656c 6629   def setup(self)
-00000ab0: 3a0a 2020 2020 2020 2020 2320 7365 7420  :.        # set 
-00000ac0: 7570 2074 6f6f 6c20 7374 6f72 6520 636c  up tool store cl
-00000ad0: 6965 6e74 0a20 2020 2020 2020 2054 6f6f  ient.        Too
-00000ae0: 6c53 746f 7265 2e73 6574 7570 546f 6f6c  lStore.setupTool
-00000af0: 5374 6f72 6543 6c69 656e 7428 290a 0a20  StoreClient().. 
-00000b00: 2020 2020 2020 2073 656c 662e 6d6f 6465         self.mode
-00000b10: 6c73 203d 206c 6973 7428 746f 6b65 6e4c  ls = list(tokenL
-00000b20: 696d 6974 732e 6b65 7973 2829 290a 2020  imits.keys()).  
-00000b30: 2020 2020 2020 636f 6e66 6967 2e64 6976        config.div
-00000b40: 6964 6572 203d 2073 656c 662e 6469 7669  ider = self.divi
-00000b50: 6465 7220 3d20 222d 2d2d 2d2d 2d2d 2d2d  der = "---------
-00000b60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d22 0a20 2020  -----------".   
-00000b70: 2020 2020 2063 6f6e 6669 672e 7275 6e50       config.runP
-00000b80: 7974 686f 6e20 3d20 5472 7565 0a20 2020  ython = True.   
-00000b90: 2020 2020 2069 6620 6e6f 7420 6861 7361       if not hasa
-00000ba0: 7474 7228 636f 6e66 6967 2c20 2261 6363  ttr(config, "acc
-00000bb0: 6570 745f 6465 6661 756c 7422 293a 0a20  ept_default"):. 
-00000bc0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00000bd0: 672e 6163 6365 7074 5f64 6566 6175 6c74  g.accept_default
-00000be0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-00000bf0: 2069 6620 6e6f 7420 6861 7361 7474 7228   if not hasattr(
-00000c00: 636f 6e66 6967 2c20 2264 6566 6175 6c74  config, "default
-00000c10: 456e 7472 7922 293a 0a20 2020 2020 2020  Entry"):.       
-00000c20: 2020 2020 2063 6f6e 6669 672e 6465 6661       config.defa
-00000c30: 756c 7445 6e74 7279 203d 2022 220a 2020  ultEntry = "".  
-00000c40: 2020 2020 2020 636f 6e66 6967 2e74 656d        config.tem
-00000c50: 7043 6f6e 7465 6e74 203d 2022 220a 2020  pContent = "".  
-00000c60: 2020 2020 2020 636f 6e66 6967 2e74 656d        config.tem
-00000c70: 7043 6875 6e6b 203d 2022 220a 2020 2020  pChunk = "".    
-00000c80: 2020 2020 6966 206e 6f74 2068 6173 6174      if not hasat
-00000c90: 7472 2863 6f6e 6669 672c 2022 7072 6564  tr(config, "pred
-00000ca0: 6566 696e 6564 436f 6e74 6578 7454 656d  efinedContextTem
-00000cb0: 7022 293a 0a20 2020 2020 2020 2020 2020  p"):.           
-00000cc0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00000cd0: 6564 436f 6e74 6578 7454 656d 7020 3d20  edContextTemp = 
-00000ce0: 2222 0a20 2020 2020 2020 2063 6f6e 6669  "".        confi
-00000cf0: 672e 7379 7374 656d 436f 6d6d 616e 6450  g.systemCommandP
-00000d00: 726f 6d70 7445 6e74 7279 203d 2022 220a  romptEntry = "".
-00000d10: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
-00000d20: 6167 6572 436f 6e74 656e 7420 3d20 2222  agerContent = ""
-00000d30: 0a20 2020 2020 2020 2023 7365 6c66 2e61  .        #self.a
-00000d40: 6464 5061 6765 7243 6f6e 7465 6e74 203d  ddPagerContent =
-00000d50: 2046 616c 7365 0a20 2020 2020 2020 2023   False.        #
-00000d60: 2073 6861 7265 2074 6865 2066 6f6c 6c6f   share the follo
-00000d70: 7769 6e67 206d 6574 686f 6473 2069 6e20  wing methods in 
-00000d80: 636f 6e66 6967 2073 6f20 7468 6174 2074  config so that t
-00000d90: 6865 7920 6172 6520 6163 6365 7373 6962  hey are accessib
-00000da0: 6c65 2076 6961 2070 6c75 6769 6e73 0a20  le via plugins. 
-00000db0: 2020 2020 2020 2063 6f6e 6669 672e 746f         config.to
-00000dc0: 6767 6c65 4d75 6c74 696c 696e 6520 3d20  ggleMultiline = 
-00000dd0: 7365 6c66 2e74 6f67 676c 654d 756c 7469  self.toggleMulti
-00000de0: 6c69 6e65 0a20 2020 2020 2020 2063 6f6e  line.        con
-00000df0: 6669 672e 6765 7457 7261 7070 6564 4854  fig.getWrappedHT
-00000e00: 4d4c 5465 7874 203d 2073 656c 662e 6765  MLText = self.ge
-00000e10: 7457 7261 7070 6564 4854 4d4c 5465 7874  tWrappedHTMLText
-00000e20: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
-00000e30: 6669 6e65 5475 6e65 5573 6572 496e 7075  fineTuneUserInpu
-00000e40: 7420 3d20 7365 6c66 2e66 696e 6554 756e  t = self.fineTun
-00000e50: 6555 7365 7249 6e70 7574 0a20 2020 2020  eUserInput.     
-00000e60: 2020 2063 6f6e 6669 672e 6c61 756e 6368     config.launch
-00000e70: 5061 6765 7220 3d20 7365 6c66 2e6c 6175  Pager = self.lau
-00000e80: 6e63 6850 6167 6572 0a20 2020 2020 2020  nchPager.       
-00000e90: 2063 6f6e 6669 672e 6164 6450 6167 6572   config.addPager
-00000ea0: 5465 7874 203d 2073 656c 662e 6164 6450  Text = self.addP
-00000eb0: 6167 6572 5465 7874 0a20 2020 2020 2020  agerText.       
-00000ec0: 2063 6f6e 6669 672e 6368 616e 6765 4f70   config.changeOp
-00000ed0: 656e 7765 6174 6865 726d 6170 4170 6920  enweathermapApi 
-00000ee0: 3d20 7365 6c66 2e63 6861 6e67 654f 7065  = self.changeOpe
-00000ef0: 6e77 6561 7468 6572 6d61 7041 7069 0a20  nweathermapApi. 
-00000f00: 2020 2020 2020 2063 6f6e 6669 672e 7365         config.se
-00000f10: 6c65 6374 6564 546f 6f6c 203d 2022 220a  lectedTool = "".
-00000f20: 2020 2020 2020 2020 2320 656e 7620 7661          # env va
-00000f30: 7269 6162 6c65 730a 2020 2020 2020 2020  riables.        
-00000f40: 6f73 2e65 6e76 6972 6f6e 5b22 5154 5f51  os.environ["QT_Q
-00000f50: 5041 5f50 4c41 5446 4f52 4d5f 504c 5547  PA_PLATFORM_PLUG
-00000f60: 494e 5f50 4154 4822 5d20 3d20 636f 6e66  IN_PATH"] = conf
-00000f70: 6967 2e65 6e76 5f51 545f 5150 415f 504c  ig.env_QT_QPA_PL
-00000f80: 4154 464f 524d 5f50 4c55 4749 4e5f 5041  ATFORM_PLUGIN_PA
-00000f90: 5448 0a0a 2020 2020 2020 2020 2320 6765  TH..        # ge
-00000fa0: 7420 7061 7468 0a20 2020 2020 2020 2063  t path.        c
-00000fb0: 6f6e 6669 672e 6164 6450 6174 6841 7420  onfig.addPathAt 
-00000fc0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-00000fd0: 656c 662e 6765 7450 6174 6820 3d20 4765  elf.getPath = Ge
-00000fe0: 7450 6174 6828 0a20 2020 2020 2020 2020  tPath(.         
-00000ff0: 2020 2063 616e 6365 6c5f 656e 7472 793d     cancel_entry=
-00001000: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
-00001010: 7072 6f6d 7074 496e 6469 6361 746f 7243  promptIndicatorC
-00001020: 6f6c 6f72 3d63 6f6e 6669 672e 7465 726d  olor=config.term
-00001030: 696e 616c 5072 6f6d 7074 496e 6469 6361  inalPromptIndica
-00001040: 746f 7243 6f6c 6f72 322c 0a20 2020 2020  torColor2,.     
-00001050: 2020 2020 2020 2070 726f 6d70 7445 6e74         promptEnt
-00001060: 7279 436f 6c6f 723d 636f 6e66 6967 2e74  ryColor=config.t
-00001070: 6572 6d69 6e61 6c43 6f6d 6d61 6e64 456e  erminalCommandEn
-00001080: 7472 7943 6f6c 6f72 322c 0a20 2020 2020  tryColor2,.     
-00001090: 2020 2020 2020 2073 7562 4865 6164 696e         subHeadin
-000010a0: 6743 6f6c 6f72 3d63 6f6e 6669 672e 7465  gColor=config.te
-000010b0: 726d 696e 616c 436f 6c6f 7273 5b63 6f6e  rminalColors[con
-000010c0: 6669 672e 7465 726d 696e 616c 5072 6f6d  fig.terminalProm
-000010d0: 7074 496e 6469 6361 746f 7243 6f6c 6f72  ptIndicatorColor
-000010e0: 325d 2c0a 2020 2020 2020 2020 2020 2020  2],.            
-000010f0: 6974 656d 436f 6c6f 723d 636f 6e66 6967  itemColor=config
-00001100: 2e74 6572 6d69 6e61 6c43 6f6c 6f72 735b  .terminalColors[
-00001110: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
-00001120: 6f6d 6d61 6e64 456e 7472 7943 6f6c 6f72  ommandEntryColor
-00001130: 325d 2c0a 2020 2020 2020 2020 290a 0a20  2],.        ).. 
-00001140: 2020 2020 2020 2023 2068 6973 6f74 7279         # hisotry
-00001150: 2064 6972 6563 746f 7279 0a20 2020 2020   directory.     
-00001160: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00001170: 2020 2020 6869 7374 6f72 7950 6172 656e      historyParen
-00001180: 7446 6f6c 6465 7220 3d20 6f73 2e70 6174  tFolder = os.pat
-00001190: 682e 6a6f 696e 2863 6f6e 6669 672e 6c6f  h.join(config.lo
-000011a0: 6361 6c53 746f 7261 6765 2c20 2268 6973  calStorage, "his
-000011b0: 746f 7279 2229 0a20 2020 2020 2020 2020  tory").         
-000011c0: 2020 2050 6174 6828 6869 7374 6f72 7950     Path(historyP
-000011d0: 6172 656e 7446 6f6c 6465 7229 2e6d 6b64  arentFolder).mkd
-000011e0: 6972 2870 6172 656e 7473 3d54 7275 652c  ir(parents=True,
-000011f0: 2065 7869 7374 5f6f 6b3d 5472 7565 290a   exist_ok=True).
-00001200: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00001210: 6920 696e 2028 2263 6861 7473 222c 2022  i in ("chats", "
-00001220: 7061 7468 7322 2c20 2263 6f6d 6d61 6e64  paths", "command
-00001230: 7322 293a 0a20 2020 2020 2020 2020 2020  s"):.           
-00001240: 2020 2020 2068 6973 746f 7279 4669 6c65       historyFile
-00001250: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00001260: 6869 7374 6f72 7950 6172 656e 7446 6f6c  historyParentFol
-00001270: 6465 722c 2069 290a 2020 2020 2020 2020  der, i).        
-00001280: 2020 2020 2020 2020 6966 206e 6f74 206f          if not o
-00001290: 732e 7061 7468 2e69 7366 696c 6528 6869  s.path.isfile(hi
-000012a0: 7374 6f72 7946 696c 6529 3a0a 2020 2020  storyFile):.    
-000012b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012c0: 6f70 656e 2868 6973 746f 7279 4669 6c65  open(historyFile
-000012d0: 2c20 2261 222c 2065 6e63 6f64 696e 673d  , "a", encoding=
-000012e0: 2275 7466 2d38 2229 2e63 6c6f 7365 2829  "utf-8").close()
-000012f0: 0a20 2020 2020 2020 2065 7863 6570 743a  .        except:
-00001300: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00001310: 6e74 2822 4661 696c 6564 2073 6176 696e  nt("Failed savin
-00001320: 6720 6869 7374 6f72 7921 2229 0a20 2020  g history!").   
-00001330: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-00001340: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-00001350: 200a 2020 2020 2020 2020 6966 206e 6f74   .        if not
-00001360: 2063 6f6e 6669 672e 6f70 656e 6169 4170   config.openaiAp
-00001370: 694b 6579 3a0a 2020 2020 2020 2020 2020  iKey:.          
-00001380: 2020 7365 6c66 2e63 6861 6e67 6543 6861    self.changeCha
-00001390: 7447 5054 4150 496b 6579 2829 0a0a 2020  tGPTAPIkey()..  
-000013a0: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
-000013b0: 6669 672e 6f70 656e 6169 4170 694b 6579  fig.openaiApiKey
-000013c0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-000013d0: 696e 7432 2822 4368 6174 4750 5420 4150  int2("ChatGPT AP
-000013e0: 4920 6b65 7920 6e6f 7420 666f 756e 6421  I key not found!
-000013f0: 2229 0a20 2020 2020 2020 2020 2020 2070  ").            p
-00001400: 7269 6e74 3328 2252 6561 643a 2068 7474  rint3("Read: htt
-00001410: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00001420: 656c 6972 616e 776f 6e67 2f6c 6574 6d65  eliranwong/letme
-00001430: 646f 6974 2f77 696b 692f 4368 6174 4750  doit/wiki/ChatGP
-00001440: 542d 4150 492d 4b65 7922 290a 2020 2020  T-API-Key").    
-00001450: 2020 2020 2020 2020 6578 6974 2830 290a          exit(0).
-00001460: 0a20 2020 2020 2020 2023 2069 6e69 7469  .        # initi
-00001470: 616c 2063 6f6d 706c 6574 696f 6e20 6368  al completion ch
-00001480: 6563 6b20 6174 2073 7461 7274 7570 0a20  eck at startup. 
-00001490: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-000014a0: 2e69 6e69 7469 616c 436f 6d70 6c65 7469  .initialCompleti
-000014b0: 6f6e 4368 6563 6b3a 0a20 2020 2020 2020  onCheck:.       
-000014c0: 2020 2020 2043 616c 6c4c 4c4d 2e63 6865       CallLLM.che
-000014d0: 636b 436f 6d70 6c65 7469 6f6e 2829 0a0a  ckCompletion()..
-000014e0: 2020 2020 2020 2020 6368 6174 5f68 6973          chat_his
-000014f0: 746f 7279 203d 206f 732e 7061 7468 2e6a  tory = os.path.j
-00001500: 6f69 6e28 636f 6e66 6967 2e6c 6f63 616c  oin(config.local
-00001510: 5374 6f72 6167 652c 2022 6869 7374 6f72  Storage, "histor
-00001520: 7922 2c20 2263 6861 7473 2229 0a20 2020  y", "chats").   
-00001530: 2020 2020 2073 656c 662e 7465 726d 696e       self.termin
-00001540: 616c 5f63 6861 745f 7365 7373 696f 6e20  al_chat_session 
-00001550: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
-00001560: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
-00001570: 6f72 7928 6368 6174 5f68 6973 746f 7279  ory(chat_history
-00001580: 2929 0a0a 2020 2020 2020 2020 2320 6368  ))..        # ch
-00001590: 6563 6b20 6966 2074 7473 2069 7320 7265  eck if tts is re
-000015a0: 6164 790a 2020 2020 2020 2020 7365 6c66  ady.        self
-000015b0: 2e69 7354 7473 4176 6169 6c61 626c 6528  .isTtsAvailable(
-000015c0: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-000015d0: 6163 7469 6f6e 7320 3d20 7b0a 2020 2020  actions = {.    
-000015e0: 2020 2020 2020 2020 222e 6e65 7722 3a20          ".new": 
-000015f0: 2866 2273 7461 7274 2061 206e 6577 2063  (f"start a new c
-00001600: 6861 7420 7b73 7472 2863 6f6e 6669 672e  hat {str(config.
-00001610: 686f 746b 6579 5f6e 6577 297d 222c 204e  hotkey_new)}", N
-00001620: 6f6e 6529 2c0a 2020 2020 2020 2020 2020  one),.          
-00001630: 2020 222e 7361 7665 223a 2028 2273 6176    ".save": ("sav
-00001640: 6520 636f 6e74 656e 7422 2c20 6c61 6d62  e content", lamb
-00001650: 6461 3a20 7365 6c66 2e73 6176 6543 6861  da: self.saveCha
-00001660: 7428 636f 6e66 6967 2e63 7572 7265 6e74  t(config.current
-00001670: 4d65 7373 6167 6573 2929 2c0a 2020 2020  Messages)),.    
-00001680: 2020 2020 2020 2020 222e 6578 706f 7274          ".export
-00001690: 223a 2028 6622 6578 706f 7274 2063 6f6e  ": (f"export con
-000016a0: 7465 6e74 207b 7374 7228 636f 6e66 6967  tent {str(config
-000016b0: 2e68 6f74 6b65 795f 6578 706f 7274 297d  .hotkey_export)}
-000016c0: 222c 206c 616d 6264 613a 2073 656c 662e  ", lambda: self.
-000016d0: 6578 706f 7274 4368 6174 2863 6f6e 6669  exportChat(confi
-000016e0: 672e 6375 7272 656e 744d 6573 7361 6765  g.currentMessage
-000016f0: 7329 292c 0a20 2020 2020 2020 2020 2020  s)),.           
-00001700: 2022 2e63 6f6e 7465 7874 223a 2028 6622   ".context": (f"
-00001710: 6368 616e 6765 2063 6861 7420 636f 6e74  change chat cont
-00001720: 6578 7420 7b73 7472 2863 6f6e 6669 672e  ext {str(config.
-00001730: 686f 746b 6579 5f73 656c 6563 745f 636f  hotkey_select_co
-00001740: 6e74 6578 7429 7d22 2c20 4e6f 6e65 292c  ntext)}", None),
-00001750: 0a20 2020 2020 2020 2020 2020 2022 2e63  .            ".c
-00001760: 6f6e 7465 7874 696e 7465 6772 6174 696f  ontextintegratio
-00001770: 6e22 3a20 2822 6368 616e 6765 2063 6861  n": ("change cha
-00001780: 7420 636f 6e74 6578 7420 696e 7465 6772  t context integr
-00001790: 6174 696f 6e22 2c20 7365 6c66 2e73 6574  ation", self.set
-000017a0: 436f 6e74 6578 7449 6e74 6567 7261 7469  ContextIntegrati
-000017b0: 6f6e 292c 0a20 2020 2020 2020 2020 2020  on),.           
-000017c0: 2022 2e6d 6f64 656c 223a 2028 2263 6861   ".model": ("cha
-000017d0: 6e67 6520 6c61 7267 6520 6c61 6e67 7561  nge large langua
-000017e0: 6765 206d 6f64 656c 222c 2073 656c 662e  ge model", self.
-000017f0: 7365 744c 6c6d 4d6f 6465 6c29 2c0a 2020  setLlmModel),.  
-00001800: 2020 2020 2020 2020 2020 2322 2e63 6861            #".cha
-00001810: 746d 6f64 656c 223a 2028 2263 6861 6e67  tmodel": ("chang
-00001820: 6520 6368 6174 2d6f 6e6c 7920 6d6f 6465  e chat-only mode
-00001830: 6c22 2c20 7365 6c66 2e73 6574 4368 6174  l", self.setChat
-00001840: 626f 7429 2c0a 2020 2020 2020 2020 2020  bot),.          
-00001850: 2020 222e 656d 6265 6464 696e 6722 3a20    ".embedding": 
-00001860: 2822 6368 616e 6765 2065 6d62 6564 6469  ("change embeddi
-00001870: 6e67 206d 6f64 656c 222c 2073 656c 662e  ng model", self.
-00001880: 7365 7445 6d62 6564 6469 6e67 4d6f 6465  setEmbeddingMode
-00001890: 6c29 2c0a 2020 2020 2020 2020 2020 2020  l),.            
-000018a0: 222e 6368 616e 6765 6170 696b 6579 223a  ".changeapikey":
-000018b0: 2028 2263 6861 6e67 6520 4f70 656e 4149   ("change OpenAI
-000018c0: 2041 5049 206b 6579 222c 2073 656c 662e   API key", self.
-000018d0: 6368 616e 6765 4368 6174 4750 5441 5049  changeChatGPTAPI
-000018e0: 6b65 7929 2c0a 2020 2020 2020 2020 2020  key),.          
-000018f0: 2020 222e 7465 6d70 6572 6174 7572 6522    ".temperature"
-00001900: 3a20 2822 6368 616e 6765 2074 656d 7065  : ("change tempe
-00001910: 7261 7475 7265 222c 2073 656c 662e 7365  rature", self.se
-00001920: 7454 656d 7065 7261 7475 7265 292c 0a20  tTemperature),. 
-00001930: 2020 2020 2020 2020 2020 2022 2e6d 6178             ".max
-00001940: 746f 6b65 6e73 223a 2028 2263 6861 6e67  tokens": ("chang
-00001950: 6520 6d61 7869 6d75 6d20 6f75 7470 7574  e maximum output
-00001960: 2074 6f6b 656e 7322 2c20 7365 6c66 2e73   tokens", self.s
-00001970: 6574 4d61 7854 6f6b 656e 7329 2c0a 2020  etMaxTokens),.  
-00001980: 2020 2020 2020 2020 2020 222e 6d69 6e74            ".mint
-00001990: 6f6b 656e 7322 3a20 2822 6368 616e 6765  okens": ("change
-000019a0: 206d 696e 696d 756d 206f 7574 7075 7420   minimum output 
-000019b0: 746f 6b65 6e73 222c 2073 656c 662e 7365  tokens", self.se
-000019c0: 744d 696e 546f 6b65 6e73 292c 0a20 2020  tMinTokens),.   
-000019d0: 2020 2020 2020 2020 2022 2e64 796e 616d           ".dynam
-000019e0: 6963 746f 6b65 6e63 6f75 6e74 223a 2028  ictokencount": (
-000019f0: 2263 6861 6e67 6520 6479 6e61 6d69 6320  "change dynamic 
-00001a00: 746f 6b65 6e20 636f 756e 7422 2c20 7365  token count", se
-00001a10: 6c66 2e73 6574 4479 6e61 6d69 6354 6f6b  lf.setDynamicTok
-00001a20: 656e 436f 756e 7429 2c0a 2020 2020 2020  enCount),.      
-00001a30: 2020 2020 2020 222e 6d61 7861 7574 6f63        ".maxautoc
-00001a40: 6f72 7265 6374 223a 2028 2263 6861 6e67  orrect": ("chang
-00001a50: 6520 6d61 7869 6d75 6d20 636f 6e73 6563  e maximum consec
-00001a60: 7574 6976 6520 6175 746f 2d63 6f72 7265  utive auto-corre
-00001a70: 6374 696f 6e22 2c20 7365 6c66 2e73 6574  ction", self.set
-00001a80: 4d61 7841 7574 6f43 6f72 7265 6374 292c  MaxAutoCorrect),
-00001a90: 0a20 2020 2020 2020 2020 2020 2022 2e6d  .            ".m
-00001aa0: 6178 6d65 6d6f 7279 6d61 7463 6865 7322  axmemorymatches"
-00001ab0: 3a20 2822 6368 616e 6765 206d 6178 696d  : ("change maxim
-00001ac0: 756d 206d 656d 6f72 7920 6d61 7463 6865  um memory matche
-00001ad0: 7322 2c20 7365 6c66 2e73 6574 4d65 6d6f  s", self.setMemo
-00001ae0: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-00001af0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-00001b00: 2e6d 6178 6368 6174 7265 636f 7264 6d61  .maxchatrecordma
-00001b10: 7463 6865 7322 3a20 2822 6368 616e 6765  tches": ("change
-00001b20: 206d 6178 696d 756d 2063 6861 7420 7265   maximum chat re
-00001b30: 636f 7264 206d 6174 6368 6573 222c 2073  cord matches", s
-00001b40: 656c 662e 7365 7443 6861 7452 6563 6f72  elf.setChatRecor
-00001b50: 6443 6c6f 7365 7374 4d61 7463 6865 7329  dClosestMatches)
-00001b60: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
-00001b70: 746f 6f6c 7322 3a20 2822 6368 616e 6765  tools": ("change
-00001b80: 2074 6f6f 6c20 7365 6c65 6374 696f 6e20   tool selection 
-00001b90: 636f 6e66 6967 7572 6174 696f 6e73 222c  configurations",
-00001ba0: 2073 656c 662e 7365 7454 6f6f 6c53 656c   self.setToolSel
-00001bb0: 6563 7469 6f6e 436f 6e66 6967 7329 2c0a  ectionConfigs),.
-00001bc0: 2020 2020 2020 2020 2020 2020 222e 706c              ".pl
-00001bd0: 7567 696e 7322 3a20 2822 6368 616e 6765  ugins": ("change
-00001be0: 2070 6c75 6769 6e73 222c 2073 656c 662e   plugins", self.
-00001bf0: 7365 6c65 6374 506c 7567 696e 7329 2c0a  selectPlugins),.
-00001c00: 2020 2020 2020 2020 2020 2020 222e 6675              ".fu
-00001c10: 6e63 7469 6f6e 6361 6c6c 223a 2028 2263  nctioncall": ("c
-00001c20: 6861 6e67 6520 6675 6e63 7469 6f6e 2063  hange function c
-00001c30: 616c 6c22 2c20 7365 6c66 2e73 6574 4675  all", self.setFu
-00001c40: 6e63 7469 6f6e 4361 6c6c 292c 0a20 2020  nctionCall),.   
-00001c50: 2020 2020 2020 2020 2022 2e66 756e 6374           ".funct
-00001c60: 696f 6e63 616c 6c69 6e74 6567 7261 7469  ioncallintegrati
-00001c70: 6f6e 223a 2028 2263 6861 6e67 6520 6675  on": ("change fu
-00001c80: 6e63 7469 6f6e 2063 616c 6c20 696e 7465  nction call inte
-00001c90: 6772 6174 696f 6e22 2c20 7365 6c66 2e73  gration", self.s
-00001ca0: 6574 4675 6e63 7469 6f6e 5265 7370 6f6e  etFunctionRespon
-00001cb0: 7365 292c 0a20 2020 2020 2020 2020 2020  se),.           
-00001cc0: 2022 2e6c 6174 6573 7453 6561 7263 6865   ".latestSearche
-00001cd0: 7322 3a20 2822 6368 616e 6765 206f 6e6c  s": ("change onl
-00001ce0: 696e 6520 7365 6172 6368 6573 222c 2073  ine searches", s
-00001cf0: 656c 662e 7365 744c 6174 6573 7453 6561  elf.setLatestSea
-00001d00: 7263 6865 7329 2c0a 2020 2020 2020 2020  rches),.        
-00001d10: 2020 2020 222e 7573 6572 636f 6e66 6972      ".userconfir
-00001d20: 6d61 7469 6f6e 223a 2028 2263 6861 6e67  mation": ("chang
-00001d30: 6520 636f 6465 2063 6f6e 6669 726d 6174  e code confirmat
-00001d40: 696f 6e20 7072 6f74 6f63 6f6c 222c 2073  ion protocol", s
-00001d50: 656c 662e 7365 7455 7365 7243 6f6e 6669  elf.setUserConfi
-00001d60: 726d 6174 696f 6e29 2c0a 2020 2020 2020  rmation),.      
-00001d70: 2020 2020 2020 222e 636f 6465 6469 7370        ".codedisp
-00001d80: 6c61 7922 3a20 2822 6368 616e 6765 2063  lay": ("change c
-00001d90: 6f64 6520 6469 7370 6c61 7922 2c20 7365  ode display", se
-00001da0: 6c66 2e73 6574 436f 6465 4469 7370 6c61  lf.setCodeDispla
-00001db0: 7929 2c0a 2020 2020 2020 2020 2020 2020  y),.            
-00001dc0: 222e 7061 6765 7276 6965 7722 3a20 2822  ".pagerview": ("
-00001dd0: 6368 616e 6765 2070 6167 6572 2076 6965  change pager vie
-00001de0: 7722 2c20 7365 6c66 2e73 6574 5061 6765  w", self.setPage
-00001df0: 7256 6965 7729 2c0a 2020 2020 2020 2020  rView),.        
-00001e00: 2020 2020 222e 6173 7369 7374 616e 746e      ".assistantn
-00001e10: 616d 6522 3a20 2822 6368 616e 6765 2061  ame": ("change a
-00001e20: 7373 6973 7461 6e74 206e 616d 6522 2c20  ssistant name", 
-00001e30: 7365 6c66 2e73 6574 4173 7369 7374 616e  self.setAssistan
-00001e40: 744e 616d 6529 2c0a 2020 2020 2020 2020  tName),.        
-00001e50: 2020 2020 222e 7379 7374 656d 6d65 7373      ".systemmess
-00001e60: 6167 6522 3a20 2822 6368 616e 6765 2063  age": ("change c
-00001e70: 7573 746f 6d20 7379 7374 656d 206d 6573  ustom system mes
-00001e80: 7361 6765 222c 2073 656c 662e 7365 7443  sage", self.setC
-00001e90: 7573 746f 6d53 7973 7465 6d4d 6573 7361  ustomSystemMessa
-00001ea0: 6765 292c 0a20 2020 2020 2020 2020 2020  ge),.           
-00001eb0: 2022 2e69 7069 6e66 6f22 3a20 2822 6368   ".ipinfo": ("ch
-00001ec0: 616e 6765 2069 7020 696e 666f 726d 6174  ange ip informat
-00001ed0: 696f 6e20 696e 7465 6772 6174 696f 6e22  ion integration"
-00001ee0: 2c20 7365 6c66 2e73 6574 496e 636c 7564  , self.setInclud
-00001ef0: 6549 7049 6e53 7973 7465 6d4d 6573 7361  eIpInSystemMessa
-00001f00: 6765 292c 0a20 2020 2020 2020 2020 2020  ge),.           
-00001f10: 2022 2e73 746f 7261 6765 6469 7265 6374   ".storagedirect
-00001f20: 6f72 7922 3a20 2822 6368 616e 6765 2073  ory": ("change s
-00001f30: 746f 7261 6765 2064 6972 6563 746f 7279  torage directory
-00001f40: 222c 2073 656c 662e 7365 7453 746f 7261  ", self.setStora
-00001f50: 6765 4469 7265 6374 6f72 7929 2c0a 2020  geDirectory),.  
-00001f60: 2020 2020 2020 2020 2020 222e 766f 6963            ".voic
-00001f70: 6574 7970 696e 6763 6f6e 6669 6722 3a20  etypingconfig": 
-00001f80: 2822 6368 616e 6765 2076 6f69 6365 2074  ("change voice t
-00001f90: 7970 696e 6720 636f 6e66 6967 222c 2073  yping config", s
-00001fa0: 656c 662e 7365 7456 6f69 6365 5479 7069  elf.setVoiceTypi
-00001fb0: 6e67 436f 6e66 6967 292c 0a20 2020 2020  ngConfig),.     
-00001fc0: 2020 2020 2020 2022 2e74 6578 7474 6f73         ".texttos
-00001fd0: 7065 6563 6863 6f6e 6669 6722 3a20 2822  peechconfig": ("
-00001fe0: 6368 616e 6765 2074 6578 742d 746f 2d73  change text-to-s
-00001ff0: 7065 6563 6820 636f 6e66 6967 222c 2073  peech config", s
-00002000: 656c 662e 7365 7454 6578 7454 6f53 7065  elf.setTextToSpe
-00002010: 6563 6843 6f6e 6669 6729 2c0a 2020 2020  echConfig),.    
-00002020: 2020 2020 2020 2020 222e 676f 6f67 6c65          ".google
-00002030: 6170 6973 6572 7669 6365 223a 2028 2263  apiservice": ("c
-00002040: 6861 6e67 6520 476f 6f67 6c65 2041 5049  hange Google API
-00002050: 2073 6572 7669 6365 222c 2073 656c 662e   service", self.
-00002060: 7365 6c65 6374 476f 6f67 6c65 4150 4973  selectGoogleAPIs
-00002070: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-00002080: 2e6f 7065 6e77 6561 7468 6572 6d61 7061  .openweathermapa
-00002090: 7069 223a 2028 2263 6861 6e67 6520 4f70  pi": ("change Op
-000020a0: 656e 5765 6174 6865 724d 6170 2041 5049  enWeatherMap API
-000020b0: 206b 6579 222c 2073 656c 662e 6368 616e   key", self.chan
-000020c0: 6765 4f70 656e 7765 6174 6865 726d 6170  geOpenweathermap
-000020d0: 4170 6929 2c0a 2020 2020 2020 2020 2020  Api),.          
-000020e0: 2020 222e 656c 6576 656e 6c61 6273 6170    ".elevenlabsap
-000020f0: 6922 3a20 2822 6368 616e 6765 2045 6c65  i": ("change Ele
-00002100: 7665 6e4c 6162 7320 4150 4920 6b65 7922  venLabs API key"
-00002110: 2c20 7365 6c66 2e63 6861 6e67 6545 6c65  , self.changeEle
-00002120: 7665 6e6c 6162 7341 7069 292c 0a20 2020  venlabsApi),.   
-00002130: 2020 2020 2020 2020 2022 2e61 7574 6f62           ".autob
-00002140: 7569 6c64 6572 636f 6e66 6967 223a 2028  uilderconfig": (
-00002150: 2263 6861 6e67 6520 6175 746f 2062 7569  "change auto bui
-00002160: 6c64 6572 2063 6f6e 6669 6722 2c20 7365  lder config", se
-00002170: 6c66 2e73 6574 4175 746f 4765 6e42 7569  lf.setAutoGenBui
-00002180: 6c64 6572 436f 6e66 6967 292c 0a20 2020  lderConfig),.   
-00002190: 2020 2020 2020 2020 2022 2e63 7573 746f           ".custo
-000021a0: 6d74 6578 7465 6469 746f 7222 3a20 2822  mtexteditor": ("
-000021b0: 6368 616e 6765 2063 7573 746f 6d20 7465  change custom te
-000021c0: 7874 2065 6469 746f 7222 2c20 7365 6c66  xt editor", self
-000021d0: 2e73 6574 4375 7374 6f6d 5465 7874 4564  .setCustomTextEd
-000021e0: 6974 6f72 292c 0a20 2020 2020 2020 2020  itor),.         
-000021f0: 2020 2022 2e74 6572 6d75 7861 7069 223a     ".termuxapi":
-00002200: 2028 2263 6861 6e67 6520 5465 726d 7578   ("change Termux
-00002210: 2041 5049 2069 6e74 6567 7261 7469 6f6e   API integration
-00002220: 222c 2073 656c 662e 7365 7454 6572 6d75  ", self.setTermu
-00002230: 7841 7069 292c 0a20 2020 2020 2020 2020  xApi),.         
-00002240: 2020 2022 2e61 7574 6f75 7067 7261 6465     ".autoupgrade
-00002250: 223a 2028 2263 6861 6e67 6520 6175 746f  ": ("change auto
-00002260: 6d61 7469 6320 7570 6772 6164 6522 2c20  matic upgrade", 
-00002270: 7365 6c66 2e73 6574 4175 746f 5570 6772  self.setAutoUpgr
-00002280: 6164 6529 2c0a 2020 2020 2020 2020 2020  ade),.          
-00002290: 2020 222e 6465 7665 6c6f 7065 7222 3a20    ".developer": 
-000022a0: 2866 2263 6861 6e67 6520 6465 7665 6c6f  (f"change develo
-000022b0: 7065 7220 6d6f 6465 207b 7374 7228 636f  per mode {str(co
-000022c0: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-000022d0: 6c65 5f64 6576 656c 6f70 6572 5f6d 6f64  le_developer_mod
-000022e0: 6529 7d22 2c20 7365 6c66 2e73 6574 4465  e)}", self.setDe
-000022f0: 7665 6c6f 7065 724d 6f64 6529 2c0a 2020  veloperMode),.  
-00002300: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002310: 6c65 6d75 6c74 696c 696e 6522 3a20 2866  lemultiline": (f
-00002320: 2274 6f67 676c 6520 6d75 6c74 692d 6c69  "toggle multi-li
-00002330: 6e65 2069 6e70 7574 207b 7374 7228 636f  ne input {str(co
-00002340: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-00002350: 6c65 5f6d 756c 7469 6c69 6e65 5f65 6e74  le_multiline_ent
-00002360: 7279 297d 222c 2073 656c 662e 746f 6767  ry)}", self.togg
-00002370: 6c65 4d75 6c74 696c 696e 6529 2c0a 2020  leMultiline),.  
-00002380: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002390: 6c65 6d6f 7573 6573 7570 706f 7274 223a  lemousesupport":
-000023a0: 2028 6622 746f 6f67 6c65 206d 6f75 7365   (f"toogle mouse
-000023b0: 2073 7570 706f 7274 207b 7374 7228 636f   support {str(co
-000023c0: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-000023d0: 6c65 5f6d 6f75 7365 5f73 7570 706f 7274  le_mouse_support
-000023e0: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
-000023f0: 4d6f 7573 6553 7570 706f 7274 292c 0a20  MouseSupport),. 
-00002400: 2020 2020 2020 2020 2020 2022 2e74 6f67             ".tog
-00002410: 676c 6574 6578 7462 7269 6768 746e 6573  gletextbrightnes
-00002420: 7322 3a20 2866 2273 7761 7020 7465 7874  s": (f"swap text
-00002430: 2062 7269 6768 746e 6573 7320 7b73 7472   brightness {str
-00002440: 2863 6f6e 6669 672e 686f 746b 6579 5f73  (config.hotkey_s
-00002450: 7761 705f 7465 7874 5f62 7269 6768 746e  wap_text_brightn
-00002460: 6573 7329 7d22 2c20 7377 6170 5465 726d  ess)}", swapTerm
-00002470: 696e 616c 436f 6c6f 7273 292c 0a20 2020  inalColors),.   
-00002480: 2020 2020 2020 2020 2022 2e74 6f67 676c           ".toggl
-00002490: 6577 6f72 6477 7261 7022 3a20 2866 2274  ewordwrap": (f"t
-000024a0: 6f67 676c 6520 776f 7264 2077 7261 7020  oggle word wrap 
-000024b0: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
-000024c0: 6579 5f74 6f67 676c 655f 776f 7264 5f77  ey_toggle_word_w
-000024d0: 7261 7029 7d22 2c20 7365 6c66 2e74 6f67  rap)}", self.tog
-000024e0: 676c 6557 6f72 6457 7261 7029 2c0a 2020  gleWordWrap),.  
-000024f0: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002500: 6c65 696d 7072 6f76 6564 7772 6974 696e  leimprovedwritin
-00002510: 6722 3a20 2866 2274 6f67 676c 6520 696d  g": (f"toggle im
-00002520: 7072 6f76 6564 2077 7269 7469 6e67 207b  proved writing {
-00002530: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-00002540: 795f 746f 6767 6c65 5f77 7269 7469 6e67  y_toggle_writing
-00002550: 5f69 6d70 726f 7665 6d65 6e74 297d 222c  _improvement)}",
-00002560: 2073 656c 662e 746f 6767 6c65 496d 7072   self.toggleImpr
-00002570: 6f76 6564 5772 6974 696e 6729 2c0a 2020  ovedWriting),.  
-00002580: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002590: 6c65 696e 7075 7461 7564 696f 223a 2028  leinputaudio": (
-000025a0: 6622 746f 6767 6c65 2069 6e70 7574 2061  f"toggle input a
-000025b0: 7564 696f 207b 7374 7228 636f 6e66 6967  udio {str(config
-000025c0: 2e68 6f74 6b65 795f 746f 6767 6c65 5f69  .hotkey_toggle_i
-000025d0: 6e70 7574 5f61 7564 696f 297d 222c 2073  nput_audio)}", s
-000025e0: 656c 662e 746f 6767 6c65 696e 7075 7461  elf.toggleinputa
-000025f0: 7564 696f 292c 0a20 2020 2020 2020 2020  udio),.         
-00002600: 2020 2022 2e74 6f67 676c 6572 6573 706f     ".togglerespo
-00002610: 6e73 6561 7564 696f 223a 2028 6622 746f  nseaudio": (f"to
-00002620: 6767 6c65 2072 6573 706f 6e73 6520 6175  ggle response au
-00002630: 6469 6f20 7b73 7472 2863 6f6e 6669 672e  dio {str(config.
-00002640: 686f 746b 6579 5f74 6f67 676c 655f 7265  hotkey_toggle_re
-00002650: 7370 6f6e 7365 5f61 7564 696f 297d 222c  sponse_audio)}",
-00002660: 2073 656c 662e 746f 6767 6c65 7265 7370   self.toggleresp
-00002670: 6f6e 7365 6175 6469 6f29 2c0a 2020 2020  onseaudio),.    
-00002680: 2020 2020 2020 2020 222e 636f 6465 223a          ".code":
-00002690: 2028 6622 6578 7472 6163 7420 7079 7468   (f"extract pyth
-000026a0: 6f6e 2063 6f64 6520 6672 6f6d 2074 6865  on code from the
-000026b0: 206c 6173 7420 7265 7370 6f6e 7365 207b   last response {
-000026c0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-000026d0: 795f 6564 6974 5f6c 6173 745f 7265 7370  y_edit_last_resp
-000026e0: 6f6e 7365 297d 222c 2073 656c 662e 6578  onse)}", self.ex
-000026f0: 7472 6163 7450 7974 686f 6e43 6f64 6546  tractPythonCodeF
-00002700: 726f 6d4c 6173 7452 6573 706f 6e73 6529  romLastResponse)
-00002710: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
-00002720: 6564 6974 7265 7370 6f6e 7365 223a 2028  editresponse": (
-00002730: 6622 6564 6974 2074 6865 206c 6173 7420  f"edit the last 
-00002740: 7265 7370 6f6e 7365 207b 7374 7228 636f  response {str(co
-00002750: 6e66 6967 2e68 6f74 6b65 795f 6564 6974  nfig.hotkey_edit
-00002760: 5f6c 6173 745f 7265 7370 6f6e 7365 297d  _last_response)}
-00002770: 222c 2073 656c 662e 6564 6974 4c61 7374  ", self.editLast
-00002780: 5265 7370 6f6e 7365 292c 0a20 2020 2020  Response),.     
-00002790: 2020 2020 2020 2022 2e65 6469 7463 6f6e         ".editcon
-000027a0: 6669 6773 223a 2028 2265 6469 7420 636f  figs": ("edit co
-000027b0: 6e66 6967 7572 6174 696f 6e20 7365 7474  nfiguration sett
-000027c0: 696e 6773 222c 2073 656c 662e 6564 6974  ings", self.edit
-000027d0: 436f 6e66 6967 7329 2c0a 2020 2020 2020  Configs),.      
-000027e0: 2020 2020 2020 222e 696e 7374 616c 6c22        ".install"
-000027f0: 3a20 2822 696e 7374 616c 6c20 7079 7468  : ("install pyth
-00002800: 6f6e 2070 6163 6b61 6765 222c 2073 656c  on package", sel
-00002810: 662e 696e 7374 616c 6c50 7974 686f 6e50  f.installPythonP
-00002820: 6163 6b61 6765 292c 0a20 2020 2020 2020  ackage),.       
-00002830: 2020 2020 2022 2e73 7973 7465 6d22 3a20       ".system": 
-00002840: 2866 226f 7065 6e20 7379 7374 656d 2063  (f"open system c
-00002850: 6f6d 6d61 6e64 2070 726f 6d70 7420 7b73  ommand prompt {s
-00002860: 7472 2863 6f6e 6669 672e 686f 746b 6579  tr(config.hotkey
-00002870: 5f6c 6175 6e63 685f 7379 7374 656d 5f70  _launch_system_p
-00002880: 726f 6d70 7429 7d22 2c20 6c61 6d62 6461  rompt)}", lambda
-00002890: 3a20 5379 7374 656d 436f 6d6d 616e 6450  : SystemCommandP
-000028a0: 726f 6d70 7428 292e 7275 6e28 616c 6c6f  rompt().run(allo
-000028b0: 7750 6174 6843 6861 6e67 6573 3d54 7275  wPathChanges=Tru
-000028c0: 6529 292c 0a20 2020 2020 2020 2020 2020  e)),.           
-000028d0: 2022 2e63 6f6e 7465 6e74 223a 2028 2264   ".content": ("d
-000028e0: 6973 706c 6179 2063 7572 7265 6e74 2064  isplay current d
-000028f0: 6972 6563 746f 7279 2063 6f6e 7465 6e74  irectory content
-00002900: 222c 2073 656c 662e 6765 7450 6174 682e  ", self.getPath.
-00002910: 6469 7370 6c61 7944 6972 6563 746f 7279  displayDirectory
-00002920: 436f 6e74 656e 7429 2c0a 2020 2020 2020  Content),.      
-00002930: 2020 2020 2020 222e 6b65 7973 223a 2028        ".keys": (
-00002940: 6622 6469 7370 6c61 7920 6b65 7920 6269  f"display key bi
-00002950: 6e64 696e 6773 207b 7374 7228 636f 6e66  ndings {str(conf
-00002960: 6967 2e68 6f74 6b65 795f 6469 7370 6c61  ig.hotkey_displa
-00002970: 795f 6b65 795f 636f 6d62 6f29 7d22 2c20  y_key_combo)}", 
-00002980: 636f 6e66 6967 2e73 686f 774b 6579 4269  config.showKeyBi
-00002990: 6e64 696e 6773 292c 0a20 2020 2020 2020  ndings),.       
-000029a0: 2020 2020 2022 2e68 656c 7022 3a20 2822       ".help": ("
-000029b0: 6f70 656e 204c 6574 4d65 446f 4974 2077  open LetMeDoIt w
-000029c0: 696b 6922 2c20 6c61 6d62 6461 3a20 6f70  iki", lambda: op
-000029d0: 656e 5552 4c28 2768 7474 7073 3a2f 2f67  enURL('https://g
-000029e0: 6974 6875 622e 636f 6d2f 656c 6972 616e  ithub.com/eliran
-000029f0: 776f 6e67 2f6c 6574 6d65 646f 6974 2f77  wong/letmedoit/w
-00002a00: 696b 6927 2929 2c0a 2020 2020 2020 2020  iki')),.        
-00002a10: 2020 2020 222e 646f 6e61 7465 223a 2028      ".donate": (
-00002a20: 2264 6f6e 6174 6520 616e 6420 7375 7070  "donate and supp
-00002a30: 6f72 7420 4c65 744d 6544 6f49 7420 4149  ort LetMeDoIt AI
-00002a40: 222c 206c 616d 6264 613a 206f 7065 6e55  ", lambda: openU
-00002a50: 524c 2827 6874 7470 733a 2f2f 7777 772e  RL('https://www.
-00002a60: 7061 7970 616c 2e63 6f6d 2f70 6179 7061  paypal.com/paypa
-00002a70: 6c6d 652f 6c65 746d 6564 6f69 7461 6927  lme/letmedoitai'
-00002a80: 2929 2c0a 2020 2020 2020 2020 7d0a 0a20  )),.        }.. 
-00002a90: 2020 2020 2020 2063 6f6e 6669 672e 6163         config.ac
-00002aa0: 7469 6f6e 4865 6c70 203d 2066 2223 2051  tionHelp = f"# Q
-00002ab0: 7569 636b 2041 6374 696f 6e73 5c6e 2865  uick Actions\n(e
-00002ac0: 6e74 7269 6573 2074 6861 7420 7374 6172  ntries that star
-00002ad0: 7420 7769 7468 2027 2e27 295c 6e22 0a20  t with '.')\n". 
-00002ae0: 2020 2020 2020 2066 6f72 206b 6579 2c20         for key, 
-00002af0: 7661 6c75 6520 696e 2073 656c 662e 6163  value in self.ac
-00002b00: 7469 6f6e 732e 6974 656d 7328 293a 0a20  tions.items():. 
-00002b10: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00002b20: 672e 6163 7469 6f6e 4865 6c70 202b 3d20  g.actionHelp += 
-00002b30: 6622 7b6b 6579 7d3a 207b 7661 6c75 655b  f"{key}: {value[
-00002b40: 305d 7d5c 6e22 0a20 2020 2020 2020 2063  0]}\n".        c
-00002b50: 6f6e 6669 672e 6163 7469 6f6e 4865 6c70  onfig.actionHelp
-00002b60: 202b 3d20 225c 6e23 2320 5265 6164 206d   += "\n## Read m
-00002b70: 6f72 6520 6174 3a5c 6e68 7474 7073 3a2f  ore at:\nhttps:/
-00002b80: 2f67 6974 6875 622e 636f 6d2f 656c 6972  /github.com/elir
-00002b90: 616e 776f 6e67 2f6c 6574 6d65 646f 6974  anwong/letmedoit
-00002ba0: 2f77 696b 692f 4163 7469 6f6e 2d4d 656e  /wiki/Action-Men
-00002bb0: 7522 0a0a 2020 2020 2320 566f 6963 6520  u"..    # Voice 
-00002bc0: 5479 7069 6e67 204c 616e 6775 6167 650a  Typing Language.
-00002bd0: 2020 2020 6465 6620 7365 7453 7065 6563      def setSpeec
-00002be0: 6854 6f54 6578 744c 616e 6775 6167 6528  hToTextLanguage(
-00002bf0: 7365 6c66 293a 0a20 2020 2020 2020 2023  self):.        #
-00002c00: 2072 6563 6f72 6420 696e 2068 6973 746f   record in histo
-00002c10: 7279 2066 6f72 2065 6173 7920 7265 7472  ry for easy retr
-00002c20: 6965 7661 6c20 6279 206d 6f76 696e 6720  ieval by moving 
-00002c30: 6172 726f 7773 2075 7077 6172 6473 202f  arrows upwards /
-00002c40: 2064 6f77 6e77 6172 6473 0a20 2020 2020   downwards.     
-00002c50: 2020 2076 6f69 6365 5f74 7970 696e 675f     voice_typing_
-00002c60: 6c61 6e67 7561 6765 5f68 6973 746f 7279  language_history
-00002c70: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00002c80: 636f 6e66 6967 2e6c 6f63 616c 5374 6f72  config.localStor
-00002c90: 6167 652c 2022 6869 7374 6f72 7922 2c20  age, "history", 
-00002ca0: 2276 6f69 6365 5f74 7970 696e 675f 6c61  "voice_typing_la
-00002cb0: 6e67 7561 6765 2229 0a20 2020 2020 2020  nguage").       
-00002cc0: 2076 6f69 6365 5f74 7970 696e 675f 6c61   voice_typing_la
-00002cd0: 6e67 7561 6765 5f73 6573 7369 6f6e 203d  nguage_session =
-00002ce0: 2050 726f 6d70 7453 6573 7369 6f6e 2868   PromptSession(h
-00002cf0: 6973 746f 7279 3d46 696c 6548 6973 746f  istory=FileHisto
-00002d00: 7279 2876 6f69 6365 5f74 7970 696e 675f  ry(voice_typing_
-00002d10: 6c61 6e67 7561 6765 5f68 6973 746f 7279  language_history
-00002d20: 2929 0a20 2020 2020 2020 2023 2069 6e70  )).        # inp
-00002d30: 7574 2073 7567 6765 7374 696f 6e20 666f  ut suggestion fo
-00002d40: 7220 6c61 6e67 7561 6765 730a 2020 2020  r languages.    
-00002d50: 2020 2020 6c61 6e67 7561 6765 7320 3d20      languages = 
-00002d60: 7475 706c 6528 676f 6f67 6c65 5370 6565  tuple(googleSpee
-00002d70: 636b 546f 5465 7874 4c61 6e67 7561 6765  ckToTextLanguage
-00002d80: 732e 6b65 7973 2829 2920 6966 2063 6f6e  s.keys()) if con
-00002d90: 6669 672e 766f 6963 6554 7970 696e 6750  fig.voiceTypingP
-00002da0: 6c61 7466 6f72 6d20 696e 2028 2267 6f6f  latform in ("goo
-00002db0: 676c 6522 2c20 2267 6f6f 676c 6563 6c6f  gle", "googleclo
-00002dc0: 7564 2229 2065 6c73 6520 7768 6973 7065  ud") else whispe
-00002dd0: 7253 7065 6563 6b54 6f54 6578 744c 616e  rSpeeckToTextLan
-00002de0: 6775 6167 6573 0a20 2020 2020 2020 2023  guages.        #
-00002df0: 2064 6566 6175 6c74 0a20 2020 2020 2020   default.       
-00002e00: 2064 6566 6175 6c74 203d 2022 220a 2020   default = "".  
-00002e10: 2020 2020 2020 666f 7220 6920 696e 206c        for i in l
-00002e20: 616e 6775 6167 6573 3a0a 2020 2020 2020  anguages:.      
-00002e30: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
-00002e40: 766f 6963 6554 7970 696e 6750 6c61 7466  voiceTypingPlatf
-00002e50: 6f72 6d20 696e 2028 2267 6f6f 676c 6522  orm in ("google"
-00002e60: 2c20 2267 6f6f 676c 6563 6c6f 7564 2229  , "googlecloud")
-00002e70: 2061 6e64 2067 6f6f 676c 6553 7065 6563   and googleSpeec
-00002e80: 6b54 6f54 6578 744c 616e 6775 6167 6573  kToTextLanguages
-00002e90: 5b69 5d20 3d3d 2063 6f6e 6669 672e 766f  [i] == config.vo
-00002ea0: 6963 6554 7970 696e 674c 616e 6775 6167  iceTypingLanguag
-00002eb0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00002ec0: 2020 2064 6566 6175 6c74 203d 2069 0a20     default = i. 
-00002ed0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00002ee0: 6920 3d3d 2063 6f6e 6669 672e 766f 6963  i == config.voic
-00002ef0: 6554 7970 696e 674c 616e 6775 6167 653a  eTypingLanguage:
-00002f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002f10: 2064 6566 6175 6c74 203d 2069 0a20 2020   default = i.   
-00002f20: 2020 2020 2069 6620 6e6f 7420 6465 6661       if not defa
-00002f30: 756c 743a 0a20 2020 2020 2020 2020 2020  ult:.           
-00002f40: 2064 6566 6175 6c74 203d 2022 456e 676c   default = "Engl
-00002f50: 6973 6820 2855 6e69 7465 6420 5374 6174  ish (United Stat
-00002f60: 6573 2922 2069 6620 636f 6e66 6967 2e76  es)" if config.v
-00002f70: 6f69 6365 5479 7069 6e67 506c 6174 666f  oiceTypingPlatfo
-00002f80: 726d 2069 6e20 2822 676f 6f67 6c65 222c  rm in ("google",
-00002f90: 2022 676f 6f67 6c65 636c 6f75 6422 2920   "googlecloud") 
-00002fa0: 656c 7365 2022 656e 676c 6973 6822 0a20  else "english". 
-00002fb0: 2020 2020 2020 2023 2063 6f6d 706c 6574         # complet
-00002fc0: 6572 0a20 2020 2020 2020 2063 6f6d 706c  er.        compl
-00002fd0: 6574 6572 203d 2046 757a 7a79 436f 6d70  eter = FuzzyComp
-00002fe0: 6c65 7465 7228 576f 7264 436f 6d70 6c65  leter(WordComple
-00002ff0: 7465 7228 6c61 6e67 7561 6765 732c 2069  ter(languages, i
-00003000: 676e 6f72 655f 6361 7365 3d54 7275 6529  gnore_case=True)
-00003010: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-00003020: 2822 506c 6561 7365 2073 7065 6369 6679  ("Please specify
-00003030: 2074 6865 2076 6f69 6365 2074 7970 696e   the voice typin
-00003040: 6720 6c61 6e67 7561 6765 3a22 290a 2020  g language:").  
-00003050: 2020 2020 2020 6c61 6e67 7561 6765 203d        language =
-00003060: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-00003070: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-00003080: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-00003090: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
-000030a0: 756c 743d 6465 6661 756c 742c 2070 726f  ult=default, pro
-000030b0: 6d70 7453 6573 7369 6f6e 3d76 6f69 6365  mptSession=voice
-000030c0: 5f74 7970 696e 675f 6c61 6e67 7561 6765  _typing_language
-000030d0: 5f73 6573 7369 6f6e 2c20 636f 6d70 6c65  _session, comple
-000030e0: 7465 723d 636f 6d70 6c65 7465 7229 0a20  ter=completer). 
-000030f0: 2020 2020 2020 2069 6620 6c61 6e67 7561         if langua
-00003100: 6765 2061 6e64 206e 6f74 206c 616e 6775  ge and not langu
-00003110: 6167 6520 696e 2028 636f 6e66 6967 2e65  age in (config.e
-00003120: 7869 745f 656e 7472 792c 2063 6f6e 6669  xit_entry, confi
-00003130: 672e 6361 6e63 656c 5f65 6e74 7279 293a  g.cancel_entry):
-00003140: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00003150: 6669 672e 766f 6963 6554 7970 696e 674c  fig.voiceTypingL
-00003160: 616e 6775 6167 6520 3d20 6c61 6e67 7561  anguage = langua
-00003170: 6765 0a20 2020 2020 2020 2069 6620 6e6f  ge.        if no
-00003180: 7420 636f 6e66 6967 2e76 6f69 6365 5479  t config.voiceTy
-00003190: 7069 6e67 4c61 6e67 7561 6765 2069 6e20  pingLanguage in 
-000031a0: 6c61 6e67 7561 6765 733a 0a20 2020 2020  languages:.     
-000031b0: 2020 2020 2020 2063 6f6e 6669 672e 766f         config.vo
-000031c0: 6963 6554 7970 696e 674c 616e 6775 6167  iceTypingLanguag
-000031d0: 6520 3d20 2265 6e2d 5553 2220 6966 2063  e = "en-US" if c
-000031e0: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
-000031f0: 6750 6c61 7466 6f72 6d20 696e 2028 2267  gPlatform in ("g
-00003200: 6f6f 676c 6522 2c20 2267 6f6f 676c 6563  oogle", "googlec
-00003210: 6c6f 7564 2229 2065 6c73 6520 2265 6e67  loud") else "eng
-00003220: 6c69 7368 220a 2020 2020 2020 2020 6966  lish".        if
-00003230: 2063 6f6e 6669 672e 766f 6963 6554 7970   config.voiceTyp
-00003240: 696e 6750 6c61 7466 6f72 6d20 696e 2028  ingPlatform in (
-00003250: 2267 6f6f 676c 6522 2c20 2267 6f6f 676c  "google", "googl
-00003260: 6563 6c6f 7564 2229 2061 6e64 2063 6f6e  ecloud") and con
-00003270: 6669 672e 766f 6963 6554 7970 696e 674c  fig.voiceTypingL
-00003280: 616e 6775 6167 6520 696e 206c 616e 6775  anguage in langu
-00003290: 6167 6573 3a0a 2020 2020 2020 2020 2020  ages:.          
-000032a0: 2020 636f 6e66 6967 2e76 6f69 6365 5479    config.voiceTy
-000032b0: 7069 6e67 4c61 6e67 7561 6765 203d 2067  pingLanguage = g
-000032c0: 6f6f 676c 6553 7065 6563 6b54 6f54 6578  oogleSpeeckToTex
-000032d0: 744c 616e 6775 6167 6573 5b63 6f6e 6669  tLanguages[confi
-000032e0: 672e 766f 6963 6554 7970 696e 674c 616e  g.voiceTypingLan
-000032f0: 6775 6167 655d 0a0a 2020 2020 2320 456c  guage]..    # El
-00003300: 6576 656e 4c61 6273 2054 6578 742d 746f  evenLabs Text-to
-00003310: 2d53 7065 6563 6820 566f 6963 650a 2020  -Speech Voice.  
-00003320: 2020 6465 6620 7365 7445 6c65 7665 6e6c    def setElevenl
-00003330: 6162 7356 6f69 6365 2873 656c 6629 3a0a  absVoice(self):.
-00003340: 2020 2020 2020 2020 2320 7265 636f 7264          # record
-00003350: 2069 6e20 6869 7374 6f72 7920 666f 7220   in history for 
-00003360: 6561 7379 2072 6574 7269 6576 616c 2062  easy retrieval b
-00003370: 7920 6d6f 7669 6e67 2061 7272 6f77 7320  y moving arrows 
-00003380: 7570 7761 7264 7320 2f20 646f 776e 7761  upwards / downwa
-00003390: 7264 730a 2020 2020 2020 2020 656c 6576  rds.        elev
-000033a0: 656e 6c61 6273 566f 6963 655f 6869 7374  enlabsVoice_hist
-000033b0: 6f72 7920 3d20 6f73 2e70 6174 682e 6a6f  ory = os.path.jo
-000033c0: 696e 2863 6f6e 6669 672e 6c6f 6361 6c53  in(config.localS
-000033d0: 746f 7261 6765 2c20 2268 6973 746f 7279  torage, "history
-000033e0: 222c 2022 656c 6576 656e 6c61 6273 566f  ", "elevenlabsVo
-000033f0: 6963 6522 290a 2020 2020 2020 2020 656c  ice").        el
-00003400: 6576 656e 6c61 6273 566f 6963 655f 7365  evenlabsVoice_se
-00003410: 7373 696f 6e20 3d20 5072 6f6d 7074 5365  ssion = PromptSe
-00003420: 7373 696f 6e28 6869 7374 6f72 793d 4669  ssion(history=Fi
-00003430: 6c65 4869 7374 6f72 7928 656c 6576 656e  leHistory(eleven
-00003440: 6c61 6273 566f 6963 655f 6869 7374 6f72  labsVoice_histor
-00003450: 7929 290a 2020 2020 2020 2020 2320 696e  y)).        # in
-00003460: 7075 7420 7375 6767 6573 7469 6f6e 2066  put suggestion f
-00003470: 6f72 206f 7074 696f 6e73 0a20 2020 2020  or options.     
-00003480: 2020 206f 7074 696f 6e73 203d 207b 7d0a     options = {}.
-00003490: 2020 2020 2020 2020 6964 7320 3d20 7b7d          ids = {}
-000034a0: 0a20 2020 2020 2020 2066 6f72 2076 6f69  .        for voi
-000034b0: 6365 2069 6e20 6c69 7374 2845 6c65 7665  ce in list(Eleve
-000034c0: 6e4c 6162 7328 6170 695f 6b65 793d 636f  nLabs(api_key=co
-000034d0: 6e66 6967 2e65 6c65 7665 6e6c 6162 7341  nfig.elevenlabsA
-000034e0: 7069 292e 766f 6963 6573 2e67 6574 5f61  pi).voices.get_a
-000034f0: 6c6c 2829 295b 305d 5b2d 315d 3a0a 2020  ll())[0][-1]:.  
-00003500: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
-00003510: 735b 766f 6963 652e 6e61 6d65 5d20 3d20  s[voice.name] = 
-00003520: 766f 6963 652e 766f 6963 655f 6964 0a20  voice.voice_id. 
-00003530: 2020 2020 2020 2020 2020 2069 6473 5b76             ids[v
-00003540: 6f69 6365 2e76 6f69 6365 5f69 645d 203d  oice.voice_id] =
-00003550: 2076 6f69 6365 2e6e 616d 650a 2020 2020   voice.name.    
-00003560: 2020 2020 2320 6465 6661 756c 740a 2020      # default.  
-00003570: 2020 2020 2020 6465 6661 756c 7420 3d20        default = 
-00003580: 6964 735b 636f 6e66 6967 2e65 6c65 7665  ids[config.eleve
-00003590: 6e6c 6162 7356 6f69 6365 5d20 6966 2063  nlabsVoice] if c
-000035a0: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
-000035b0: 566f 6963 6520 696e 2069 6473 2065 6c73  Voice in ids els
-000035c0: 6520 2252 6163 6865 6c22 0a20 2020 2020  e "Rachel".     
-000035d0: 2020 2023 2063 6f6d 706c 6574 6572 0a20     # completer. 
-000035e0: 2020 2020 2020 2063 6f6d 706c 6574 6572         completer
-000035f0: 203d 2046 757a 7a79 436f 6d70 6c65 7465   = FuzzyComplete
-00003600: 7228 576f 7264 436f 6d70 6c65 7465 7228  r(WordCompleter(
-00003610: 6f70 7469 6f6e 732e 6b65 7973 2829 2c20  options.keys(), 
-00003620: 6967 6e6f 7265 5f63 6173 653d 5472 7565  ignore_case=True
-00003630: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
-00003640: 3128 2250 6c65 6173 6520 7370 6563 6966  1("Please specif
-00003650: 7920 456c 6576 656e 4c61 6273 2054 6578  y ElevenLabs Tex
-00003660: 742d 746f 2d53 7065 6563 6820 566f 6963  t-to-Speech Voic
-00003670: 653a 2229 0a20 2020 2020 2020 206f 7074  e:").        opt
-00003680: 696f 6e20 3d20 7365 6c66 2e70 726f 6d70  ion = self.promp
-00003690: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-000036a0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-000036b0: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-000036c0: 2064 6566 6175 6c74 3d64 6566 6175 6c74   default=default
-000036d0: 2c20 7072 6f6d 7074 5365 7373 696f 6e3d  , promptSession=
-000036e0: 656c 6576 656e 6c61 6273 566f 6963 655f  elevenlabsVoice_
-000036f0: 7365 7373 696f 6e2c 2063 6f6d 706c 6574  session, complet
-00003700: 6572 3d63 6f6d 706c 6574 6572 290a 2020  er=completer).  
-00003710: 2020 2020 2020 6966 206f 7074 696f 6e20        if option 
-00003720: 616e 6420 6e6f 7420 6f70 7469 6f6e 2069  and not option i
-00003730: 6e20 2863 6f6e 6669 672e 6578 6974 5f65  n (config.exit_e
-00003740: 6e74 7279 2c20 636f 6e66 6967 2e63 616e  ntry, config.can
-00003750: 6365 6c5f 656e 7472 7929 3a0a 2020 2020  cel_entry):.    
-00003760: 2020 2020 2020 2020 636f 6e66 6967 2e65          config.e
-00003770: 6c65 7665 6e6c 6162 7356 6f69 6365 203d  levenlabsVoice =
-00003780: 206f 7074 696f 6e73 5b6f 7074 696f 6e5d   options[option]
-00003790: 2069 6620 6f70 7469 6f6e 2069 6e20 6f70   if option in op
-000037a0: 7469 6f6e 7320 656c 7365 2022 3231 6d30  tions else "21m0
-000037b0: 3054 636d 3454 6c76 4471 3869 6b57 414d  0Tcm4TlvDq8ikWAM
-000037c0: 2220 2320 5261 6368 656c 2773 2076 6f69  " # Rachel's voi
-000037d0: 6365 2069 640a 0a20 2020 2023 2047 6f6f  ce id..    # Goo
-000037e0: 676c 6520 5465 7874 2d74 6f2d 5370 6565  gle Text-to-Spee
-000037f0: 6368 2028 4765 6e65 7269 6329 0a20 2020  ch (Generic).   
-00003800: 2064 6566 2073 6574 4774 7473 4c61 6e67   def setGttsLang
-00003810: 7561 6765 2873 656c 6629 3a0a 2020 2020  uage(self):.    
-00003820: 2020 2020 2320 7265 636f 7264 2069 6e20      # record in 
-00003830: 6869 7374 6f72 7920 666f 7220 6561 7379  history for easy
-00003840: 2072 6574 7269 6576 616c 2062 7920 6d6f   retrieval by mo
-00003850: 7669 6e67 2061 7272 6f77 7320 7570 7761  ving arrows upwa
-00003860: 7264 7320 2f20 646f 776e 7761 7264 730a  rds / downwards.
-00003870: 2020 2020 2020 2020 6774 7473 5f6c 616e          gtts_lan
-00003880: 6775 6167 655f 6869 7374 6f72 7920 3d20  guage_history = 
-00003890: 6f73 2e70 6174 682e 6a6f 696e 2863 6f6e  os.path.join(con
-000038a0: 6669 672e 6c6f 6361 6c53 746f 7261 6765  fig.localStorage
-000038b0: 2c20 2268 6973 746f 7279 222c 2022 6774  , "history", "gt
-000038c0: 7473 5f6c 616e 6775 6167 6522 290a 2020  ts_language").  
-000038d0: 2020 2020 2020 6774 7473 5f6c 616e 6775        gtts_langu
-000038e0: 6167 655f 7365 7373 696f 6e20 3d20 5072  age_session = Pr
-000038f0: 6f6d 7074 5365 7373 696f 6e28 6869 7374  omptSession(hist
-00003900: 6f72 793d 4669 6c65 4869 7374 6f72 7928  ory=FileHistory(
-00003910: 6774 7473 5f6c 616e 6775 6167 655f 6869  gtts_language_hi
-00003920: 7374 6f72 7929 290a 2020 2020 2020 2020  story)).        
-00003930: 2320 696e 7075 7420 7375 6767 6573 7469  # input suggesti
-00003940: 6f6e 2066 6f72 206c 616e 6775 6167 6573  on for languages
-00003950: 0a20 2020 2020 2020 206c 616e 6775 6167  .        languag
-00003960: 6573 203d 2074 7570 6c65 2854 7473 4c61  es = tuple(TtsLa
-00003970: 6e67 7561 6765 732e 6774 7473 2e6b 6579  nguages.gtts.key
-00003980: 7328 2929 0a20 2020 2020 2020 2023 2064  s()).        # d
-00003990: 6566 6175 6c74 0a20 2020 2020 2020 2064  efault.        d
-000039a0: 6566 6175 6c74 203d 2022 220a 2020 2020  efault = "".    
-000039b0: 2020 2020 666f 7220 6920 696e 206c 616e      for i in lan
-000039c0: 6775 6167 6573 3a0a 2020 2020 2020 2020  guages:.        
-000039d0: 2020 2020 6966 2054 7473 4c61 6e67 7561      if TtsLangua
-000039e0: 6765 732e 6774 7473 5b69 5d20 3d3d 2063  ges.gtts[i] == c
-000039f0: 6f6e 6669 672e 6774 7473 4c61 6e67 3a0a  onfig.gttsLang:.
-00003a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a10: 6465 6661 756c 7420 3d20 690a 2020 2020  default = i.    
-00003a20: 2020 2020 6966 206e 6f74 2064 6566 6175      if not defau
-00003a30: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
-00003a40: 6465 6661 756c 7420 3d20 2265 6e22 0a20  default = "en". 
-00003a50: 2020 2020 2020 2023 2063 6f6d 706c 6574         # complet
-00003a60: 6572 0a20 2020 2020 2020 2063 6f6d 706c  er.        compl
-00003a70: 6574 6572 203d 2046 757a 7a79 436f 6d70  eter = FuzzyComp
-00003a80: 6c65 7465 7228 576f 7264 436f 6d70 6c65  leter(WordComple
-00003a90: 7465 7228 6c61 6e67 7561 6765 732c 2069  ter(languages, i
-00003aa0: 676e 6f72 655f 6361 7365 3d54 7275 6529  gnore_case=True)
-00003ab0: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-00003ac0: 2822 506c 6561 7365 2073 7065 6369 6679  ("Please specify
-00003ad0: 2047 6f6f 676c 6520 5465 7874 2d74 6f2d   Google Text-to-
-00003ae0: 5370 6565 6368 206c 616e 6775 6167 653a  Speech language:
-00003af0: 2229 0a20 2020 2020 2020 206c 616e 6775  ").        langu
-00003b00: 6167 6520 3d20 7365 6c66 2e70 726f 6d70  age = self.promp
-00003b10: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-00003b20: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-00003b30: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-00003b40: 2064 6566 6175 6c74 3d64 6566 6175 6c74   default=default
-00003b50: 2c20 7072 6f6d 7074 5365 7373 696f 6e3d  , promptSession=
-00003b60: 6774 7473 5f6c 616e 6775 6167 655f 7365  gtts_language_se
-00003b70: 7373 696f 6e2c 2063 6f6d 706c 6574 6572  ssion, completer
-00003b80: 3d63 6f6d 706c 6574 6572 290a 2020 2020  =completer).    
-00003b90: 2020 2020 6966 206c 616e 6775 6167 6520      if language 
-00003ba0: 616e 6420 6e6f 7420 6c61 6e67 7561 6765  and not language
-00003bb0: 2069 6e20 2863 6f6e 6669 672e 6578 6974   in (config.exit
-00003bc0: 5f65 6e74 7279 2c20 636f 6e66 6967 2e63  _entry, config.c
-00003bd0: 616e 6365 6c5f 656e 7472 7929 3a0a 2020  ancel_entry):.  
-00003be0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00003bf0: 2e67 7474 734c 616e 6720 3d20 6c61 6e67  .gttsLang = lang
-00003c00: 7561 6765 0a20 2020 2020 2020 2069 6620  uage.        if 
-00003c10: 636f 6e66 6967 2e67 7474 734c 616e 6720  config.gttsLang 
-00003c20: 696e 206c 616e 6775 6167 6573 3a0a 2020  in languages:.  
-00003c30: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00003c40: 2e67 7474 734c 616e 6720 3d20 5474 734c  .gttsLang = TtsL
-00003c50: 616e 6775 6167 6573 2e67 7474 735b 636f  anguages.gtts[co
-00003c60: 6e66 6967 2e67 7474 734c 616e 675d 0a20  nfig.gttsLang]. 
-00003c70: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00003c80: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00003c90: 6774 7473 4c61 6e67 203d 2022 656e 220a  gttsLang = "en".
-00003ca0: 0a20 2020 2023 2047 6f6f 676c 6520 436c  .    # Google Cl
-00003cb0: 6f75 6420 5465 7874 2d74 6f2d 5370 6565  oud Text-to-Spee
-00003cc0: 6368 2028 4150 4929 0a20 2020 2064 6566  ch (API).    def
-00003cd0: 2073 6574 4763 7474 734c 616e 6775 6167   setGcttsLanguag
-00003ce0: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
-00003cf0: 2023 2072 6563 6f72 6420 696e 2068 6973   # record in his
-00003d00: 746f 7279 2066 6f72 2065 6173 7920 7265  tory for easy re
-00003d10: 7472 6965 7661 6c20 6279 206d 6f76 696e  trieval by movin
-00003d20: 6720 6172 726f 7773 2075 7077 6172 6473  g arrows upwards
-00003d30: 202f 2064 6f77 6e77 6172 6473 0a20 2020   / downwards.   
-00003d40: 2020 2020 2067 6374 7473 5f6c 616e 6775       gctts_langu
-00003d50: 6167 655f 6869 7374 6f72 7920 3d20 6f73  age_history = os
-00003d60: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
-00003d70: 672e 6c6f 6361 6c53 746f 7261 6765 2c20  g.localStorage, 
-00003d80: 2268 6973 746f 7279 222c 2022 6763 7474  "history", "gctt
-00003d90: 735f 6c61 6e67 7561 6765 2229 0a20 2020  s_language").   
-00003da0: 2020 2020 2067 6374 7473 5f6c 616e 6775       gctts_langu
-00003db0: 6167 655f 7365 7373 696f 6e20 3d20 5072  age_session = Pr
-00003dc0: 6f6d 7074 5365 7373 696f 6e28 6869 7374  omptSession(hist
-00003dd0: 6f72 793d 4669 6c65 4869 7374 6f72 7928  ory=FileHistory(
-00003de0: 6763 7474 735f 6c61 6e67 7561 6765 5f68  gctts_language_h
-00003df0: 6973 746f 7279 2929 0a20 2020 2020 2020  istory)).       
-00003e00: 2023 2069 6e70 7574 2073 7567 6765 7374   # input suggest
-00003e10: 696f 6e20 666f 7220 6c61 6e67 7561 6765  ion for language
-00003e20: 730a 2020 2020 2020 2020 6c61 6e67 7561  s.        langua
-00003e30: 6765 7320 3d20 7475 706c 6528 5474 734c  ges = tuple(TtsL
-00003e40: 616e 6775 6167 6573 2e67 6374 7473 2e6b  anguages.gctts.k
-00003e50: 6579 7328 2929 0a20 2020 2020 2020 2023  eys()).        #
-00003e60: 2064 6566 6175 6c74 0a20 2020 2020 2020   default.       
-00003e70: 2064 6566 6175 6c74 203d 2022 220a 2020   default = "".  
-00003e80: 2020 2020 2020 666f 7220 6920 696e 206c        for i in l
-00003e90: 616e 6775 6167 6573 3a0a 2020 2020 2020  anguages:.      
-00003ea0: 2020 2020 2020 6966 2054 7473 4c61 6e67        if TtsLang
-00003eb0: 7561 6765 732e 6763 7474 735b 695d 203d  uages.gctts[i] =
-00003ec0: 3d20 636f 6e66 6967 2e67 6374 7473 4c61  = config.gcttsLa
-00003ed0: 6e67 3a0a 2020 2020 2020 2020 2020 2020  ng:.            
-00003ee0: 2020 2020 6465 6661 756c 7420 3d20 690a      default = i.
-00003ef0: 2020 2020 2020 2020 6966 206e 6f74 2064          if not d
-00003f00: 6566 6175 6c74 3a0a 2020 2020 2020 2020  efault:.        
-00003f10: 2020 2020 6465 6661 756c 7420 3d20 2265      default = "e
-00003f20: 6e2d 5553 220a 2020 2020 2020 2020 2320  n-US".        # 
-00003f30: 636f 6d70 6c65 7465 720a 2020 2020 2020  completer.      
-00003f40: 2020 636f 6d70 6c65 7465 7220 3d20 4675    completer = Fu
-00003f50: 7a7a 7943 6f6d 706c 6574 6572 2857 6f72  zzyCompleter(Wor
-00003f60: 6443 6f6d 706c 6574 6572 286c 616e 6775  dCompleter(langu
-00003f70: 6167 6573 2c20 6967 6e6f 7265 5f63 6173  ages, ignore_cas
-00003f80: 653d 5472 7565 2929 0a20 2020 2020 2020  e=True)).       
-00003f90: 2070 7269 6e74 3128 2250 6c65 6173 6520   print1("Please 
-00003fa0: 7370 6563 6966 7920 476f 6f67 6c65 2043  specify Google C
-00003fb0: 6c6f 7564 2054 6578 742d 746f 2d53 7065  loud Text-to-Spe
-00003fc0: 6563 6820 6c61 6e67 7561 6765 3a22 290a  ech language:").
-00003fd0: 2020 2020 2020 2020 6c61 6e67 7561 6765          language
-00003fe0: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
-00003ff0: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
-00004000: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
-00004010: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
-00004020: 6661 756c 743d 6465 6661 756c 742c 2070  fault=default, p
-00004030: 726f 6d70 7453 6573 7369 6f6e 3d67 6374  romptSession=gct
-00004040: 7473 5f6c 616e 6775 6167 655f 7365 7373  ts_language_sess
-00004050: 696f 6e2c 2063 6f6d 706c 6574 6572 3d63  ion, completer=c
-00004060: 6f6d 706c 6574 6572 290a 2020 2020 2020  ompleter).      
-00004070: 2020 6966 206c 616e 6775 6167 6520 616e    if language an
-00004080: 6420 6e6f 7420 6c61 6e67 7561 6765 2069  d not language i
-00004090: 6e20 2863 6f6e 6669 672e 6578 6974 5f65  n (config.exit_e
-000040a0: 6e74 7279 2c20 636f 6e66 6967 2e63 616e  ntry, config.can
-000040b0: 6365 6c5f 656e 7472 7929 3a0a 2020 2020  cel_entry):.    
-000040c0: 2020 2020 2020 2020 636f 6e66 6967 2e67          config.g
-000040d0: 6374 7473 4c61 6e67 203d 206c 616e 6775  cttsLang = langu
-000040e0: 6167 650a 2020 2020 2020 2020 6966 2063  age.        if c
-000040f0: 6f6e 6669 672e 6763 7474 734c 616e 6720  onfig.gcttsLang 
-00004100: 696e 206c 616e 6775 6167 6573 3a0a 2020  in languages:.  
-00004110: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00004120: 2e67 6374 7473 4c61 6e67 203d 2054 7473  .gcttsLang = Tts
-00004130: 4c61 6e67 7561 6765 732e 6763 7474 735b  Languages.gctts[
-00004140: 636f 6e66 6967 2e67 6374 7473 4c61 6e67  config.gcttsLang
-00004150: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
-00004160: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00004170: 6967 2e67 6374 7473 4c61 6e67 203d 2022  ig.gcttsLang = "
-00004180: 656e 2d55 5322 0a0a 2020 2020 6465 6620  en-US"..    def 
-00004190: 7365 7456 6c63 5370 6565 6428 7365 6c66  setVlcSpeed(self
-000041a0: 293a 0a20 2020 2020 2020 2069 6620 636f  ):.        if co
-000041b0: 6e66 6967 2e69 7356 6c63 506c 6179 6572  nfig.isVlcPlayer
-000041c0: 496e 7374 616c 6c65 6420 616e 6420 6e6f  Installed and no
-000041d0: 7420 636f 6e66 6967 2e75 7365 5079 6761  t config.usePyga
-000041e0: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
-000041f0: 7072 696e 7431 2822 5370 6563 6966 7920  print1("Specify 
-00004200: 564c 4320 706c 6179 6572 2070 6c61 7962  VLC player playb
-00004210: 6163 6b20 7370 6565 643a 2229 0a20 2020  ack speed:").   
-00004220: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-00004230: 2228 6265 7477 6565 6e20 302e 3120 616e  "(between 0.1 an
-00004240: 6420 322e 3029 2229 0a20 2020 2020 2020  d 2.0)").       
-00004250: 2020 2020 2076 6c63 5370 6565 6420 3d20       vlcSpeed = 
-00004260: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-00004270: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-00004280: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-00004290: 6d70 7453 7479 6c65 322c 2076 616c 6964  mptStyle2, valid
-000042a0: 6174 6f72 3d46 6c6f 6174 5661 6c69 6461  ator=FloatValida
-000042b0: 746f 7228 292c 2064 6566 6175 6c74 3d73  tor(), default=s
-000042c0: 7472 2863 6f6e 6669 672e 766c 6353 7065  tr(config.vlcSpe
-000042d0: 6564 2929 0a20 2020 2020 2020 2020 2020  ed)).           
-000042e0: 2069 6620 766c 6353 7065 6564 2061 6e64   if vlcSpeed and
-000042f0: 206e 6f74 2076 6c63 5370 6565 642e 7374   not vlcSpeed.st
-00004300: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
-00004310: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
-00004320: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00004330: 2020 2020 766c 6353 7065 6564 203d 2066      vlcSpeed = f
-00004340: 6c6f 6174 2876 6c63 5370 6565 6429 0a20  loat(vlcSpeed). 
-00004350: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00004360: 6620 766c 6353 7065 6564 203c 2030 2e31  f vlcSpeed < 0.1
-00004370: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00004380: 2020 2020 2020 766c 6353 7065 6564 203d        vlcSpeed =
-00004390: 2030 2e31 0a20 2020 2020 2020 2020 2020   0.1.           
-000043a0: 2020 2020 2065 6c69 6620 766c 6353 7065       elif vlcSpe
-000043b0: 6564 203e 2032 3a0a 2020 2020 2020 2020  ed > 2:.        
-000043c0: 2020 2020 2020 2020 2020 2020 766c 6353              vlcS
-000043d0: 7065 6564 203d 2032 0a20 2020 2020 2020  peed = 2.       
-000043e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000043f0: 766c 6353 7065 6564 203d 2072 6f75 6e64  vlcSpeed = round
-00004400: 2876 6c63 5370 6565 642c 2031 290a 2020  (vlcSpeed, 1).  
-00004410: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00004420: 696e 7433 2866 2256 4c43 2070 6c61 7965  int3(f"VLC playe
-00004430: 7220 706c 6179 6261 636b 2073 7065 6564  r playback speed
-00004440: 3a20 7b76 6c63 5370 6565 647d 2229 0a0a  : {vlcSpeed}")..
-00004450: 2020 2020 6465 6620 7365 7447 6374 7473      def setGctts
-00004460: 5370 6565 6428 7365 6c66 293a 0a20 2020  Speed(self):.   
-00004470: 2020 2020 2070 7269 6e74 3128 2253 7065       print1("Spe
-00004480: 6369 6679 2047 6f6f 676c 6520 436c 6f75  cify Google Clou
-00004490: 6420 5465 7874 2d74 6f2d 5370 6565 6368  d Text-to-Speech
-000044a0: 2070 6c61 7962 6163 6b20 7370 6565 643a   playback speed:
-000044b0: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-000044c0: 3128 2228 6265 7477 6565 6e20 302e 3120  1("(between 0.1 
-000044d0: 616e 6420 322e 3029 2229 0a20 2020 2020  and 2.0)").     
-000044e0: 2020 2067 6374 7473 5370 6565 6420 3d20     gcttsSpeed = 
-000044f0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-00004500: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-00004510: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-00004520: 6d70 7453 7479 6c65 322c 2076 616c 6964  mptStyle2, valid
-00004530: 6174 6f72 3d46 6c6f 6174 5661 6c69 6461  ator=FloatValida
-00004540: 746f 7228 292c 2064 6566 6175 6c74 3d73  tor(), default=s
-00004550: 7472 2863 6f6e 6669 672e 6763 7474 7353  tr(config.gcttsS
-00004560: 7065 6564 2929 0a20 2020 2020 2020 2069  peed)).        i
-00004570: 6620 6763 7474 7353 7065 6564 2061 6e64  f gcttsSpeed and
-00004580: 206e 6f74 2067 6374 7473 5370 6565 642e   not gcttsSpeed.
-00004590: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
-000045a0: 3d3d 2063 6f6e 6669 672e 6578 6974 5f65  == config.exit_e
-000045b0: 6e74 7279 3a0a 2020 2020 2020 2020 2020  ntry:.          
-000045c0: 2020 6763 7474 7353 7065 6564 203d 2066    gcttsSpeed = f
-000045d0: 6c6f 6174 2867 6374 7473 5370 6565 6429  loat(gcttsSpeed)
-000045e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000045f0: 6763 7474 7353 7065 6564 203c 2030 2e31  gcttsSpeed < 0.1
-00004600: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00004610: 2020 6763 7474 7353 7065 6564 203d 2030    gcttsSpeed = 0
-00004620: 2e31 0a20 2020 2020 2020 2020 2020 2065  .1.            e
-00004630: 6c69 6620 6763 7474 7353 7065 6564 203e  lif gcttsSpeed >
-00004640: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
-00004650: 2020 2020 6763 7474 7353 7065 6564 203d      gcttsSpeed =
-00004660: 2032 0a20 2020 2020 2020 2020 2020 2063   2.            c
-00004670: 6f6e 6669 672e 6763 7474 7353 7065 6564  onfig.gcttsSpeed
-00004680: 203d 2072 6f75 6e64 2867 6374 7473 5370   = round(gcttsSp
-00004690: 6565 642c 2031 290a 2020 2020 2020 2020  eed, 1).        
-000046a0: 2020 2020 7072 696e 7433 2866 2247 6f6f      print3(f"Goo
-000046b0: 676c 6520 436c 6f75 6420 5465 7874 2d74  gle Cloud Text-t
-000046c0: 6f2d 5370 6565 6368 2070 6c61 7962 6163  o-Speech playbac
-000046d0: 6b20 7370 6565 643a 207b 6763 7474 7353  k speed: {gcttsS
-000046e0: 7065 6564 7d22 290a 0a20 2020 2064 6566  peed}")..    def
-000046f0: 2073 656c 6563 7447 6f6f 676c 6541 5049   selectGoogleAPI
-00004700: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
-00004710: 2069 6620 6f73 2e65 6e76 6972 6f6e 5b22   if os.environ["
-00004720: 474f 4f47 4c45 5f41 5050 4c49 4341 5449  GOOGLE_APPLICATI
-00004730: 4f4e 5f43 5245 4445 4e54 4941 4c53 225d  ON_CREDENTIALS"]
-00004740: 3a0a 2020 2020 2020 2020 2020 2020 656e  :.            en
-00004750: 6162 6c65 6447 6f6f 676c 6541 5049 7320  abledGoogleAPIs 
-00004760: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
-00004770: 6574 4d75 6c74 6970 6c65 5365 6c65 6374  etMultipleSelect
-00004780: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
-00004790: 2020 2020 2074 6974 6c65 3d22 476f 6f67       title="Goog
-000047a0: 6c65 2043 6c6f 7564 2053 6572 7669 6365  le Cloud Service
-000047b0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000047c0: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
-000047d0: 746f 2065 6e61 626c 6520 476f 6f67 6c65  to enable Google
-000047e0: 2043 6c6f 7564 2053 6572 7669 6365 2069   Cloud Service i
-000047f0: 6e20 4c65 744d 6544 6f49 7420 4149 3a22  n LetMeDoIt AI:"
-00004800: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00004810: 2020 6f70 7469 6f6e 733d 2822 5665 7274    options=("Vert
-00004820: 6578 2041 4922 2c20 2253 7065 6563 682d  ex AI", "Speech-
-00004830: 746f 2d54 6578 7422 2c20 2254 6578 742d  to-Text", "Text-
-00004840: 746f 2d53 7065 6563 6822 292c 0a20 2020  to-Speech"),.   
-00004850: 2020 2020 2020 2020 2020 2020 2064 6566               def
-00004860: 6175 6c74 5f76 616c 7565 733d 636f 6e66  ault_values=conf
-00004870: 6967 2e65 6e61 626c 6564 476f 6f67 6c65  ig.enabledGoogle
-00004880: 4150 4973 2c0a 2020 2020 2020 2020 2020  APIs,.          
-00004890: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-000048a0: 6966 2065 6e61 626c 6564 476f 6f67 6c65  if enabledGoogle
-000048b0: 4150 4973 2069 7320 6e6f 7420 4e6f 6e65  APIs is not None
-000048c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000048d0: 2020 636f 6e66 6967 2e65 6e61 626c 6564    config.enabled
-000048e0: 476f 6f67 6c65 4150 4973 203d 2065 6e61  GoogleAPIs = ena
-000048f0: 626c 6564 476f 6f67 6c65 4150 4973 0a20  bledGoogleAPIs. 
-00004900: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00004910: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00004920: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
-00004930: 7320 3d20 5b22 5665 7274 6578 2041 4922  s = ["Vertex AI"
-00004940: 5d0a 2020 2020 2020 2020 2020 2020 7072  ].            pr
-00004950: 696e 7431 2866 2241 5049 206b 6579 206a  int1(f"API key j
-00004960: 736f 6e20 6669 6c65 2027 7b63 6f6e 6669  son file '{confi
-00004970: 672e 676f 6f67 6c65 5f63 6c6f 7564 5f63  g.google_cloud_c
-00004980: 7265 6465 6e74 6961 6c73 5f66 696c 657d  redentials_file}
-00004990: 2720 6e6f 7420 666f 756e 6421 2229 0a20  ' not found!"). 
-000049a0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-000049b0: 3128 2252 6561 6420 6874 7470 733a 2f2f  1("Read https://
-000049c0: 6769 7468 7562 2e63 6f6d 2f65 6c69 7261  github.com/elira
-000049d0: 6e77 6f6e 672f 6c65 746d 6564 6f69 742f  nwong/letmedoit/
-000049e0: 7769 6b69 2f47 6f6f 676c 652d 4150 492d  wiki/Google-API-
-000049f0: 5365 7475 7020 666f 7220 7365 7474 696e  Setup for settin
-00004a00: 6720 7570 2047 6f6f 676c 6520 4150 492e  g up Google API.
-00004a10: 2229 0a20 2020 2020 2020 2069 6620 2253  ").        if "S
-00004a20: 7065 6563 682d 746f 2d54 6578 7422 2069  peech-to-Text" i
-00004a30: 6e20 636f 6e66 6967 2e65 6e61 626c 6564  n config.enabled
-00004a40: 476f 6f67 6c65 4150 4973 3a0a 2020 2020  GoogleAPIs:.    
-00004a50: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
-00004a60: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
-00004a70: 6750 6c61 7466 6f72 6d20 3d3d 2022 676f  gPlatform == "go
-00004a80: 6f67 6c65 636c 6f75 6422 3a0a 2020 2020  oglecloud":.    
-00004a90: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00004aa0: 6967 2e76 6f69 6365 5479 7069 6e67 506c  ig.voiceTypingPl
-00004ab0: 6174 666f 726d 203d 2022 676f 6f67 6c65  atform = "google
-00004ac0: 636c 6f75 6422 0a20 2020 2020 2020 2020  cloud".         
-00004ad0: 2020 2020 2020 2070 7269 6e74 3328 2256         print3("V
-00004ae0: 6f69 6365 2074 7970 696e 6720 706c 6174  oice typing plat
-00004af0: 666f 726d 2063 6861 6e67 6564 2074 6f3a  form changed to:
-00004b00: 2047 6f6f 676c 6520 5465 7874 2d74 6f2d   Google Text-to-
-00004b10: 5370 6565 6368 2028 4150 4929 2229 0a20  Speech (API)"). 
-00004b20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00004b30: 7365 7453 7065 6563 6854 6f54 6578 744c  setSpeechToTextL
-00004b40: 616e 6775 6167 6528 290a 2020 2020 2020  anguage().      
-00004b50: 2020 6966 2022 5465 7874 2d74 6f2d 5370    if "Text-to-Sp
-00004b60: 6565 6368 2220 696e 2063 6f6e 6669 672e  eech" in config.
-00004b70: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
-00004b80: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
-00004b90: 6620 6e6f 7420 636f 6e66 6967 2e74 7473  f not config.tts
-00004ba0: 506c 6174 666f 726d 203d 3d20 2267 6f6f  Platform == "goo
-00004bb0: 676c 6563 6c6f 7564 223a 0a20 2020 2020  glecloud":.     
-00004bc0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00004bd0: 672e 7474 7350 6c61 7466 6f72 6d20 3d20  g.ttsPlatform = 
-00004be0: 2267 6f6f 676c 6563 6c6f 7564 220a 2020  "googlecloud".  
-00004bf0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00004c00: 696e 7433 2822 5465 7874 2d74 6f2d 5370  int3("Text-to-Sp
-00004c10: 6565 6368 2070 6c61 7466 6f72 6d20 6368  eech platform ch
-00004c20: 616e 6765 6420 746f 3a20 476f 6f67 6c65  anged to: Google
-00004c30: 2054 6578 742d 746f 2d53 7065 6563 6820   Text-to-Speech 
-00004c40: 2841 5049 2922 290a 2020 2020 2020 2020  (API)").        
-00004c50: 2020 2020 7365 6c66 2e73 6574 4763 7474      self.setGctt
-00004c60: 734c 616e 6775 6167 6528 290a 2020 2020  sLanguage().    
-00004c70: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
-00004c80: 4763 7474 7353 7065 6564 2829 0a20 2020  GcttsSpeed().   
-00004c90: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-00004ca0: 436f 6e66 6967 2829 0a0a 2020 2020 6465  Config()..    de
-00004cb0: 6620 7365 6c65 6374 506c 7567 696e 7328  f selectPlugins(
-00004cc0: 7365 6c66 293a 0a20 2020 2020 2020 2070  self):.        p
-00004cd0: 6c75 6769 6e73 203d 205b 5d0a 2020 2020  lugins = [].    
-00004ce0: 2020 2020 656e 6162 6c65 6450 6c75 6769      enabledPlugi
-00004cf0: 6e73 203d 205b 5d0a 2020 2020 2020 2020  ns = [].        
-00004d00: 706c 7567 696e 466f 6c64 6572 203d 206f  pluginFolder = o
-00004d10: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
-00004d20: 6967 2e66 7265 6547 656e 6975 7341 4946  ig.freeGeniusAIF
-00004d30: 6f6c 6465 722c 2022 706c 7567 696e 7322  older, "plugins"
-00004d40: 290a 2020 2020 2020 2020 6966 2063 6f6e  ).        if con
-00004d50: 6669 672e 6c6f 6361 6c53 746f 7261 6765  fig.localStorage
-00004d60: 3a0a 2020 2020 2020 2020 2020 2020 6375  :.            cu
-00004d70: 7374 6f6d 506c 7567 696e 466f 6c65 7220  stomPluginFoler 
-00004d80: 3d20 6f73 2e70 6174 682e 6a6f 696e 2863  = os.path.join(c
-00004d90: 6f6e 6669 672e 6c6f 6361 6c53 746f 7261  onfig.localStora
-00004da0: 6765 2c20 2270 6c75 6769 6e73 2229 0a20  ge, "plugins"). 
-00004db0: 2020 2020 2020 2020 2020 2050 6174 6828             Path(
-00004dc0: 6375 7374 6f6d 506c 7567 696e 466f 6c65  customPluginFole
-00004dd0: 7229 2e6d 6b64 6972 2870 6172 656e 7473  r).mkdir(parents
-00004de0: 3d54 7275 652c 2065 7869 7374 5f6f 6b3d  =True, exist_ok=
-00004df0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00004e00: 2020 706c 7567 696e 466f 6c64 6572 7320    pluginFolders 
-00004e10: 3d20 2870 6c75 6769 6e46 6f6c 6465 722c  = (pluginFolder,
-00004e20: 2063 7573 746f 6d50 6c75 6769 6e46 6f6c   customPluginFol
-00004e30: 6572 290a 2020 2020 2020 2020 656c 7365  er).        else
-00004e40: 3a0a 2020 2020 2020 2020 2020 2020 706c  :.            pl
-00004e50: 7567 696e 466f 6c64 6572 7320 3d20 2870  uginFolders = (p
-00004e60: 6c75 6769 6e46 6f6c 6465 722c 290a 2020  luginFolder,).  
-00004e70: 2020 2020 2020 666f 7220 666f 6c64 6572        for folder
-00004e80: 2069 6e20 706c 7567 696e 466f 6c64 6572   in pluginFolder
-00004e90: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
-00004ea0: 6f72 2070 6c75 6769 6e20 696e 2067 6574  or plugin in get
-00004eb0: 4669 6c65 6e61 6d65 7357 6974 686f 7574  FilenamesWithout
-00004ec0: 4578 7465 6e73 696f 6e28 666f 6c64 6572  Extension(folder
-00004ed0: 2c20 2270 7922 293a 0a20 2020 2020 2020  , "py"):.       
-00004ee0: 2020 2020 2020 2020 2070 6c75 6769 6e73           plugins
-00004ef0: 2e61 7070 656e 6428 706c 7567 696e 290a  .append(plugin).
-00004f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f10: 6966 206e 6f74 2070 6c75 6769 6e20 696e  if not plugin in
-00004f20: 2063 6f6e 6669 672e 706c 7567 696e 4578   config.pluginEx
-00004f30: 636c 7564 654c 6973 743a 0a20 2020 2020  cludeList:.     
-00004f40: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00004f50: 6e61 626c 6564 506c 7567 696e 732e 6170  nabledPlugins.ap
-00004f60: 7065 6e64 2870 6c75 6769 6e29 0a20 2020  pend(plugin).   
-00004f70: 2020 2020 2065 6e61 626c 6564 506c 7567       enabledPlug
-00004f80: 696e 7320 3d20 7365 6c66 2e64 6961 6c6f  ins = self.dialo
-00004f90: 6773 2e67 6574 4d75 6c74 6970 6c65 5365  gs.getMultipleSe
-00004fa0: 6c65 6374 696f 6e28 0a20 2020 2020 2020  lection(.       
-00004fb0: 2020 2020 2074 6974 6c65 3d22 456e 6162       title="Enab
-00004fc0: 6c65 202f 2044 6973 6162 6c65 2050 6c75  le / Disable Plu
-00004fd0: 6769 6e73 222c 0a20 2020 2020 2020 2020  gins",.         
-00004fe0: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
-00004ff0: 746f 2065 6e61 626c 6520 706c 7567 696e  to enable plugin
-00005000: 2873 293a 222c 0a20 2020 2020 2020 2020  (s):",.         
-00005010: 2020 206f 7074 696f 6e73 3d70 6c75 6769     options=plugi
-00005020: 6e73 2c0a 2020 2020 2020 2020 2020 2020  ns,.            
-00005030: 6465 6661 756c 745f 7661 6c75 6573 3d65  default_values=e
-00005040: 6e61 626c 6564 506c 7567 696e 732c 0a20  nabledPlugins,. 
-00005050: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00005060: 2069 6620 656e 6162 6c65 6450 6c75 6769   if enabledPlugi
-00005070: 6e73 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ns is not None:.
-00005080: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00005090: 7020 696e 2070 6c75 6769 6e73 3a0a 2020  p in plugins:.  
-000050a0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000050b0: 2070 2069 6e20 656e 6162 6c65 6450 6c75   p in enabledPlu
-000050c0: 6769 6e73 2061 6e64 2070 2069 6e20 636f  gins and p in co
-000050d0: 6e66 6967 2e70 6c75 6769 6e45 7863 6c75  nfig.pluginExclu
-000050e0: 6465 4c69 7374 3a0a 2020 2020 2020 2020  deList:.        
-000050f0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00005100: 6967 2e70 6c75 6769 6e45 7863 6c75 6465  ig.pluginExclude
-00005110: 4c69 7374 2e72 656d 6f76 6528 7029 0a20  List.remove(p). 
-00005120: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00005130: 6c69 6620 6e6f 7420 7020 696e 2065 6e61  lif not p in ena
-00005140: 626c 6564 506c 7567 696e 7320 616e 6420  bledPlugins and 
-00005150: 6e6f 7420 7020 696e 2063 6f6e 6669 672e  not p in config.
-00005160: 706c 7567 696e 4578 636c 7564 654c 6973  pluginExcludeLis
-00005170: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00005180: 2020 2020 2020 2063 6f6e 6669 672e 706c         config.pl
-00005190: 7567 696e 4578 636c 7564 654c 6973 742e  uginExcludeList.
-000051a0: 6170 7065 6e64 2870 290a 2020 2020 2020  append(p).      
-000051b0: 2020 2020 2020 506c 7567 696e 732e 7275        Plugins.ru
-000051c0: 6e50 6c75 6769 6e73 2829 0a20 2020 2020  nPlugins().     
-000051d0: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-000051e0: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-000051f0: 2020 2020 2020 2070 7269 6e74 3128 2250         print1("P
-00005200: 6c75 6769 6e20 7365 6c65 6374 696f 6e20  lugin selection 
-00005210: 7570 6461 7465 6421 2229 0a0a 2020 2020  updated!")..    
-00005220: 6465 6620 6765 7443 6c69 4f75 7470 7574  def getCliOutput
-00005230: 2873 656c 662c 2063 6c69 293a 0a20 2020  (self, cli):.   
-00005240: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00005250: 2020 2020 2020 7072 6f63 6573 7320 3d20        process = 
-00005260: 7375 6270 726f 6365 7373 2e50 6f70 656e  subprocess.Popen
-00005270: 2863 6c69 2c20 7368 656c 6c3d 5472 7565  (cli, shell=True
-00005280: 2c20 7374 646f 7574 3d73 7562 7072 6f63  , stdout=subproc
-00005290: 6573 732e 5049 5045 2c20 7374 6465 7272  ess.PIPE, stderr
-000052a0: 3d73 7562 7072 6f63 6573 732e 5049 5045  =subprocess.PIPE
-000052b0: 290a 2020 2020 2020 2020 2020 2020 7374  ).            st
-000052c0: 646f 7574 2c20 2a5f 203d 2070 726f 6365  dout, *_ = proce
-000052d0: 7373 2e63 6f6d 6d75 6e69 6361 7465 2829  ss.communicate()
-000052e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000052f0: 7572 6e20 7374 646f 7574 2e64 6563 6f64  urn stdout.decod
-00005300: 6528 2275 7466 2d38 2229 0a20 2020 2020  e("utf-8").     
-00005310: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-00005320: 2020 2020 2020 2072 6574 7572 6e20 2222         return ""
-00005330: 0a0a 2020 2020 6465 6620 6669 6e67 6572  ..    def finger
-00005340: 7072 696e 7428 7365 6c66 293a 0a20 2020  print(self):.   
-00005350: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00005360: 2020 2020 2020 6f75 7470 7574 203d 206a        output = j
-00005370: 736f 6e2e 6c6f 6164 7328 7365 6c66 2e67  son.loads(self.g
-00005380: 6574 436c 694f 7574 7075 7428 2274 6572  etCliOutput("ter
-00005390: 6d75 782d 6669 6e67 6572 7072 696e 7422  mux-fingerprint"
-000053a0: 2929 0a20 2020 2020 2020 2020 2020 2072  )).            r
-000053b0: 6574 7572 6e20 5472 7565 2069 6620 6f75  eturn True if ou
-000053c0: 7470 7574 5b22 6175 7468 5f72 6573 756c  tput["auth_resul
-000053d0: 7422 5d20 3d3d 2022 4155 5448 5f52 4553  t"] == "AUTH_RES
-000053e0: 554c 545f 5355 4343 4553 5322 2065 6c73  ULT_SUCCESS" els
-000053f0: 6520 4661 6c73 650a 2020 2020 2020 2020  e False.        
-00005400: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-00005410: 2020 2020 7265 7475 726e 2046 616c 7365      return False
-00005420: 0a0a 2020 2020 6465 6620 6368 616e 6765  ..    def change
-00005430: 4368 6174 4750 5441 5049 6b65 7928 7365  ChatGPTAPIkey(se
-00005440: 6c66 293a 0a20 2020 2020 2020 2069 6620  lf):.        if 
-00005450: 6e6f 7420 636f 6e66 6967 2e74 6572 6d69  not config.termi
-00005460: 6e61 6c45 6e61 626c 6554 6572 6d75 7841  nalEnableTermuxA
-00005470: 5049 206f 7220 2863 6f6e 6669 672e 7465  PI or (config.te
-00005480: 726d 696e 616c 456e 6162 6c65 5465 726d  rminalEnableTerm
-00005490: 7578 4150 4920 616e 6420 7365 6c66 2e66  uxAPI and self.f
-000054a0: 696e 6765 7270 7269 6e74 2829 293a 0a20  ingerprint()):. 
-000054b0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-000054c0: 3128 2245 6e74 6572 2079 6f75 7220 4f70  1("Enter your Op
-000054d0: 656e 4149 2041 5049 204b 6579 205b 6f70  enAI API Key [op
-000054e0: 7469 6f6e 616c 5d3a 2229 0a20 2020 2020  tional]:").     
-000054f0: 2020 2020 2020 2061 7069 6b65 7920 3d20         apikey = 
-00005500: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-00005510: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-00005520: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-00005530: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
-00005540: 6c74 3d63 6f6e 6669 672e 6f70 656e 6169  lt=config.openai
-00005550: 4170 694b 6579 2c20 6973 5f70 6173 7377  ApiKey, is_passw
-00005560: 6f72 643d 5472 7565 290a 2020 2020 2020  ord=True).      
-00005570: 2020 2020 2020 6966 2061 7069 6b65 7920        if apikey 
-00005580: 616e 6420 6e6f 7420 6170 696b 6579 2e73  and not apikey.s
-00005590: 7472 6970 2829 2e6c 6f77 6572 2829 2069  trip().lower() i
-000055a0: 6e20 2863 6f6e 6669 672e 6361 6e63 656c  n (config.cancel
-000055b0: 5f65 6e74 7279 2c20 636f 6e66 6967 2e65  _entry, config.e
-000055c0: 7869 745f 656e 7472 7929 3a0a 2020 2020  xit_entry):.    
-000055d0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-000055e0: 6967 2e6f 7065 6e61 6941 7069 4b65 7920  ig.openaiApiKey 
-000055f0: 3d20 6170 696b 6579 0a20 2020 2020 2020  = apikey.       
-00005600: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00005610: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00005620: 672e 6f70 656e 6169 4170 694b 6579 203d  g.openaiApiKey =
-00005630: 2022 6672 6565 6765 6e69 7573 220a 2020   "freegenius".  
-00005640: 2020 2020 2020 2020 2020 2370 7269 6e74            #print
-00005650: 3128 2245 6e74 6572 2079 6f75 7220 4f72  1("Enter your Or
-00005660: 6761 6e69 7a61 7469 6f6e 2049 4420 5b6f  ganization ID [o
-00005670: 7074 696f 6e61 6c5d 3a22 290a 2020 2020  ptional]:").    
-00005680: 2020 2020 2020 2020 236f 6964 203d 2073          #oid = s
-00005690: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
-000056a0: 6c65 5072 6f6d 7074 2864 6566 6175 6c74  lePrompt(default
-000056b0: 3d63 6f6e 6669 672e 6f70 656e 6169 4170  =config.openaiAp
-000056c0: 694f 7267 616e 697a 6174 696f 6e2c 2069  iOrganization, i
-000056d0: 735f 7061 7373 776f 7264 3d54 7275 6529  s_password=True)
-000056e0: 0a20 2020 2020 2020 2020 2020 2023 6966  .            #if
-000056f0: 206f 6964 2061 6e64 206e 6f74 206f 6964   oid and not oid
-00005700: 2e73 7472 6970 2829 2e6c 6f77 6572 2829  .strip().lower()
-00005710: 2069 6e20 2863 6f6e 6669 672e 6361 6e63   in (config.canc
-00005720: 656c 5f65 6e74 7279 2c20 636f 6e66 6967  el_entry, config
-00005730: 2e65 7869 745f 656e 7472 7929 3a0a 2020  .exit_entry):.  
-00005740: 2020 2020 2020 2020 2020 2320 2020 2063            #    c
-00005750: 6f6e 6669 672e 6f70 656e 6169 4170 694f  onfig.openaiApiO
-00005760: 7267 616e 697a 6174 696f 6e20 3d20 6f69  rganization = oi
-00005770: 640a 2020 2020 2020 2020 2020 2020 4361  d.            Ca
-00005780: 6c6c 4c4c 4d2e 6368 6563 6b43 6f6d 706c  llLLM.checkCompl
-00005790: 6574 696f 6e28 290a 2020 2020 2020 2020  etion().        
-000057a0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
-000057b0: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
-000057c0: 2020 2020 7072 696e 7432 2822 436f 6e66      print2("Conf
-000057d0: 6967 7572 6174 696f 6e73 2075 7064 6174  igurations updat
-000057e0: 6564 2122 290a 2020 2020 2020 2020 2020  ed!").          
-000057f0: 2020 7365 7443 6861 7447 5054 4150 496b    setChatGPTAPIk
-00005800: 6579 2829 0a0a 2020 2020 6465 6620 6368  ey()..    def ch
-00005810: 616e 6765 4f70 656e 7765 6174 6865 726d  angeOpenweatherm
-00005820: 6170 4170 6928 7365 6c66 293a 0a20 2020  apApi(self):.   
-00005830: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
-00005840: 6967 2e74 6572 6d69 6e61 6c45 6e61 626c  ig.terminalEnabl
-00005850: 6554 6572 6d75 7841 5049 206f 7220 2863  eTermuxAPI or (c
-00005860: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
-00005870: 6162 6c65 5465 726d 7578 4150 4920 616e  ableTermuxAPI an
-00005880: 6420 7365 6c66 2e66 696e 6765 7270 7269  d self.fingerpri
-00005890: 6e74 2829 293a 0a20 2020 2020 2020 2020  nt()):.         
-000058a0: 2020 2070 7269 6e74 3128 2254 6f20 7365     print1("To se
-000058b0: 7420 7570 204f 7065 6e57 6561 7468 6572  t up OpenWeather
-000058c0: 4d61 7020 4150 4920 4b65 792c 2072 6561  Map API Key, rea
-000058d0: 643a 5c6e 6874 7470 733a 2f2f 6769 7468  d:\nhttps://gith
-000058e0: 7562 2e63 6f6d 2f65 6c69 7261 6e77 6f6e  ub.com/eliranwon
-000058f0: 672f 6c65 746d 6564 6f69 742f 7769 6b69  g/letmedoit/wiki
-00005900: 2f4f 7065 6e57 6561 7468 6572 4d61 702d  /OpenWeatherMap-
-00005910: 4150 492d 5365 7475 705c 6e22 290a 2020  API-Setup\n").  
-00005920: 2020 2020 2020 2020 2020 7072 696e 7431            print1
-00005930: 2822 456e 7465 7220 796f 7572 204f 7065  ("Enter your Ope
-00005940: 6e57 6561 7468 6572 4d61 7020 4150 4920  nWeatherMap API 
-00005950: 4b65 793a 2229 0a20 2020 2020 2020 2020  Key:").         
-00005960: 2020 2070 7269 6e74 2829 0a20 2020 2020     print().     
-00005970: 2020 2020 2020 2061 7069 6b65 7920 3d20         apikey = 
-00005980: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-00005990: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-000059a0: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-000059b0: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
-000059c0: 6c74 3d63 6f6e 6669 672e 6f70 656e 7765  lt=config.openwe
-000059d0: 6174 6865 726d 6170 4170 692c 2069 735f  athermapApi, is_
-000059e0: 7061 7373 776f 7264 3d54 7275 6529 0a20  password=True). 
-000059f0: 2020 2020 2020 2020 2020 2069 6620 6170             if ap
-00005a00: 696b 6579 2061 6e64 206e 6f74 2061 7069  ikey and not api
-00005a10: 6b65 792e 7374 7269 7028 292e 6c6f 7765  key.strip().lowe
-00005a20: 7228 2920 696e 2028 636f 6e66 6967 2e63  r() in (config.c
-00005a30: 616e 6365 6c5f 656e 7472 792c 2063 6f6e  ancel_entry, con
-00005a40: 6669 672e 6578 6974 5f65 6e74 7279 293a  fig.exit_entry):
-00005a50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005a60: 2063 6f6e 6669 672e 6f70 656e 7765 6174   config.openweat
-00005a70: 6865 726d 6170 4170 6920 3d20 6170 696b  hermapApi = apik
-00005a80: 6579 0a20 2020 2020 2020 2020 2020 2069  ey.            i
-00005a90: 6620 6765 7457 6561 7468 6572 2829 2069  f getWeather() i
-00005aa0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00005ab0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00005ac0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-00005ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ae0: 7072 696e 7432 2822 436f 6e66 6967 7572  print2("Configur
-00005af0: 6174 696f 6e73 2075 7064 6174 6564 2122  ations updated!"
-00005b00: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-00005b10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00005b20: 2020 2020 636f 6e66 6967 2e6f 7065 6e77      config.openw
-00005b30: 6561 7468 6572 6d61 7041 7069 203d 2022  eathermapApi = "
-00005b40: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00005b50: 2020 7072 696e 7432 2822 496e 7661 6c69    print2("Invali
-00005b60: 6420 4150 4920 6b65 7920 656e 7465 7265  d API key entere
-00005b70: 6421 2229 0a0a 2020 2020 6465 6620 6368  d!")..    def ch
-00005b80: 616e 6765 456c 6576 656e 6c61 6273 4170  angeElevenlabsAp
-00005b90: 6928 7365 6c66 293a 0a20 2020 2020 2020  i(self):.       
-00005ba0: 2069 6620 6e6f 7420 636f 6e66 6967 2e74   if not config.t
-00005bb0: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
-00005bc0: 6d75 7841 5049 206f 7220 2863 6f6e 6669  muxAPI or (confi
-00005bd0: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
-00005be0: 5465 726d 7578 4150 4920 616e 6420 7365  TermuxAPI and se
-00005bf0: 6c66 2e66 696e 6765 7270 7269 6e74 2829  lf.fingerprint()
-00005c00: 293a 0a20 2020 2020 2020 2020 2020 2070  ):.            p
-00005c10: 7269 6e74 3128 2254 6f20 7365 7420 7570  rint1("To set up
-00005c20: 2045 6c65 7665 6e4c 6162 7320 4150 4920   ElevenLabs API 
-00005c30: 4b65 792c 2072 6561 643a 5c6e 6874 7470  Key, read:\nhttp
-00005c40: 733a 2f2f 656c 6576 656e 6c61 6273 2e69  s://elevenlabs.i
-00005c50: 6f2f 646f 6373 2f61 7069 2d72 6566 6572  o/docs/api-refer
-00005c60: 656e 6365 2f74 6578 742d 746f 2d73 7065  ence/text-to-spe
-00005c70: 6563 6823 6175 7468 656e 7469 6361 7469  ech#authenticati
-00005c80: 6f6e 5c6e 2229 0a20 2020 2020 2020 2020  on\n").         
-00005c90: 2020 2070 7269 6e74 3128 2245 6e74 6572     print1("Enter
-00005ca0: 2079 6f75 7220 456c 6576 656e 4c61 6273   your ElevenLabs
-00005cb0: 2041 5049 204b 6579 3a22 290a 2020 2020   API Key:").    
-00005cc0: 2020 2020 2020 2020 7072 696e 7428 290a          print().
-00005cd0: 2020 2020 2020 2020 2020 2020 6170 696b              apik
-00005ce0: 6579 203d 2073 656c 662e 7072 6f6d 7074  ey = self.prompt
-00005cf0: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-00005d00: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-00005d10: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-00005d20: 6465 6661 756c 743d 636f 6e66 6967 2e65  default=config.e
-00005d30: 6c65 7665 6e6c 6162 7341 7069 2c20 6973  levenlabsApi, is
-00005d40: 5f70 6173 7377 6f72 643d 5472 7565 290a  _password=True).
-00005d50: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-00005d60: 7069 6b65 7920 616e 6420 6e6f 7420 6170  pikey and not ap
-00005d70: 696b 6579 2e73 7472 6970 2829 2e6c 6f77  ikey.strip().low
-00005d80: 6572 2829 2069 6e20 2863 6f6e 6669 672e  er() in (config.
-00005d90: 6361 6e63 656c 5f65 6e74 7279 2c20 636f  cancel_entry, co
-00005da0: 6e66 6967 2e65 7869 745f 656e 7472 7929  nfig.exit_entry)
-00005db0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005dc0: 2020 636f 6e66 6967 2e65 6c65 7665 6e6c    config.elevenl
-00005dd0: 6162 7341 7069 203d 2061 7069 6b65 790a  absApi = apikey.
-00005de0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00005df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005e00: 2023 2074 6573 7469 6e67 0a20 2020 2020   # testing.     
-00005e10: 2020 2020 2020 2020 2020 2045 6c65 7665             Eleve
-00005e20: 6e4c 6162 7328 6170 695f 6b65 793d 636f  nLabs(api_key=co
-00005e30: 6e66 6967 2e65 6c65 7665 6e6c 6162 7341  nfig.elevenlabsA
-00005e40: 7069 292e 6765 6e65 7261 7465 280a 2020  pi).generate(.  
-00005e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e60: 2020 2361 7069 5f6b 6579 3d63 6f6e 6669    #api_key=confi
-00005e70: 672e 656c 6576 656e 6c61 6273 4170 692c  g.elevenlabsApi,
-00005e80: 2023 2044 6566 6175 6c74 7320 746f 206f   # Defaults to o
-00005e90: 732e 6765 7465 6e76 2845 4c45 5645 4e5f  s.getenv(ELEVEN_
-00005ea0: 4150 495f 4b45 5929 0a20 2020 2020 2020  API_KEY).       
-00005eb0: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-00005ec0: 743d 2274 6573 7422 2c0a 2020 2020 2020  t="test",.      
-00005ed0: 2020 2020 2020 2020 2020 2020 2020 766f                vo
-00005ee0: 6963 653d 636f 6e66 6967 2e65 6c65 7665  ice=config.eleve
-00005ef0: 6e6c 6162 7356 6f69 6365 2c0a 2020 2020  nlabsVoice,.    
-00005f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f10: 6d6f 6465 6c3d 2265 6c65 7665 6e5f 6d75  model="eleven_mu
-00005f20: 6c74 696c 696e 6775 616c 5f76 3222 0a20  ltilingual_v2". 
-00005f30: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00005f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005f50: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-00005f60: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
-00005f70: 2020 2020 2070 7269 6e74 3228 2243 6f6e       print2("Con
-00005f80: 6669 6775 7261 7469 6f6e 7320 7570 6461  figurations upda
-00005f90: 7465 6421 2229 0a20 2020 2020 2020 2020  ted!").         
-00005fa0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-00005fb0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00005fc0: 672e 656c 6576 656e 6c61 6273 4170 6920  g.elevenlabsApi 
-00005fd0: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
-00005fe0: 2020 2020 2070 7269 6e74 3228 2249 6e76       print2("Inv
-00005ff0: 616c 6964 2041 5049 206b 6579 2065 6e74  alid API key ent
-00006000: 6572 6564 2122 290a 0a20 2020 2064 6566  ered!")..    def
-00006010: 2065 7869 7441 6374 696f 6e28 7365 6c66   exitAction(self
-00006020: 293a 0a20 2020 2020 2020 206d 6573 7361  ):.        messa
-00006030: 6765 203d 2022 636c 6f73 696e 6720 2e2e  ge = "closing ..
-00006040: 2e22 0a20 2020 2020 2020 2070 7269 6e74  .".        print
-00006050: 3228 6d65 7373 6167 6529 0a20 2020 2020  2(message).     
-00006060: 2020 2070 7269 6e74 3128 7365 6c66 2e64     print1(self.d
-00006070: 6976 6964 6572 290a 2020 2020 2020 2020  ivider).        
-00006080: 7265 7475 726e 2022 220a 0a20 2020 2023  return ""..    #
-00006090: 2075 7064 6174 6520 7379 7374 656d 206d   update system m
-000060a0: 6573 7361 6765 0a20 2020 2064 6566 2075  essage.    def u
-000060b0: 7064 6174 6553 7973 7465 6d4d 6573 7361  pdateSystemMessa
-000060c0: 6765 2873 656c 662c 206d 6573 7361 6765  ge(self, message
-000060d0: 7329 3a0a 2020 2020 2020 2020 666f 7220  s):.        for 
-000060e0: 696e 6465 782c 206d 6573 7361 6765 2069  index, message i
-000060f0: 6e20 656e 756d 6572 6174 6528 6d65 7373  n enumerate(mess
-00006100: 6167 6573 293a 0a20 2020 2020 2020 2020  ages):.         
-00006110: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00006120: 2020 2020 2020 2020 6966 206d 6573 7361          if messa
-00006130: 6765 2e67 6574 2822 726f 6c65 222c 2022  ge.get("role", "
-00006140: 2229 203d 3d20 2273 7973 7465 6d22 3a0a  ") == "system":.
-00006150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006160: 2020 2020 2320 7570 6461 7465 2073 7973      # update sys
-00006170: 7465 6d20 6d65 7373 0a20 2020 2020 2020  tem mess.       
-00006180: 2020 2020 2020 2020 2020 2020 2064 6179               day
-00006190: 4f66 5765 656b 203d 2067 6574 4461 794f  OfWeek = getDayO
-000061a0: 6657 6565 6b28 290a 2020 2020 2020 2020  fWeek().        
-000061b0: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
-000061c0: 6167 655b 2263 6f6e 7465 6e74 225d 203d  age["content"] =
-000061d0: 2072 652e 7375 6228 0a20 2020 2020 2020   re.sub(.       
-000061e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061f0: 2022 2222 5e43 7572 7265 6e74 2064 6972   """^Current dir
-00006200: 6563 746f 7279 3a20 2e2a 3f5c 6e43 7572  ectory: .*?\nCur
-00006210: 7265 6e74 2074 696d 653a 202e 2a3f 5c6e  rent time: .*?\n
-00006220: 4375 7272 656e 7420 6461 7920 6f66 2074  Current day of t
-00006230: 6865 2077 6565 6b3a 202e 2a3f 2422 2222  he week: .*?$"""
-00006240: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00006250: 2020 2020 2020 2020 2020 6622 2222 4375            f"""Cu
-00006260: 7272 656e 7420 6469 7265 6374 6f72 793a  rrent directory:
-00006270: 207b 6f73 2e67 6574 6377 6428 297d 5c6e   {os.getcwd()}\n
-00006280: 4375 7272 656e 7420 7469 6d65 3a20 7b73  Current time: {s
-00006290: 7472 2864 6174 6574 696d 652e 6461 7465  tr(datetime.date
-000062a0: 7469 6d65 2e6e 6f77 2829 297d 5c6e 4375  time.now())}\nCu
-000062b0: 7272 656e 7420 6461 7920 6f66 2074 6865  rrent day of the
-000062c0: 2077 6565 6b3a 207b 6461 794f 6657 6565   week: {dayOfWee
-000062d0: 6b7d 2222 222c 0a20 2020 2020 2020 2020  k}""",.         
-000062e0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-000062f0: 6573 7361 6765 5b22 636f 6e74 656e 7422  essage["content"
-00006300: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00006310: 2020 2020 2020 2020 2020 2066 6c61 6773             flags
-00006320: 3d72 652e 4d2c 0a20 2020 2020 2020 2020  =re.M,.         
-00006330: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-00006340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006350: 206d 6573 7361 6765 735b 696e 6465 785d   messages[index]
-00006360: 203d 206d 6573 7361 6765 0a20 2020 2020   = message.     
-00006370: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00006380: 2069 6e20 6120 6c6f 6e67 2063 6f6e 7665   in a long conve
-00006390: 7273 6174 696f 6e2c 2043 6861 7447 5054  rsation, ChatGPT
-000063a0: 206f 6674 656e 2066 6f72 6765 7473 2069   often forgets i
-000063b0: 7473 2073 7973 7465 6d20 6d65 7373 6167  ts system messag
-000063c0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-000063d0: 2020 2020 2020 2320 6d6f 7665 2066 6f72        # move for
-000063e0: 7761 7264 2069 6620 636f 6e76 6572 7361  ward if conversa
-000063f0: 7469 6f6e 2068 6176 6520 7374 6172 7465  tion have starte
-00006400: 642c 2074 6f20 656e 6861 6e63 6520 7379  d, to enhance sy
-00006410: 7374 656d 206d 6573 7361 6765 0a20 2020  stem message.   
-00006420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006430: 2069 6620 636f 6e66 6967 2e63 6f6e 7665   if config.conve
-00006440: 7273 6174 696f 6e53 7461 7274 6564 2061  rsationStarted a
-00006450: 6e64 206e 6f74 2069 6e64 6578 203d 3d20  nd not index == 
-00006460: 6c65 6e28 6d65 7373 6167 6573 2920 2d20  len(messages) - 
-00006470: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-00006480: 2020 2020 2020 2020 2020 2069 7465 6d20             item 
-00006490: 3d20 6d65 7373 6167 6573 2e70 6f70 2869  = messages.pop(i
-000064a0: 6e64 6578 290a 2020 2020 2020 2020 2020  ndex).          
-000064b0: 2020 2020 2020 2020 2020 2020 2020 6d65                me
-000064c0: 7373 6167 6573 2e61 7070 656e 6428 6974  ssages.append(it
-000064d0: 656d 290a 2020 2020 2020 2020 2020 2020  em).            
-000064e0: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-000064f0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00006500: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00006510: 2020 7061 7373 0a20 2020 2020 2020 2072    pass.        r
-00006520: 6574 7572 6e20 6d65 7373 6167 6573 0a0a  eturn messages..
-00006530: 2020 2020 6465 6620 6765 7443 7572 7265      def getCurre
-00006540: 6e74 436f 6e74 6578 7428 7365 6c66 293a  ntContext(self):
-00006550: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00006560: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006570: 6443 6f6e 7465 7874 2069 6e20 636f 6e66  dContext in conf
-00006580: 6967 2e70 7265 6465 6669 6e65 6443 6f6e  ig.predefinedCon
-00006590: 7465 7874 733a 0a20 2020 2020 2020 2020  texts:.         
-000065a0: 2020 2070 7269 6e74 3228 6622 277b 636f     print2(f"'{co
-000065b0: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
-000065c0: 6f6e 7465 7874 7d27 206e 6f74 2064 6566  ontext}' not def
-000065d0: 696e 6564 2122 290a 2020 2020 2020 2020  ined!").        
-000065e0: 2020 2020 636f 6e66 6967 2e70 7265 6465      config.prede
-000065f0: 6669 6e65 6443 6f6e 7465 7874 203d 2063  finedContext = c
-00006600: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
-00006610: 436f 6e74 6578 7454 656d 7020 6966 2063  ContextTemp if c
-00006620: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
-00006630: 436f 6e74 6578 7454 656d 7020 616e 6420  ContextTemp and 
-00006640: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006650: 6443 6f6e 7465 7874 5465 6d70 2069 6e20  dContextTemp in 
-00006660: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006670: 6443 6f6e 7465 7874 7320 656c 7365 2022  dContexts else "
-00006680: 5b6e 6f6e 655d 220a 2020 2020 2020 2020  [none]".        
-00006690: 2020 2020 7072 696e 7433 2866 2250 7265      print3(f"Pre
-000066a0: 6465 6669 6e65 6420 636f 6e74 6578 7420  defined context 
-000066b0: 6368 616e 6765 6420 746f 3a20 7b63 6f6e  changed to: {con
-000066c0: 6669 672e 7072 6564 6566 696e 6564 436f  fig.predefinedCo
-000066d0: 6e74 6578 747d 2229 0a20 2020 2020 2020  ntext}").       
-000066e0: 2069 6620 636f 6e66 6967 2e70 7265 6465   if config.prede
-000066f0: 6669 6e65 6443 6f6e 7465 7874 203d 3d20  finedContext == 
-00006700: 225b 6e6f 6e65 5d22 3a0a 2020 2020 2020  "[none]":.      
-00006710: 2020 2020 2020 2320 6e6f 2063 6f6e 7465        # no conte
-00006720: 7874 0a20 2020 2020 2020 2020 2020 2063  xt.            c
-00006730: 6f6e 7465 7874 203d 2022 220a 2020 2020  ontext = "".    
-00006740: 2020 2020 656c 6966 2063 6f6e 6669 672e      elif config.
-00006750: 7072 6564 6566 696e 6564 436f 6e74 6578  predefinedContex
-00006760: 7420 3d3d 2022 5b63 7573 746f 6d5d 223a  t == "[custom]":
-00006770: 0a20 2020 2020 2020 2020 2020 2023 2063  .            # c
-00006780: 7573 746f 6d20 696e 7075 7420 696e 2074  ustom input in t
-00006790: 6865 2073 6574 7469 6e67 7320 6469 616c  he settings dial
-000067a0: 6f67 0a20 2020 2020 2020 2020 2020 2063  og.            c
-000067b0: 6f6e 7465 7874 203d 2063 6f6e 6669 672e  ontext = config.
-000067c0: 6375 7374 6f6d 5072 6564 6566 696e 6564  customPredefined
-000067d0: 436f 6e74 6578 740a 2020 2020 2020 2020  Context.        
-000067e0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000067f0: 2020 2320 7573 6572 7320 6361 6e20 6d6f    # users can mo
-00006800: 6469 6679 2063 6f6e 6669 672e 7072 6564  dify config.pred
-00006810: 6566 696e 6564 436f 6e74 6578 7473 2076  efinedContexts v
-00006820: 6961 2070 6c75 6769 6e73 0a20 2020 2020  ia plugins.     
-00006830: 2020 2020 2020 2063 6f6e 7465 7874 203d         context =
-00006840: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00006850: 6564 436f 6e74 6578 7473 5b63 6f6e 6669  edContexts[confi
-00006860: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
-00006870: 6578 745d 0a20 2020 2020 2020 2072 6574  ext].        ret
-00006880: 7572 6e20 636f 6e74 6578 740a 0a20 2020  urn context..   
-00006890: 2064 6566 2073 686f 7743 7572 7265 6e74   def showCurrent
-000068a0: 436f 6e74 6578 7428 7365 6c66 293a 0a20  Context(self):. 
-000068b0: 2020 2020 2020 2064 6573 6372 6970 7469         descripti
-000068c0: 6f6e 203d 2073 656c 662e 6765 7443 7572  on = self.getCur
-000068d0: 7265 6e74 436f 6e74 6578 7428 290a 2020  rentContext().  
-000068e0: 2020 2020 2020 6966 2064 6573 6372 6970        if descrip
-000068f0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00006900: 2020 6465 7363 7269 7074 696f 6e20 3d20    description = 
-00006910: 6622 5c6e 7b64 6573 6372 6970 7469 6f6e  f"\n{description
-00006920: 7d22 0a20 2020 2020 2020 2070 7269 6e74  }".        print
-00006930: 3128 7365 6c66 2e64 6976 6964 6572 290a  1(self.divider).
-00006940: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-00006950: 2243 6f6e 7465 7874 3a20 7b63 6f6e 6669  "Context: {confi
-00006960: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
-00006970: 6578 747d 7b64 6573 6372 6970 7469 6f6e  ext}{description
-00006980: 7d22 290a 2020 2020 2020 2020 7072 696e  }").        prin
-00006990: 7431 2873 656c 662e 6469 7669 6465 7229  t1(self.divider)
-000069a0: 0a0a 2020 2020 6465 6620 6669 6e65 5475  ..    def fineTu
-000069b0: 6e65 5573 6572 496e 7075 7428 7365 6c66  neUserInput(self
-000069c0: 2c20 7573 6572 496e 7075 7429 3a0a 2020  , userInput):.  
-000069d0: 2020 2020 2020 2320 6375 7374 6f6d 6973        # customis
-000069e0: 6520 6368 6174 2063 6f6e 7465 7874 0a20  e chat context. 
-000069f0: 2020 2020 2020 2063 6f6e 7465 7874 203d         context =
-00006a00: 2073 656c 662e 6765 7443 7572 7265 6e74   self.getCurrent
-00006a10: 436f 6e74 6578 7428 290a 2020 2020 2020  Context().      
-00006a20: 2020 6966 2069 735f 7661 6c69 645f 7572    if is_valid_ur
-00006a30: 6c28 7573 6572 496e 7075 7429 2061 6e64  l(userInput) and
-00006a40: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00006a50: 6564 436f 6e74 6578 7420 696e 2028 224c  edContext in ("L
-00006a60: 6574 206d 6520 5375 6d6d 6172 697a 6522  et me Summarize"
-00006a70: 2c20 224c 6574 206d 6520 4578 706c 6169  , "Let me Explai
-00006a80: 6e22 293a 0a20 2020 2020 2020 2020 2020  n"):.           
-00006a90: 2063 6f6e 7465 7874 203d 2063 6f6e 7465   context = conte
-00006aa0: 7874 2e72 6570 6c61 6365 2822 7468 6520  xt.replace("the 
-00006ab0: 666f 6c6c 6f77 696e 6720 636f 6e74 656e  following conten
-00006ac0: 743a 5c6e 5b4e 4f5f 544f 4f4c 5d22 2c20  t:\n[NO_TOOL]", 
-00006ad0: 2274 6865 2063 6f6e 7465 6e74 2069 6e20  "the content in 
-00006ae0: 7468 6520 7468 6973 2077 6562 2075 726c  the this web url
-00006af0: 3a5c 6e22 290a 2020 2020 2020 2020 656c  :\n").        el
-00006b00: 6966 2069 735f 7661 6c69 645f 7572 6c28  if is_valid_url(
-00006b10: 7573 6572 496e 7075 7429 2061 6e64 2063  userInput) and c
-00006b20: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
-00006b30: 436f 6e74 6578 7420 3d3d 2022 4c65 7420  Context == "Let 
-00006b40: 6d65 2054 7261 6e73 6c61 7465 223a 0a20  me Translate":. 
-00006b50: 2020 2020 2020 2020 2020 2075 7365 7249             userI
-00006b60: 6e70 7574 203d 2067 6574 5765 6254 6578  nput = getWebTex
-00006b70: 7428 7573 6572 496e 7075 7429 0a20 2020  t(userInput).   
-00006b80: 2020 2020 2069 6620 636f 6e74 6578 7420       if context 
-00006b90: 616e 6420 286e 6f74 2063 6f6e 6669 672e  and (not config.
-00006ba0: 636f 6e76 6572 7361 7469 6f6e 5374 6172  conversationStar
-00006bb0: 7465 6420 6f72 2028 636f 6e66 6967 2e63  ted or (config.c
-00006bc0: 6f6e 7665 7273 6174 696f 6e53 7461 7274  onversationStart
-00006bd0: 6564 2061 6e64 2063 6f6e 6669 672e 6170  ed and config.ap
-00006be0: 706c 7950 7265 6465 6669 6e65 6443 6f6e  plyPredefinedCon
-00006bf0: 7465 7874 416c 7761 7973 2929 3a0a 2020  textAlways)):.  
-00006c00: 2020 2020 2020 2020 2020 2320 636f 6e74            # cont
-00006c10: 6578 7420 6d61 7920 7374 6172 7420 7769  ext may start wi
-00006c20: 7468 2022 596f 7520 7769 6c6c 2062 6520  th "You will be 
-00006c30: 7072 6f76 6964 6564 2077 6974 6820 6d79  provided with my
-00006c40: 2069 6e70 7574 2064 656c 696d 6974 6564   input delimited
-00006c50: 2077 6974 6820 6120 7061 6972 206f 6620   with a pair of 
-00006c60: 584d 4c20 7461 6773 2c20 3c69 6e70 7574  XML tags, <input
-00006c70: 3e20 616e 6420 3c2f 696e 7075 743e 2e20  > and </input>. 
-00006c80: 2e2e 2e0a 2020 2020 2020 2020 2020 2020  ....            
-00006c90: 7573 6572 496e 7075 7420 3d20 7265 2e73  userInput = re.s
-00006ca0: 7562 2822 3c63 6f6e 7465 6e74 3e7c 3c63  ub("<content>|<c
-00006cb0: 6f6e 7465 6e74 205b 5e3c 3e5d 2a3f 3e7c  ontent [^<>]*?>|
-00006cc0: 3c2f 636f 6e74 656e 743e 222c 2022 222c  </content>", "",
-00006cd0: 2075 7365 7249 6e70 7574 290a 2020 2020   userInput).    
-00006ce0: 2020 2020 2020 2020 7573 6572 496e 7075          userInpu
-00006cf0: 7420 3d20 6622 7b63 6f6e 7465 7874 7d5c  t = f"{context}\
-00006d00: 6e3c 636f 6e74 656e 743e 7b75 7365 7249  n<content>{userI
-00006d10: 6e70 7574 7d3c 2f63 6f6e 7465 6e74 3e22  nput}</content>"
-00006d20: 2069 6620 7573 6572 496e 7075 742e 7374   if userInput.st
-00006d30: 7269 7028 2920 656c 7365 2063 6f6e 7465  rip() else conte
-00006d40: 7874 0a20 2020 2020 2020 2023 7573 6572  xt.        #user
-00006d50: 496e 7075 7420 3d20 5368 6172 6564 5574  Input = SharedUt
-00006d60: 696c 2e61 6464 5469 6d65 5374 616d 7028  il.addTimeStamp(
-00006d70: 7573 6572 496e 7075 7429 0a20 2020 2020  userInput).     
-00006d80: 2020 2072 6574 7572 6e20 7573 6572 496e     return userIn
-00006d90: 7075 740a 0a20 2020 2064 6566 2072 756e  put..    def run
-00006da0: 4163 7469 6f6e 7328 7365 6c66 2c20 7573  Actions(self, us
-00006db0: 6572 496e 7075 742c 2066 6561 7475 7265  erInput, feature
-00006dc0: 3d22 2229 3a0a 2020 2020 2020 2020 7175  =""):.        qu
-00006dd0: 6572 7920 3d20 2222 0a20 2020 2020 2020  ery = "".       
-00006de0: 2066 6561 7475 7265 5465 6d70 203d 2066   featureTemp = f
-00006df0: 6561 7475 7265 0a20 2020 2020 2020 206f  eature.        o
-00006e00: 7074 696f 6e73 203d 2074 7570 6c65 2873  ptions = tuple(s
-00006e10: 656c 662e 6163 7469 6f6e 732e 6b65 7973  elf.actions.keys
-00006e20: 2829 290a 2020 2020 2020 2020 6465 7363  ()).        desc
-00006e30: 7269 7074 696f 6e73 203d 205b 695b 305d  riptions = [i[0]
-00006e40: 2066 6f72 2069 2069 6e20 7365 6c66 2e61   for i in self.a
-00006e50: 6374 696f 6e73 2e76 616c 7565 7328 295d  ctions.values()]
-00006e60: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00006e70: 6665 6174 7572 6520 6f72 206e 6f74 2066  feature or not f
-00006e80: 6561 7475 7265 2069 6e20 7365 6c66 2e61  eature in self.a
-00006e90: 6374 696f 6e73 3a0a 2020 2020 2020 2020  ctions:.        
-00006ea0: 2020 2020 2320 6669 6c74 6572 2061 7669      # filter avi
-00006eb0: 6c61 626c 6520 6163 7469 6f6e 730a 2020  lable actions.  
-00006ec0: 2020 2020 2020 2020 2020 6966 2066 6561            if fea
-00006ed0: 7475 7265 2e73 7461 7274 7377 6974 6828  ture.startswith(
-00006ee0: 222e 2229 3a0a 2020 2020 2020 2020 2020  "."):.          
-00006ef0: 2020 2020 2020 7175 6572 7920 3d20 6665        query = fe
-00006f00: 6174 7572 655b 313a 5d0a 2020 2020 2020  ature[1:].      
-00006f10: 2020 2020 2020 6665 6174 7572 6520 3d20        feature = 
-00006f20: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
-00006f30: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
-00006f40: 2020 2020 2020 2020 2020 2020 2020 6f70                op
-00006f50: 7469 6f6e 733d 6f70 7469 6f6e 732c 0a20  tions=options,. 
-00006f60: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00006f70: 6573 6372 6970 7469 6f6e 733d 6465 7363  escriptions=desc
-00006f80: 7269 7074 696f 6e73 2c0a 2020 2020 2020  riptions,.      
-00006f90: 2020 2020 2020 2020 2020 7469 746c 653d            title=
-00006fa0: 636f 6e66 6967 2e66 7265 6547 656e 6975  config.freeGeniu
-00006fb0: 7341 494e 616d 652c 0a20 2020 2020 2020  sAIName,.       
-00006fc0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-00006fd0: 3d63 6f6e 6669 672e 6465 6661 756c 7442  =config.defaultB
-00006fe0: 6c61 6e6b 456e 7472 7941 6374 696f 6e2c  lankEntryAction,
-00006ff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007000: 2074 6578 743d 2253 656c 6563 7420 616e   text="Select an
-00007010: 2061 6374 696f 6e20 6f72 206d 616b 6520   action or make 
-00007020: 6368 616e 6765 733a 222c 0a20 2020 2020  changes:",.     
-00007030: 2020 2020 2020 2020 2020 2066 696c 7465             filte
-00007040: 723d 7175 6572 792c 0a20 2020 2020 2020  r=query,.       
-00007050: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00007060: 6620 6665 6174 7572 653a 0a20 2020 2020  f feature:.     
-00007070: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
-00007080: 6374 696f 6e73 5b66 6561 7475 7265 5d5b  ctions[feature][
-00007090: 2d31 5d20 6973 206e 6f74 204e 6f6e 653a  -1] is not None:
-000070a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000070b0: 2073 656c 662e 6163 7469 6f6e 735b 6665   self.actions[fe
-000070c0: 6174 7572 655d 5b2d 315d 2829 0a20 2020  ature][-1]().   
-000070d0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000070e0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000070f0: 2063 7572 7265 6e74 2065 7865 6365 7074   current execept
-00007100: 696f 6e73 2061 7265 2022 2e6e 6577 2220  ions are ".new" 
-00007110: 616e 6420 222e 636f 6e74 6578 7422 0a20  and ".context". 
-00007120: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00007130: 7365 7249 6e70 7574 203d 2066 6561 7475  serInput = featu
-00007140: 7265 0a20 2020 2020 2020 2065 6c69 6620  re.        elif 
-00007150: 6665 6174 7572 6554 656d 703a 0a20 2020  featureTemp:.   
-00007160: 2020 2020 2020 2020 2023 2077 6865 6e20           # when 
-00007170: 7468 6520 656e 7465 7265 6420 6665 6174  the entered feat
-00007180: 7572 6520 646f 6573 206e 6f74 206d 6174  ure does not mat
-00007190: 6368 2061 6e20 6163 7469 6f6e 0a20 2020  ch an action.   
-000071a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000071b0: 6665 6174 7572 6554 656d 700a 2020 2020  featureTemp.    
-000071c0: 2020 2020 7265 7475 726e 2075 7365 7249      return userI
-000071d0: 6e70 7574 0a0a 2020 2020 6465 6620 7365  nput..    def se
-000071e0: 7441 7574 6f55 7067 7261 6465 2873 656c  tAutoUpgrade(sel
-000071f0: 6629 3a0a 2020 2020 2020 2020 6f70 7469  f):.        opti
-00007200: 6f6e 7320 3d20 2822 656e 6162 6c65 222c  ons = ("enable",
-00007210: 2022 6469 7361 626c 6522 290a 2020 2020   "disable").    
-00007220: 2020 2020 6f70 7469 6f6e 203d 2073 656c      option = sel
-00007230: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
-00007240: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
-00007250: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
-00007260: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
-00007270: 2020 2020 7469 746c 653d 2241 7574 6f6d      title="Autom
-00007280: 6174 6963 2055 7067 7261 6465 206f 6e20  atic Upgrade on 
-00007290: 5374 6172 7475 7022 2c0a 2020 2020 2020  Startup",.      
-000072a0: 2020 2020 2020 6465 6661 756c 743d 2265        default="e
-000072b0: 6e61 626c 6522 2069 6620 636f 6e66 6967  nable" if config
-000072c0: 2e61 7574 6f55 7067 7261 6465 2065 6c73  .autoUpgrade els
-000072d0: 6520 2264 6973 6162 6c65 222c 0a20 2020  e "disable",.   
-000072e0: 2020 2020 2020 2020 2074 6578 743d 2253           text="S
-000072f0: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
-00007300: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
-00007310: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
-00007320: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00007330: 2063 6f6e 6669 672e 6175 746f 5570 6772   config.autoUpgr
-00007340: 6164 6520 3d20 286f 7074 696f 6e20 3d3d  ade = (option ==
-00007350: 2022 656e 6162 6c65 2229 0a20 2020 2020   "enable").     
-00007360: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-00007370: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-00007380: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-00007390: 4175 746f 6d61 7469 6320 5570 6772 6164  Automatic Upgrad
-000073a0: 653a 207b 6f70 7469 6f6e 7d64 2122 290a  e: {option}d!").
-000073b0: 0a20 2020 2064 6566 2073 6574 4479 6e61  .    def setDyna
-000073c0: 6d69 6354 6f6b 656e 436f 756e 7428 7365  micTokenCount(se
-000073d0: 6c66 293a 0a20 2020 2020 2020 206f 7074  lf):.        opt
-000073e0: 696f 6e73 203d 2028 2265 6e61 626c 6522  ions = ("enable"
-000073f0: 2c20 2264 6973 6162 6c65 2229 0a20 2020  , "disable").   
-00007400: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
-00007410: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
-00007420: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
-00007430: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
-00007440: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
-00007450: 2020 2020 2074 6974 6c65 3d22 4479 6e61       title="Dyna
-00007460: 6d69 6320 546f 6b65 6e20 436f 756e 7422  mic Token Count"
-00007470: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00007480: 6661 756c 743d 2265 6e61 626c 6522 2069  fault="enable" i
-00007490: 6620 636f 6e66 6967 2e64 796e 616d 6963  f config.dynamic
-000074a0: 546f 6b65 6e43 6f75 6e74 2065 6c73 6520  TokenCount else 
-000074b0: 2264 6973 6162 6c65 222c 0a20 2020 2020  "disable",.     
-000074c0: 2020 2020 2020 2074 6578 743d 2250 6572         text="Per
-000074d0: 666f 726d 2074 6f6b 656e 2063 6f75 6e74  form token count
-000074e0: 2061 7320 796f 7520 7479 7065 2e5c 6e53   as you type.\nS
-000074f0: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
-00007500: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
-00007510: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
-00007520: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00007530: 2063 6f6e 6669 672e 6479 6e61 6d69 6354   config.dynamicT
-00007540: 6f6b 656e 436f 756e 7420 3d20 286f 7074  okenCount = (opt
-00007550: 696f 6e20 3d3d 2022 656e 6162 6c65 2229  ion == "enable")
-00007560: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00007570: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00007580: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00007590: 6e74 3328 6622 4479 6e61 6d69 6320 746f  nt3(f"Dynamic to
-000075a0: 6b65 6e20 636f 756e 743a 207b 6f70 7469  ken count: {opti
-000075b0: 6f6e 7d64 2122 290a 2020 2020 2020 2020  on}d!").        
-000075c0: 2020 2020 7072 696e 7433 2822 4e6f 7465      print3("Note
-000075d0: 3a20 4368 616e 6765 7320 6170 706c 6963  : Changes applic
-000075e0: 6162 6c65 2074 6f20 2763 6861 7467 7074  able to 'chatgpt
-000075f0: 2720 616e 6420 276c 6574 6d65 646f 6974  ' and 'letmedoit
-00007600: 2720 696e 7465 7266 6163 6573 206f 6e6c  ' interfaces onl
-00007610: 792e 2229 0a0a 2020 2020 6465 6620 7365  y.")..    def se
-00007620: 7449 6e63 6c75 6465 4970 496e 5379 7374  tIncludeIpInSyst
-00007630: 656d 4d65 7373 6167 6528 7365 6c66 293a  emMessage(self):
-00007640: 0a20 2020 2020 2020 206f 7074 696f 6e73  .        options
-00007650: 203d 2028 2265 6e61 626c 6522 2c20 2264   = ("enable", "d
-00007660: 6973 6162 6c65 2229 0a20 2020 2020 2020  isable").       
-00007670: 206f 7074 696f 6e20 3d20 7365 6c66 2e64   option = self.d
-00007680: 6961 6c6f 6773 2e67 6574 5661 6c69 644f  ialogs.getValidO
-00007690: 7074 696f 6e73 280a 2020 2020 2020 2020  ptions(.        
-000076a0: 2020 2020 6f70 7469 6f6e 733d 6f70 7469      options=opti
-000076b0: 6f6e 732c 0a20 2020 2020 2020 2020 2020  ons,.           
-000076c0: 2074 6974 6c65 3d22 496e 636c 7564 6520   title="Include 
-000076d0: 4950 2069 6e66 6f72 6d61 7469 6f6e 222c  IP information",
-000076e0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-000076f0: 6175 6c74 3d22 656e 6162 6c65 2220 6966  ault="enable" if
-00007700: 2063 6f6e 6669 672e 696e 636c 7564 6549   config.includeI
-00007710: 7049 6e44 6576 6963 6549 6e66 6f20 656c  pInDeviceInfo el
-00007720: 7365 2022 6469 7361 626c 6522 2c0a 2020  se "disable",.  
-00007730: 2020 2020 2020 2020 2020 7465 7874 3d22            text="
-00007740: 496e 636c 7564 6520 4950 2069 6e66 6f72  Include IP infor
-00007750: 6d61 7469 6f6e 2069 6e20 7379 7374 656d  mation in system
-00007760: 206d 6573 7361 6765 5c6e 6361 6e20 656e   message\ncan en
-00007770: 6861 6e63 6520 7265 7370 6f6e 7365 2061  hance response a
-00007780: 626f 7574 206c 6f63 6174 696f 6e73 2e5c  bout locations.\
-00007790: 6e53 656c 6563 7420 616e 206f 7074 696f  nSelect an optio
-000077a0: 6e20 6265 6c6f 773a 220a 2020 2020 2020  n below:".      
-000077b0: 2020 290a 2020 2020 2020 2020 6966 206f    ).        if o
-000077c0: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
-000077d0: 2020 2063 6f6e 6669 672e 696e 636c 7564     config.includ
-000077e0: 6549 7049 6e44 6576 6963 6549 6e66 6f20  eIpInDeviceInfo 
-000077f0: 3d20 286f 7074 696f 6e20 3d3d 2022 656e  = (option == "en
-00007800: 6162 6c65 2229 0a20 2020 2020 2020 2020  able").         
-00007810: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
-00007820: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
-00007830: 2020 2070 7269 6e74 3328 6622 496e 636c     print3(f"Incl
-00007840: 7564 6520 4950 2069 6e66 6f72 6d61 7469  ude IP informati
-00007850: 6f6e 3a20 7b6f 7074 696f 6e7d 6421 2229  on: {option}d!")
-00007860: 0a0a 2020 2020 6465 6620 7365 7443 6f64  ..    def setCod
-00007870: 6544 6973 706c 6179 2873 656c 6629 3a0a  eDisplay(self):.
-00007880: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
-00007890: 3d20 2822 656e 6162 6c65 222c 2022 6469  = ("enable", "di
-000078a0: 7361 626c 6522 290a 2020 2020 2020 2020  sable").        
-000078b0: 6f70 7469 6f6e 203d 2073 656c 662e 6469  option = self.di
-000078c0: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
-000078d0: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-000078e0: 2020 206f 7074 696f 6e73 3d6f 7074 696f     options=optio
-000078f0: 6e73 2c0a 2020 2020 2020 2020 2020 2020  ns,.            
-00007900: 7469 746c 653d 2243 6f64 6520 4469 7370  title="Code Disp
-00007910: 6c61 7922 2c0a 2020 2020 2020 2020 2020  lay",.          
-00007920: 2020 6465 6661 756c 743d 2265 6e61 626c    default="enabl
-00007930: 6522 2069 6620 636f 6e66 6967 2e63 6f64  e" if config.cod
-00007940: 6544 6973 706c 6179 2065 6c73 6520 2264  eDisplay else "d
-00007950: 6973 6162 6c65 222c 0a20 2020 2020 2020  isable",.       
-00007960: 2020 2020 2074 6578 743d 224f 7074 696f       text="Optio
-00007970: 6e73 2074 6f20 6469 7370 6c61 7920 7072  ns to display pr
-00007980: 6f67 7261 6d6d 696e 6720 636f 6465 2062  ogramming code b
-00007990: 6566 6f72 6520 6578 6563 7574 696f 6e3a  efore execution:
-000079a0: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
-000079b0: 2020 2020 6966 206f 7074 696f 6e3a 0a20      if option:. 
-000079c0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-000079d0: 672e 636f 6465 4469 7370 6c61 7920 3d20  g.codeDisplay = 
-000079e0: 286f 7074 696f 6e20 3d3d 2022 656e 6162  (option == "enab
-000079f0: 6c65 2229 0a20 2020 2020 2020 2020 2020  le").           
-00007a00: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-00007a10: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
-00007a20: 2070 7269 6e74 3328 6622 436f 6465 2064   print3(f"Code d
-00007a30: 6973 706c 6179 3a20 7b6f 7074 696f 6e7d  isplay: {option}
-00007a40: 6421 2229 0a0a 2020 2020 6465 6620 7365  d!")..    def se
-00007a50: 7443 6f6e 7465 7874 496e 7465 6772 6174  tContextIntegrat
-00007a60: 696f 6e28 7365 6c66 293a 0a20 2020 2020  ion(self):.     
-00007a70: 2020 206f 7074 696f 6e73 203d 2028 2274     options = ("t
-00007a80: 6865 2066 6972 7374 2069 6e70 7574 206f  he first input o
-00007a90: 6e6c 7922 2c20 2261 6c6c 2069 6e70 7574  nly", "all input
-00007aa0: 7322 290a 2020 2020 2020 2020 6f70 7469  s").        opti
-00007ab0: 6f6e 203d 2073 656c 662e 6469 616c 6f67  on = self.dialog
-00007ac0: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-00007ad0: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
-00007ae0: 7074 696f 6e73 3d6f 7074 696f 6e73 2c0a  ptions=options,.
-00007af0: 2020 2020 2020 2020 2020 2020 7469 746c              titl
-00007b00: 653d 2250 7265 6465 6669 6e65 6420 436f  e="Predefined Co
-00007b10: 6e74 6578 7420 496e 7465 6772 6174 696f  ntext Integratio
-00007b20: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00007b30: 6465 6661 756c 743d 2261 6c6c 2069 6e70  default="all inp
-00007b40: 7574 7322 2069 6620 636f 6e66 6967 2e61  uts" if config.a
-00007b50: 7070 6c79 5072 6564 6566 696e 6564 436f  pplyPredefinedCo
-00007b60: 6e74 6578 7441 6c77 6179 7320 656c 7365  ntextAlways else
-00007b70: 2022 7468 6520 6669 7273 7420 696e 7075   "the first inpu
-00007b80: 7420 6f6e 6c79 222c 0a20 2020 2020 2020  t only",.       
-00007b90: 2020 2020 2074 6578 743d 2244 6566 696e       text="Defin
-00007ba0: 6520 6265 6c6f 7720 686f 7720 796f 7520  e below how you 
-00007bb0: 7761 6e74 2074 6f20 696e 7465 6772 6174  want to integrat
-00007bc0: 6520 7072 6564 6566 696e 6564 2063 6f6e  e predefined con
-00007bd0: 7465 7874 5c6e 7769 7468 2079 6f75 7220  text\nwith your 
-00007be0: 696e 7075 7473 2e5c 6e41 7070 6c79 2070  inputs.\nApply p
-00007bf0: 7265 6465 6669 6e65 6420 636f 6e74 6578  redefined contex
-00007c00: 7420 696e 202e 2e2e 222c 0a20 2020 2020  t in ...",.     
-00007c10: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-00007c20: 6f70 7469 6f6e 3a0a 2020 2020 2020 2020  option:.        
-00007c30: 2020 2020 636f 6e66 6967 2e61 7070 6c79      config.apply
-00007c40: 5072 6564 6566 696e 6564 436f 6e74 6578  PredefinedContex
-00007c50: 7441 6c77 6179 7320 3d20 5472 7565 2069  tAlways = True i
-00007c60: 6620 6f70 7469 6f6e 203d 3d20 2261 6c6c  f option == "all
-00007c70: 2069 6e70 7574 7322 2065 6c73 6520 4661   inputs" else Fa
-00007c80: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
-00007c90: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
-00007ca0: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
-00007cb0: 7072 696e 7433 2866 2250 7265 6465 6669  print3(f"Predefi
-00007cc0: 6e65 6420 436f 6e74 6578 7420 496e 7465  ned Context Inte
-00007cd0: 6772 6174 696f 6e3a 207b 6f70 7469 6f6e  gration: {option
-00007ce0: 7d21 2229 0a0a 2020 2020 6465 6620 7365  }!")..    def se
-00007cf0: 7453 746f 7261 6765 4469 7265 6374 6f72  tStorageDirector
-00007d00: 7928 7365 6c66 293a 0a20 2020 2020 2020  y(self):.       
-00007d10: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00007d20: 2020 666f 6c64 6572 203d 2073 656c 662e    folder = self.
-00007d30: 6765 7450 6174 682e 6765 7446 6f6c 6465  getPath.getFolde
-00007d40: 7250 6174 6828 0a20 2020 2020 2020 2020  rPath(.         
-00007d50: 2020 2020 2020 2063 6865 636b 5f69 7364         check_isd
-00007d60: 6972 3d54 7275 652c 0a20 2020 2020 2020  ir=True,.       
-00007d70: 2020 2020 2020 2020 2064 6973 706c 6179           display
-00007d80: 5f64 6972 5f6f 6e6c 793d 5472 7565 2c0a  _dir_only=True,.
-00007d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007da0: 6372 6561 7465 5f64 6972 735f 6966 5f6e  create_dirs_if_n
-00007db0: 6f74 5f65 7869 7374 3d54 7275 652c 0a20  ot_exist=True,. 
-00007dc0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00007dd0: 6d70 7479 5f74 6f5f 6361 6e63 656c 3d54  mpty_to_cancel=T
-00007de0: 7275 652c 0a20 2020 2020 2020 2020 2020  rue,.           
-00007df0: 2020 2020 206c 6973 745f 636f 6e74 656e       list_conten
-00007e00: 745f 6f6e 5f64 6972 6563 746f 7279 5f63  t_on_directory_c
-00007e10: 6861 6e67 653d 5472 7565 2c0a 2020 2020  hange=True,.    
-00007e20: 2020 2020 2020 2020 2020 2020 6b65 6570              keep
-00007e30: 5f73 7461 7274 7570 5f64 6972 6563 746f  _startup_directo
-00007e40: 7279 3d54 7275 652c 0a20 2020 2020 2020  ry=True,.       
-00007e50: 2020 2020 2020 2020 206d 6573 7361 6765           message
-00007e60: 3d66 227b 7365 6c66 2e64 6976 6964 6572  =f"{self.divider
-00007e70: 7d5c 6e53 6574 7469 6e67 2061 2073 7461  }\nSetting a sta
-00007e80: 7274 7570 2064 6972 6563 746f 7279 202e  rtup directory .
-00007e90: 2e2e 5c6e 456e 7465 7220 6120 666f 6c64  ..\nEnter a fold
-00007ea0: 6572 206e 616d 6520 6f72 2070 6174 6820  er name or path 
-00007eb0: 6265 6c6f 773a 222c 0a20 2020 2020 2020  below:",.       
-00007ec0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-00007ed0: 3d63 6f6e 6669 672e 7374 6f72 6167 6564  =config.storaged
-00007ee0: 6972 6563 746f 7279 2c0a 2020 2020 2020  irectory,.      
-00007ef0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00007f00: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-00007f10: 2020 2020 7072 696e 7432 2866 2247 6976      print2(f"Giv
-00007f20: 656e 2070 6174 6820 6e6f 7420 6163 6365  en path not acce
-00007f30: 7373 6962 6c65 2122 290a 2020 2020 2020  ssible!").      
-00007f40: 2020 2020 2020 666f 6c64 6572 203d 2022        folder = "
-00007f50: 220a 2020 2020 2020 2020 6966 2066 6f6c  ".        if fol
-00007f60: 6465 7220 616e 6420 6f73 2e70 6174 682e  der and os.path.
-00007f70: 6973 6469 7228 666f 6c64 6572 293a 0a20  isdir(folder):. 
-00007f80: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00007f90: 672e 7374 6f72 6167 6564 6972 6563 746f  g.storagedirecto
-00007fa0: 7279 203d 2066 6f6c 6465 720a 2020 2020  ry = folder.    
-00007fb0: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-00007fc0: 6f63 616c 5374 6f72 6167 6520 3d20 6765  ocalStorage = ge
-00007fd0: 744c 6f63 616c 5374 6f72 6167 6528 290a  tLocalStorage().
-00007fe0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00007ff0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-00008000: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00008010: 7433 2866 2253 7461 7274 7570 2064 6972  t3(f"Startup dir
-00008020: 6563 746f 7279 3a5c 6e7b 666f 6c64 6572  ectory:\n{folder
-00008030: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
-00008040: 4c61 7465 7374 5365 6172 6368 6573 2873  LatestSearches(s
-00008050: 656c 6629 3a0a 2020 2020 2020 2020 6f70  elf):.        op
-00008060: 7469 6f6e 7320 3d20 2822 616c 7761 7973  tions = ("always
-00008070: 222c 2022 6175 746f 222c 2022 6e6f 6e65  ", "auto", "none
-00008080: 2229 0a20 2020 2020 2020 2064 6573 6372  ").        descr
-00008090: 6970 7469 6f6e 7320 3d20 280a 2020 2020  iptions = (.    
-000080a0: 2020 2020 2020 2020 2261 6c77 6179 7320          "always 
-000080b0: 7365 6172 6368 2066 6f72 206c 6174 6573  search for lates
-000080c0: 7420 696e 666f 726d 6174 696f 6e22 2c0a  t information",.
-000080d0: 2020 2020 2020 2020 2020 2020 2273 6561              "sea
-000080e0: 7263 6820 6f6e 6c79 2077 6865 6e20 4368  rch only when Ch
-000080f0: 6174 4750 5420 6c61 636b 7320 696e 666f  atGPT lacks info
-00008100: 726d 6174 696f 6e22 2c0a 2020 2020 2020  rmation",.      
-00008110: 2020 2020 2020 2264 6f20 6e6f 7420 7065        "do not pe
-00008120: 7266 6f72 6d20 6f6e 6c69 6e65 2073 6561  rform online sea
-00008130: 7263 6865 7322 2c0a 2020 2020 2020 2020  rches",.        
-00008140: 290a 2020 2020 2020 2020 6f70 7469 6f6e  ).        option
-00008150: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
-00008160: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
-00008170: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
-00008180: 696f 6e73 3d6f 7074 696f 6e73 2c0a 2020  ions=options,.  
-00008190: 2020 2020 2020 2020 2020 6465 7363 7269            descri
-000081a0: 7074 696f 6e73 3d64 6573 6372 6970 7469  ptions=descripti
-000081b0: 6f6e 732c 0a20 2020 2020 2020 2020 2020  ons,.           
-000081c0: 2074 6974 6c65 3d22 4c61 7465 7374 204f   title="Latest O
-000081d0: 6e6c 696e 6520 5365 6172 6368 6573 222c  nline Searches",
-000081e0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-000081f0: 6175 6c74 3d63 6f6e 6669 672e 6c6f 6164  ault=config.load
-00008200: 696e 6749 6e74 6572 6e65 7453 6561 7263  ingInternetSearc
-00008210: 6865 732c 0a20 2020 2020 2020 2020 2020  hes,.           
-00008220: 2074 6578 743d 6622 7b63 6f6e 6669 672e   text=f"{config.
-00008230: 6672 6565 4765 6e69 7573 4149 4e61 6d65  freeGeniusAIName
-00008240: 7d20 6361 6e20 7065 7266 6f72 6d20 6f6e  } can perform on
-00008250: 6c69 6e65 2073 6561 7263 6865 732e 5c6e  line searches.\n
-00008260: 486f 7720 646f 2079 6f75 2077 616e 7420  How do you want 
-00008270: 7468 6973 2066 6561 7475 7265 3f22 2c0a  this feature?",.
-00008280: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00008290: 2020 6966 206f 7074 696f 6e3a 0a20 2020    if option:.   
-000082a0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000082b0: 6c6f 6164 696e 6749 6e74 6572 6e65 7453  loadingInternetS
-000082c0: 6561 7263 6865 7320 3d20 6f70 7469 6f6e  earches = option
-000082d0: 0a20 2020 2020 2020 2020 2020 2023 2066  .            # f
-000082e0: 696e 6520 7475 6e65 0a20 2020 2020 2020  ine tune.       
-000082f0: 2020 2020 2069 6620 636f 6e66 6967 2e6c       if config.l
-00008300: 6f61 6469 6e67 496e 7465 726e 6574 5365  oadingInternetSe
-00008310: 6172 6368 6573 203d 3d20 2261 7574 6f22  arches == "auto"
-00008320: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00008330: 2020 636f 6e66 6967 2e63 6861 7447 5054    config.chatGPT
-00008340: 4170 6946 756e 6374 696f 6e43 616c 6c20  ApiFunctionCall 
-00008350: 3d20 2261 7574 6f22 0a20 2020 2020 2020  = "auto".       
-00008360: 2020 2020 2020 2020 2069 6620 2269 6e74           if "int
-00008370: 6567 7261 7465 2067 6f6f 676c 6520 7365  egrate google se
-00008380: 6172 6368 6573 2220 696e 2063 6f6e 6669  arches" in confi
-00008390: 672e 706c 7567 696e 4578 636c 7564 654c  g.pluginExcludeL
-000083a0: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
-000083b0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000083c0: 706c 7567 696e 4578 636c 7564 654c 6973  pluginExcludeLis
-000083d0: 742e 7265 6d6f 7665 2822 696e 7465 6772  t.remove("integr
-000083e0: 6174 6520 676f 6f67 6c65 2073 6561 7263  ate google searc
-000083f0: 6865 7322 290a 2020 2020 2020 2020 2020  hes").          
-00008400: 2020 656c 6966 2063 6f6e 6669 672e 6c6f    elif config.lo
-00008410: 6164 696e 6749 6e74 6572 6e65 7453 6561  adingInternetSea
-00008420: 7263 6865 7320 3d3d 2022 6e6f 6e65 223a  rches == "none":
-00008430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008440: 2069 6620 6e6f 7420 2269 6e74 6567 7261   if not "integra
-00008450: 7465 2067 6f6f 676c 6520 7365 6172 6368  te google search
-00008460: 6573 2220 696e 2063 6f6e 6669 672e 706c  es" in config.pl
-00008470: 7567 696e 4578 636c 7564 654c 6973 743a  uginExcludeList:
-00008480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008490: 2020 2020 2063 6f6e 6669 672e 706c 7567       config.plug
-000084a0: 696e 4578 636c 7564 654c 6973 742e 6170  inExcludeList.ap
-000084b0: 7065 6e64 2822 696e 7465 6772 6174 6520  pend("integrate 
-000084c0: 676f 6f67 6c65 2073 6561 7263 6865 7322  google searches"
-000084d0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
-000084e0: 7265 7365 7420 706c 7567 696e 730a 2020  reset plugins.  
-000084f0: 2020 2020 2020 2020 2020 506c 7567 696e            Plugin
-00008500: 732e 7275 6e50 6c75 6769 6e73 2829 0a20  s.runPlugins(). 
-00008510: 2020 2020 2020 2020 2020 2023 206e 6f74             # not
-00008520: 6966 790a 2020 2020 2020 2020 2020 2020  ify.            
-00008530: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
-00008540: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
-00008550: 7072 696e 7433 2866 224c 6174 6573 7420  print3(f"Latest 
-00008560: 4f6e 6c69 6e65 2053 6561 7263 6865 733a  Online Searches:
-00008570: 207b 6f70 7469 6f6e 7d22 290a 0a20 2020   {option}")..   
-00008580: 2064 6566 2073 6574 5573 6572 436f 6e66   def setUserConf
-00008590: 6972 6d61 7469 6f6e 2873 656c 6629 3a0a  irmation(self):.
-000085a0: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
-000085b0: 3d20 2822 616c 7761 7973 222c 2022 6d65  = ("always", "me
-000085c0: 6469 756d 5f72 6973 6b5f 6f72 5f61 626f  dium_risk_or_abo
-000085d0: 7665 222c 2022 6869 6768 5f72 6973 6b5f  ve", "high_risk_
-000085e0: 6f6e 6c79 222c 2022 6e6f 6e65 2229 0a20  only", "none"). 
-000085f0: 2020 2020 2020 2069 6620 6e6f 7420 636f         if not co
-00008600: 6e66 6967 2e63 6f6e 6669 726d 4578 6563  nfig.confirmExec
-00008610: 7574 696f 6e20 696e 206f 7074 696f 6e73  ution in options
-00008620: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00008630: 6e66 6967 2e63 6f6e 6669 726d 4578 6563  nfig.confirmExec
-00008640: 7574 696f 6e20 3d20 2261 6c77 6179 7322  ution = "always"
-00008650: 0a20 2020 2020 2020 2064 6573 6372 6970  .        descrip
-00008660: 7469 6f6e 7320 3d20 280a 2020 2020 2020  tions = (.      
-00008670: 2020 2020 2020 2261 6c77 6179 7322 2c0a        "always",.
-00008680: 2020 2020 2020 2020 2020 2020 226d 6564              "med
-00008690: 6975 6d20 7269 736b 206f 7220 6162 6f76  ium risk or abov
-000086a0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-000086b0: 2268 6967 6820 7269 736b 206f 6e6c 792c  "high risk only,
-000086c0: 2065 2e67 2e20 6669 6c65 2064 656c 6574   e.g. file delet
-000086d0: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
-000086e0: 2020 226e 6f6e 6522 2c0a 2020 2020 2020    "none",.      
-000086f0: 2020 290a 2020 2020 2020 2020 6f70 7469    ).        opti
-00008700: 6f6e 203d 2073 656c 662e 6469 616c 6f67  on = self.dialog
-00008710: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-00008720: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
-00008730: 7074 696f 6e73 3d6f 7074 696f 6e73 2c0a  ptions=options,.
-00008740: 2020 2020 2020 2020 2020 2020 6465 7363              desc
-00008750: 7269 7074 696f 6e73 3d64 6573 6372 6970  riptions=descrip
-00008760: 7469 6f6e 732c 0a20 2020 2020 2020 2020  tions,.         
-00008770: 2020 2074 6974 6c65 3d22 436f 6d6d 616e     title="Comman
-00008780: 6420 436f 6e66 6972 6d61 7469 6f6e 2050  d Confirmation P
-00008790: 726f 746f 636f 6c22 2c0a 2020 2020 2020  rotocol",.      
-000087a0: 2020 2020 2020 7465 7874 3d66 227b 636f        text=f"{co
-000087b0: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
-000087c0: 494e 616d 657d 2069 7320 6465 7369 676e  IName} is design
-000087d0: 6564 2074 6f20 6578 6563 7574 6520 636f  ed to execute co
-000087e0: 6d6d 616e 6473 206f 6e20 796f 7572 2062  mmands on your b
-000087f0: 6568 616c 662e 5c6e 506c 6561 7365 2073  ehalf.\nPlease s
-00008800: 7065 6369 6679 2077 6865 6e20 796f 7520  pecify when you 
-00008810: 776f 756c 6420 7072 6566 6572 5c6e 746f  would prefer\nto
-00008820: 2072 6563 6569 7665 2061 2063 6f6e 6669   receive a confi
-00008830: 726d 6174 696f 6e5c 6e62 6566 6f72 6520  rmation\nbefore 
-00008840: 636f 6d6d 616e 6473 2061 7265 2065 7865  commands are exe
-00008850: 6375 7465 643a 5c6e 284e 6f74 653a 2045  cuted:\n(Note: E
-00008860: 7865 6375 7465 2063 6f6d 6d61 6e64 7320  xecute commands 
-00008870: 6174 2079 6f75 7220 6f77 6e20 7269 736b  at your own risk
-00008880: 2e29 222c 0a20 2020 2020 2020 2020 2020  .)",.           
-00008890: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
-000088a0: 636f 6e66 6972 6d45 7865 6375 7469 6f6e  confirmExecution
-000088b0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-000088c0: 2020 2020 6966 206f 7074 696f 6e3a 0a20      if option:. 
-000088d0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-000088e0: 672e 636f 6e66 6972 6d45 7865 6375 7469  g.confirmExecuti
-000088f0: 6f6e 203d 206f 7074 696f 6e0a 2020 2020  on = option.    
-00008900: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00008910: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-00008920: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-00008930: 2243 6f6d 6d61 6e64 2043 6f6e 6669 726d  "Command Confirm
-00008940: 6174 696f 6e20 5072 6f74 6f63 6f6c 3a20  ation Protocol: 
-00008950: 7b6f 7074 696f 6e7d 2229 0a0a 2020 2020  {option}")..    
-00008960: 6465 6620 7365 7450 6167 6572 5669 6577  def setPagerView
-00008970: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00008980: 6d61 6e75 656c 203d 2066 2222 226d 616e  manuel = f"""man
-00008990: 7561 6c20 277b 7374 7228 636f 6e66 6967  ual '{str(config
-000089a0: 2e68 6f74 6b65 795f 6c61 756e 6368 5f70  .hotkey_launch_p
-000089b0: 6167 6572 5f76 6965 7729 2e72 6570 6c61  ager_view).repla
-000089c0: 6365 2822 2722 2c20 2222 297d 2722 2222  ce("'", "")}'"""
-000089d0: 0a20 2020 2020 2020 206f 7074 696f 6e73  .        options
-000089e0: 203d 2028 2261 7574 6f22 2c20 6d61 6e75   = ("auto", manu
-000089f0: 656c 290a 2020 2020 2020 2020 6f70 7469  el).        opti
-00008a00: 6f6e 203d 2073 656c 662e 6469 616c 6f67  on = self.dialog
-00008a10: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-00008a20: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
-00008a30: 7074 696f 6e73 3d6f 7074 696f 6e73 2c0a  ptions=options,.
-00008a40: 2020 2020 2020 2020 2020 2020 7469 746c              titl
-00008a50: 653d 2250 6167 6572 2056 6965 7722 2c0a  e="Pager View",.
-00008a60: 2020 2020 2020 2020 2020 2020 6465 6661              defa
-00008a70: 756c 743d 2261 7574 6f22 2069 6620 636f  ult="auto" if co
-00008a80: 6e66 6967 2e70 6167 6572 5669 6577 2065  nfig.pagerView e
-00008a90: 6c73 6520 6d61 6e75 656c 2c0a 2020 2020  lse manuel,.    
-00008aa0: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
-00008ab0: 206f 7074 696f 6e3a 0a20 2020 2020 2020   option:.       
-00008ac0: 2020 2020 2063 6f6e 6669 672e 7061 6765       config.page
-00008ad0: 7256 6965 7720 3d20 286f 7074 696f 6e20  rView = (option 
-00008ae0: 3d3d 2022 6175 746f 2229 0a20 2020 2020  == "auto").     
-00008af0: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-00008b00: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-00008b10: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-00008b20: 5061 6765 7220 5669 6577 3a20 7b6f 7074  Pager View: {opt
-00008b30: 696f 6e7d 2122 290a 0a20 2020 2064 6566  ion}!")..    def
-00008b40: 2073 6574 4465 7665 6c6f 7065 724d 6f64   setDeveloperMod
-00008b50: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
-00008b60: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
-00008b70: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
-00008b80: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
-00008b90: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
-00008ba0: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
-00008bb0: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
-00008bc0: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
-00008bd0: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-00008be0: 4465 7665 6c6f 7065 7220 4d6f 6465 222c  Developer Mode",
-00008bf0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-00008c00: 6175 6c74 3d22 656e 6162 6c65 2220 6966  ault="enable" if
-00008c10: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
-00008c20: 7220 656c 7365 2022 6469 7361 626c 6522  r else "disable"
-00008c30: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
-00008c40: 7874 3d22 5265 6164 204c 6574 4d65 446f  xt="Read LetMeDo
-00008c50: 4974 2077 696b 6920 666f 7220 6d6f 7265  It wiki for more
-00008c60: 2069 6e66 6f72 6d61 7469 6f6e 2e5c 6e53   information.\nS
-00008c70: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
-00008c80: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
-00008c90: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
-00008ca0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00008cb0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
-00008cc0: 7220 3d20 286f 7074 696f 6e20 3d3d 2022  r = (option == "
-00008cd0: 656e 6162 6c65 2229 0a20 2020 2020 2020  enable").       
-00008ce0: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-00008cf0: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-00008d00: 2020 2020 2070 7269 6e74 3328 6622 4465       print3(f"De
-00008d10: 7665 6c6f 7065 7220 4d6f 6465 3a20 7b6f  veloper Mode: {o
-00008d20: 7074 696f 6e7d 6421 2229 0a0a 2020 2020  ption}d!")..    
-00008d30: 6465 6620 7365 7454 6572 6d75 7841 7069  def setTermuxApi
-00008d40: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00008d50: 6f70 7469 6f6e 7320 3d20 2822 656e 6162  options = ("enab
-00008d60: 6c65 222c 2022 6469 7361 626c 6522 290a  le", "disable").
-00008d70: 2020 2020 2020 2020 6f70 7469 6f6e 203d          option =
-00008d80: 2073 656c 662e 6469 616c 6f67 732e 6765   self.dialogs.ge
-00008d90: 7456 616c 6964 4f70 7469 6f6e 7328 0a20  tValidOptions(. 
-00008da0: 2020 2020 2020 2020 2020 206f 7074 696f             optio
-00008db0: 6e73 3d6f 7074 696f 6e73 2c0a 2020 2020  ns=options,.    
-00008dc0: 2020 2020 2020 2020 7469 746c 653d 2254          title="T
-00008dd0: 6572 6d75 7820 4150 4920 496e 7465 6772  ermux API Integr
-00008de0: 6174 696f 6e22 2c0a 2020 2020 2020 2020  ation",.        
-00008df0: 2020 2020 6465 6661 756c 743d 2265 6e61      default="ena
-00008e00: 626c 6522 2069 6620 636f 6e66 6967 2e74  ble" if config.t
-00008e10: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
-00008e20: 6d75 7841 5049 2065 6c73 6520 2264 6973  muxAPI else "dis
-00008e30: 6162 6c65 222c 0a20 2020 2020 2020 2020  able",.         
-00008e40: 2020 2074 6578 743d 2254 6f20 6c65 6172     text="To lear
-00008e50: 6e20 6162 6f75 7420 5465 726d 7578 2041  n about Termux A
-00008e60: 5049 2c20 7265 6164 3a5c 6e68 7474 7073  PI, read:\nhttps
-00008e70: 3a2f 2f77 696b 692e 7465 726d 7578 2e63  ://wiki.termux.c
-00008e80: 6f6d 2f77 696b 692f 5465 726d 7578 3a41  om/wiki/Termux:A
-00008e90: 5049 5c6e 5365 6c65 6374 2061 6e20 6f70  PI\nSelect an op
-00008ea0: 7469 6f6e 2062 656c 6f77 3a22 0a20 2020  tion below:".   
-00008eb0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00008ec0: 6620 6f70 7469 6f6e 3a0a 2020 2020 2020  f option:.      
-00008ed0: 2020 2020 2020 636f 6e66 6967 2e74 6572        config.ter
-00008ee0: 6d69 6e61 6c45 6e61 626c 6554 6572 6d75  minalEnableTermu
-00008ef0: 7841 5049 203d 2028 6f70 7469 6f6e 203d  xAPI = (option =
-00008f00: 3d20 2265 6e61 626c 6522 290a 2020 2020  = "enable").    
-00008f10: 2020 2020 2020 2020 6966 2063 6f6e 6669          if confi
-00008f20: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
-00008f30: 5465 726d 7578 4150 4920 616e 6420 6e6f  TermuxAPI and no
-00008f40: 7420 6f73 2e70 6174 682e 6973 6469 7228  t os.path.isdir(
-00008f50: 222f 6461 7461 2f64 6174 612f 636f 6d2e  "/data/data/com.
-00008f60: 7465 726d 7578 2f66 696c 6573 2f68 6f6d  termux/files/hom
-00008f70: 652f 2229 3a0a 2020 2020 2020 2020 2020  e/"):.          
-00008f80: 2020 2020 2020 636f 6e66 6967 2e74 6572        config.ter
-00008f90: 6d69 6e61 6c45 6e61 626c 6554 6572 6d75  minalEnableTermu
-00008fa0: 7841 5049 203d 2046 616c 7365 0a20 2020  xAPI = False.   
-00008fb0: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-00008fc0: 6e74 3128 2254 6572 6d75 7820 6973 206e  nt1("Termux is n
-00008fd0: 6f74 2069 6e73 7461 6c6c 6564 2122 290a  ot installed!").
-00008fe0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00008ff0: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
-00009000: 6162 6c65 5465 726d 7578 4150 493a 0a20  ableTermuxAPI:. 
-00009010: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00009020: 2043 6865 636b 2069 6620 5465 726d 7578   Check if Termux
-00009030: 2041 5049 2070 6163 6b61 6765 2069 7320   API package is 
-00009040: 696e 7374 616c 6c65 640a 2020 2020 2020  installed.      
-00009050: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00009060: 203d 2073 7562 7072 6f63 6573 732e 7275   = subprocess.ru
-00009070: 6e28 5b27 706b 6727 2c20 276c 6973 742d  n(['pkg', 'list-
-00009080: 696e 7374 616c 6c65 6427 2c20 2774 6572  installed', 'ter
-00009090: 6d75 782d 6170 6927 5d2c 2063 6170 7475  mux-api'], captu
-000090a0: 7265 5f6f 7574 7075 743d 5472 7565 2c20  re_output=True, 
-000090b0: 7465 7874 3d54 7275 6529 0a20 2020 2020  text=True).     
-000090c0: 2020 2020 2020 2020 2020 2023 2043 6865             # Che
-000090d0: 636b 2069 6620 7468 6520 7061 636b 6167  ck if the packag
-000090e0: 6520 6973 2069 6e73 7461 6c6c 6564 0a20  e is installed. 
-000090f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00009100: 6620 6e6f 7420 2274 6572 6d75 782d 6170  f not "termux-ap
-00009110: 6922 2069 6e20 7265 7375 6c74 2e73 7464  i" in result.std
-00009120: 6f75 743a 0a20 2020 2020 2020 2020 2020  out:.           
-00009130: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-00009140: 2254 6572 6d75 783a 4150 4920 6973 206e  "Termux:API is n
-00009150: 6f74 2069 6e73 7461 6c6c 6564 2122 290a  ot installed!").
-00009160: 2020 2020 2020 2020 2020 2020 2320 7265              # re
-00009170: 7365 7420 706c 7567 696e 730a 2020 2020  set plugins.    
-00009180: 2020 2020 2020 2020 506c 7567 696e 732e          Plugins.
-00009190: 7275 6e50 6c75 6769 6e73 2829 0a20 2020  runPlugins().   
-000091a0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000091b0: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
-000091c0: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-000091d0: 6622 2222 5465 726d 7578 2041 5049 2049  f"""Termux API I
-000091e0: 6e74 6567 7261 7469 6f6e 3a20 7b22 656e  ntegration: {"en
-000091f0: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
-00009200: 7465 726d 696e 616c 456e 6162 6c65 5465  terminalEnableTe
-00009210: 726d 7578 4150 4920 656c 7365 2022 6469  rmuxAPI else "di
-00009220: 7361 626c 6522 7d64 2122 2222 290a 0a20  sable"}d!""").. 
-00009230: 2020 2064 6566 2073 6574 4675 6e63 7469     def setFuncti
-00009240: 6f6e 4361 6c6c 2873 656c 6629 3a0a 2020  onCall(self):.  
-00009250: 2020 2020 2020 6361 6c6c 7320 3d20 2822        calls = ("
-00009260: 6175 746f 222c 2022 6e6f 6e65 2229 0a20  auto", "none"). 
-00009270: 2020 2020 2020 2063 616c 6c20 3d20 7365         call = se
-00009280: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
-00009290: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
-000092a0: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
-000092b0: 6361 6c6c 732c 0a20 2020 2020 2020 2020  calls,.         
-000092c0: 2020 2074 6974 6c65 3d22 4368 6174 4750     title="ChatGP
-000092d0: 5420 4675 6e63 7469 6f6e 2043 616c 6c22  T Function Call"
-000092e0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-000092f0: 6661 756c 743d 636f 6e66 6967 2e63 6861  fault=config.cha
-00009300: 7447 5054 4170 6946 756e 6374 696f 6e43  tGPTApiFunctionC
-00009310: 616c 6c2c 0a20 2020 2020 2020 2020 2020  all,.           
-00009320: 2074 6578 743d 2245 6e61 626c 696e 6720   text="Enabling 
-00009330: 6675 6e63 7469 6f6e 2063 616c 6c5c 6e74  function call\nt
-00009340: 6f20 6578 7465 6e64 2043 6861 7447 5054  o extend ChatGPT
-00009350: 2063 6170 6162 696c 6974 6965 732e 5c6e   capabilities.\n
-00009360: 456e 6162 6c65 202f 2044 6973 6162 6c65  Enable / Disable
-00009370: 2074 6869 7320 6665 6174 7572 6520 6265   this feature be
-00009380: 6c6f 773a 222c 0a20 2020 2020 2020 2029  low:",.        )
-00009390: 0a20 2020 2020 2020 2069 6620 6361 6c6c  .        if call
-000093a0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-000093b0: 6e66 6967 2e63 6861 7447 5054 4170 6946  nfig.chatGPTApiF
-000093c0: 756e 6374 696f 6e43 616c 6c20 3d20 6361  unctionCall = ca
-000093d0: 6c6c 0a20 2020 2020 2020 2020 2020 2063  ll.            c
-000093e0: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
-000093f0: 2829 0a20 2020 2020 2020 2020 2020 2070  ().            p
-00009400: 7269 6e74 3328 6622 4368 6170 7447 5054  rint3(f"ChaptGPT
-00009410: 2066 756e 6374 696f 6e20 6361 6c6c 3a20   function call: 
-00009420: 7b27 656e 6162 6c65 6427 2069 6620 636f  {'enabled' if co
-00009430: 6e66 6967 2e63 6861 7447 5054 4170 6946  nfig.chatGPTApiF
-00009440: 756e 6374 696f 6e43 616c 6c20 3d3d 2027  unctionCall == '
-00009450: 6175 746f 2720 656c 7365 2027 6469 7361  auto' else 'disa
-00009460: 626c 6564 277d 2122 290a 0a20 2020 2064  bled'}!")..    d
-00009470: 6566 2073 6574 4675 6e63 7469 6f6e 5265  ef setFunctionRe
-00009480: 7370 6f6e 7365 2873 656c 6629 3a0a 2020  sponse(self):.  
-00009490: 2020 2020 2020 6361 6c6c 7320 3d20 2822        calls = ("
-000094a0: 656e 6162 6c65 222c 2022 6469 7361 626c  enable", "disabl
-000094b0: 6522 290a 2020 2020 2020 2020 6361 6c6c  e").        call
-000094c0: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
-000094d0: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
-000094e0: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
-000094f0: 696f 6e73 3d63 616c 6c73 2c0a 2020 2020  ions=calls,.    
-00009500: 2020 2020 2020 2020 7469 746c 653d 2250          title="P
-00009510: 6173 7320 4675 6e63 7469 6f6e 2043 616c  ass Function Cal
-00009520: 6c20 5265 7370 6f6e 7365 2074 6f20 4368  l Response to Ch
-00009530: 6174 4750 5422 2c0a 2020 2020 2020 2020  atGPT",.        
-00009540: 2020 2020 6465 6661 756c 743d 2265 6e61      default="ena
-00009550: 626c 6522 2069 6620 636f 6e66 6967 2e70  ble" if config.p
-00009560: 6173 7346 756e 6374 696f 6e43 616c 6c52  assFunctionCallR
-00009570: 6574 7572 6e54 6f43 6861 7447 5054 2065  eturnToChatGPT e
-00009580: 6c73 6520 2264 6973 6162 6c65 222c 0a20  lse "disable",. 
-00009590: 2020 2020 2020 2020 2020 2074 6578 743d             text=
-000095a0: 2245 6e61 626c 696e 6720 7468 6973 2066  "Enabling this f
-000095b0: 6561 7475 7265 2061 6c6c 6f77 735c 6e70  eature allows\np
-000095c0: 6173 7369 6e67 2066 756e 6374 696f 6e20  assing function 
-000095d0: 6361 6c6c 2072 6573 706f 6e73 6573 2c20  call responses, 
-000095e0: 6966 2061 6e79 2c5c 6e74 6f20 6578 7465  if any,\nto exte
-000095f0: 6e64 2063 6f6e 7665 7273 6174 696f 6e20  nd conversation 
-00009600: 7769 7468 2043 6861 7447 5054 2e5c 6e44  with ChatGPT.\nD
-00009610: 6973 6162 6c69 6e67 2074 6869 7320 6665  isabling this fe
-00009620: 6174 7572 6520 616c 6c6f 7773 5c6e 7275  ature allows\nru
-00009630: 6e6e 696e 6720 6675 6e63 7469 6f6e 2063  nning function c
-00009640: 616c 6c73 5c6e 7769 7468 6f75 7420 6765  alls\nwithout ge
-00009650: 6e65 7261 7469 6e67 2066 7572 7468 6572  nerating further
-00009660: 2072 6573 706f 6e73 6573 2e22 0a20 2020   responses.".   
-00009670: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00009680: 6620 6361 6c6c 3a0a 2020 2020 2020 2020  f call:.        
-00009690: 2020 2020 636f 6e66 6967 2e70 6173 7346      config.passF
-000096a0: 756e 6374 696f 6e43 616c 6c52 6574 7572  unctionCallRetur
-000096b0: 6e54 6f43 6861 7447 5054 203d 2028 6361  nToChatGPT = (ca
-000096c0: 6c6c 203d 3d20 2265 6e61 626c 6522 290a  ll == "enable").
-000096d0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-000096e0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-000096f0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00009700: 7433 2866 2250 6173 7320 4675 6e63 7469  t3(f"Pass Functi
-00009710: 6f6e 2043 616c 6c20 5265 7370 6f6e 7365  on Call Response
-00009720: 2074 6f20 4368 6174 4750 543a 207b 2765   to ChatGPT: {'e
-00009730: 6e61 626c 6564 2720 6966 2063 6f6e 6669  nabled' if confi
-00009740: 672e 7061 7373 4675 6e63 7469 6f6e 4361  g.passFunctionCa
-00009750: 6c6c 5265 7475 726e 546f 4368 6174 4750  llReturnToChatGP
-00009760: 5420 656c 7365 2027 6469 7361 626c 6564  T else 'disabled
-00009770: 277d 2122 290a 0a20 2020 2064 6566 2065  '}!")..    def e
-00009780: 6469 744c 6173 7452 6573 706f 6e73 6528  ditLastResponse(
-00009790: 7365 6c66 293a 0a20 2020 2020 2020 2063  self):.        c
-000097a0: 7573 746f 6d54 6578 7445 6469 746f 7220  ustomTextEditor 
-000097b0: 3d20 636f 6e66 6967 2e63 7573 746f 6d54  = config.customT
-000097c0: 6578 7445 6469 746f 7220 6966 2063 6f6e  extEditor if con
-000097d0: 6669 672e 6375 7374 6f6d 5465 7874 4564  fig.customTextEd
-000097e0: 6974 6f72 2065 6c73 6520 6622 7b73 7973  itor else f"{sys
-000097f0: 2e65 7865 6375 7461 626c 657d 207b 6f73  .executable} {os
-00009800: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
-00009810: 672e 6672 6565 4765 6e69 7573 4149 466f  g.freeGeniusAIFo
-00009820: 6c64 6572 2c20 2765 5465 7874 4564 6974  lder, 'eTextEdit
-00009830: 2e70 7927 297d 220a 2020 2020 2020 2020  .py')}".        
-00009840: 7079 646f 632e 7069 7065 7061 6765 7228  pydoc.pipepager(
-00009850: 636f 6e66 6967 2e70 6167 6572 436f 6e74  config.pagerCont
-00009860: 656e 742c 2063 6d64 3d63 7573 746f 6d54  ent, cmd=customT
-00009870: 6578 7445 6469 746f 7229 0a20 2020 2020  extEditor).     
-00009880: 2020 2073 6574 5f74 6974 6c65 2863 6f6e     set_title(con
-00009890: 6669 672e 6672 6565 4765 6e69 7573 4149  fig.freeGeniusAI
-000098a0: 4e61 6d65 290a 0a20 2020 2064 6566 2065  Name)..    def e
-000098b0: 7874 7261 6374 5079 7468 6f6e 436f 6465  xtractPythonCode
-000098c0: 4672 6f6d 4c61 7374 5265 7370 6f6e 7365  FromLastResponse
-000098d0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000098e0: 636f 6e66 6967 2e64 6566 6175 6c74 456e  config.defaultEn
-000098f0: 7472 7920 3d20 6627 2727 6060 6070 7974  try = f'''```pyt
-00009900: 686f 6e0a 7b65 7874 7261 6374 5079 7468  hon.{extractPyth
-00009910: 6f6e 436f 6465 2863 6f6e 6669 672e 7061  onCode(config.pa
-00009920: 6765 7243 6f6e 7465 6e74 297d 6060 6027  gerContent)}```'
-00009930: 2727 0a0a 2020 2020 2320 6368 616e 6765  ''..    # change
-00009940: 2063 6f6e 6669 6773 0a20 2020 2064 6566   configs.    def
-00009950: 2065 6469 7443 6f6e 6669 6773 2873 656c   editConfigs(sel
-00009960: 6629 3a0a 2020 2020 2020 2020 2320 6669  f):.        # fi
-00009970: 6c65 2070 6174 6873 0a20 2020 2020 2020  le paths.       
-00009980: 2063 6f6e 6669 6746 696c 6520 3d20 6f73   configFile = os
-00009990: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
-000099a0: 672e 6672 6565 4765 6e69 7573 4149 466f  g.freeGeniusAIFo
-000099b0: 6c64 6572 2c20 2263 6f6e 6669 672e 7079  lder, "config.py
-000099c0: 2229 0a20 2020 2020 2020 2062 6163 6b75  ").        backu
-000099d0: 7046 696c 6520 3d20 6f73 2e70 6174 682e  pFile = os.path.
-000099e0: 6a6f 696e 2863 6f6e 6669 672e 6c6f 6361  join(config.loca
-000099f0: 6c53 746f 7261 6765 2c20 2263 6f6e 6669  lStorage, "confi
-00009a00: 675f 6261 636b 7570 2e70 7922 290a 2020  g_backup.py").  
-00009a10: 2020 2020 2020 2320 6261 636b 7570 2063        # backup c
-00009a20: 6f6e 6669 6773 0a20 2020 2020 2020 2063  onfigs.        c
-00009a30: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
-00009a40: 2829 0a20 2020 2020 2020 2073 6875 7469  ().        shuti
-00009a50: 6c2e 636f 7079 2863 6f6e 6669 6746 696c  l.copy(configFil
-00009a60: 652c 2062 6163 6b75 7046 696c 6529 0a20  e, backupFile). 
-00009a70: 2020 2020 2020 2023 206f 7065 6e20 6375         # open cu
-00009a80: 7272 656e 7420 636f 6e66 6967 7320 7769  rrent configs wi
-00009a90: 7468 2062 7569 6c74 2d69 6e20 7465 7874  th built-in text
-00009aa0: 2065 6469 746f 720a 2020 2020 2020 2020   editor.        
-00009ab0: 6375 7374 6f6d 5465 7874 4564 6974 6f72  customTextEditor
-00009ac0: 203d 2063 6f6e 6669 672e 6375 7374 6f6d   = config.custom
-00009ad0: 5465 7874 4564 6974 6f72 2069 6620 636f  TextEditor if co
-00009ae0: 6e66 6967 2e63 7573 746f 6d54 6578 7445  nfig.customTextE
-00009af0: 6469 746f 7220 656c 7365 2066 227b 7379  ditor else f"{sy
-00009b00: 732e 6578 6563 7574 6162 6c65 7d20 7b6f  s.executable} {o
-00009b10: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
-00009b20: 6967 2e66 7265 6547 656e 6975 7341 4946  ig.freeGeniusAIF
-00009b30: 6f6c 6465 722c 2027 6554 6578 7445 6469  older, 'eTextEdi
-00009b40: 742e 7079 2729 7d22 0a20 2020 2020 2020  t.py')}".       
-00009b50: 206f 732e 7379 7374 656d 2866 227b 6375   os.system(f"{cu
-00009b60: 7374 6f6d 5465 7874 4564 6974 6f72 7d20  stomTextEditor} 
-00009b70: 7b63 6f6e 6669 6746 696c 657d 2229 0a20  {configFile}"). 
-00009b80: 2020 2020 2020 2073 6574 5f74 6974 6c65         set_title
-00009b90: 2863 6f6e 6669 672e 6672 6565 4765 6e69  (config.freeGeni
-00009ba0: 7573 4149 4e61 6d65 290a 2020 2020 2020  usAIName).      
-00009bb0: 2020 2320 7265 2d6c 6f61 6420 636f 6e66    # re-load conf
-00009bc0: 6967 730a 2020 2020 2020 2020 7472 793a  igs.        try:
-00009bd0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00009be0: 6669 672e 6c6f 6164 436f 6e66 6967 2863  fig.loadConfig(c
-00009bf0: 6f6e 6669 6746 696c 6529 0a20 2020 2020  onfigFile).     
-00009c00: 2020 2020 2020 2070 7269 6e74 3228 2243         print2("C
-00009c10: 6861 6e67 6573 206c 6f61 6465 6421 2229  hanges loaded!")
-00009c20: 0a20 2020 2020 2020 2065 7863 6570 743a  .        except:
-00009c30: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00009c40: 6e74 3228 2246 6169 6c65 6420 746f 206c  nt2("Failed to l
-00009c50: 6f61 6420 796f 7572 2063 6861 6e67 6573  oad your changes
-00009c60: 2122 290a 2020 2020 2020 2020 2020 2020  !").            
-00009c70: 7072 696e 7428 7472 6163 6562 6163 6b2e  print(traceback.
-00009c80: 666f 726d 6174 5f65 7863 2829 290a 2020  format_exc()).  
-00009c90: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
-00009ca0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00009cb0: 7269 6e74 3228 2252 6573 746f 7269 6e67  rint2("Restoring
-00009cc0: 2062 6163 6b75 7020 2e2e 2e22 290a 2020   backup ...").  
-00009cd0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00009ce0: 6e66 6967 2e6c 6f61 6443 6f6e 6669 6728  nfig.loadConfig(
-00009cf0: 6261 636b 7570 4669 6c65 290a 2020 2020  backupFile).    
-00009d00: 2020 2020 2020 2020 2020 2020 7368 7574              shut
-00009d10: 696c 2e63 6f70 7928 6261 636b 7570 4669  il.copy(backupFi
-00009d20: 6c65 2c20 636f 6e66 6967 4669 6c65 290a  le, configFile).
-00009d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d40: 7072 696e 7432 2822 5265 7374 6f72 6564  print2("Restored
-00009d50: 2122 290a 2020 2020 2020 2020 2020 2020  !").            
-00009d60: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-00009d70: 2020 2020 2020 2020 7072 696e 7432 2822          print2("
-00009d80: 4661 696c 6564 2074 6f20 7265 7374 6f72  Failed to restor
-00009d90: 6520 6261 636b 7570 2122 290a 0a20 2020  e backup!")..   
-00009da0: 2064 6566 2069 6e73 7461 6c6c 5079 7468   def installPyth
-00009db0: 6f6e 5061 636b 6167 6528 7365 6c66 293a  onPackage(self):
-00009dc0: 0a20 2020 2020 2020 2070 7269 6e74 3128  .        print1(
-00009dd0: 2245 6e74 6572 2061 2070 7974 686f 6e20  "Enter a python 
-00009de0: 7061 636b 6167 6520 6e61 6d65 3a22 290a  package name:").
-00009df0: 2020 2020 2020 2020 7061 636b 6167 6520          package 
-00009e00: 3d20 7365 6c66 2e70 726f 6d70 7473 2e73  = self.prompts.s
-00009e10: 696d 706c 6550 726f 6d70 7428 7374 796c  implePrompt(styl
-00009e20: 653d 7365 6c66 2e70 726f 6d70 7473 2e70  e=self.prompts.p
-00009e30: 726f 6d70 7453 7479 6c65 3229 0a20 2020  romptStyle2).   
-00009e40: 2020 2020 2069 6620 7061 636b 6167 653a       if package:
-00009e50: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00009e60: 6e74 3128 6622 496e 7374 616c 6c69 6e67  nt1(f"Installing
-00009e70: 2027 7b70 6163 6b61 6765 7d27 202e 2e2e   '{package}' ...
-00009e80: 2229 0a20 2020 2020 2020 2020 2020 2069  ").            i
-00009e90: 6e73 7461 6c6c 5069 7050 6163 6b61 6765  nstallPipPackage
-00009ea0: 2866 222d 2d75 7067 7261 6465 207b 7061  (f"--upgrade {pa
-00009eb0: 636b 6167 657d 2229 0a0a 2020 2020 6465  ckage}")..    de
-00009ec0: 6620 7365 7454 656d 7065 7261 7475 7265  f setTemperature
-00009ed0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00009ee0: 7072 696e 7431 2822 456e 7465 7220 6120  print1("Enter a 
-00009ef0: 7661 6c75 6520 6265 7477 6565 6e20 302e  value between 0.
-00009f00: 3020 616e 6420 322e 303a 2229 0a20 2020  0 and 2.0:").   
-00009f10: 2020 2020 2070 7269 6e74 3128 2228 4c6f       print1("(Lo
-00009f20: 7765 7220 7661 6c75 6573 2066 6f72 2074  wer values for t
-00009f30: 656d 7065 7261 7475 7265 2072 6573 756c  emperature resul
-00009f40: 7420 696e 206d 6f72 6520 636f 6e73 6973  t in more consis
-00009f50: 7465 6e74 206f 7574 7075 7473 2c20 7768  tent outputs, wh
-00009f60: 696c 6520 6869 6768 6572 2076 616c 7565  ile higher value
-00009f70: 7320 6765 6e65 7261 7465 206d 6f72 6520  s generate more 
-00009f80: 6469 7665 7273 6520 616e 6420 6372 6561  diverse and crea
-00009f90: 7469 7665 2072 6573 756c 7473 2e20 5365  tive results. Se
-00009fa0: 6c65 6374 2061 2074 656d 7065 7261 7475  lect a temperatu
-00009fb0: 7265 2076 616c 7565 2062 6173 6564 206f  re value based o
-00009fc0: 6e20 7468 6520 6465 7369 7265 6420 7472  n the desired tr
-00009fd0: 6164 652d 6f66 6620 6265 7477 6565 6e20  ade-off between 
-00009fe0: 636f 6865 7265 6e63 6520 616e 6420 6372  coherence and cr
-00009ff0: 6561 7469 7669 7479 2066 6f72 2079 6f75  eativity for you
-0000a000: 7220 7370 6563 6966 6963 2061 7070 6c69  r specific appli
-0000a010: 6361 7469 6f6e 2e29 2229 0a20 2020 2020  cation.)").     
-0000a020: 2020 2074 656d 7065 7261 7475 7265 203d     temperature =
-0000a030: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-0000a040: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-0000a050: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-0000a060: 6f6d 7074 5374 796c 6532 2c20 7661 6c69  omptStyle2, vali
-0000a070: 6461 746f 723d 466c 6f61 7456 616c 6964  dator=FloatValid
-0000a080: 6174 6f72 2829 2c20 6465 6661 756c 743d  ator(), default=
-0000a090: 7374 7228 636f 6e66 6967 2e6c 6c6d 5465  str(config.llmTe
-0000a0a0: 6d70 6572 6174 7572 6529 290a 2020 2020  mperature)).    
-0000a0b0: 2020 2020 6966 2074 656d 7065 7261 7475      if temperatu
-0000a0c0: 7265 2061 6e64 206e 6f74 2074 656d 7065  re and not tempe
-0000a0d0: 7261 7475 7265 2e73 7472 6970 2829 2e6c  rature.strip().l
-0000a0e0: 6f77 6572 2829 203d 3d20 636f 6e66 6967  ower() == config
-0000a0f0: 2e65 7869 745f 656e 7472 793a 0a20 2020  .exit_entry:.   
-0000a100: 2020 2020 2020 2020 2074 656d 7065 7261           tempera
-0000a110: 7475 7265 203d 2066 6c6f 6174 2874 656d  ture = float(tem
-0000a120: 7065 7261 7475 7265 290a 2020 2020 2020  perature).      
-0000a130: 2020 2020 2020 6966 2074 656d 7065 7261        if tempera
-0000a140: 7475 7265 203c 2030 3a0a 2020 2020 2020  ture < 0:.      
-0000a150: 2020 2020 2020 2020 2020 7465 6d70 6572            temper
-0000a160: 6174 7572 6520 3d20 300a 2020 2020 2020  ature = 0.      
-0000a170: 2020 2020 2020 656c 6966 2074 656d 7065        elif tempe
-0000a180: 7261 7475 7265 203e 2032 3a0a 2020 2020  rature > 2:.    
-0000a190: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
-0000a1a0: 6572 6174 7572 6520 3d20 320a 2020 2020  erature = 2.    
-0000a1b0: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-0000a1c0: 6c6d 5465 6d70 6572 6174 7572 6520 3d20  lmTemperature = 
-0000a1d0: 726f 756e 6428 7465 6d70 6572 6174 7572  round(temperatur
-0000a1e0: 652c 2031 290a 2020 2020 2020 2020 2020  e, 1).          
-0000a1f0: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
-0000a200: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
-0000a210: 2020 7072 696e 7433 2866 224c 4c4d 2054    print3(f"LLM T
-0000a220: 656d 7065 7261 7475 7265 3a20 7b74 656d  emperature: {tem
-0000a230: 7065 7261 7475 7265 7d22 290a 0a20 2020  perature}")..   
-0000a240: 2064 6566 2073 6574 546f 6f6c 5365 6c65   def setToolSele
-0000a250: 6374 696f 6e43 6f6e 6669 6773 2873 656c  ctionConfigs(sel
-0000a260: 6629 3a0a 2020 2020 2020 2020 7072 696e  f):.        prin
-0000a270: 7432 2822 2320 496e 7472 6f64 7563 7469  t2("# Introducti
-0000a280: 6f6e 2e20 4672 6565 4765 6e69 7573 2041  on. FreeGenius A
-0000a290: 4920 656e 6861 6e63 6573 204c 4c4d 2063  I enhances LLM c
-0000a2a0: 6170 6162 696c 6974 6965 7320 6279 206f  apabilities by o
-0000a2b0: 6666 6572 696e 6720 746f 6f6c 7320 7468  ffering tools th
-0000a2c0: 726f 7567 6820 706c 7567 696e 732e 2057  rough plugins. W
-0000a2d0: 6865 6e20 6120 7573 6572 206d 616b 6573  hen a user makes
-0000a2e0: 2061 2072 6571 7565 7374 2c20 4672 6565   a request, Free
-0000a2f0: 4765 6e69 7573 2041 4920 7365 6172 6368  Genius AI search
-0000a300: 6573 2066 6f72 2061 6e64 2073 656c 6563  es for and selec
-0000a310: 7473 2061 2073 7569 7461 626c 6520 746f  ts a suitable to
-0000a320: 6f6c 2066 726f 6d20 6974 7320 746f 6f6c  ol from its tool
-0000a330: 2073 746f 7265 2e20 5468 6973 2073 6561   store. This sea
-0000a340: 7263 6820 696e 766f 6c76 6573 2066 696e  rch involves fin
-0000a350: 6469 6e67 2073 696d 696c 6172 6974 6965  ding similaritie
-0000a360: 7320 6265 7477 6565 6e20 7468 6520 7573  s between the us
-0000a370: 6572 2071 7565 7279 2061 6e64 2074 6865  er query and the
-0000a380: 2065 7861 6d70 6c65 7320 7072 6f76 6964   examples provid
-0000a390: 6564 2069 6e20 7468 6520 746f 6f6c 2070  ed in the tool p
-0000a3a0: 6c75 6769 6e73 2e20 5573 6572 7320 6861  lugins. Users ha
-0000a3b0: 7665 2074 6865 2066 6c65 7869 6269 6c69  ve the flexibili
-0000a3c0: 7479 2074 6f20 6375 7374 6f6d 697a 6520  ty to customize 
-0000a3d0: 7468 6520 746f 6f6c 2073 656c 6563 7469  the tool selecti
-0000a3e0: 6f6e 2070 726f 6365 7373 2062 7920 6164  on process by ad
-0000a3f0: 6a75 7374 696e 6720 7468 7265 6520 6b65  justing three ke
-0000a400: 7920 636f 6e66 6967 7572 6174 696f 6e73  y configurations
-0000a410: 3a22 290a 2020 2020 2020 2020 7072 696e  :").        prin
-0000a420: 7432 2822 2222 3129 2074 6f6f 6c5f 6465  t2("""1) tool_de
-0000a430: 7065 6e64 656e 6365 0a32 2920 746f 6f6c  pendence.2) tool
-0000a440: 5f61 7574 6f5f 7365 6c65 6374 696f 6e5f  _auto_selection_
-0000a450: 7468 7265 7368 6f6c 640a 3329 2074 6f6f  threshold.3) too
-0000a460: 6c5f 7365 6c65 6374 696f 6e5f 6d61 785f  l_selection_max_
-0000a470: 6368 6f69 6365 7322 2222 290a 2020 2020  choices""").    
-0000a480: 2020 2020 7072 696e 7432 2822 2320 546f      print2("# To
-0000a490: 6f6c 2044 6570 656e 6465 6e63 652e 2054  ol Dependence. T
-0000a4a0: 6865 2076 616c 7565 206f 6620 2774 6f6f  he value of 'too
-0000a4b0: 6c5f 6465 7065 6e64 656e 6365 2720 6465  l_dependence' de
-0000a4c0: 7465 726d 696e 6573 2068 6f77 2079 6f75  termines how you
-0000a4d0: 2077 616e 7420 746f 2072 656c 7920 6f6e   want to rely on
-0000a4e0: 2074 6f6f 6c73 2e22 290a 2020 2020 2020   tools.").      
-0000a4f0: 2020 7072 696e 7431 2822 4163 6365 7074    print1("Accept
-0000a500: 6162 6c65 2072 616e 6765 3a20 302e 3020  able range: 0.0 
-0000a510: 2d20 312e 3022 290a 2020 2020 2020 2020  - 1.0").        
-0000a520: 7072 696e 7431 2822 4120 7661 6c75 6520  print1("A value 
-0000a530: 6f66 2030 2e30 2069 6e64 6963 6174 6573  of 0.0 indicates
-0000a540: 2074 6861 7420 746f 6f6c 7320 6172 6520   that tools are 
-0000a550: 6469 7361 626c 6564 2e20 4672 6565 4765  disabled. FreeGe
-0000a560: 6e69 7573 2773 2072 6573 706f 6e73 6573  nius's responses
-0000a570: 2061 7265 2074 6f74 616c 6c79 2062 6173   are totally bas
-0000a580: 6564 206f 6e20 6361 7061 6269 6c69 7469  ed on capabiliti
-0000a590: 6573 206f 6620 7468 6520 7365 6c65 6374  es of the select
-0000a5a0: 6564 204c 4c4d 2e22 290a 2020 2020 2020  ed LLM.").      
-0000a5b0: 2020 7072 696e 7431 2822 4120 7661 6c75    print1("A valu
-0000a5c0: 6520 6f66 2031 2e30 2069 6e64 6963 6174  e of 1.0 indicat
-0000a5d0: 6573 2074 6861 7420 746f 6f6c 7320 616c  es that tools al
-0000a5e0: 7761 7973 2061 7070 6c79 2066 6f72 2065  ways apply for e
-0000a5f0: 6163 6820 7265 7370 6f6e 7365 2e22 290a  ach response.").
-0000a600: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000a610: 4120 7661 6c75 6520 6265 7477 6565 6e20  A value between 
-0000a620: 302e 3020 616e 6420 302e 3120 696e 6469  0.0 and 0.1 indi
-0000a630: 6361 7465 7320 7468 6174 2061 2074 6f6f  cates that a too
-0000a640: 6c20 6973 2073 656c 6563 7465 6420 6f6e  l is selected on
-0000a650: 6c79 2077 6865 6e20 746f 6f6c 2064 6973  ly when tool dis
-0000a660: 7461 6e63 6520 7365 6172 6368 2069 7320  tance search is 
-0000a670: 6c65 7373 2074 6861 6e20 6f72 2065 7175  less than or equ
-0000a680: 616c 2074 6f20 6974 7320 7661 6c75 652e  al to its value.
-0000a690: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000a6a0: 3128 2254 6865 7265 666f 7265 2c20 796f  1("Therefore, yo
-0000a6b0: 7520 6172 6520 6d6f 7265 206c 696b 656c  u are more likel
-0000a6c0: 7920 746f 2075 7365 2074 6f6f 6c73 2077  y to use tools w
-0000a6d0: 6865 6e20 796f 7520 7365 7420 6120 6869  hen you set a hi
-0000a6e0: 6768 6572 2076 616c 7565 2e22 290a 2020  gher value.").  
-0000a6f0: 2020 2020 2020 7072 696e 7432 2822 506c        print2("Pl
-0000a700: 6561 7365 2065 6e74 6572 2061 2076 616c  ease enter a val
-0000a710: 7565 2062 6574 7765 656e 2030 2e30 2061  ue between 0.0 a
-0000a720: 6e64 2031 2e30 2074 6f20 7365 7420 6974  nd 1.0 to set it
-0000a730: 7320 7661 6c75 653a 2229 0a20 2020 2020  s value:").     
-0000a740: 2020 2074 6f6f 6c5f 6465 7065 6e64 656e     tool_dependen
-0000a750: 6365 203d 2073 656c 662e 7072 6f6d 7074  ce = self.prompt
-0000a760: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-0000a770: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-0000a780: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-0000a790: 7661 6c69 6461 746f 723d 466c 6f61 7456  validator=FloatV
-0000a7a0: 616c 6964 6174 6f72 2829 2c20 6465 6661  alidator(), defa
-0000a7b0: 756c 743d 7374 7228 636f 6e66 6967 2e74  ult=str(config.t
-0000a7c0: 6f6f 6c5f 6465 7065 6e64 656e 6365 2929  ool_dependence))
-0000a7d0: 0a20 2020 2020 2020 2069 6620 746f 6f6c  .        if tool
-0000a7e0: 5f64 6570 656e 6465 6e63 6520 616e 6420  _dependence and 
-0000a7f0: 6e6f 7420 746f 6f6c 5f64 6570 656e 6465  not tool_depende
-0000a800: 6e63 652e 7374 7269 7028 292e 6c6f 7765  nce.strip().lowe
-0000a810: 7228 2920 3d3d 2063 6f6e 6669 672e 6578  r() == config.ex
-0000a820: 6974 5f65 6e74 7279 3a0a 2020 2020 2020  it_entry:.      
-0000a830: 2020 2020 2020 746f 6f6c 5f64 6570 656e        tool_depen
-0000a840: 6465 6e63 6520 3d20 666c 6f61 7428 746f  dence = float(to
-0000a850: 6f6c 5f64 6570 656e 6465 6e63 6529 0a20  ol_dependence). 
-0000a860: 2020 2020 2020 2020 2020 2069 6620 746f             if to
-0000a870: 6f6c 5f64 6570 656e 6465 6e63 6520 3c20  ol_dependence < 
-0000a880: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
-0000a890: 2020 2074 6f6f 6c5f 6465 7065 6e64 656e     tool_dependen
-0000a8a0: 6365 203d 2030 2e30 0a20 2020 2020 2020  ce = 0.0.       
-0000a8b0: 2020 2020 2065 6c69 6620 746f 6f6c 5f64       elif tool_d
-0000a8c0: 6570 656e 6465 6e63 6520 3e20 313a 0a20  ependence > 1:. 
-0000a8d0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000a8e0: 6f6f 6c5f 6465 7065 6e64 656e 6365 203d  ool_dependence =
-0000a8f0: 2031 2e30 0a20 2020 2020 2020 2020 2020   1.0.           
-0000a900: 2063 6f6e 6669 672e 746f 6f6c 5f64 6570   config.tool_dep
-0000a910: 656e 6465 6e63 6520 3d20 746f 6f6c 5f64  endence = tool_d
-0000a920: 6570 656e 6465 6e63 650a 2020 2020 2020  ependence.      
-0000a930: 2020 2020 2020 7072 696e 7433 2866 2254        print3(f"T
-0000a940: 6f6f 6c20 4465 7065 6e64 656e 6365 3a20  ool Dependence: 
-0000a950: 7b74 6f6f 6c5f 6465 7065 6e64 656e 6365  {tool_dependence
-0000a960: 7d22 290a 2020 2020 2020 2020 7072 696e  }").        prin
-0000a970: 7432 2822 2320 546f 6f6c 2041 7574 6f20  t2("# Tool Auto 
-0000a980: 5365 6c65 6374 696f 6e20 5468 7265 7368  Selection Thresh
-0000a990: 6f6c 642e 2054 6865 2076 616c 7565 206f  old. The value o
-0000a9a0: 6620 2774 6f6f 6c5f 6175 746f 5f73 656c  f 'tool_auto_sel
-0000a9b0: 6563 7469 6f6e 5f74 6872 6573 686f 6c64  ection_threshold
-0000a9c0: 2720 6465 7465 726d 696e 6573 2074 6865  ' determines the
-0000a9d0: 2074 6872 6573 686f 6c64 206f 6620 6175   threshold of au
-0000a9e0: 746f 6d61 7469 6320 746f 6f6c 2073 656c  tomatic tool sel
-0000a9f0: 6563 7469 6f6e 2e22 290a 2020 2020 2020  ection.").      
-0000aa00: 2020 7072 696e 7431 2822 4163 6365 7074    print1("Accept
-0000aa10: 6162 6c65 2072 616e 6765 3a20 302e 3020  able range: 0.0 
-0000aa20: 2d20 5b74 6865 2076 616c 7565 206f 6620  - [the value of 
-0000aa30: 746f 6f6c 5f64 6570 656e 6465 6e63 655d  tool_dependence]
-0000aa40: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000aa50: 3128 2241 2076 616c 7565 206f 6620 302e  1("A value of 0.
-0000aa60: 3020 696e 6469 6361 7465 7320 7468 6174  0 indicates that
-0000aa70: 2061 7574 6f6d 6174 6963 2074 6f6f 6c20   automatic tool 
-0000aa80: 7365 6c65 6374 696f 6e20 6973 2064 6973  selection is dis
-0000aa90: 6162 6c65 642e 2055 7365 7273 206d 7573  abled. Users mus
-0000aaa0: 7420 6d61 6e75 616c 6c79 2063 686f 6f73  t manually choos
-0000aab0: 6520 6120 746f 6f6c 2066 726f 6d20 7468  e a tool from th
-0000aac0: 6520 6d6f 7374 2072 656c 6576 616e 7420  e most relevant 
-0000aad0: 6f70 7469 6f6e 7320 6964 656e 7469 6669  options identifi
-0000aae0: 6564 2069 6e20 6561 6368 2074 6f6f 6c20  ed in each tool 
-0000aaf0: 7365 6172 6368 2e22 290a 2020 2020 2020  search.").      
-0000ab00: 2020 7072 696e 7431 2822 4120 7661 6c75    print1("A valu
-0000ab10: 6520 7468 6174 2069 7320 6571 7561 6c20  e that is equal 
-0000ab20: 746f 206f 7220 6c61 7267 6572 2074 6861  to or larger tha
-0000ab30: 6e20 7468 6520 7661 6c75 6520 6f66 2027  n the value of '
-0000ab40: 746f 6f6c 5f64 6570 656e 6465 6e63 6527  tool_dependence'
-0000ab50: 2069 6e64 6963 6174 6573 2074 6861 7420   indicates that 
-0000ab60: 746f 6f6c 2073 656c 6563 7469 6f6e 2069  tool selection i
-0000ab70: 7320 616c 7761 7973 2061 7574 6f6d 6174  s always automat
-0000ab80: 6963 2e22 290a 2020 2020 2020 2020 7072  ic.").        pr
-0000ab90: 696e 7431 2822 4120 7661 6c75 6520 6265  int1("A value be
-0000aba0: 7477 6565 6e20 302e 3020 616e 6420 7468  tween 0.0 and th
-0000abb0: 6520 7661 6c75 6520 6f66 2027 746f 6f6c  e value of 'tool
-0000abc0: 5f64 6570 656e 6465 6e63 6527 2069 6e64  _dependence' ind
-0000abd0: 6963 6174 6573 2074 6861 7420 746f 6f6c  icates that tool
-0000abe0: 2073 656c 6563 7469 6f6e 2069 7320 6f6e   selection is on
-0000abf0: 6c79 2061 7574 6f6d 6174 6963 2077 6865  ly automatic whe
-0000ac00: 6e20 6974 7320 7661 6c75 6520 6973 206c  n its value is l
-0000ac10: 6172 6765 7220 7468 616e 206f 7220 6571  arger than or eq
-0000ac20: 7561 6c20 746f 2074 6865 2074 6f6f 6c20  ual to the tool 
-0000ac30: 7365 6172 6368 2064 6973 7461 6e63 652e  search distance.
-0000ac40: 2055 7365 7273 206e 6565 6420 746f 2063   Users need to c
-0000ac50: 686f 6f73 6520 6120 746f 6f6c 2066 726f  hoose a tool fro
-0000ac60: 6d20 7468 6520 6d6f 7374 2072 656c 6576  m the most relev
-0000ac70: 616e 7420 6f70 7469 6f6e 7320 696e 2063  ant options in c
-0000ac80: 6173 6520 6175 746f 6d61 7469 6320 746f  ase automatic to
-0000ac90: 6f6c 2073 656c 6563 7469 6f6e 2069 7320  ol selection is 
-0000aca0: 6e6f 7420 6170 706c 6965 6420 616e 6420  not applied and 
-0000acb0: 746f 6f6c 2073 6561 7263 6820 6469 7374  tool search dist
-0000acc0: 616e 6365 2069 7320 6c65 7373 2074 6861  ance is less tha
-0000acd0: 6e20 6f72 2065 7175 616c 2074 6f20 7468  n or equal to th
-0000ace0: 6520 7661 6c75 6520 6f66 2074 6f6f 6c5f  e value of tool_
-0000acf0: 6465 7065 6e64 656e 6365 2e22 290a 2020  dependence.").  
-0000ad00: 2020 2020 2020 7072 696e 7432 2866 2250        print2(f"P
-0000ad10: 6c65 6173 6520 656e 7465 7220 6120 7661  lease enter a va
-0000ad20: 6c75 6520 6265 7477 6565 6e20 302e 3020  lue between 0.0 
-0000ad30: 616e 6420 7b63 6f6e 6669 672e 746f 6f6c  and {config.tool
-0000ad40: 5f64 6570 656e 6465 6e63 657d 2074 6f20  _dependence} to 
-0000ad50: 7365 7420 6974 7320 7661 6c75 653a 2229  set its value:")
-0000ad60: 0a20 2020 2020 2020 2074 6f6f 6c5f 6175  .        tool_au
-0000ad70: 746f 5f73 656c 6563 7469 6f6e 5f74 6872  to_selection_thr
-0000ad80: 6573 686f 6c64 203d 2073 656c 662e 7072  eshold = self.pr
-0000ad90: 6f6d 7074 732e 7369 6d70 6c65 5072 6f6d  ompts.simpleProm
-0000ada0: 7074 2873 7479 6c65 3d73 656c 662e 7072  pt(style=self.pr
-0000adb0: 6f6d 7074 732e 7072 6f6d 7074 5374 796c  ompts.promptStyl
-0000adc0: 6532 2c20 7661 6c69 6461 746f 723d 466c  e2, validator=Fl
-0000add0: 6f61 7456 616c 6964 6174 6f72 2829 2c20  oatValidator(), 
-0000ade0: 6465 6661 756c 743d 7374 7228 636f 6e66  default=str(conf
-0000adf0: 6967 2e74 6f6f 6c5f 6175 746f 5f73 656c  ig.tool_auto_sel
-0000ae00: 6563 7469 6f6e 5f74 6872 6573 686f 6c64  ection_threshold
-0000ae10: 2929 0a20 2020 2020 2020 2069 6620 746f  )).        if to
-0000ae20: 6f6c 5f61 7574 6f5f 7365 6c65 6374 696f  ol_auto_selectio
-0000ae30: 6e5f 7468 7265 7368 6f6c 6420 616e 6420  n_threshold and 
-0000ae40: 6e6f 7420 746f 6f6c 5f61 7574 6f5f 7365  not tool_auto_se
-0000ae50: 6c65 6374 696f 6e5f 7468 7265 7368 6f6c  lection_threshol
-0000ae60: 642e 7374 7269 7028 292e 6c6f 7765 7228  d.strip().lower(
-0000ae70: 2920 3d3d 2063 6f6e 6669 672e 6578 6974  ) == config.exit
-0000ae80: 5f65 6e74 7279 3a0a 2020 2020 2020 2020  _entry:.        
-0000ae90: 2020 2020 746f 6f6c 5f61 7574 6f5f 7365      tool_auto_se
-0000aea0: 6c65 6374 696f 6e5f 7468 7265 7368 6f6c  lection_threshol
-0000aeb0: 6420 3d20 666c 6f61 7428 746f 6f6c 5f61  d = float(tool_a
-0000aec0: 7574 6f5f 7365 6c65 6374 696f 6e5f 7468  uto_selection_th
-0000aed0: 7265 7368 6f6c 6429 0a20 2020 2020 2020  reshold).       
-0000aee0: 2020 2020 2069 6620 746f 6f6c 5f61 7574       if tool_aut
-0000aef0: 6f5f 7365 6c65 6374 696f 6e5f 7468 7265  o_selection_thre
-0000af00: 7368 6f6c 6420 3c20 303a 0a20 2020 2020  shold < 0:.     
-0000af10: 2020 2020 2020 2020 2020 2074 6f6f 6c5f             tool_
-0000af20: 6175 746f 5f73 656c 6563 7469 6f6e 5f74  auto_selection_t
-0000af30: 6872 6573 686f 6c64 203d 2030 2e30 0a20  hreshold = 0.0. 
-0000af40: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0000af50: 746f 6f6c 5f61 7574 6f5f 7365 6c65 6374  tool_auto_select
-0000af60: 696f 6e5f 7468 7265 7368 6f6c 6420 3e20  ion_threshold > 
-0000af70: 636f 6e66 6967 2e74 6f6f 6c5f 6465 7065  config.tool_depe
-0000af80: 6e64 656e 6365 3a0a 2020 2020 2020 2020  ndence:.        
-0000af90: 2020 2020 2020 2020 746f 6f6c 5f61 7574          tool_aut
-0000afa0: 6f5f 7365 6c65 6374 696f 6e5f 7468 7265  o_selection_thre
-0000afb0: 7368 6f6c 6420 3d20 636f 6e66 6967 2e74  shold = config.t
-0000afc0: 6f6f 6c5f 6465 7065 6e64 656e 6365 0a20  ool_dependence. 
-0000afd0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000afe0: 672e 746f 6f6c 5f61 7574 6f5f 7365 6c65  g.tool_auto_sele
-0000aff0: 6374 696f 6e5f 7468 7265 7368 6f6c 6420  ction_threshold 
-0000b000: 3d20 746f 6f6c 5f61 7574 6f5f 7365 6c65  = tool_auto_sele
-0000b010: 6374 696f 6e5f 7468 7265 7368 6f6c 640a  ction_threshold.
-0000b020: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000b030: 7433 2866 2254 6f6f 6c20 4175 746f 2053  t3(f"Tool Auto S
-0000b040: 656c 6563 7469 6f6e 2054 6872 6573 686f  election Thresho
-0000b050: 6c64 3a20 7b74 6f6f 6c5f 6175 746f 5f73  ld: {tool_auto_s
-0000b060: 656c 6563 7469 6f6e 5f74 6872 6573 686f  election_thresho
-0000b070: 6c64 7d22 290a 2020 2020 2020 2020 7072  ld}").        pr
-0000b080: 696e 7432 2822 2320 546f 6f6c 2053 656c  int2("# Tool Sel
-0000b090: 6563 7469 6f6e 204d 6178 2043 686f 6963  ection Max Choic
-0000b0a0: 6573 2e20 5468 6520 7661 6c75 6520 6f66  es. The value of
-0000b0b0: 2027 746f 6f6c 5f73 656c 6563 7469 6f6e   'tool_selection
-0000b0c0: 5f6d 6178 5f63 686f 6963 6573 2720 6465  _max_choices' de
-0000b0d0: 7465 726d 696e 6573 2074 6865 206d 6178  termines the max
-0000b0e0: 696d 756d 206e 756d 6265 7220 6f66 2061  imum number of a
-0000b0f0: 7661 696c 6162 6c65 206f 7074 696f 6e73  vailable options
-0000b100: 2066 6f72 206d 616e 7561 6c20 746f 6f6c   for manual tool
-0000b110: 2073 656c 6563 7469 6f6e 2e22 290a 2020   selection.").  
-0000b120: 2020 2020 2020 7072 696e 7431 2822 4465        print1("De
-0000b130: 6661 756c 7420 7661 6c75 653a 2034 2229  fault value: 4")
-0000b140: 0a20 2020 2020 2020 2070 7269 6e74 3228  .        print2(
-0000b150: 2250 6c65 6173 6520 656e 7465 7220 6120  "Please enter a 
-0000b160: 6e75 6d62 6572 2066 6f72 2074 6869 7320  number for this 
-0000b170: 7661 6c75 653a 2229 0a20 2020 2020 2020  value:").       
-0000b180: 2074 6f6f 6c5f 7365 6c65 6374 696f 6e5f   tool_selection_
-0000b190: 6d61 785f 6368 6f69 6365 7320 3d20 7365  max_choices = se
-0000b1a0: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
-0000b1b0: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
-0000b1c0: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
-0000b1d0: 7453 7479 6c65 322c 206e 756d 6265 724f  tStyle2, numberO
-0000b1e0: 6e6c 793d 5472 7565 2c20 6465 6661 756c  nly=True, defaul
-0000b1f0: 743d 7374 7228 636f 6e66 6967 2e74 6f6f  t=str(config.too
-0000b200: 6c5f 7365 6c65 6374 696f 6e5f 6d61 785f  l_selection_max_
-0000b210: 6368 6f69 6365 7329 290a 2020 2020 2020  choices)).      
-0000b220: 2020 6966 2074 6f6f 6c5f 7365 6c65 6374    if tool_select
-0000b230: 696f 6e5f 6d61 785f 6368 6f69 6365 7320  ion_max_choices 
-0000b240: 616e 6420 6e6f 7420 746f 6f6c 5f73 656c  and not tool_sel
-0000b250: 6563 7469 6f6e 5f6d 6178 5f63 686f 6963  ection_max_choic
-0000b260: 6573 2e73 7472 6970 2829 2e6c 6f77 6572  es.strip().lower
-0000b270: 2829 203d 3d20 636f 6e66 6967 2e65 7869  () == config.exi
-0000b280: 745f 656e 7472 793a 0a20 2020 2020 2020  t_entry:.       
-0000b290: 2020 2020 2063 6f6e 6669 672e 746f 6f6c       config.tool
-0000b2a0: 5f73 656c 6563 7469 6f6e 5f6d 6178 5f63  _selection_max_c
-0000b2b0: 686f 6963 6573 203d 2069 6e74 2874 6f6f  hoices = int(too
-0000b2c0: 6c5f 7365 6c65 6374 696f 6e5f 6d61 785f  l_selection_max_
-0000b2d0: 6368 6f69 6365 7329 0a20 2020 2020 2020  choices).       
-0000b2e0: 2020 2020 2070 7269 6e74 3328 6622 546f       print3(f"To
-0000b2f0: 6f6c 2053 656c 6563 7469 6f6e 204d 6178  ol Selection Max
-0000b300: 2043 686f 6963 6573 3a20 7b74 6f6f 6c5f   Choices: {tool_
-0000b310: 7365 6c65 6374 696f 6e5f 6d61 785f 6368  selection_max_ch
-0000b320: 6f69 6365 737d 2229 0a20 2020 2020 2020  oices}").       
-0000b330: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-0000b340: 6967 2829 0a0a 2020 2020 6465 6620 7365  ig()..    def se
-0000b350: 6c65 6374 4c6c 6d50 6c61 7466 6f72 6d28  lectLlmPlatform(
-0000b360: 7365 6c66 293a 0a20 2020 2020 2020 2069  self):.        i
-0000b370: 6e73 7472 7563 7469 6f6e 203d 2022 5365  nstruction = "Se
-0000b380: 6c65 6374 2061 2070 6c61 7466 6f72 6d3a  lect a platform:
-0000b390: 220a 2020 2020 2020 2020 7072 696e 7431  ".        print1
-0000b3a0: 2869 6e73 7472 7563 7469 6f6e 290a 2020  (instruction).  
-0000b3b0: 2020 2020 2020 6f70 7469 6f6e 7320 3d20        options = 
-0000b3c0: 7b0a 2020 2020 2020 2020 2020 2020 226c  {.            "l
-0000b3d0: 6c61 6d61 6370 7022 3a20 224c 6c61 6d61  lamacpp": "Llama
-0000b3e0: 2e63 7070 222c 0a20 2020 2020 2020 2020  .cpp",.         
-0000b3f0: 2020 2022 6f6c 6c61 6d61 223a 2022 4f6c     "ollama": "Ol
-0000b400: 6c61 6d61 222c 0a20 2020 2020 2020 2020  lama",.         
-0000b410: 2020 2022 6765 6d69 6e69 223a 2022 476f     "gemini": "Go
-0000b420: 6f67 6c65 2047 656d 696e 6922 2c0a 2020  ogle Gemini",.  
-0000b430: 2020 2020 2020 2020 2020 2263 6861 7467            "chatg
-0000b440: 7074 223a 2022 4f70 656e 4149 2043 6861  pt": "OpenAI Cha
-0000b450: 7447 5054 222c 0a20 2020 2020 2020 2020  tGPT",.         
-0000b460: 2020 2022 6c65 746d 6564 6f69 7422 3a20     "letmedoit": 
-0000b470: 224c 6574 4d65 446f 4974 204d 6f64 6520  "LetMeDoIt Mode 
-0000b480: 2870 6f77 6572 6564 2062 7920 4368 6174  (powered by Chat
-0000b490: 4750 5429 222c 0a20 2020 2020 2020 207d  GPT)",.        }
-0000b4a0: 0a20 2020 2020 2020 206c 6c6d 496e 7465  .        llmInte
-0000b4b0: 7266 6163 6520 3d20 7365 6c66 2e64 6961  rface = self.dia
-0000b4c0: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
-0000b4d0: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
-0000b4e0: 2020 6f70 7469 6f6e 733d 6f70 7469 6f6e    options=option
-0000b4f0: 732e 6b65 7973 2829 2c0a 2020 2020 2020  s.keys(),.      
-0000b500: 2020 2020 2020 6465 7363 7269 7074 696f        descriptio
-0000b510: 6e73 3d6c 6973 7428 6f70 7469 6f6e 732e  ns=list(options.
-0000b520: 7661 6c75 6573 2829 292c 0a20 2020 2020  values()),.     
-0000b530: 2020 2020 2020 2074 6974 6c65 3d22 4c4c         title="LL
-0000b540: 4d20 496e 7465 7266 6163 6522 2c0a 2020  M Interface",.  
-0000b550: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-0000b560: 743d 636f 6e66 6967 2e6c 6c6d 496e 7465  t=config.llmInte
-0000b570: 7266 6163 652c 0a20 2020 2020 2020 2020  rface,.         
-0000b580: 2020 2074 6578 743d 696e 7374 7275 6374     text=instruct
-0000b590: 696f 6e2c 0a20 2020 2020 2020 2029 0a20  ion,.        ). 
-0000b5a0: 2020 2020 2020 2069 6620 6c6c 6d49 6e74         if llmInt
-0000b5b0: 6572 6661 6365 3a0a 2020 2020 2020 2020  erface:.        
-0000b5c0: 2020 2020 636f 6e66 6967 2e6c 6c6d 496e      config.llmIn
-0000b5d0: 7465 7266 6163 6520 3d20 6c6c 6d49 6e74  terface = llmInt
-0000b5e0: 6572 6661 6365 0a20 2020 2020 2020 2020  erface.         
-0000b5f0: 2020 2069 6620 6e6f 7420 636f 6e66 6967     if not config
-0000b600: 2e6c 6c6d 496e 7465 7266 6163 6520 3d3d  .llmInterface ==
-0000b610: 2022 6c6c 616d 6163 7070 2220 616e 6420   "llamacpp" and 
-0000b620: 6861 7361 7474 7228 636f 6e66 6967 2c20  hasattr(config, 
-0000b630: 226c 6c61 6d61 6370 704d 6169 6e4d 6f64  "llamacppMainMod
-0000b640: 656c 2229 3a0a 2020 2020 2020 2020 2020  el"):.          
-0000b650: 2020 2020 2020 636f 6e66 6967 2e6c 6c61        config.lla
-0000b660: 6d61 6370 704d 6169 6e4d 6f64 656c 203d  macppMainModel =
-0000b670: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-0000b680: 2020 4361 6c6c 4c4c 4d2e 6368 6563 6b43    CallLLM.checkC
-0000b690: 6f6d 706c 6574 696f 6e28 290a 0a20 2020  ompletion()..   
-0000b6a0: 2064 6566 2073 6574 4c6c 6d4d 6f64 656c   def setLlmModel
-0000b6b0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-0000b6c0: 6465 6620 6173 6b41 6464 6974 696f 6e61  def askAdditiona
-0000b6d0: 6c43 6861 744d 6f64 656c 2829 202d 3e20  lChatModel() -> 
-0000b6e0: 626f 6f6c 3a0a 2020 2020 2020 2020 2020  bool:.          
-0000b6f0: 2020 6f70 7469 6f6e 7320 3d20 2822 7965    options = ("ye
-0000b700: 7322 2c20 226e 6f22 290a 2020 2020 2020  s", "no").      
-0000b710: 2020 2020 2020 7175 6573 7469 6f6e 203d        question =
-0000b720: 2022 446f 2079 6f75 2077 616e 7420 616e   "Do you want an
-0000b730: 2061 6464 6974 696f 6e61 6c20 6d6f 6465   additional mode
-0000b740: 6c20 666f 7220 7275 6e6e 696e 6720 6368  l for running ch
-0000b750: 6174 2d6f 6e6c 7920 6665 6174 7572 6573  at-only features
-0000b760: 3f22 0a20 2020 2020 2020 2020 2020 2070  ?".            p
-0000b770: 7269 6e74 3128 7175 6573 7469 6f6e 290a  rint1(question).
-0000b780: 2020 2020 2020 2020 2020 2020 7573 6541              useA
-0000b790: 6464 6974 696f 6e61 6c43 6861 744d 6f64  dditionalChatMod
-0000b7a0: 656c 203d 2073 656c 662e 6469 616c 6f67  el = self.dialog
-0000b7b0: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-0000b7c0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
-0000b7d0: 2020 206f 7074 696f 6e73 3d6f 7074 696f     options=optio
-0000b7e0: 6e73 2c0a 2020 2020 2020 2020 2020 2020  ns,.            
-0000b7f0: 2020 2020 7469 746c 653d 2241 6464 6974      title="Addit
-0000b800: 696f 6e61 6c20 4368 6174 204d 6f64 656c  ional Chat Model
-0000b810: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000b820: 2020 2064 6566 6175 6c74 3d22 7965 7322     default="yes"
-0000b830: 2069 6620 636f 6e66 6967 2e75 7365 4164   if config.useAd
-0000b840: 6469 7469 6f6e 616c 4368 6174 4d6f 6465  ditionalChatMode
-0000b850: 6c20 656c 7365 2022 6e6f 222c 0a20 2020  l else "no",.   
-0000b860: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-0000b870: 743d 7175 6573 7469 6f6e 2c0a 2020 2020  t=question,.    
-0000b880: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000b890: 2020 2020 2020 6966 2075 7365 4164 6469        if useAddi
-0000b8a0: 7469 6f6e 616c 4368 6174 4d6f 6465 6c20  tionalChatModel 
-0000b8b0: 616e 6420 7573 6541 6464 6974 696f 6e61  and useAdditiona
-0000b8c0: 6c43 6861 744d 6f64 656c 203d 3d20 2279  lChatModel == "y
-0000b8d0: 6573 223a 0a20 2020 2020 2020 2020 2020  es":.           
-0000b8e0: 2020 2020 2063 6f6e 6669 672e 7573 6541       config.useA
-0000b8f0: 6464 6974 696f 6e61 6c43 6861 744d 6f64  dditionalChatMod
-0000b900: 656c 203d 2054 7275 650a 2020 2020 2020  el = True.      
-0000b910: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000b920: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-0000b930: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
-0000b940: 2020 2020 2020 2020 6375 7272 656e 744c          currentL
-0000b950: 6c6d 496e 7465 7266 6163 6520 3d20 636f  lmInterface = co
-0000b960: 6e66 6967 2e6c 6c6d 496e 7465 7266 6163  nfig.llmInterfac
-0000b970: 650a 2020 2020 2020 2020 7365 6c66 2e73  e.        self.s
-0000b980: 656c 6563 744c 6c6d 506c 6174 666f 726d  electLlmPlatform
-0000b990: 2829 0a0a 2020 2020 2020 2020 7072 696e  ()..        prin
-0000b9a0: 7431 2822 5365 6c65 6374 206d 6f64 656c  t1("Select model
-0000b9b0: 7320 2e2e 2e22 290a 2020 2020 2020 2020  s ...").        
-0000b9c0: 6966 2063 6f6e 6669 672e 6c6c 6d49 6e74  if config.llmInt
-0000b9d0: 6572 6661 6365 203d 3d20 226f 6c6c 616d  erface == "ollam
-0000b9e0: 6122 3a0a 2020 2020 2020 2020 2020 2020  a":.            
-0000b9f0: 7072 696e 7432 2822 2320 4d61 696e 204d  print2("# Main M
-0000ba00: 6f64 656c 202d 2066 6f72 2062 6f74 6820  odel - for both 
-0000ba10: 7461 736b 2065 7865 6375 7469 6f6e 2061  task execution a
-0000ba20: 6e64 2063 6f6e 7665 7273 6174 696f 6e22  nd conversation"
-0000ba30: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0000ba40: 6c66 2e73 6574 4c6c 6d4d 6f64 656c 5f6f  lf.setLlmModel_o
-0000ba50: 6c6c 616d 6128 290a 2020 2020 2020 2020  llama().        
-0000ba60: 2020 2020 6966 2061 736b 4164 6469 7469      if askAdditi
-0000ba70: 6f6e 616c 4368 6174 4d6f 6465 6c28 293a  onalChatModel():
-0000ba80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ba90: 2070 7269 6e74 3228 2223 2043 6861 7420   print2("# Chat 
-0000baa0: 4d6f 6465 6c20 2d20 666f 7220 636f 6e76  Model - for conv
-0000bab0: 6572 7361 7469 6f6e 206f 6e6c 7922 290a  ersation only").
-0000bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bad0: 7365 6c66 2e73 6574 4c6c 6d4d 6f64 656c  self.setLlmModel
-0000bae0: 5f6f 6c6c 616d 6128 2263 6f64 6522 290a  _ollama("code").
-0000baf0: 2020 2020 2020 2020 656c 6966 2063 6f6e          elif con
-0000bb00: 6669 672e 6c6c 6d49 6e74 6572 6661 6365  fig.llmInterface
-0000bb10: 203d 3d20 226c 6c61 6d61 6370 7022 3a0a   == "llamacpp":.
-0000bb20: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000bb30: 7432 2822 2320 4d61 696e 204d 6f64 656c  t2("# Main Model
-0000bb40: 202d 2066 6f72 2062 6f74 6820 7461 736b   - for both task
-0000bb50: 2065 7865 6375 7469 6f6e 2061 6e64 2063   execution and c
-0000bb60: 6f6e 7665 7273 6174 696f 6e22 290a 2020  onversation").  
-0000bb70: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-0000bb80: 6574 4c6c 6d4d 6f64 656c 5f6c 6c61 6d61  etLlmModel_llama
-0000bb90: 6370 7028 290a 2020 2020 2020 2020 2020  cpp().          
-0000bba0: 2020 6966 2061 736b 4164 6469 7469 6f6e    if askAddition
-0000bbb0: 616c 4368 6174 4d6f 6465 6c28 293a 0a20  alChatModel():. 
-0000bbc0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0000bbd0: 7269 6e74 3228 2223 2043 6861 7420 4d6f  rint2("# Chat Mo
-0000bbe0: 6465 6c20 2d20 666f 7220 636f 6e76 6572  del - for conver
-0000bbf0: 7361 7469 6f6e 206f 6e6c 7922 290a 2020  sation only").  
-0000bc00: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000bc10: 6c66 2e73 6574 4c6c 6d4d 6f64 656c 5f6c  lf.setLlmModel_l
-0000bc20: 6c61 6d61 6370 7028 2263 6f64 6522 290a  lamacpp("code").
-0000bc30: 2020 2020 2020 2020 656c 6966 2063 6f6e          elif con
-0000bc40: 6669 672e 6c6c 6d49 6e74 6572 6661 6365  fig.llmInterface
-0000bc50: 203d 3d20 2267 656d 696e 6922 3a0a 2020   == "gemini":.  
-0000bc60: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-0000bc70: 2822 4d6f 6465 6c20 7365 6c65 6374 6564  ("Model selected
-0000bc80: 3a20 476f 6f67 6c65 2047 656d 696e 6920  : Google Gemini 
-0000bc90: 5072 6f22 290a 2020 2020 2020 2020 656c  Pro").        el
-0000bca0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000bcb0: 7365 6c66 2e73 6574 4c6c 6d4d 6f64 656c  self.setLlmModel
-0000bcc0: 5f63 6861 7467 7074 2829 0a20 2020 2020  _chatgpt().     
-0000bcd0: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
-0000bce0: 6e66 6967 2829 0a20 2020 2020 2020 2069  nfig().        i
-0000bcf0: 6620 6e6f 7420 636f 6e66 6967 2e6c 6c6d  f not config.llm
-0000bd00: 496e 7465 7266 6163 6520 3d3d 2063 7572  Interface == cur
-0000bd10: 7265 6e74 4c6c 6d49 6e74 6572 6661 6365  rentLlmInterface
-0000bd20: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-0000bd30: 696e 7432 2822 4c4c 4d20 496e 7465 7266  int2("LLM Interf
-0000bd40: 6163 6520 6368 616e 6765 6421 2053 7461  ace changed! Sta
-0000bd50: 7274 696e 6720 6120 6e65 7720 6368 6174  rting a new chat
-0000bd60: 2073 6573 7369 6f6e 202e 2e2e 2229 0a20   session ..."). 
-0000bd70: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000bd80: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
-0000bd90: 2022 2e6e 6577 220a 2020 2020 2020 2020   ".new".        
-0000bda0: 2020 2020 636f 6e66 6967 2e61 6363 6570      config.accep
-0000bdb0: 745f 6465 6661 756c 7420 3d20 5472 7565  t_default = True
-0000bdc0: 0a0a 2020 2020 6465 6620 7365 6c65 6374  ..    def select
-0000bdd0: 4f6c 6c61 6d61 4d6f 6465 6c28 7365 6c66  OllamaModel(self
-0000bde0: 2c20 6d65 7373 6167 653d 2253 656c 6563  , message="Selec
-0000bdf0: 7420 6120 6d6f 6465 6c20 6672 6f6d 204f  t a model from O
-0000be00: 6c6c 616d 6120 4c69 6272 6172 793a 222c  llama Library:",
-0000be10: 2066 6561 7475 7265 3d22 6465 6661 756c   feature="defaul
-0000be20: 7422 2920 2d3e 2073 7472 3a0a 2020 2020  t") -> str:.    
-0000be30: 2020 2020 2320 6869 7374 6f72 7920 7365      # history se
-0000be40: 7373 696f 6e0a 2020 2020 2020 2020 6869  ssion.        hi
-0000be50: 7374 6f72 7946 6f6c 6465 7220 3d20 6f73  storyFolder = os
-0000be60: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
-0000be70: 672e 6c6f 6361 6c53 746f 7261 6765 2c20  g.localStorage, 
-0000be80: 2268 6973 746f 7279 2229 0a20 2020 2020  "history").     
-0000be90: 2020 2050 6174 6828 6869 7374 6f72 7946     Path(historyF
-0000bea0: 6f6c 6465 7229 2e6d 6b64 6972 2870 6172  older).mkdir(par
-0000beb0: 656e 7473 3d54 7275 652c 2065 7869 7374  ents=True, exist
-0000bec0: 5f6f 6b3d 5472 7565 290a 2020 2020 2020  _ok=True).      
-0000bed0: 2020 6d6f 6465 6c5f 6869 7374 6f72 7920    model_history 
-0000bee0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2868  = os.path.join(h
-0000bef0: 6973 746f 7279 466f 6c64 6572 2c20 226f  istoryFolder, "o
-0000bf00: 6c6c 616d 615f 636f 6465 2220 6966 2066  llama_code" if f
-0000bf10: 6561 7475 7265 203d 3d20 2263 6f64 6522  eature == "code"
-0000bf20: 2065 6c73 6520 226f 6c6c 616d 615f 6465   else "ollama_de
-0000bf30: 6661 756c 7422 290a 2020 2020 2020 2020  fault").        
-0000bf40: 6d6f 6465 6c5f 7365 7373 696f 6e20 3d20  model_session = 
-0000bf50: 5072 6f6d 7074 5365 7373 696f 6e28 6869  PromptSession(hi
-0000bf60: 7374 6f72 793d 4669 6c65 4869 7374 6f72  story=FileHistor
-0000bf70: 7928 6d6f 6465 6c5f 6869 7374 6f72 7929  y(model_history)
-0000bf80: 290a 2020 2020 2020 2020 636f 6d70 6c65  ).        comple
-0000bf90: 7465 7220 3d20 4675 7a7a 7943 6f6d 706c  ter = FuzzyCompl
-0000bfa0: 6574 6572 2857 6f72 6443 6f6d 706c 6574  eter(WordComplet
-0000bfb0: 6572 2873 6f72 7465 6428 6f6c 6c61 6d61  er(sorted(ollama
-0000bfc0: 5f6d 6f64 656c 7329 2c20 6967 6e6f 7265  _models), ignore
-0000bfd0: 5f63 6173 653d 5472 7565 2929 0a20 2020  _case=True)).   
-0000bfe0: 2020 2020 2062 6f74 746f 6d5f 746f 6f6c       bottom_tool
-0000bff0: 6261 7220 3d20 6622 2222 207b 7374 7228  bar = f""" {str(
-0000c000: 636f 6e66 6967 2e68 6f74 6b65 795f 6578  config.hotkey_ex
-0000c010: 6974 292e 7265 706c 6163 6528 2227 222c  it).replace("'",
-0000c020: 2022 2229 7d20 7b63 6f6e 6669 672e 6578   "")} {config.ex
-0000c030: 6974 5f65 6e74 7279 7d22 2222 0a20 2020  it_entry}""".   
-0000c040: 2020 2020 2064 6566 6175 6c74 203d 2063       default = c
-0000c050: 6f6e 6669 672e 6f6c 6c61 6d61 4368 6174  onfig.ollamaChat
-0000c060: 4d6f 6465 6c20 6966 2066 6561 7475 7265  Model if feature
-0000c070: 203d 3d20 2263 6f64 6522 2065 6c73 6520   == "code" else 
-0000c080: 636f 6e66 6967 2e6f 6c6c 616d 614d 6169  config.ollamaMai
-0000c090: 6e4d 6f64 656c 0a20 2020 2020 2020 2069  nModel.        i
-0000c0a0: 6620 636f 6e66 6967 2e6c 6c6d 496e 7465  f config.llmInte
-0000c0b0: 7266 6163 6520 3d3d 2022 6c6c 616d 6163  rface == "llamac
-0000c0c0: 7070 223a 0a20 2020 2020 2020 2020 2020  pp":.           
-0000c0d0: 2069 6620 6665 6174 7572 6520 3d3d 2022   if feature == "
-0000c0e0: 6465 6661 756c 7422 2061 6e64 2063 6f6e  default" and con
-0000c0f0: 6669 672e 6c6c 616d 6163 7070 4d61 696e  fig.llamacppMain
-0000c100: 4d6f 6465 6c5f 6f6c 6c61 6d61 5f74 6167  Model_ollama_tag
-0000c110: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000c120: 2020 6465 6661 756c 7420 3d20 636f 6e66    default = conf
-0000c130: 6967 2e6c 6c61 6d61 6370 704d 6169 6e4d  ig.llamacppMainM
-0000c140: 6f64 656c 5f6f 6c6c 616d 615f 7461 670a  odel_ollama_tag.
-0000c150: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000c160: 2066 6561 7475 7265 203d 3d20 2263 6f64   feature == "cod
-0000c170: 6522 2061 6e64 2063 6f6e 6669 672e 6c6c  e" and config.ll
-0000c180: 616d 6163 7070 4368 6174 4d6f 6465 6c5f  amacppChatModel_
-0000c190: 6f6c 6c61 6d61 5f74 6167 3a0a 2020 2020  ollama_tag:.    
-0000c1a0: 2020 2020 2020 2020 2020 2020 6465 6661              defa
-0000c1b0: 756c 7420 3d20 636f 6e66 6967 2e6c 6c61  ult = config.lla
-0000c1c0: 6d61 6370 7043 6861 744d 6f64 656c 5f6f  macppChatModel_o
-0000c1d0: 6c6c 616d 615f 7461 670a 2020 2020 2020  llama_tag.      
-0000c1e0: 2020 2320 7072 6f6d 7074 0a20 2020 2020    # prompt.     
-0000c1f0: 2020 2070 7269 6e74 3128 6d65 7373 6167     print1(messag
-0000c200: 6529 0a20 2020 2020 2020 2070 7269 6e74  e).        print
-0000c210: 3128 2228 466f 7220 6465 7461 696c 732c  1("(For details,
-0000c220: 2076 6973 6974 2068 7474 7073 3a2f 2f6f   visit https://o
-0000c230: 6c6c 616d 612e 636f 6d2f 6c69 6272 6172  llama.com/librar
-0000c240: 7929 2229 0a20 2020 2020 2020 206d 6f64  y)").        mod
-0000c250: 656c 203d 2073 656c 662e 7072 6f6d 7074  el = self.prompt
-0000c260: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-0000c270: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-0000c280: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-0000c290: 7072 6f6d 7074 5365 7373 696f 6e3d 6d6f  promptSession=mo
-0000c2a0: 6465 6c5f 7365 7373 696f 6e2c 2062 6f74  del_session, bot
-0000c2b0: 746f 6d5f 746f 6f6c 6261 723d 626f 7474  tom_toolbar=bott
-0000c2c0: 6f6d 5f74 6f6f 6c62 6172 2c20 6465 6661  om_toolbar, defa
-0000c2d0: 756c 743d 6465 6661 756c 742c 2063 6f6d  ult=default, com
-0000c2e0: 706c 6574 6572 3d63 6f6d 706c 6574 6572  pleter=completer
-0000c2f0: 290a 2020 2020 2020 2020 6966 206d 6f64  ).        if mod
-0000c300: 656c 2061 6e64 206e 6f74 206d 6f64 656c  el and not model
-0000c310: 2e6c 6f77 6572 2829 203d 3d20 636f 6e66  .lower() == conf
-0000c320: 6967 2e65 7869 745f 656e 7472 793a 0a20  ig.exit_entry:. 
-0000c330: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000c340: 6e20 6d6f 6465 6c0a 2020 2020 2020 2020  n model.        
-0000c350: 7265 7475 726e 2022 220a 0a20 2020 2064  return ""..    d
-0000c360: 6566 2073 6574 4c6c 6d4d 6f64 656c 5f6f  ef setLlmModel_o
-0000c370: 6c6c 616d 6128 7365 6c66 2c20 6665 6174  llama(self, feat
-0000c380: 7572 653d 2264 6566 6175 6c74 2229 3a0a  ure="default"):.
-0000c390: 2020 2020 2020 2020 6d6f 6465 6c20 3d20          model = 
-0000c3a0: 7365 6c66 2e73 656c 6563 744f 6c6c 616d  self.selectOllam
-0000c3b0: 614d 6f64 656c 2866 6561 7475 7265 3d66  aModel(feature=f
-0000c3c0: 6561 7475 7265 290a 2020 2020 2020 2020  eature).        
-0000c3d0: 6966 206d 6f64 656c 3a0a 2020 2020 2020  if model:.      
-0000c3e0: 2020 2020 2020 646f 776e 6c6f 6164 6564        downloaded
-0000c3f0: 4f6c 6c61 6d61 4d6f 6465 6c73 203d 2067  OllamaModels = g
-0000c400: 6574 446f 776e 6c6f 6164 6564 4f6c 6c61  etDownloadedOlla
-0000c410: 6d61 4d6f 6465 6c73 2829 0a20 2020 2020  maModels().     
-0000c420: 2020 2020 2020 2069 6620 6d6f 6465 6c20         if model 
-0000c430: 696e 2064 6f77 6e6c 6f61 6465 644f 6c6c  in downloadedOll
-0000c440: 616d 614d 6f64 656c 733a 0a20 2020 2020  amaModels:.     
-0000c450: 2020 2020 2020 2020 2020 2069 6620 6665             if fe
-0000c460: 6174 7572 6520 3d3d 2022 6465 6661 756c  ature == "defaul
-0000c470: 7422 3a0a 2020 2020 2020 2020 2020 2020  t":.            
-0000c480: 2020 2020 2020 2020 636f 6e66 6967 2e6f          config.o
-0000c490: 6c6c 616d 614d 6169 6e4d 6f64 656c 203d  llamaMainModel =
-0000c4a0: 206d 6f64 656c 0a20 2020 2020 2020 2020   model.         
-0000c4b0: 2020 2020 2020 2065 6c69 6620 6665 6174         elif feat
-0000c4c0: 7572 6520 3d3d 2022 636f 6465 223a 0a20  ure == "code":. 
-0000c4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c4e0: 2020 2063 6f6e 6669 672e 6f6c 6c61 6d61     config.ollama
-0000c4f0: 4368 6174 4d6f 6465 6c20 3d20 6d6f 6465  ChatModel = mode
-0000c500: 6c0a 2020 2020 2020 2020 2020 2020 656c  l.            el
-0000c510: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000c520: 2020 2020 6966 2073 6875 7469 6c2e 7768      if shutil.wh
-0000c530: 6963 6828 226f 6c6c 616d 6122 293a 0a20  ich("ollama"):. 
-0000c540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c550: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0000c560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c570: 446f 776e 6c6f 6164 6572 2e64 6f77 6e6c  Downloader.downl
-0000c580: 6f61 644f 6c6c 616d 614d 6f64 656c 286d  oadOllamaModel(m
-0000c590: 6f64 656c 2c20 5472 7565 290a 2020 2020  odel, True).    
-0000c5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5b0: 2020 2020 6966 2066 6561 7475 7265 203d      if feature =
-0000c5c0: 3d20 2264 6566 6175 6c74 223a 0a20 2020  = "default":.   
-0000c5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000c5f0: 6f6c 6c61 6d61 4d61 696e 4d6f 6465 6c20  ollamaMainModel 
-0000c600: 3d20 6d6f 6465 6c0a 2020 2020 2020 2020  = model.        
-0000c610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c620: 656c 6966 2066 6561 7475 7265 203d 3d20  elif feature == 
-0000c630: 2263 6f64 6522 3a0a 2020 2020 2020 2020  "code":.        
-0000c640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c650: 2020 2020 636f 6e66 6967 2e6f 6c6c 616d      config.ollam
-0000c660: 6143 6861 744d 6f64 656c 203d 206d 6f64  aChatModel = mod
-0000c670: 656c 0a20 2020 2020 2020 2020 2020 2020  el.             
-0000c680: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
-0000c690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6a0: 2020 2020 2020 2070 7269 6e74 3228 6622         print2(f"
-0000c6b0: 4661 696c 6564 2074 6f20 646f 776e 6c6f  Failed to downlo
-0000c6c0: 6164 2027 7b6d 6f64 656c 7d27 2120 506c  ad '{model}'! Pl
-0000c6d0: 6561 7365 206d 616b 6520 7375 7265 2079  ease make sure y
-0000c6e0: 6f75 2065 6e74 6572 2061 2076 616c 6964  ou enter a valid
-0000c6f0: 206d 6f64 656c 206e 616d 6520 6f72 2074   model name or t
-0000c700: 6167 2e22 290a 2020 2020 2020 2020 2020  ag.").          
-0000c710: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000c720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c730: 7072 696e 7428 224f 6c6c 616d 6120 6e6f  print("Ollama no
-0000c740: 7420 666f 756e 6421 2049 6e73 7461 6c6c  t found! Install
-0000c750: 204f 6c6c 616d 6120 6669 7273 7420 746f   Ollama first to
-0000c760: 2075 7365 204f 6c6c 616d 6120 6d6f 6465   use Ollama mode
-0000c770: 6c20 6c69 6272 6172 7921 2229 0a20 2020  l library!").   
-0000c780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c790: 2070 7269 6e74 2822 546f 2069 6e73 7461   print("To insta
-0000c7a0: 6c6c 204f 6c6c 616d 612c 2076 6973 6974  ll Ollama, visit
-0000c7b0: 2068 7474 7073 3a2f 2f6f 6c6c 616d 612e   https://ollama.
-0000c7c0: 636f 6d22 290a 0a20 2020 2064 6566 2073  com")..    def s
-0000c7d0: 6574 4c6c 6d4d 6f64 656c 5f6c 6c61 6d61  etLlmModel_llama
-0000c7e0: 6370 7028 7365 6c66 2c20 6665 6174 7572  cpp(self, featur
-0000c7f0: 653d 2264 6566 6175 6c74 2229 3a0a 2020  e="default"):.  
-0000c800: 2020 2020 2020 6c69 6272 6172 7920 3d20        library = 
-0000c810: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
-0000c820: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
-0000c830: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
-0000c840: 733d 2822 4f6c 6c61 6d61 204c 6962 7261  s=("Ollama Libra
-0000c850: 7279 222c 2022 4875 6767 696e 6766 6163  ry", "Huggingfac
-0000c860: 6520 4875 6222 2c20 2243 7573 746f 6d20  e Hub", "Custom 
-0000c870: 4747 5546 2229 2c0a 2020 2020 2020 2020  GGUF"),.        
-0000c880: 2020 2020 7469 746c 653d 224d 6f64 656c      title="Model
-0000c890: 204c 6962 7261 7279 222c 0a20 2020 2020   Library",.     
-0000c8a0: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
-0000c8b0: 4f6c 6c61 6d61 204c 6962 7261 7279 2220  Ollama Library" 
-0000c8c0: 6966 2073 6875 7469 6c2e 7768 6963 6828  if shutil.which(
-0000c8d0: 226f 6c6c 616d 6122 2920 656c 7365 2022  "ollama") else "
-0000c8e0: 4875 6767 696e 6766 6163 6520 4875 6222  Huggingface Hub"
-0000c8f0: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
-0000c900: 7874 3d22 5365 6c65 6374 2061 206d 6f64  xt="Select a mod
-0000c910: 656c 206c 6962 7261 7279 3a22 2c0a 2020  el library:",.  
-0000c920: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000c930: 6966 206c 6962 7261 7279 3a0a 2020 2020  if library:.    
-0000c940: 2020 2020 2020 2020 6966 206c 6962 7261          if libra
-0000c950: 7279 203d 3d20 224f 6c6c 616d 6120 4c69  ry == "Ollama Li
-0000c960: 6272 6172 7922 3a0a 2020 2020 2020 2020  brary":.        
-0000c970: 2020 2020 2020 2020 6d6f 6465 6c20 3d20          model = 
-0000c980: 7365 6c66 2e73 656c 6563 744f 6c6c 616d  self.selectOllam
-0000c990: 614d 6f64 656c 2866 6561 7475 7265 3d66  aModel(feature=f
-0000c9a0: 6561 7475 7265 290a 2020 2020 2020 2020  eature).        
-0000c9b0: 2020 2020 2020 2020 6966 206d 6f64 656c          if model
-0000c9c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000c9d0: 2020 2020 2020 646f 776e 6c6f 6164 6564        downloaded
-0000c9e0: 4f6c 6c61 6d61 4d6f 6465 6c73 203d 2067  OllamaModels = g
-0000c9f0: 6574 446f 776e 6c6f 6164 6564 4f6c 6c61  etDownloadedOlla
-0000ca00: 6d61 4d6f 6465 6c73 2829 0a20 2020 2020  maModels().     
-0000ca10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000ca20: 6620 6d6f 6465 6c20 696e 2064 6f77 6e6c  f model in downl
-0000ca30: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000ca40: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-0000ca50: 2020 2020 2020 2020 2020 2069 6620 6665             if fe
-0000ca60: 6174 7572 6520 3d3d 2022 6465 6661 756c  ature == "defaul
-0000ca70: 7422 3a0a 2020 2020 2020 2020 2020 2020  t":.            
-0000ca80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca90: 636f 6e66 6967 2e6c 6c61 6d61 6370 704d  config.llamacppM
-0000caa0: 6169 6e4d 6f64 656c 5f6d 6f64 656c 5f70  ainModel_model_p
-0000cab0: 6174 6820 3d20 646f 776e 6c6f 6164 6564  ath = downloaded
-0000cac0: 4f6c 6c61 6d61 4d6f 6465 6c73 5b6d 6f64  OllamaModels[mod
-0000cad0: 656c 5d0a 2020 2020 2020 2020 2020 2020  el].            
-0000cae0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000caf0: 2066 6561 7475 7265 203d 3d20 2263 6f64   feature == "cod
-0000cb00: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
-0000cb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb20: 636f 6e66 6967 2e6c 6c61 6d61 6370 7043  config.llamacppC
-0000cb30: 6861 744d 6f64 656c 5f6d 6f64 656c 5f70  hatModel_model_p
-0000cb40: 6174 6820 3d20 646f 776e 6c6f 6164 6564  ath = downloaded
-0000cb50: 4f6c 6c61 6d61 4d6f 6465 6c73 5b6d 6f64  OllamaModels[mod
-0000cb60: 656c 5d0a 2020 2020 2020 2020 2020 2020  el].            
-0000cb70: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb90: 2020 2020 2020 6966 2073 6875 7469 6c2e        if shutil.
-0000cba0: 7768 6963 6828 226f 6c6c 616d 6122 293a  which("ollama"):
-0000cbb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cbc0: 2020 2020 2020 2020 2020 2020 2074 7279               try
-0000cbd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbf0: 2020 446f 776e 6c6f 6164 6572 2e64 6f77    Downloader.dow
-0000cc00: 6e6c 6f61 644f 6c6c 616d 614d 6f64 656c  nloadOllamaModel
-0000cc10: 286d 6f64 656c 2c20 5472 7565 290a 2020  (model, True).  
-0000cc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc30: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000cc40: 7265 6672 6573 6820 646f 776e 6c6f 6164  refresh download
-0000cc50: 206c 6973 740a 2020 2020 2020 2020 2020   list.          
+00000000: 6672 6f6d 206c 6574 6d65 646f 6974 2069  from letmedoit i
+00000010: 6d70 6f72 7420 636f 6e66 6967 0a69 6d70  mport config.imp
+00000020: 6f72 7420 6c65 746d 6564 6f69 742e 636f  ort letmedoit.co
+00000030: 6e66 6967 0a69 6d70 6f72 7420 6f70 656e  nfig.import open
+00000040: 6169 2c20 7468 7265 6164 696e 672c 206f  ai, threading, o
+00000050: 732c 2074 696d 652c 2074 7261 6365 6261  s, time, traceba
+00000060: 636b 2c20 7265 2c20 7375 6270 726f 6365  ck, re, subproce
+00000070: 7373 2c20 6a73 6f6e 2c20 7079 646f 632c  ss, json, pydoc,
+00000080: 2074 6578 7477 7261 702c 2073 6875 7469   textwrap, shuti
+00000090: 6c2c 2064 6174 6574 696d 652c 2070 7072  l, datetime, ppr
+000000a0: 696e 740a 6672 6f6d 2070 6174 686c 6962  int.from pathlib
+000000b0: 2069 6d70 6f72 7420 5061 7468 0a69 6d70   import Path.imp
+000000c0: 6f72 7420 7079 676d 656e 7473 2c20 6f6c  ort pygments, ol
+000000d0: 6c61 6d61 0a66 726f 6d20 6f6c 6c61 6d61  lama.from ollama
+000000e0: 2069 6d70 6f72 7420 4f70 7469 6f6e 730a   import Options.
+000000f0: 6672 6f6d 2070 7967 6d65 6e74 732e 6c65  from pygments.le
+00000100: 7865 7273 2e70 7974 686f 6e20 696d 706f  xers.python impo
+00000110: 7274 2050 7974 686f 6e4c 6578 6572 0a66  rt PythonLexer.f
+00000120: 726f 6d20 7079 676d 656e 7473 2e6c 6578  rom pygments.lex
+00000130: 6572 732e 7368 656c 6c20 696d 706f 7274  ers.shell import
+00000140: 2042 6173 684c 6578 6572 0a23 6672 6f6d   BashLexer.#from
+00000150: 2070 7967 6d65 6e74 732e 6c65 7865 7273   pygments.lexers
+00000160: 2e6d 6172 6b75 7020 696d 706f 7274 204d  .markup import M
+00000170: 6172 6b64 6f77 6e4c 6578 6572 0a66 726f  arkdownLexer.fro
+00000180: 6d20 7072 6f6d 7074 5f74 6f6f 6c6b 6974  m prompt_toolkit
+00000190: 2e66 6f72 6d61 7474 6564 5f74 6578 7420  .formatted_text 
+000001a0: 696d 706f 7274 2050 7967 6d65 6e74 7354  import PygmentsT
+000001b0: 6f6b 656e 730a 6672 6f6d 2070 726f 6d70  okens.from promp
+000001c0: 745f 746f 6f6c 6b69 7420 696d 706f 7274  t_toolkit import
+000001d0: 2050 726f 6d70 7453 6573 7369 6f6e 0a66   PromptSession.f
+000001e0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
+000001f0: 6974 2e68 6973 746f 7279 2069 6d70 6f72  it.history impor
+00000200: 7420 4669 6c65 4869 7374 6f72 790a 6672  t FileHistory.fr
+00000210: 6f6d 2070 726f 6d70 745f 746f 6f6c 6b69  om prompt_toolki
+00000220: 742e 636f 6d70 6c65 7469 6f6e 2069 6d70  t.completion imp
+00000230: 6f72 7420 576f 7264 436f 6d70 6c65 7465  ort WordComplete
+00000240: 722c 2046 757a 7a79 436f 6d70 6c65 7465  r, FuzzyComplete
+00000250: 720a 6672 6f6d 2070 726f 6d70 745f 746f  r.from prompt_to
+00000260: 6f6c 6b69 742e 7368 6f72 7463 7574 7320  olkit.shortcuts 
+00000270: 696d 706f 7274 2063 6c65 6172 2c20 7365  import clear, se
+00000280: 745f 7469 746c 650a 6672 6f6d 2070 726f  t_title.from pro
+00000290: 6d70 745f 746f 6f6c 6b69 742e 6170 706c  mpt_toolkit.appl
+000002a0: 6963 6174 696f 6e20 696d 706f 7274 2072  ication import r
+000002b0: 756e 5f69 6e5f 7465 726d 696e 616c 0a66  un_in_terminal.f
+000002c0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
+000002d0: 6974 2069 6d70 6f72 7420 7072 696e 745f  it import print_
+000002e0: 666f 726d 6174 7465 645f 7465 7874 2c20  formatted_text, 
+000002f0: 4854 4d4c 0a66 726f 6d20 6c65 746d 6564  HTML.from letmed
+00000300: 6f69 742e 7574 696c 732e 7465 726d 696e  oit.utils.termin
+00000310: 616c 5f6d 6f64 655f 6469 616c 6f67 7320  al_mode_dialogs 
+00000320: 696d 706f 7274 2054 6572 6d69 6e61 6c4d  import TerminalM
+00000330: 6f64 6544 6961 6c6f 6773 0a66 726f 6d20  odeDialogs.from 
+00000340: 6c65 746d 6564 6f69 742e 7574 696c 732e  letmedoit.utils.
+00000350: 7072 6f6d 7074 7320 696d 706f 7274 2050  prompts import P
+00000360: 726f 6d70 7473 0a66 726f 6d20 6c65 746d  rompts.from letm
+00000370: 6564 6f69 742e 7574 696c 732e 7072 6f6d  edoit.utils.prom
+00000380: 7074 5661 6c69 6461 746f 7220 696d 706f  ptValidator impo
+00000390: 7274 2046 6c6f 6174 5661 6c69 6461 746f  rt FloatValidato
+000003a0: 722c 2054 6f6b 656e 5661 6c69 6461 746f  r, TokenValidato
+000003b0: 720a 6672 6f6d 206c 6574 6d65 646f 6974  r.from letmedoit
+000003c0: 2e75 7469 6c73 2e67 6574 5f70 6174 685f  .utils.get_path_
+000003d0: 7072 6f6d 7074 2069 6d70 6f72 7420 4765  prompt import Ge
+000003e0: 7450 6174 680a 6672 6f6d 206c 6574 6d65  tPath.from letme
+000003f0: 646f 6974 2e75 7469 6c73 2e70 726f 6d70  doit.utils.promp
+00000400: 745f 7368 6172 6564 5f6b 6579 5f62 696e  t_shared_key_bin
+00000410: 6469 6e67 7320 696d 706f 7274 2073 7761  dings import swa
+00000420: 7054 6572 6d69 6e61 6c43 6f6c 6f72 730a  pTerminalColors.
+00000430: 6672 6f6d 206c 6574 6d65 646f 6974 2e75  from letmedoit.u
+00000440: 7469 6c73 2e66 696c 655f 7574 696c 7320  tils.file_utils 
+00000450: 696d 706f 7274 2046 696c 6555 7469 6c0a  import FileUtil.
+00000460: 6672 6f6d 206c 6574 6d65 646f 6974 2e75  from letmedoit.u
+00000470: 7469 6c73 2e74 6572 6d69 6e61 6c5f 7379  tils.terminal_sy
+00000480: 7374 656d 5f63 6f6d 6d61 6e64 5f70 726f  stem_command_pro
+00000490: 6d70 7420 696d 706f 7274 2053 7973 7465  mpt import Syste
+000004a0: 6d43 6f6d 6d61 6e64 5072 6f6d 7074 0a66  mCommandPrompt.f
+000004b0: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000004c0: 696c 732e 7368 6172 6564 5f75 7469 6c73  ils.shared_utils
+000004d0: 2069 6d70 6f72 7420 5368 6172 6564 5574   import SharedUt
+000004e0: 696c 0a66 726f 6d20 6c65 746d 6564 6f69  il.from letmedoi
+000004f0: 742e 7574 696c 732e 7474 735f 7574 696c  t.utils.tts_util
+00000500: 7320 696d 706f 7274 2054 5453 5574 696c  s import TTSUtil
+00000510: 0a66 726f 6d20 6c65 746d 6564 6f69 742e  .from letmedoit.
+00000520: 7574 696c 732e 7474 734c 616e 6775 6167  utils.ttsLanguag
+00000530: 6573 2069 6d70 6f72 7420 5474 734c 616e  es import TtsLan
+00000540: 6775 6167 6573 0a66 726f 6d20 6c65 746d  guages.from letm
+00000550: 6564 6f69 742e 7574 696c 732e 7374 7265  edoit.utils.stre
+00000560: 616d 696e 675f 776f 7264 5f77 7261 7070  aming_word_wrapp
+00000570: 6572 2069 6d70 6f72 7420 5374 7265 616d  er import Stream
+00000580: 696e 6757 6f72 6457 7261 7070 6572 0a66  ingWordWrapper.f
+00000590: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000005a0: 696c 732e 7465 7874 5f75 7469 6c73 2069  ils.text_utils i
+000005b0: 6d70 6f72 7420 5465 7874 5574 696c 0a66  mport TextUtil.f
+000005c0: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000005d0: 696c 732e 7374 744c 616e 6775 6167 6573  ils.sttLanguages
+000005e0: 2069 6d70 6f72 7420 676f 6f67 6c65 5370   import googleSp
+000005f0: 6565 636b 546f 5465 7874 4c61 6e67 7561  eeckToTextLangua
+00000600: 6765 732c 2077 6869 7370 6572 5370 6565  ges, whisperSpee
+00000610: 636b 546f 5465 7874 4c61 6e67 7561 6765  ckToTextLanguage
+00000620: 730a 6672 6f6d 206c 6574 6d65 646f 6974  s.from letmedoit
+00000630: 2e63 6861 7467 7074 2069 6d70 6f72 7420  .chatgpt import 
+00000640: 4368 6174 4750 540a 6672 6f6d 206c 6574  ChatGPT.from let
+00000650: 6d65 646f 6974 2e75 7469 6c73 2e69 6e73  medoit.utils.ins
+00000660: 7461 6c6c 2069 6d70 6f72 7420 696e 7374  tall import inst
+00000670: 616c 6c6d 6f64 756c 650a 6966 206e 6f74  allmodule.if not
+00000680: 2063 6f6e 6669 672e 6973 5465 726d 7578   config.isTermux
+00000690: 3a0a 2020 2020 6672 6f6d 206c 6574 6d65  :.    from letme
+000006a0: 646f 6974 2e61 7574 6f62 7569 6c64 6572  doit.autobuilder
+000006b0: 2069 6d70 6f72 7420 4175 746f 4765 6e42   import AutoGenB
+000006c0: 7569 6c64 6572 0a20 2020 2066 726f 6d20  uilder.    from 
+000006d0: 6c65 746d 6564 6f69 742e 6765 6d69 6e69  letmedoit.gemini
+000006e0: 7072 6f20 696d 706f 7274 2047 656d 696e  pro import Gemin
+000006f0: 6950 726f 0a20 2020 2066 726f 6d20 6c65  iPro.    from le
+00000700: 746d 6564 6f69 742e 7061 6c6d 3220 696d  tmedoit.palm2 im
+00000710: 706f 7274 2050 616c 6d32 0a20 2020 2066  port Palm2.    f
+00000720: 726f 6d20 6c65 746d 6564 6f69 742e 636f  rom letmedoit.co
+00000730: 6465 7920 696d 706f 7274 2043 6f64 6579  dey import Codey
+00000740: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+00000750: 6f72 7420 4361 6c6c 6162 6c65 0a66 726f  ort Callable.fro
+00000760: 6d20 656c 6576 656e 6c61 6273 2069 6d70  m elevenlabs imp
+00000770: 6f72 7420 6765 6e65 7261 7465 2c20 766f  ort generate, vo
+00000780: 6963 6573 0a0a 0a63 6c61 7373 2046 7265  ices...class Fre
+00000790: 6547 656e 6975 733a 0a0a 2020 2020 6465  eGenius:..    de
+000007a0: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+000007b0: 3a0a 2020 2020 2020 2020 2363 6f6e 6669  :.        #confi
+000007c0: 672e 6c65 744d 6544 6f49 7441 4920 3d20  g.letMeDoItAI = 
+000007d0: 7365 6c66 0a20 2020 2020 2020 2073 656c  self.        sel
+000007e0: 662e 7072 6f6d 7074 7320 3d20 5072 6f6d  f.prompts = Prom
+000007f0: 7074 7328 290a 2020 2020 2020 2020 7365  pts().        se
+00000800: 6c66 2e64 6961 6c6f 6773 203d 2054 6572  lf.dialogs = Ter
+00000810: 6d69 6e61 6c4d 6f64 6544 6961 6c6f 6773  minalModeDialogs
+00000820: 2873 656c 6629 0a20 2020 2020 2020 2073  (self).        s
+00000830: 656c 662e 7365 7475 7028 290a 2020 2020  elf.setup().    
+00000840: 2020 2020 7365 6c66 2e72 756e 506c 7567      self.runPlug
+00000850: 696e 7328 290a 0a20 2020 2064 6566 2073  ins()..    def s
+00000860: 6574 7570 2873 656c 6629 3a0a 2020 2020  etup(self):.    
+00000870: 2020 2020 7365 6c66 2e6d 6f64 656c 7320      self.models 
+00000880: 3d20 6c69 7374 2853 6861 7265 6455 7469  = list(SharedUti
+00000890: 6c2e 746f 6b65 6e4c 696d 6974 732e 6b65  l.tokenLimits.ke
+000008a0: 7973 2829 290a 2020 2020 2020 2020 636f  ys()).        co
+000008b0: 6e66 6967 2e64 6976 6964 6572 203d 2073  nfig.divider = s
+000008c0: 656c 662e 6469 7669 6465 7220 3d20 222d  elf.divider = "-
+000008d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000008e0: 2d2d 2d22 0a20 2020 2020 2020 2073 656c  ---".        sel
+000008f0: 662e 7275 6e50 7974 686f 6e20 3d20 5472  f.runPython = Tr
+00000900: 7565 0a20 2020 2020 2020 2069 6620 6e6f  ue.        if no
+00000910: 7420 6861 7361 7474 7228 636f 6e66 6967  t hasattr(config
+00000920: 2c20 2261 6363 6570 745f 6465 6661 756c  , "accept_defaul
+00000930: 7422 293a 0a20 2020 2020 2020 2020 2020  t"):.           
+00000940: 2063 6f6e 6669 672e 6163 6365 7074 5f64   config.accept_d
+00000950: 6566 6175 6c74 203d 2046 616c 7365 0a20  efault = False. 
+00000960: 2020 2020 2020 2069 6620 6e6f 7420 6861         if not ha
+00000970: 7361 7474 7228 636f 6e66 6967 2c20 2264  sattr(config, "d
+00000980: 6566 6175 6c74 456e 7472 7922 293a 0a20  efaultEntry"):. 
+00000990: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+000009a0: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
+000009b0: 2022 220a 2020 2020 2020 2020 636f 6e66   "".        conf
+000009c0: 6967 2e74 656d 7043 6f6e 7465 6e74 203d  ig.tempContent =
+000009d0: 2022 220a 2020 2020 2020 2020 636f 6e66   "".        conf
+000009e0: 6967 2e74 656d 7043 6875 6e6b 203d 2022  ig.tempChunk = "
+000009f0: 220a 2020 2020 2020 2020 6966 206e 6f74  ".        if not
+00000a00: 2068 6173 6174 7472 2863 6f6e 6669 672c   hasattr(config,
+00000a10: 2022 7072 6564 6566 696e 6564 436f 6e74   "predefinedCont
+00000a20: 6578 7454 656d 7022 293a 0a20 2020 2020  extTemp"):.     
+00000a30: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00000a40: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+00000a50: 656d 7020 3d20 2222 0a20 2020 2020 2020  emp = "".       
+00000a60: 2063 6f6e 6669 672e 7379 7374 656d 436f   config.systemCo
+00000a70: 6d6d 616e 6450 726f 6d70 7445 6e74 7279  mmandPromptEntry
+00000a80: 203d 2022 220a 2020 2020 2020 2020 636f   = "".        co
+00000a90: 6e66 6967 2e70 6167 6572 436f 6e74 656e  nfig.pagerConten
+00000aa0: 7420 3d20 2222 0a20 2020 2020 2020 2023  t = "".        #
+00000ab0: 7365 6c66 2e61 6464 5061 6765 7243 6f6e  self.addPagerCon
+00000ac0: 7465 6e74 203d 2046 616c 7365 0a20 2020  tent = False.   
+00000ad0: 2020 2020 2023 2073 6861 7265 2074 6865       # share the
+00000ae0: 2066 6f6c 6c6f 7769 6e67 206d 6574 686f   following metho
+00000af0: 6473 2069 6e20 636f 6e66 6967 2073 6f20  ds in config so 
+00000b00: 7468 6174 2074 6865 7920 6172 6520 6163  that they are ac
+00000b10: 6365 7373 6962 6c65 2076 6961 2070 6c75  cessible via plu
+00000b20: 6769 6e73 0a20 2020 2020 2020 2063 6f6e  gins.        con
+00000b30: 6669 672e 6164 6446 756e 6374 696f 6e43  fig.addFunctionC
+00000b40: 616c 6c20 3d20 7365 6c66 2e61 6464 4675  all = self.addFu
+00000b50: 6e63 7469 6f6e 4361 6c6c 0a20 2020 2020  nctionCall.     
+00000b60: 2020 2063 6f6e 6669 672e 6765 7446 696c     config.getFil
+00000b70: 6573 203d 2073 656c 662e 6765 7446 696c  es = self.getFil
+00000b80: 6573 0a20 2020 2020 2020 2063 6f6e 6669  es.        confi
+00000b90: 672e 7374 6f70 5370 696e 6e69 6e67 203d  g.stopSpinning =
+00000ba0: 2073 656c 662e 7374 6f70 5370 696e 6e69   self.stopSpinni
+00000bb0: 6e67 0a20 2020 2020 2020 2063 6f6e 6669  ng.        confi
+00000bc0: 672e 746f 6767 6c65 4d75 6c74 696c 696e  g.toggleMultilin
+00000bd0: 6520 3d20 7365 6c66 2e74 6f67 676c 654d  e = self.toggleM
+00000be0: 756c 7469 6c69 6e65 0a20 2020 2020 2020  ultiline.       
+00000bf0: 2063 6f6e 6669 672e 7072 696e 7420 3d20   config.print = 
+00000c00: 7365 6c66 2e70 7269 6e74 0a20 2020 2020  self.print.     
+00000c10: 2020 2063 6f6e 6669 672e 7072 696e 7432     config.print2
+00000c20: 203d 2073 656c 662e 7072 696e 7432 0a20   = self.print2. 
+00000c30: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00000c40: 696e 7433 203d 2073 656c 662e 7072 696e  int3 = self.prin
+00000c50: 7433 0a20 2020 2020 2020 2063 6f6e 6669  t3.        confi
+00000c60: 672e 6765 7457 7261 7070 6564 4854 4d4c  g.getWrappedHTML
+00000c70: 5465 7874 203d 2073 656c 662e 6765 7457  Text = self.getW
+00000c80: 7261 7070 6564 4854 4d4c 5465 7874 0a20  rappedHTMLText. 
+00000c90: 2020 2020 2020 2063 6f6e 6669 672e 6669         config.fi
+00000ca0: 6e65 5475 6e65 5573 6572 496e 7075 7420  neTuneUserInput 
+00000cb0: 3d20 7365 6c66 2e66 696e 6554 756e 6555  = self.fineTuneU
+00000cc0: 7365 7249 6e70 7574 0a20 2020 2020 2020  serInput.       
+00000cd0: 2063 6f6e 6669 672e 6c61 756e 6368 5061   config.launchPa
+00000ce0: 6765 7220 3d20 7365 6c66 2e6c 6175 6e63  ger = self.launc
+00000cf0: 6850 6167 6572 0a20 2020 2020 2020 2063  hPager.        c
+00000d00: 6f6e 6669 672e 6164 6450 6167 6572 5465  onfig.addPagerTe
+00000d10: 7874 203d 2073 656c 662e 6164 6450 6167  xt = self.addPag
+00000d20: 6572 5465 7874 0a20 2020 2020 2020 2063  erText.        c
+00000d30: 6f6e 6669 672e 6765 7446 756e 6374 696f  onfig.getFunctio
+00000d40: 6e4d 6573 7361 6765 416e 6452 6573 706f  nMessageAndRespo
+00000d50: 6e73 6520 3d20 7365 6c66 2e67 6574 4675  nse = self.getFu
+00000d60: 6e63 7469 6f6e 4d65 7373 6167 6541 6e64  nctionMessageAnd
+00000d70: 5265 7370 6f6e 7365 0a20 2020 2020 2020  Response.       
+00000d80: 2063 6f6e 6669 672e 6368 616e 6765 4f70   config.changeOp
+00000d90: 656e 7765 6174 6865 726d 6170 4170 6920  enweathermapApi 
+00000da0: 3d20 7365 6c66 2e63 6861 6e67 654f 7065  = self.changeOpe
+00000db0: 6e77 6561 7468 6572 6d61 7041 7069 0a20  nweathermapApi. 
+00000dc0: 2020 2020 2020 2063 6f6e 6669 672e 7275         config.ru
+00000dd0: 6e53 7065 6369 6669 6346 756e 7469 6f6e  nSpecificFuntion
+00000de0: 203d 2022 220a 2020 2020 2020 2020 2320   = "".        # 
+00000df0: 656e 7620 7661 7269 6162 6c65 730a 2020  env variables.  
+00000e00: 2020 2020 2020 6f73 2e65 6e76 6972 6f6e        os.environ
+00000e10: 5b22 5154 5f51 5041 5f50 4c41 5446 4f52  ["QT_QPA_PLATFOR
+00000e20: 4d5f 504c 5547 494e 5f50 4154 4822 5d20  M_PLUGIN_PATH"] 
+00000e30: 3d20 636f 6e66 6967 2e65 6e76 5f51 545f  = config.env_QT_
+00000e40: 5150 415f 504c 4154 464f 524d 5f50 4c55  QPA_PLATFORM_PLU
+00000e50: 4749 4e5f 5041 5448 0a0a 2020 2020 2020  GIN_PATH..      
+00000e60: 2020 2320 6765 7420 7061 7468 0a20 2020    # get path.   
+00000e70: 2020 2020 2063 6f6e 6669 672e 6164 6450       config.addP
+00000e80: 6174 6841 7420 3d20 4e6f 6e65 0a20 2020  athAt = None.   
+00000e90: 2020 2020 2073 656c 662e 6765 7450 6174       self.getPat
+00000ea0: 6820 3d20 4765 7450 6174 6828 0a20 2020  h = GetPath(.   
+00000eb0: 2020 2020 2020 2020 2063 616e 6365 6c5f           cancel_
+00000ec0: 656e 7472 793d 2222 2c0a 2020 2020 2020  entry="",.      
+00000ed0: 2020 2020 2020 7072 6f6d 7074 496e 6469        promptIndi
+00000ee0: 6361 746f 7243 6f6c 6f72 3d63 6f6e 6669  catorColor=confi
+00000ef0: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+00000f00: 496e 6469 6361 746f 7243 6f6c 6f72 322c  IndicatorColor2,
+00000f10: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
+00000f20: 6d70 7445 6e74 7279 436f 6c6f 723d 636f  mptEntryColor=co
+00000f30: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+00000f40: 6d61 6e64 456e 7472 7943 6f6c 6f72 322c  mandEntryColor2,
+00000f50: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+00000f60: 4865 6164 696e 6743 6f6c 6f72 3d63 6f6e  HeadingColor=con
+00000f70: 6669 672e 7465 726d 696e 616c 436f 6c6f  fig.terminalColo
+00000f80: 7273 5b63 6f6e 6669 672e 7465 726d 696e  rs[config.termin
+00000f90: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
+00000fa0: 7243 6f6c 6f72 325d 2c0a 2020 2020 2020  rColor2],.      
+00000fb0: 2020 2020 2020 6974 656d 436f 6c6f 723d        itemColor=
+00000fc0: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
+00000fd0: 6f6c 6f72 735b 636f 6e66 6967 2e74 6572  olors[config.ter
+00000fe0: 6d69 6e61 6c43 6f6d 6d61 6e64 456e 7472  minalCommandEntr
+00000ff0: 7943 6f6c 6f72 325d 2c0a 2020 2020 2020  yColor2],.      
+00001000: 2020 290a 0a20 2020 2020 2020 2073 656c    )..        sel
+00001010: 662e 7374 6f72 6167 6544 6972 203d 2073  f.storageDir = s
+00001020: 656c 662e 6765 7453 746f 7261 6765 4469  elf.getStorageDi
+00001030: 7228 290a 2020 2020 2020 2020 6966 2028  r().        if (
+00001040: 6e6f 7420 636f 6e66 6967 2e68 6973 746f  not config.histo
+00001050: 7279 5061 7265 6e74 466f 6c64 6572 206f  ryParentFolder o
+00001060: 7220 6e6f 7420 6f73 2e70 6174 682e 6973  r not os.path.is
+00001070: 6469 7228 636f 6e66 6967 2e68 6973 746f  dir(config.histo
+00001080: 7279 5061 7265 6e74 466f 6c64 6572 2929  ryParentFolder))
+00001090: 2061 6e64 2073 656c 662e 7374 6f72 6167   and self.storag
+000010a0: 6544 6972 3a0a 2020 2020 2020 2020 2020  eDir:.          
+000010b0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+000010c0: 2020 2020 2020 2068 6973 746f 7279 5061         historyPa
+000010d0: 7265 6e74 466f 6c64 6572 203d 206f 732e  rentFolder = os.
+000010e0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e73  path.join(self.s
+000010f0: 746f 7261 6765 4469 722c 2022 6869 7374  torageDir, "hist
+00001100: 6f72 7922 290a 2020 2020 2020 2020 2020  ory").          
+00001110: 2020 2020 2020 5061 7468 2868 6973 746f        Path(histo
+00001120: 7279 5061 7265 6e74 466f 6c64 6572 292e  ryParentFolder).
+00001130: 6d6b 6469 7228 7061 7265 6e74 733d 5472  mkdir(parents=Tr
+00001140: 7565 2c20 6578 6973 745f 6f6b 3d54 7275  ue, exist_ok=Tru
+00001150: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00001160: 2020 2066 6f72 2069 2069 6e20 2822 6368     for i in ("ch
+00001170: 6174 7322 2c20 2270 6174 6873 222c 2022  ats", "paths", "
+00001180: 636f 6d6d 616e 6473 2229 3a0a 2020 2020  commands"):.    
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 6869 7374 6f72 7946 696c 6520 3d20 6f73  historyFile = os
+000011b0: 2e70 6174 682e 6a6f 696e 2868 6973 746f  .path.join(histo
+000011c0: 7279 5061 7265 6e74 466f 6c64 6572 2c20  ryParentFolder, 
+000011d0: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
+000011e0: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
+000011f0: 2e70 6174 682e 6973 6669 6c65 2868 6973  .path.isfile(his
+00001200: 746f 7279 4669 6c65 293a 0a20 2020 2020  toryFile):.     
+00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001220: 2020 206f 7065 6e28 6869 7374 6f72 7946     open(historyF
+00001230: 696c 652c 2022 6122 2c20 656e 636f 6469  ile, "a", encodi
+00001240: 6e67 3d22 7574 662d 3822 292e 636c 6f73  ng="utf-8").clos
+00001250: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
+00001260: 2020 2020 636f 6e66 6967 2e68 6973 746f      config.histo
+00001270: 7279 5061 7265 6e74 466f 6c64 6572 203d  ryParentFolder =
+00001280: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00001290: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+000012a0: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+000012b0: 2020 2020 2063 6f6e 6669 672e 6869 7374       config.hist
+000012c0: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+000012d0: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
+000012e0: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+000012f0: 6967 2829 0a20 2020 2020 2020 200a 2020  ig().        .  
+00001300: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
+00001310: 6669 672e 6f70 656e 6169 4170 694b 6579  fig.openaiApiKey
+00001320: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00001330: 6c66 2e63 6861 6e67 6541 5049 6b65 7928  lf.changeAPIkey(
+00001340: 290a 0a20 2020 2020 2020 2069 6620 6e6f  )..        if no
+00001350: 7420 636f 6e66 6967 2e6f 7065 6e61 6941  t config.openaiA
+00001360: 7069 4b65 793a 0a20 2020 2020 2020 2020  piKey:.         
+00001370: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00001380: 4368 6174 4750 5420 4150 4920 6b65 7920  ChatGPT API key 
+00001390: 6e6f 7420 666f 756e 6421 2229 0a20 2020  not found!").   
+000013a0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+000013b0: 696e 7433 2822 5265 6164 3a20 6874 7470  int3("Read: http
+000013c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
+000013d0: 6c69 7261 6e77 6f6e 672f 6c65 746d 6564  liranwong/letmed
+000013e0: 6f69 742f 7769 6b69 2f43 6861 7447 5054  oit/wiki/ChatGPT
+000013f0: 2d41 5049 2d4b 6579 2229 0a20 2020 2020  -API-Key").     
+00001400: 2020 2020 2020 2065 7869 7428 3029 0a0a         exit(0)..
+00001410: 2020 2020 2020 2020 2320 696e 6974 6961          # initia
+00001420: 6c20 636f 6d70 6c65 7469 6f6e 2063 6865  l completion che
+00001430: 636b 2061 7420 7374 6172 7475 700a 2020  ck at startup.  
+00001440: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
+00001450: 696e 6974 6961 6c43 6f6d 706c 6574 696f  initialCompletio
+00001460: 6e43 6865 636b 3a0a 2020 2020 2020 2020  nCheck:.        
+00001470: 2020 2020 5368 6172 6564 5574 696c 2e63      SharedUtil.c
+00001480: 6865 636b 436f 6d70 6c65 7469 6f6e 2829  heckCompletion()
+00001490: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+000014a0: 2020 2020 2020 2020 2020 2053 6861 7265             Share
+000014b0: 6455 7469 6c2e 7365 7441 5049 6b65 7928  dUtil.setAPIkey(
+000014c0: 290a 0a20 2020 2020 2020 2063 6861 745f  )..        chat_
+000014d0: 6869 7374 6f72 7920 3d20 6f73 2e70 6174  history = os.pat
+000014e0: 682e 6a6f 696e 2863 6f6e 6669 672e 6869  h.join(config.hi
+000014f0: 7374 6f72 7950 6172 656e 7446 6f6c 6465  storyParentFolde
+00001500: 7220 6966 2063 6f6e 6669 672e 6869 7374  r if config.hist
+00001510: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+00001520: 656c 7365 2063 6f6e 6669 672e 6c65 744d  else config.letM
+00001530: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00001540: 6869 7374 6f72 7922 2c20 2263 6861 7473  history", "chats
+00001550: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00001560: 7465 726d 696e 616c 5f63 6861 745f 7365  terminal_chat_se
+00001570: 7373 696f 6e20 3d20 5072 6f6d 7074 5365  ssion = PromptSe
+00001580: 7373 696f 6e28 6869 7374 6f72 793d 4669  ssion(history=Fi
+00001590: 6c65 4869 7374 6f72 7928 6368 6174 5f68  leHistory(chat_h
+000015a0: 6973 746f 7279 2929 0a0a 2020 2020 2020  istory))..      
+000015b0: 2020 2320 6368 6563 6b20 6966 2074 7473    # check if tts
+000015c0: 2069 7320 7265 6164 790a 2020 2020 2020   is ready.      
+000015d0: 2020 7365 6c66 2e69 7354 7473 4176 6169    self.isTtsAvai
+000015e0: 6c61 626c 6528 290a 0a20 2020 2020 2020  lable()..       
+000015f0: 2073 656c 662e 6163 7469 6f6e 7320 3d20   self.actions = 
+00001600: 7b0a 2020 2020 2020 2020 2020 2020 222e  {.            ".
+00001610: 6e65 7722 3a20 2866 2273 7461 7274 2061  new": (f"start a
+00001620: 206e 6577 2063 6861 7420 7b73 7472 2863   new chat {str(c
+00001630: 6f6e 6669 672e 686f 746b 6579 5f6e 6577  onfig.hotkey_new
+00001640: 297d 222c 204e 6f6e 6529 2c0a 2020 2020  )}", None),.    
+00001650: 2020 2020 2020 2020 222e 7361 7665 223a          ".save":
+00001660: 2028 2273 6176 6520 636f 6e74 656e 7422   ("save content"
+00001670: 2c20 6c61 6d62 6461 3a20 7365 6c66 2e73  , lambda: self.s
+00001680: 6176 6543 6861 7428 636f 6e66 6967 2e63  aveChat(config.c
+00001690: 7572 7265 6e74 4d65 7373 6167 6573 2929  urrentMessages))
+000016a0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000016b0: 6578 706f 7274 223a 2028 6622 6578 706f  export": (f"expo
+000016c0: 7274 2063 6f6e 7465 6e74 207b 7374 7228  rt content {str(
+000016d0: 636f 6e66 6967 2e68 6f74 6b65 795f 6578  config.hotkey_ex
+000016e0: 706f 7274 297d 222c 206c 616d 6264 613a  port)}", lambda:
+000016f0: 2073 656c 662e 6578 706f 7274 4368 6174   self.exportChat
+00001700: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
+00001710: 6573 7361 6765 7329 292c 0a20 2020 2020  essages)),.     
+00001720: 2020 2020 2020 2022 2e63 6f6e 7465 7874         ".context
+00001730: 223a 2028 6622 6368 616e 6765 2063 6861  ": (f"change cha
+00001740: 7420 636f 6e74 6578 7420 7b73 7472 2863  t context {str(c
+00001750: 6f6e 6669 672e 686f 746b 6579 5f73 656c  onfig.hotkey_sel
+00001760: 6563 745f 636f 6e74 6578 7429 7d22 2c20  ect_context)}", 
+00001770: 4e6f 6e65 292c 0a20 2020 2020 2020 2020  None),.         
+00001780: 2020 2022 2e63 6f6e 7465 7874 696e 7465     ".contextinte
+00001790: 6772 6174 696f 6e22 3a20 2822 6368 616e  gration": ("chan
+000017a0: 6765 2063 6861 7420 636f 6e74 6578 7420  ge chat context 
+000017b0: 696e 7465 6772 6174 696f 6e22 2c20 7365  integration", se
+000017c0: 6c66 2e73 6574 436f 6e74 6578 7449 6e74  lf.setContextInt
+000017d0: 6567 7261 7469 6f6e 292c 0a20 2020 2020  egration),.     
+000017e0: 2020 2020 2020 2022 2e63 6861 6e67 6561         ".changea
+000017f0: 7069 6b65 7922 3a20 2822 6368 616e 6765  pikey": ("change
+00001800: 204f 7065 6e41 4920 4150 4920 6b65 7922   OpenAI API key"
+00001810: 2c20 7365 6c66 2e63 6861 6e67 6541 5049  , self.changeAPI
+00001820: 6b65 7929 2c0a 2020 2020 2020 2020 2020  key),.          
+00001830: 2020 222e 6675 6e63 7469 6f6e 6d6f 6465    ".functionmode
+00001840: 6c22 3a20 2822 6368 616e 6765 2066 756e  l": ("change fun
+00001850: 6374 696f 6e20 6361 6c6c 206d 6f64 656c  ction call model
+00001860: 222c 2073 656c 662e 7365 744c 6c6d 4d6f  ", self.setLlmMo
+00001870: 6465 6c29 2c0a 2020 2020 2020 2020 2020  del),.          
+00001880: 2020 222e 6368 6174 6d6f 6465 6c22 3a20    ".chatmodel": 
+00001890: 2822 6368 616e 6765 2063 6861 742d 6f6e  ("change chat-on
+000018a0: 6c79 206d 6f64 656c 222c 2073 656c 662e  ly model", self.
+000018b0: 7365 7443 6861 7462 6f74 292c 0a20 2020  setChatbot),.   
+000018c0: 2020 2020 2020 2020 2022 2e65 6d62 6564           ".embed
+000018d0: 6469 6e67 6d6f 6465 6c22 3a20 2822 6368  dingmodel": ("ch
+000018e0: 616e 6765 2065 6d62 6564 6469 6e67 206d  ange embedding m
+000018f0: 6f64 656c 222c 2073 656c 662e 7365 7445  odel", self.setE
+00001900: 6d62 6564 6469 6e67 4d6f 6465 6c29 2c0a  mbeddingModel),.
+00001910: 2020 2020 2020 2020 2020 2020 222e 7465              ".te
+00001920: 6d70 6572 6174 7572 6522 3a20 2822 6368  mperature": ("ch
+00001930: 616e 6765 2074 656d 7065 7261 7475 7265  ange temperature
+00001940: 222c 2073 656c 662e 7365 7454 656d 7065  ", self.setTempe
+00001950: 7261 7475 7265 292c 0a20 2020 2020 2020  rature),.       
+00001960: 2020 2020 2022 2e6d 6178 746f 6b65 6e73       ".maxtokens
+00001970: 223a 2028 2263 6861 6e67 6520 6d61 7869  ": ("change maxi
+00001980: 6d75 6d20 7265 7370 6f6e 7365 2074 6f6b  mum response tok
+00001990: 656e 7322 2c20 7365 6c66 2e73 6574 4d61  ens", self.setMa
+000019a0: 7854 6f6b 656e 7329 2c0a 2020 2020 2020  xTokens),.      
+000019b0: 2020 2020 2020 222e 6d69 6e74 6f6b 656e        ".mintoken
+000019c0: 7322 3a20 2822 6368 616e 6765 206d 696e  s": ("change min
+000019d0: 696d 756d 2072 6573 706f 6e73 6520 746f  imum response to
+000019e0: 6b65 6e73 222c 2073 656c 662e 7365 744d  kens", self.setM
+000019f0: 696e 546f 6b65 6e73 292c 0a20 2020 2020  inTokens),.     
+00001a00: 2020 2020 2020 2022 2e64 796e 616d 6963         ".dynamic
+00001a10: 746f 6b65 6e63 6f75 6e74 223a 2028 2263  tokencount": ("c
+00001a20: 6861 6e67 6520 6479 6e61 6d69 6320 746f  hange dynamic to
+00001a30: 6b65 6e20 636f 756e 7422 2c20 7365 6c66  ken count", self
+00001a40: 2e73 6574 4479 6e61 6d69 6354 6f6b 656e  .setDynamicToken
+00001a50: 436f 756e 7429 2c0a 2020 2020 2020 2020  Count),.        
+00001a60: 2020 2020 222e 6d61 7861 7574 6f68 6561      ".maxautohea
+00001a70: 6c22 3a20 2822 6368 616e 6765 206d 6178  l": ("change max
+00001a80: 696d 756d 2063 6f6e 7365 6375 7469 7665  imum consecutive
+00001a90: 2061 7574 6f2d 6865 616c 222c 2073 656c   auto-heal", sel
+00001aa0: 662e 7365 744d 6178 4175 746f 4865 616c  f.setMaxAutoHeal
+00001ab0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00001ac0: 2e6d 6178 6d65 6d6f 7279 6d61 7463 6865  .maxmemorymatche
+00001ad0: 7322 3a20 2822 6368 616e 6765 206d 6178  s": ("change max
+00001ae0: 696d 756d 206d 656d 6f72 7920 6d61 7463  imum memory matc
+00001af0: 6865 7322 2c20 7365 6c66 2e73 6574 4d65  hes", self.setMe
+00001b00: 6d6f 7279 436c 6f73 6573 744d 6174 6368  moryClosestMatch
+00001b10: 6573 292c 0a20 2020 2020 2020 2020 2020  es),.           
+00001b20: 2022 2e6d 6178 6368 6174 7265 636f 7264   ".maxchatrecord
+00001b30: 6d61 7463 6865 7322 3a20 2822 6368 616e  matches": ("chan
+00001b40: 6765 206d 6178 696d 756d 2063 6861 7420  ge maximum chat 
+00001b50: 7265 636f 7264 206d 6174 6368 6573 222c  record matches",
+00001b60: 2073 656c 662e 7365 7443 6861 7452 6563   self.setChatRec
+00001b70: 6f72 6443 6c6f 7365 7374 4d61 7463 6865  ordClosestMatche
+00001b80: 7329 2c0a 2020 2020 2020 2020 2020 2020  s),.            
+00001b90: 222e 706c 7567 696e 7322 3a20 2822 6368  ".plugins": ("ch
+00001ba0: 616e 6765 2070 6c75 6769 6e73 222c 2073  ange plugins", s
+00001bb0: 656c 662e 7365 6c65 6374 506c 7567 696e  elf.selectPlugin
+00001bc0: 7329 2c0a 2020 2020 2020 2020 2020 2020  s),.            
+00001bd0: 222e 6675 6e63 7469 6f6e 6361 6c6c 223a  ".functioncall":
+00001be0: 2028 2263 6861 6e67 6520 6675 6e63 7469   ("change functi
+00001bf0: 6f6e 2063 616c 6c22 2c20 7365 6c66 2e73  on call", self.s
+00001c00: 6574 4675 6e63 7469 6f6e 4361 6c6c 292c  etFunctionCall),
+00001c10: 0a20 2020 2020 2020 2020 2020 2022 2e66  .            ".f
+00001c20: 756e 6374 696f 6e63 616c 6c69 6e74 6567  unctioncallinteg
+00001c30: 7261 7469 6f6e 223a 2028 2263 6861 6e67  ration": ("chang
+00001c40: 6520 6675 6e63 7469 6f6e 2063 616c 6c20  e function call 
+00001c50: 696e 7465 6772 6174 696f 6e22 2c20 7365  integration", se
+00001c60: 6c66 2e73 6574 4675 6e63 7469 6f6e 5265  lf.setFunctionRe
+00001c70: 7370 6f6e 7365 292c 0a20 2020 2020 2020  sponse),.       
+00001c80: 2020 2020 2022 2e6c 6174 6573 7453 6561       ".latestSea
+00001c90: 7263 6865 7322 3a20 2822 6368 616e 6765  rches": ("change
+00001ca0: 206f 6e6c 696e 6520 7365 6172 6368 6573   online searches
+00001cb0: 222c 2073 656c 662e 7365 744c 6174 6573  ", self.setLates
+00001cc0: 7453 6561 7263 6865 7329 2c0a 2020 2020  tSearches),.    
+00001cd0: 2020 2020 2020 2020 222e 7573 6572 636f          ".userco
+00001ce0: 6e66 6972 6d61 7469 6f6e 223a 2028 2263  nfirmation": ("c
+00001cf0: 6861 6e67 6520 636f 6465 2063 6f6e 6669  hange code confi
+00001d00: 726d 6174 696f 6e20 7072 6f74 6f63 6f6c  rmation protocol
+00001d10: 222c 2073 656c 662e 7365 7455 7365 7243  ", self.setUserC
+00001d20: 6f6e 6669 726d 6174 696f 6e29 2c0a 2020  onfirmation),.  
+00001d30: 2020 2020 2020 2020 2020 222e 636f 6465            ".code
+00001d40: 6469 7370 6c61 7922 3a20 2822 6368 616e  display": ("chan
+00001d50: 6765 2063 6f64 6520 6469 7370 6c61 7922  ge code display"
+00001d60: 2c20 7365 6c66 2e73 6574 436f 6465 4469  , self.setCodeDi
+00001d70: 7370 6c61 7929 2c0a 2020 2020 2020 2020  splay),.        
+00001d80: 2020 2020 222e 7061 6765 7276 6965 7722      ".pagerview"
+00001d90: 3a20 2822 6368 616e 6765 2070 6167 6572  : ("change pager
+00001da0: 2076 6965 7722 2c20 7365 6c66 2e73 6574   view", self.set
+00001db0: 5061 6765 7256 6965 7729 2c0a 2020 2020  PagerView),.    
+00001dc0: 2020 2020 2020 2020 222e 6173 7369 7374          ".assist
+00001dd0: 616e 746e 616d 6522 3a20 2822 6368 616e  antname": ("chan
+00001de0: 6765 2061 7373 6973 7461 6e74 206e 616d  ge assistant nam
+00001df0: 6522 2c20 7365 6c66 2e73 6574 4173 7369  e", self.setAssi
+00001e00: 7374 616e 744e 616d 6529 2c0a 2020 2020  stantName),.    
+00001e10: 2020 2020 2020 2020 222e 7379 7374 656d          ".system
+00001e20: 6d65 7373 6167 6522 3a20 2822 6368 616e  message": ("chan
+00001e30: 6765 2063 7573 746f 6d20 7379 7374 656d  ge custom system
+00001e40: 206d 6573 7361 6765 222c 2073 656c 662e   message", self.
+00001e50: 7365 7443 7573 746f 6d53 7973 7465 6d4d  setCustomSystemM
+00001e60: 6573 7361 6765 292c 0a20 2020 2020 2020  essage),.       
+00001e70: 2020 2020 2022 2e69 7069 6e66 6f22 3a20       ".ipinfo": 
+00001e80: 2822 6368 616e 6765 2069 7020 696e 666f  ("change ip info
+00001e90: 726d 6174 696f 6e20 696e 7465 6772 6174  rmation integrat
+00001ea0: 696f 6e22 2c20 7365 6c66 2e73 6574 496e  ion", self.setIn
+00001eb0: 636c 7564 6549 7049 6e53 7973 7465 6d4d  cludeIpInSystemM
+00001ec0: 6573 7361 6765 292c 0a20 2020 2020 2020  essage),.       
+00001ed0: 2020 2020 2022 2e73 746f 7261 6765 6469       ".storagedi
+00001ee0: 7265 6374 6f72 7922 3a20 2822 6368 616e  rectory": ("chan
+00001ef0: 6765 2073 746f 7261 6765 2064 6972 6563  ge storage direc
+00001f00: 746f 7279 222c 2073 656c 662e 7365 7453  tory", self.setS
+00001f10: 746f 7261 6765 4469 7265 6374 6f72 7929  torageDirectory)
+00001f20: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00001f30: 766f 6963 6574 7970 696e 6763 6f6e 6669  voicetypingconfi
+00001f40: 6722 3a20 2822 6368 616e 6765 2076 6f69  g": ("change voi
+00001f50: 6365 2074 7970 696e 6720 636f 6e66 6967  ce typing config
+00001f60: 222c 2073 656c 662e 7365 7456 6f69 6365  ", self.setVoice
+00001f70: 5479 7069 6e67 436f 6e66 6967 292c 0a20  TypingConfig),. 
+00001f80: 2020 2020 2020 2020 2020 2022 2e74 6578             ".tex
+00001f90: 7474 6f73 7065 6563 6863 6f6e 6669 6722  ttospeechconfig"
+00001fa0: 3a20 2822 6368 616e 6765 2074 6578 742d  : ("change text-
+00001fb0: 746f 2d73 7065 6563 6820 636f 6e66 6967  to-speech config
+00001fc0: 222c 2073 656c 662e 7365 7454 6578 7454  ", self.setTextT
+00001fd0: 6f53 7065 6563 6843 6f6e 6669 6729 2c0a  oSpeechConfig),.
+00001fe0: 2020 2020 2020 2020 2020 2020 222e 676f              ".go
+00001ff0: 6f67 6c65 6170 6973 6572 7669 6365 223a  ogleapiservice":
+00002000: 2028 2263 6861 6e67 6520 476f 6f67 6c65   ("change Google
+00002010: 2041 5049 2073 6572 7669 6365 222c 2073   API service", s
+00002020: 656c 662e 7365 6c65 6374 476f 6f67 6c65  elf.selectGoogle
+00002030: 4150 4973 292c 0a20 2020 2020 2020 2020  APIs),.         
+00002040: 2020 2022 2e6f 7065 6e77 6561 7468 6572     ".openweather
+00002050: 6d61 7061 7069 223a 2028 2263 6861 6e67  mapapi": ("chang
+00002060: 6520 4f70 656e 5765 6174 6865 724d 6170  e OpenWeatherMap
+00002070: 2041 5049 206b 6579 222c 2073 656c 662e   API key", self.
+00002080: 6368 616e 6765 4f70 656e 7765 6174 6865  changeOpenweathe
+00002090: 726d 6170 4170 6929 2c0a 2020 2020 2020  rmapApi),.      
+000020a0: 2020 2020 2020 222e 656c 6576 656e 6c61        ".elevenla
+000020b0: 6273 6170 6922 3a20 2822 6368 616e 6765  bsapi": ("change
+000020c0: 2045 6c65 7665 6e4c 6162 7320 4150 4920   ElevenLabs API 
+000020d0: 6b65 7922 2c20 7365 6c66 2e63 6861 6e67  key", self.chang
+000020e0: 6545 6c65 7665 6e6c 6162 7341 7069 292c  eElevenlabsApi),
+000020f0: 0a20 2020 2020 2020 2020 2020 2022 2e61  .            ".a
+00002100: 7574 6f62 7569 6c64 6572 636f 6e66 6967  utobuilderconfig
+00002110: 223a 2028 2263 6861 6e67 6520 6175 746f  ": ("change auto
+00002120: 2062 7569 6c64 6572 2063 6f6e 6669 6722   builder config"
+00002130: 2c20 7365 6c66 2e73 6574 4175 746f 4765  , self.setAutoGe
+00002140: 6e42 7569 6c64 6572 436f 6e66 6967 292c  nBuilderConfig),
+00002150: 0a20 2020 2020 2020 2020 2020 2022 2e63  .            ".c
+00002160: 7573 746f 6d74 6578 7465 6469 746f 7222  ustomtexteditor"
+00002170: 3a20 2822 6368 616e 6765 2063 7573 746f  : ("change custo
+00002180: 6d20 7465 7874 2065 6469 746f 7222 2c20  m text editor", 
+00002190: 7365 6c66 2e73 6574 4375 7374 6f6d 5465  self.setCustomTe
+000021a0: 7874 4564 6974 6f72 292c 0a20 2020 2020  xtEditor),.     
+000021b0: 2020 2020 2020 2022 2e74 6572 6d75 7861         ".termuxa
+000021c0: 7069 223a 2028 2263 6861 6e67 6520 5465  pi": ("change Te
+000021d0: 726d 7578 2041 5049 2069 6e74 6567 7261  rmux API integra
+000021e0: 7469 6f6e 222c 2073 656c 662e 7365 7454  tion", self.setT
+000021f0: 6572 6d75 7841 7069 292c 0a20 2020 2020  ermuxApi),.     
+00002200: 2020 2020 2020 2022 2e61 7574 6f75 7067         ".autoupg
+00002210: 7261 6465 223a 2028 2263 6861 6e67 6520  rade": ("change 
+00002220: 6175 746f 6d61 7469 6320 7570 6772 6164  automatic upgrad
+00002230: 6522 2c20 7365 6c66 2e73 6574 4175 746f  e", self.setAuto
+00002240: 5570 6772 6164 6529 2c0a 2020 2020 2020  Upgrade),.      
+00002250: 2020 2020 2020 222e 6465 7665 6c6f 7065        ".develope
+00002260: 7222 3a20 2866 2263 6861 6e67 6520 6465  r": (f"change de
+00002270: 7665 6c6f 7065 7220 6d6f 6465 207b 7374  veloper mode {st
+00002280: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002290: 746f 6767 6c65 5f64 6576 656c 6f70 6572  toggle_developer
+000022a0: 5f6d 6f64 6529 7d22 2c20 7365 6c66 2e73  _mode)}", self.s
+000022b0: 6574 4465 7665 6c6f 7065 724d 6f64 6529  etDeveloperMode)
+000022c0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000022d0: 746f 6767 6c65 6d75 6c74 696c 696e 6522  togglemultiline"
+000022e0: 3a20 2866 2274 6f67 676c 6520 6d75 6c74  : (f"toggle mult
+000022f0: 692d 6c69 6e65 2069 6e70 7574 207b 7374  i-line input {st
+00002300: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002310: 746f 6767 6c65 5f6d 756c 7469 6c69 6e65  toggle_multiline
+00002320: 5f65 6e74 7279 297d 222c 2073 656c 662e  _entry)}", self.
+00002330: 746f 6767 6c65 4d75 6c74 696c 696e 6529  toggleMultiline)
+00002340: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00002350: 746f 6767 6c65 6d6f 7573 6573 7570 706f  togglemousesuppo
+00002360: 7274 223a 2028 6622 746f 6f67 6c65 206d  rt": (f"toogle m
+00002370: 6f75 7365 2073 7570 706f 7274 207b 7374  ouse support {st
+00002380: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002390: 746f 6767 6c65 5f6d 6f75 7365 5f73 7570  toggle_mouse_sup
+000023a0: 706f 7274 297d 222c 2073 656c 662e 746f  port)}", self.to
+000023b0: 6767 6c65 4d6f 7573 6553 7570 706f 7274  ggleMouseSupport
+000023c0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+000023d0: 2e74 6f67 676c 6574 6578 7462 7269 6768  .toggletextbrigh
+000023e0: 746e 6573 7322 3a20 2866 2273 7761 7020  tness": (f"swap 
+000023f0: 7465 7874 2062 7269 6768 746e 6573 7320  text brightness 
+00002400: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
+00002410: 6579 5f73 7761 705f 7465 7874 5f62 7269  ey_swap_text_bri
+00002420: 6768 746e 6573 7329 7d22 2c20 7377 6170  ghtness)}", swap
+00002430: 5465 726d 696e 616c 436f 6c6f 7273 292c  TerminalColors),
+00002440: 0a20 2020 2020 2020 2020 2020 2022 2e74  .            ".t
+00002450: 6f67 676c 6577 6f72 6477 7261 7022 3a20  ogglewordwrap": 
+00002460: 2866 2274 6f67 676c 6520 776f 7264 2077  (f"toggle word w
+00002470: 7261 7020 7b73 7472 2863 6f6e 6669 672e  rap {str(config.
+00002480: 686f 746b 6579 5f74 6f67 676c 655f 776f  hotkey_toggle_wo
+00002490: 7264 5f77 7261 7029 7d22 2c20 7365 6c66  rd_wrap)}", self
+000024a0: 2e74 6f67 676c 6557 6f72 6457 7261 7029  .toggleWordWrap)
+000024b0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000024c0: 746f 6767 6c65 696d 7072 6f76 6564 7772  toggleimprovedwr
+000024d0: 6974 696e 6722 3a20 2866 2274 6f67 676c  iting": (f"toggl
+000024e0: 6520 696d 7072 6f76 6564 2077 7269 7469  e improved writi
+000024f0: 6e67 207b 7374 7228 636f 6e66 6967 2e68  ng {str(config.h
+00002500: 6f74 6b65 795f 746f 6767 6c65 5f77 7269  otkey_toggle_wri
+00002510: 7469 6e67 5f69 6d70 726f 7665 6d65 6e74  ting_improvement
+00002520: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
+00002530: 496d 7072 6f76 6564 5772 6974 696e 6729  ImprovedWriting)
+00002540: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00002550: 746f 6767 6c65 696e 7075 7461 7564 696f  toggleinputaudio
+00002560: 223a 2028 6622 746f 6767 6c65 2069 6e70  ": (f"toggle inp
+00002570: 7574 2061 7564 696f 207b 7374 7228 636f  ut audio {str(co
+00002580: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
+00002590: 6c65 5f69 6e70 7574 5f61 7564 696f 297d  le_input_audio)}
+000025a0: 222c 2073 656c 662e 746f 6767 6c65 696e  ", self.togglein
+000025b0: 7075 7461 7564 696f 292c 0a20 2020 2020  putaudio),.     
+000025c0: 2020 2020 2020 2022 2e74 6f67 676c 6572         ".toggler
+000025d0: 6573 706f 6e73 6561 7564 696f 223a 2028  esponseaudio": (
+000025e0: 6622 746f 6767 6c65 2072 6573 706f 6e73  f"toggle respons
+000025f0: 6520 6175 6469 6f20 7b73 7472 2863 6f6e  e audio {str(con
+00002600: 6669 672e 686f 746b 6579 5f74 6f67 676c  fig.hotkey_toggl
+00002610: 655f 7265 7370 6f6e 7365 5f61 7564 696f  e_response_audio
+00002620: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
+00002630: 7265 7370 6f6e 7365 6175 6469 6f29 2c0a  responseaudio),.
+00002640: 2020 2020 2020 2020 2020 2020 222e 6564              ".ed
+00002650: 6974 7265 7370 6f6e 7365 223a 2028 6622  itresponse": (f"
+00002660: 6564 6974 2074 6865 206c 6173 7420 7265  edit the last re
+00002670: 7370 6f6e 7365 207b 7374 7228 636f 6e66  sponse {str(conf
+00002680: 6967 2e68 6f74 6b65 795f 6564 6974 5f6c  ig.hotkey_edit_l
+00002690: 6173 745f 7265 7370 6f6e 7365 297d 222c  ast_response)}",
+000026a0: 2073 656c 662e 6564 6974 4c61 7374 5265   self.editLastRe
+000026b0: 7370 6f6e 7365 292c 0a20 2020 2020 2020  sponse),.       
+000026c0: 2020 2020 2022 2e65 6469 7463 6f6e 6669       ".editconfi
+000026d0: 6773 223a 2028 2265 6469 7420 636f 6e66  gs": ("edit conf
+000026e0: 6967 7572 6174 696f 6e20 7365 7474 696e  iguration settin
+000026f0: 6773 222c 2073 656c 662e 6564 6974 436f  gs", self.editCo
+00002700: 6e66 6967 7329 2c0a 2020 2020 2020 2020  nfigs),.        
+00002710: 2020 2020 222e 696e 7374 616c 6c22 3a20      ".install": 
+00002720: 2822 696e 7374 616c 6c20 7079 7468 6f6e  ("install python
+00002730: 2070 6163 6b61 6765 222c 2073 656c 662e   package", self.
+00002740: 696e 7374 616c 6c50 7974 686f 6e50 6163  installPythonPac
+00002750: 6b61 6765 292c 0a20 2020 2020 2020 2020  kage),.         
+00002760: 2020 2022 2e73 7973 7465 6d22 3a20 2866     ".system": (f
+00002770: 226f 7065 6e20 7379 7374 656d 2063 6f6d  "open system com
+00002780: 6d61 6e64 2070 726f 6d70 7420 7b73 7472  mand prompt {str
+00002790: 2863 6f6e 6669 672e 686f 746b 6579 5f6c  (config.hotkey_l
+000027a0: 6175 6e63 685f 7379 7374 656d 5f70 726f  aunch_system_pro
+000027b0: 6d70 7429 7d22 2c20 6c61 6d62 6461 3a20  mpt)}", lambda: 
+000027c0: 5379 7374 656d 436f 6d6d 616e 6450 726f  SystemCommandPro
+000027d0: 6d70 7428 292e 7275 6e28 616c 6c6f 7750  mpt().run(allowP
+000027e0: 6174 6843 6861 6e67 6573 3d54 7275 6529  athChanges=True)
+000027f0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00002800: 2e63 6f6e 7465 6e74 223a 2028 2264 6973  .content": ("dis
+00002810: 706c 6179 2063 7572 7265 6e74 2064 6972  play current dir
+00002820: 6563 746f 7279 2063 6f6e 7465 6e74 222c  ectory content",
+00002830: 2073 656c 662e 6765 7450 6174 682e 6469   self.getPath.di
+00002840: 7370 6c61 7944 6972 6563 746f 7279 436f  splayDirectoryCo
+00002850: 6e74 656e 7429 2c0a 2020 2020 2020 2020  ntent),.        
+00002860: 2020 2020 222e 6b65 7973 223a 2028 6622      ".keys": (f"
+00002870: 6469 7370 6c61 7920 6b65 7920 6269 6e64  display key bind
+00002880: 696e 6773 207b 7374 7228 636f 6e66 6967  ings {str(config
+00002890: 2e68 6f74 6b65 795f 6469 7370 6c61 795f  .hotkey_display_
+000028a0: 6b65 795f 636f 6d62 6f29 7d22 2c20 636f  key_combo)}", co
+000028b0: 6e66 6967 2e73 686f 774b 6579 4269 6e64  nfig.showKeyBind
+000028c0: 696e 6773 292c 0a20 2020 2020 2020 2020  ings),.         
+000028d0: 2020 2022 2e68 656c 7022 3a20 2822 6f70     ".help": ("op
+000028e0: 656e 204c 6574 4d65 446f 4974 2077 696b  en LetMeDoIt wik
+000028f0: 6922 2c20 6c61 6d62 6461 3a20 5368 6172  i", lambda: Shar
+00002900: 6564 5574 696c 2e6f 7065 6e55 524c 2827  edUtil.openURL('
+00002910: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00002920: 6f6d 2f65 6c69 7261 6e77 6f6e 672f 6c65  om/eliranwong/le
+00002930: 746d 6564 6f69 742f 7769 6b69 2729 292c  tmedoit/wiki')),
+00002940: 0a20 2020 2020 2020 2020 2020 2022 2e64  .            ".d
+00002950: 6f6e 6174 6522 3a20 2822 646f 6e61 7465  onate": ("donate
+00002960: 2061 6e64 2073 7570 706f 7274 204c 6574   and support Let
+00002970: 4d65 446f 4974 2041 4922 2c20 6c61 6d62  MeDoIt AI", lamb
+00002980: 6461 3a20 5368 6172 6564 5574 696c 2e6f  da: SharedUtil.o
+00002990: 7065 6e55 524c 2827 6874 7470 733a 2f2f  penURL('https://
+000029a0: 7777 772e 7061 7970 616c 2e63 6f6d 2f70  www.paypal.com/p
+000029b0: 6179 7061 6c6d 652f 6c65 746d 6564 6f69  aypalme/letmedoi
+000029c0: 7461 6927 2929 2c0a 2020 2020 2020 2020  tai')),.        
+000029d0: 7d0a 0a20 2020 2020 2020 2063 6f6e 6669  }..        confi
+000029e0: 672e 6163 7469 6f6e 4865 6c70 203d 2066  g.actionHelp = f
+000029f0: 2223 2051 7569 636b 2041 6374 696f 6e73  "# Quick Actions
+00002a00: 5c6e 2865 6e74 7269 6573 2074 6861 7420  \n(entries that 
+00002a10: 7374 6172 7420 7769 7468 2027 2e27 295c  start with '.')\
+00002a20: 6e22 0a20 2020 2020 2020 2066 6f72 206b  n".        for k
+00002a30: 6579 2c20 7661 6c75 6520 696e 2073 656c  ey, value in sel
+00002a40: 662e 6163 7469 6f6e 732e 6974 656d 7328  f.actions.items(
+00002a50: 293a 0a20 2020 2020 2020 2020 2020 2063  ):.            c
+00002a60: 6f6e 6669 672e 6163 7469 6f6e 4865 6c70  onfig.actionHelp
+00002a70: 202b 3d20 6622 7b6b 6579 7d3a 207b 7661   += f"{key}: {va
+00002a80: 6c75 655b 305d 7d5c 6e22 0a20 2020 2020  lue[0]}\n".     
+00002a90: 2020 2063 6f6e 6669 672e 6163 7469 6f6e     config.action
+00002aa0: 4865 6c70 202b 3d20 225c 6e23 2320 5265  Help += "\n## Re
+00002ab0: 6164 206d 6f72 6520 6174 3a5c 6e68 7474  ad more at:\nhtt
+00002ac0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00002ad0: 656c 6972 616e 776f 6e67 2f6c 6574 6d65  eliranwong/letme
+00002ae0: 646f 6974 2f77 696b 692f 4163 7469 6f6e  doit/wiki/Action
+00002af0: 2d4d 656e 7522 0a0a 2020 2020 6465 6620  -Menu"..    def 
+00002b00: 6765 7453 746f 7261 6765 4469 7228 7365  getStorageDir(se
+00002b10: 6c66 293a 0a20 2020 2020 2020 2073 746f  lf):.        sto
+00002b20: 7261 6765 4469 7220 3d20 6f73 2e70 6174  rageDir = os.pat
+00002b30: 682e 6a6f 696e 286f 732e 7061 7468 2e65  h.join(os.path.e
+00002b40: 7870 616e 6475 7365 7228 277e 2729 2c20  xpanduser('~'), 
+00002b50: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00002b60: 4e61 6d65 2e73 706c 6974 2829 5b30 5d2e  Name.split()[0].
+00002b70: 6c6f 7765 7228 2929 0a20 2020 2020 2020  lower()).       
+00002b80: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00002b90: 2020 5061 7468 2873 746f 7261 6765 4469    Path(storageDi
+00002ba0: 7229 2e6d 6b64 6972 2870 6172 656e 7473  r).mkdir(parents
+00002bb0: 3d54 7275 652c 2065 7869 7374 5f6f 6b3d  =True, exist_ok=
+00002bc0: 5472 7565 290a 2020 2020 2020 2020 6578  True).        ex
+00002bd0: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00002be0: 2020 7061 7373 0a20 2020 2020 2020 2072    pass.        r
+00002bf0: 6574 7572 6e20 7374 6f72 6167 6544 6972  eturn storageDir
+00002c00: 2069 6620 6f73 2e70 6174 682e 6973 6469   if os.path.isdi
+00002c10: 7228 7374 6f72 6167 6544 6972 2920 656c  r(storageDir) el
+00002c20: 7365 2022 220a 0a20 2020 2064 6566 2067  se ""..    def g
+00002c30: 6574 4669 6c65 7328 7365 6c66 293a 0a20  etFiles(self):. 
+00002c40: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+00002c50: 2e73 746f 7261 6765 6469 7265 6374 6f72  .storagedirector
+00002c60: 7920 616e 6420 6e6f 7420 6f73 2e70 6174  y and not os.pat
+00002c70: 682e 6973 6469 7228 636f 6e66 6967 2e73  h.isdir(config.s
+00002c80: 746f 7261 6765 6469 7265 6374 6f72 7929  toragedirectory)
+00002c90: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00002ca0: 6e66 6967 2e73 746f 7261 6765 6469 7265  nfig.storagedire
+00002cb0: 6374 6f72 7920 3d20 2222 0a20 2020 2020  ctory = "".     
+00002cc0: 2020 2073 746f 7261 6765 4469 7220 3d20     storageDir = 
+00002cd0: 7365 6c66 2e73 746f 7261 6765 4469 7220  self.storageDir 
+00002ce0: 6966 2073 656c 662e 7374 6f72 6167 6544  if self.storageD
+00002cf0: 6972 2065 6c73 6520 6f73 2e70 6174 682e  ir else os.path.
+00002d00: 6a6f 696e 2863 6f6e 6669 672e 6c65 744d  join(config.letM
+00002d10: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00002d20: 6669 6c65 7322 290a 2020 2020 2020 2020  files").        
+00002d30: 7265 7475 726e 2063 6f6e 6669 672e 7374  return config.st
+00002d40: 6f72 6167 6564 6972 6563 746f 7279 2069  oragedirectory i
+00002d50: 6620 636f 6e66 6967 2e73 746f 7261 6765  f config.storage
+00002d60: 6469 7265 6374 6f72 7920 656c 7365 2073  directory else s
+00002d70: 746f 7261 6765 4469 720a 0a20 2020 2064  torageDir..    d
+00002d80: 6566 2067 6574 466f 6c64 6572 5061 7468  ef getFolderPath
+00002d90: 2873 656c 662c 2064 6566 6175 6c74 3d22  (self, default="
+00002da0: 2229 3a0a 2020 2020 2020 2020 7265 7475  "):.        retu
+00002db0: 726e 2073 656c 662e 6765 7450 6174 682e  rn self.getPath.
+00002dc0: 6765 7446 6f6c 6465 7250 6174 6828 0a20  getFolderPath(. 
+00002dd0: 2020 2020 2020 2020 2020 2063 6865 636b             check
+00002de0: 5f69 7364 6972 3d54 7275 652c 0a20 2020  _isdir=True,.   
+00002df0: 2020 2020 2020 2020 2064 6973 706c 6179           display
+00002e00: 5f64 6972 5f6f 6e6c 793d 5472 7565 2c0a  _dir_only=True,.
+00002e10: 2020 2020 2020 2020 2020 2020 6372 6561              crea
+00002e20: 7465 5f64 6972 735f 6966 5f6e 6f74 5f65  te_dirs_if_not_e
+00002e30: 7869 7374 3d54 7275 652c 0a20 2020 2020  xist=True,.     
+00002e40: 2020 2020 2020 2065 6d70 7479 5f74 6f5f         empty_to_
+00002e50: 6361 6e63 656c 3d54 7275 652c 0a20 2020  cancel=True,.   
+00002e60: 2020 2020 2020 2020 206c 6973 745f 636f           list_co
+00002e70: 6e74 656e 745f 6f6e 5f64 6972 6563 746f  ntent_on_directo
+00002e80: 7279 5f63 6861 6e67 653d 5472 7565 2c0a  ry_change=True,.
+00002e90: 2020 2020 2020 2020 2020 2020 6b65 6570              keep
+00002ea0: 5f73 7461 7274 7570 5f64 6972 6563 746f  _startup_directo
+00002eb0: 7279 3d54 7275 652c 0a20 2020 2020 2020  ry=True,.       
+00002ec0: 2020 2020 206d 6573 7361 6765 3d66 227b       message=f"{
+00002ed0: 7365 6c66 2e64 6976 6964 6572 7d5c 6e53  self.divider}\nS
+00002ee0: 6574 7469 6e67 2061 2073 7461 7274 7570  etting a startup
+00002ef0: 2064 6972 6563 746f 7279 202e 2e2e 5c6e   directory ...\n
+00002f00: 456e 7465 7220 6120 666f 6c64 6572 206e  Enter a folder n
+00002f10: 616d 6520 6f72 2070 6174 6820 6265 6c6f  ame or path belo
+00002f20: 773a 222c 0a20 2020 2020 2020 2020 2020  w:",.           
+00002f30: 2062 6f74 746f 6d5f 746f 6f6c 6261 723d   bottom_toolbar=
+00002f40: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
+00002f50: 7072 6f6d 7074 496e 6469 6361 746f 7220  promptIndicator 
+00002f60: 3d20 2222 2c0a 2020 2020 2020 2020 2020  = "",.          
+00002f70: 2020 6465 6661 756c 743d 2222 2c0a 2020    default="",.  
+00002f80: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
+00002f90: 2065 7865 6350 7974 686f 6e46 696c 6528   execPythonFile(
+00002fa0: 7365 6c66 2c20 7363 7269 7074 3d22 222c  self, script="",
+00002fb0: 2063 6f6e 7465 6e74 3d22 2229 3a0a 2020   content=""):.  
+00002fc0: 2020 2020 2020 6966 2073 6372 6970 7420        if script 
+00002fd0: 6f72 2063 6f6e 7465 6e74 3a0a 2020 2020  or content:.    
+00002fe0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00002ff0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00003000: 2072 756e 436f 6465 2874 6578 7429 3a0a   runCode(text):.
+00003010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003020: 2020 2020 636f 6465 203d 2063 6f6d 7069      code = compi
+00003030: 6c65 2874 6578 742c 2073 6372 6970 742c  le(text, script,
+00003040: 2027 6578 6563 2729 0a20 2020 2020 2020   'exec').       
+00003050: 2020 2020 2020 2020 2020 2020 2065 7865               exe
+00003060: 6328 636f 6465 2c20 676c 6f62 616c 7328  c(code, globals(
+00003070: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00003080: 2020 2069 6620 636f 6e74 656e 743a 0a20     if content:. 
+00003090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030a0: 2020 2072 756e 436f 6465 2863 6f6e 7465     runCode(conte
+000030b0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+000030c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000030d0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+000030e0: 7468 206f 7065 6e28 7363 7269 7074 2c20  th open(script, 
+000030f0: 2772 272c 2065 6e63 6f64 696e 673d 2775  'r', encoding='u
+00003100: 7466 3827 2920 6173 2066 3a0a 2020 2020  tf8') as f:.    
+00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003120: 2020 2020 7275 6e43 6f64 6528 662e 7265      runCode(f.re
+00003130: 6164 2829 290a 2020 2020 2020 2020 2020  ad()).          
+00003140: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
+00003150: 650a 2020 2020 2020 2020 2020 2020 6578  e.            ex
+00003160: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00003170: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00003180: 2822 4661 696c 6564 2074 6f20 7275 6e20  ("Failed to run 
+00003190: 277b 307d 2721 222e 666f 726d 6174 286f  '{0}'!".format(o
+000031a0: 732e 7061 7468 2e62 6173 656e 616d 6528  s.path.basename(
+000031b0: 7363 7269 7074 2929 290a 2020 2020 2020  script))).      
+000031c0: 2020 2020 2020 2020 2020 5368 6172 6564            Shared
+000031d0: 5574 696c 2e73 686f 7745 7272 6f72 7328  Util.showErrors(
+000031e0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+000031f0: 2046 616c 7365 0a0a 2020 2020 6465 6620   False..    def 
+00003200: 7275 6e50 6c75 6769 6e73 2873 656c 6629  runPlugins(self)
+00003210: 3a0a 2020 2020 2020 2020 2320 5468 6520  :.        # The 
+00003220: 666f 6c6c 6f77 696e 6720 636f 6e66 6967  following config
+00003230: 2076 616c 7565 7320 6361 6e20 6265 206d   values can be m
+00003240: 6f64 6966 6965 6420 7769 7468 2070 6c75  odified with plu
+00003250: 6769 6e73 2c20 746f 2065 7874 656e 6420  gins, to extend 
+00003260: 6675 6e63 7469 6f6e 616c 6974 6965 730a  functionalities.
+00003270: 2020 2020 2020 2020 2363 6f6e 6669 672e          #config.
+00003280: 706c 7567 696e 7357 6974 6846 756e 6374  pluginsWithFunct
+00003290: 696f 6e43 616c 6c20 3d20 5b5d 0a20 2020  ionCall = [].   
+000032a0: 2020 2020 2063 6f6e 6669 672e 616c 6961       config.alia
+000032b0: 7365 7320 3d20 7b7d 0a20 2020 2020 2020  ses = {}.       
+000032c0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+000032d0: 6564 436f 6e74 6578 7473 203d 207b 0a20  edContexts = {. 
+000032e0: 2020 2020 2020 2020 2020 2022 5b6e 6f6e             "[non
+000032f0: 655d 223a 2022 222c 0a20 2020 2020 2020  e]": "",.       
+00003300: 2020 2020 2022 5b63 7573 746f 6d5d 223a       "[custom]":
+00003310: 2022 222c 0a20 2020 2020 2020 207d 0a20   "",.        }. 
+00003320: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00003330: 6564 6566 696e 6564 496e 7374 7275 6374  edefinedInstruct
+00003340: 696f 6e73 203d 207b 7d0a 2020 2020 2020  ions = {}.      
+00003350: 2020 636f 6e66 6967 2e69 6e70 7574 5375    config.inputSu
+00003360: 6767 6573 7469 6f6e 7320 3d20 5b5d 0a20  ggestions = []. 
+00003370: 2020 2020 2020 206c 6574 6d65 646f 6974         letmedoit
+00003380: 2e63 6f6e 6669 672e 6f75 7470 7574 5472  .config.outputTr
+00003390: 616e 7366 6f72 6d65 7273 203d 2063 6f6e  ansformers = con
+000033a0: 6669 672e 6f75 7470 7574 5472 616e 7366  fig.outputTransf
+000033b0: 6f72 6d65 7273 203d 205b 5d0a 2020 2020  ormers = [].    
+000033c0: 2020 2020 636f 6e66 6967 2e63 6861 7447      config.chatG
+000033d0: 5054 4170 6946 756e 6374 696f 6e53 6967  PTApiFunctionSig
+000033e0: 6e61 7475 7265 7320 3d20 7b7d 0a20 2020  natures = {}.   
+000033f0: 2020 2020 2063 6f6e 6669 672e 6368 6174       config.chat
+00003400: 4750 5441 7069 4176 6169 6c61 626c 6546  GPTApiAvailableF
+00003410: 756e 6374 696f 6e73 203d 207b 7d0a 2020  unctions = {}.  
+00003420: 2020 2020 2020 636f 6e66 6967 2e66 7265        config.fre
+00003430: 6547 656e 6975 7341 6374 696f 6e73 203d  eGeniusActions =
+00003440: 207b 7d0a 2020 2020 2020 2020 636f 6e66   {}.        conf
+00003450: 6967 2e66 7265 6547 656e 6975 7341 6374  ig.freeGeniusAct
+00003460: 696f 6e45 7861 6d70 6c65 7320 3d20 7b7d  ionExamples = {}
+00003470: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00003480: 6672 6565 4765 6e69 7573 4163 7469 6f6e  freeGeniusAction
+00003490: 5061 7261 6d65 7465 7273 203d 207b 7d0a  Parameters = {}.
+000034a0: 2020 2020 2020 2020 636f 6e66 6967 2e66          config.f
+000034b0: 7265 6547 656e 6975 7341 6374 696f 6e4d  reeGeniusActionM
+000034c0: 6574 686f 6473 203d 207b 7d0a 0a20 2020  ethods = {}..   
+000034d0: 2020 2020 2070 6c75 6769 6e46 6f6c 6465       pluginFolde
+000034e0: 7220 3d20 6f73 2e70 6174 682e 6a6f 696e  r = os.path.join
+000034f0: 2863 6f6e 6669 672e 6c65 744d 6544 6f49  (config.letMeDoI
+00003500: 7441 4946 6f6c 6465 722c 2022 706c 7567  tAIFolder, "plug
+00003510: 696e 7322 290a 2020 2020 2020 2020 6966  ins").        if
+00003520: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00003530: 3a0a 2020 2020 2020 2020 2020 2020 6375  :.            cu
+00003540: 7374 6f6d 506c 7567 696e 466f 6c65 7220  stomPluginFoler 
+00003550: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+00003560: 656c 662e 7374 6f72 6167 6544 6972 2c20  elf.storageDir, 
+00003570: 2270 6c75 6769 6e73 2229 0a20 2020 2020  "plugins").     
+00003580: 2020 2020 2020 2050 6174 6828 6375 7374         Path(cust
+00003590: 6f6d 506c 7567 696e 466f 6c65 7229 2e6d  omPluginFoler).m
+000035a0: 6b64 6972 2870 6172 656e 7473 3d54 7275  kdir(parents=Tru
+000035b0: 652c 2065 7869 7374 5f6f 6b3d 5472 7565  e, exist_ok=True
+000035c0: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
+000035d0: 7567 696e 466f 6c64 6572 7320 3d20 2870  uginFolders = (p
+000035e0: 6c75 6769 6e46 6f6c 6465 722c 2063 7573  luginFolder, cus
+000035f0: 746f 6d50 6c75 6769 6e46 6f6c 6572 290a  tomPluginFoler).
+00003600: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00003610: 2020 2020 2020 2020 2020 706c 7567 696e            plugin
+00003620: 466f 6c64 6572 7320 3d20 2870 6c75 6769  Folders = (plugi
+00003630: 6e46 6f6c 6465 722c 290a 2020 2020 2020  nFolder,).      
+00003640: 2020 2320 616c 7761 7973 2072 756e 2027    # always run '
+00003650: 696e 7465 6772 6174 6520 676f 6f67 6c65  integrate google
+00003660: 2073 6561 7263 6865 7327 0a20 2020 2020   searches'.     
+00003670: 2020 2069 6e74 6572 6e65 7453 6572 6163     internetSerac
+00003680: 6865 7320 3d20 2269 6e74 6567 7261 7465  hes = "integrate
+00003690: 2067 6f6f 676c 6520 7365 6172 6368 6573   google searches
+000036a0: 220a 2020 2020 2020 2020 7363 7269 7074  ".        script
+000036b0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+000036c0: 706c 7567 696e 466f 6c64 6572 2c20 227b  pluginFolder, "{
+000036d0: 307d 2e70 7922 2e66 6f72 6d61 7428 696e  0}.py".format(in
+000036e0: 7465 726e 6574 5365 7261 6368 6573 2929  ternetSeraches))
+000036f0: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
+00003700: 6563 5079 7468 6f6e 4669 6c65 2873 6372  ecPythonFile(scr
+00003710: 6970 7429 0a20 2020 2020 2020 2023 2061  ipt).        # a
+00003720: 6c77 6179 7320 696e 636c 7564 6520 7468  lways include th
+00003730: 6520 666f 6c6c 6f77 696e 6720 706c 7567  e following plug
+00003740: 696e 730a 2020 2020 2020 2020 7265 7175  ins.        requ
+00003750: 6972 6564 506c 7567 696e 7320 3d20 2822  iredPlugins = ("
+00003760: 6175 746f 2068 6561 6c20 7079 7468 6f6e  auto heal python
+00003770: 2063 6f64 6522 2c29 0a20 2020 2020 2020   code",).       
+00003780: 2066 6f72 2069 2069 6e20 7265 7175 6972   for i in requir
+00003790: 6564 506c 7567 696e 733a 0a20 2020 2020  edPlugins:.     
+000037a0: 2020 2020 2020 2069 6620 6920 696e 2063         if i in c
+000037b0: 6f6e 6669 672e 706c 7567 696e 4578 636c  onfig.pluginExcl
+000037c0: 7564 654c 6973 743a 0a20 2020 2020 2020  udeList:.       
+000037d0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000037e0: 706c 7567 696e 4578 636c 7564 654c 6973  pluginExcludeLis
+000037f0: 742e 7265 6d6f 7665 2869 290a 2020 2020  t.remove(i).    
+00003800: 2020 2020 2320 6578 6563 7574 6520 656e      # execute en
+00003810: 6162 6c65 6420 706c 7567 696e 730a 2020  abled plugins.  
+00003820: 2020 2020 2020 666f 7220 666f 6c64 6572        for folder
+00003830: 2069 6e20 706c 7567 696e 466f 6c64 6572   in pluginFolder
+00003840: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
+00003850: 6f72 2070 6c75 6769 6e20 696e 2046 696c  or plugin in Fil
+00003860: 6555 7469 6c2e 6669 6c65 4e61 6d65 7357  eUtil.fileNamesW
+00003870: 6974 686f 7574 4578 7465 6e73 696f 6e28  ithoutExtension(
+00003880: 666f 6c64 6572 2c20 2270 7922 293a 0a20  folder, "py"):. 
+00003890: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000038a0: 6620 6e6f 7420 706c 7567 696e 2069 6e20  f not plugin in 
+000038b0: 636f 6e66 6967 2e70 6c75 6769 6e45 7863  config.pluginExc
+000038c0: 6c75 6465 4c69 7374 3a0a 2020 2020 2020  ludeList:.      
+000038d0: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+000038e0: 7269 7074 203d 206f 732e 7061 7468 2e6a  ript = os.path.j
+000038f0: 6f69 6e28 666f 6c64 6572 2c20 227b 307d  oin(folder, "{0}
+00003900: 2e70 7922 2e66 6f72 6d61 7428 706c 7567  .py".format(plug
+00003910: 696e 2929 0a20 2020 2020 2020 2020 2020  in)).           
+00003920: 2020 2020 2020 2020 2072 756e 203d 2073           run = s
+00003930: 656c 662e 6578 6563 5079 7468 6f6e 4669  elf.execPythonFi
+00003940: 6c65 2873 6372 6970 7429 0a20 2020 2020  le(script).     
+00003950: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00003960: 6620 6e6f 7420 7275 6e3a 0a20 2020 2020  f not run:.     
+00003970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003980: 2020 2063 6f6e 6669 672e 706c 7567 696e     config.plugin
+00003990: 4578 636c 7564 654c 6973 742e 6170 7065  ExcludeList.appe
+000039a0: 6e64 2870 6c75 6769 6e29 0a20 2020 2020  nd(plugin).     
+000039b0: 2020 2069 6620 696e 7465 726e 6574 5365     if internetSe
+000039c0: 7261 6368 6573 2069 6e20 636f 6e66 6967  raches in config
+000039d0: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
+000039e0: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+000039f0: 6465 6c20 636f 6e66 6967 2e63 6861 7447  del config.chatG
+00003a00: 5054 4170 6946 756e 6374 696f 6e53 6967  PTApiFunctionSig
+00003a10: 6e61 7475 7265 735b 2269 6e74 6567 7261  natures["integra
+00003a20: 7465 2067 6f6f 676c 6520 7365 6172 6368  te google search
+00003a30: 6573 225d 0a20 2020 2020 2020 2073 656c  es"].        sel
+00003a40: 662e 7365 7475 7050 7974 686f 6e45 7865  f.setupPythonExe
+00003a50: 6375 7469 6f6e 2829 0a20 2020 2020 2020  cution().       
+00003a60: 2069 6620 636f 6e66 6967 2e74 6572 6d69   if config.termi
+00003a70: 6e61 6c45 6e61 626c 6554 6572 6d75 7841  nalEnableTermuxA
+00003a80: 5049 3a0a 2020 2020 2020 2020 2020 2020  PI:.            
+00003a90: 7365 6c66 2e73 6574 7570 5465 726d 7578  self.setupTermux
+00003aa0: 4578 6563 7574 696f 6e28 290a 2020 2020  Execution().    
+00003ab0: 2020 2020 666f 7220 6920 696e 2063 6f6e      for i in con
+00003ac0: 6669 672e 6368 6174 4750 5441 7069 4176  fig.chatGPTApiAv
+00003ad0: 6169 6c61 626c 6546 756e 6374 696f 6e73  ailableFunctions
+00003ae0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00003af0: 206e 6f74 2069 2069 6e20 2822 7079 7468   not i in ("pyth
+00003b00: 6f6e 5f71 6122 2c29 3a0a 2020 2020 2020  on_qa",):.      
+00003b10: 2020 2020 2020 2020 2020 6361 6c6c 456e            callEn
+00003b20: 7472 7920 3d20 6622 5b43 414c 4c5f 7b69  try = f"[CALL_{i
+00003b30: 7d5d 220a 2020 2020 2020 2020 2020 2020  }]".            
+00003b40: 2020 2020 6966 206e 6f74 2063 616c 6c45      if not callE
+00003b50: 6e74 7279 2069 6e20 636f 6e66 6967 2e69  ntry in config.i
+00003b60: 6e70 7574 5375 6767 6573 7469 6f6e 733a  nputSuggestions:
+00003b70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003b80: 2020 2020 2063 6f6e 6669 672e 696e 7075       config.inpu
+00003b90: 7453 7567 6765 7374 696f 6e73 2e61 7070  tSuggestions.app
+00003ba0: 656e 6428 6361 6c6c 456e 7472 7929 0a20  end(callEntry). 
+00003bb0: 2020 2020 2020 2023 2075 7064 6174 6520         # update 
+00003bc0: 6163 7469 6f6e 5363 7265 656e 696e 6750  actionScreeningP
+00003bd0: 726f 6d70 740a 2020 2020 2020 2020 7365  rompt.        se
+00003be0: 6c66 2e61 6374 696f 6e53 6372 6565 6e69  lf.actionScreeni
+00003bf0: 6e67 5072 6f6d 7074 203d 2073 656c 662e  ngPrompt = self.
+00003c00: 6765 7441 6374 696f 6e53 6372 6565 6e69  getActionScreeni
+00003c10: 6e67 5072 6f6d 7074 2829 0a20 2020 2020  ngPrompt().     
+00003c20: 2020 2069 6620 636f 6e66 6967 2e64 6576     if config.dev
+00003c30: 656c 6f70 6572 3a0a 2020 2020 2020 2020  eloper:.        
+00003c40: 2020 2020 7070 7269 6e74 2e70 7072 696e      pprint.pprin
+00003c50: 7428 7365 6c66 2e61 6374 696f 6e53 6372  t(self.actionScr
+00003c60: 6565 6e69 6e67 5072 6f6d 7074 290a 0a20  eeningPrompt).. 
+00003c70: 2020 2023 2056 6f69 6365 2054 7970 696e     # Voice Typin
+00003c80: 6720 4c61 6e67 7561 6765 0a20 2020 2064  g Language.    d
+00003c90: 6566 2073 6574 5370 6565 6368 546f 5465  ef setSpeechToTe
+00003ca0: 7874 4c61 6e67 7561 6765 2873 656c 6629  xtLanguage(self)
+00003cb0: 3a0a 2020 2020 2020 2020 2320 7265 636f  :.        # reco
+00003cc0: 7264 2069 6e20 6869 7374 6f72 7920 666f  rd in history fo
+00003cd0: 7220 6561 7379 2072 6574 7269 6576 616c  r easy retrieval
+00003ce0: 2062 7920 6d6f 7669 6e67 2061 7272 6f77   by moving arrow
+00003cf0: 7320 7570 7761 7264 7320 2f20 646f 776e  s upwards / down
+00003d00: 7761 7264 730a 2020 2020 2020 2020 766f  wards.        vo
+00003d10: 6963 655f 7479 7069 6e67 5f6c 616e 6775  ice_typing_langu
+00003d20: 6167 655f 6869 7374 6f72 7920 3d20 6f73  age_history = os
+00003d30: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
+00003d40: 672e 6869 7374 6f72 7950 6172 656e 7446  g.historyParentF
+00003d50: 6f6c 6465 7220 6966 2063 6f6e 6669 672e  older if config.
+00003d60: 6869 7374 6f72 7950 6172 656e 7446 6f6c  historyParentFol
+00003d70: 6465 7220 656c 7365 2063 6f6e 6669 672e  der else config.
+00003d80: 6c65 744d 6544 6f49 7441 4946 6f6c 6465  letMeDoItAIFolde
+00003d90: 722c 2022 6869 7374 6f72 7922 2c20 2276  r, "history", "v
+00003da0: 6f69 6365 5f74 7970 696e 675f 6c61 6e67  oice_typing_lang
+00003db0: 7561 6765 2229 0a20 2020 2020 2020 2076  uage").        v
+00003dc0: 6f69 6365 5f74 7970 696e 675f 6c61 6e67  oice_typing_lang
+00003dd0: 7561 6765 5f73 6573 7369 6f6e 203d 2050  uage_session = P
+00003de0: 726f 6d70 7453 6573 7369 6f6e 2868 6973  romptSession(his
+00003df0: 746f 7279 3d46 696c 6548 6973 746f 7279  tory=FileHistory
+00003e00: 2876 6f69 6365 5f74 7970 696e 675f 6c61  (voice_typing_la
+00003e10: 6e67 7561 6765 5f68 6973 746f 7279 2929  nguage_history))
+00003e20: 0a20 2020 2020 2020 2023 2069 6e70 7574  .        # input
+00003e30: 2073 7567 6765 7374 696f 6e20 666f 7220   suggestion for 
+00003e40: 6c61 6e67 7561 6765 730a 2020 2020 2020  languages.      
+00003e50: 2020 6c61 6e67 7561 6765 7320 3d20 7475    languages = tu
+00003e60: 706c 6528 676f 6f67 6c65 5370 6565 636b  ple(googleSpeeck
+00003e70: 546f 5465 7874 4c61 6e67 7561 6765 732e  ToTextLanguages.
+00003e80: 6b65 7973 2829 2920 6966 2063 6f6e 6669  keys()) if confi
+00003e90: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
+00003ea0: 7466 6f72 6d20 696e 2028 2267 6f6f 676c  tform in ("googl
+00003eb0: 6522 2c20 2267 6f6f 676c 6563 6c6f 7564  e", "googlecloud
+00003ec0: 2229 2065 6c73 6520 7768 6973 7065 7253  ") else whisperS
+00003ed0: 7065 6563 6b54 6f54 6578 744c 616e 6775  peeckToTextLangu
+00003ee0: 6167 6573 0a20 2020 2020 2020 2023 2064  ages.        # d
+00003ef0: 6566 6175 6c74 0a20 2020 2020 2020 2064  efault.        d
+00003f00: 6566 6175 6c74 203d 2022 220a 2020 2020  efault = "".    
+00003f10: 2020 2020 666f 7220 6920 696e 206c 616e      for i in lan
+00003f20: 6775 6167 6573 3a0a 2020 2020 2020 2020  guages:.        
+00003f30: 2020 2020 6966 2063 6f6e 6669 672e 766f      if config.vo
+00003f40: 6963 6554 7970 696e 6750 6c61 7466 6f72  iceTypingPlatfor
+00003f50: 6d20 696e 2028 2267 6f6f 676c 6522 2c20  m in ("google", 
+00003f60: 2267 6f6f 676c 6563 6c6f 7564 2229 2061  "googlecloud") a
+00003f70: 6e64 2067 6f6f 676c 6553 7065 6563 6b54  nd googleSpeeckT
+00003f80: 6f54 6578 744c 616e 6775 6167 6573 5b69  oTextLanguages[i
+00003f90: 5d20 3d3d 2063 6f6e 6669 672e 766f 6963  ] == config.voic
+00003fa0: 6554 7970 696e 674c 616e 6775 6167 653a  eTypingLanguage:
+00003fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003fc0: 2064 6566 6175 6c74 203d 2069 0a20 2020   default = i.   
+00003fd0: 2020 2020 2020 2020 2065 6c69 6620 6920           elif i 
+00003fe0: 3d3d 2063 6f6e 6669 672e 766f 6963 6554  == config.voiceT
+00003ff0: 7970 696e 674c 616e 6775 6167 653a 0a20  ypingLanguage:. 
+00004000: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00004010: 6566 6175 6c74 203d 2069 0a20 2020 2020  efault = i.     
+00004020: 2020 2069 6620 6e6f 7420 6465 6661 756c     if not defaul
+00004030: 743a 0a20 2020 2020 2020 2020 2020 2064  t:.            d
+00004040: 6566 6175 6c74 203d 2022 456e 676c 6973  efault = "Englis
+00004050: 6820 2855 6e69 7465 6420 5374 6174 6573  h (United States
+00004060: 2922 2069 6620 636f 6e66 6967 2e76 6f69  )" if config.voi
+00004070: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
+00004080: 2069 6e20 2822 676f 6f67 6c65 222c 2022   in ("google", "
+00004090: 676f 6f67 6c65 636c 6f75 6422 2920 656c  googlecloud") el
+000040a0: 7365 2022 656e 676c 6973 6822 0a20 2020  se "english".   
+000040b0: 2020 2020 2023 2063 6f6d 706c 6574 6572       # completer
+000040c0: 0a20 2020 2020 2020 2063 6f6d 706c 6574  .        complet
+000040d0: 6572 203d 2046 757a 7a79 436f 6d70 6c65  er = FuzzyComple
+000040e0: 7465 7228 576f 7264 436f 6d70 6c65 7465  ter(WordComplete
+000040f0: 7228 6c61 6e67 7561 6765 732c 2069 676e  r(languages, ign
+00004100: 6f72 655f 6361 7365 3d54 7275 6529 290a  ore_case=True)).
+00004110: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00004120: 6e74 2822 506c 6561 7365 2073 7065 6369  nt("Please speci
+00004130: 6679 2074 6865 2076 6f69 6365 2074 7970  fy the voice typ
+00004140: 696e 6720 6c61 6e67 7561 6765 3a22 290a  ing language:").
+00004150: 2020 2020 2020 2020 6c61 6e67 7561 6765          language
+00004160: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00004170: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00004180: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00004190: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+000041a0: 6661 756c 743d 6465 6661 756c 742c 2070  fault=default, p
+000041b0: 726f 6d70 7453 6573 7369 6f6e 3d76 6f69  romptSession=voi
+000041c0: 6365 5f74 7970 696e 675f 6c61 6e67 7561  ce_typing_langua
+000041d0: 6765 5f73 6573 7369 6f6e 2c20 636f 6d70  ge_session, comp
+000041e0: 6c65 7465 723d 636f 6d70 6c65 7465 7229  leter=completer)
+000041f0: 0a20 2020 2020 2020 2069 6620 6c61 6e67  .        if lang
+00004200: 7561 6765 2061 6e64 206e 6f74 206c 616e  uage and not lan
+00004210: 6775 6167 6520 696e 2028 636f 6e66 6967  guage in (config
+00004220: 2e65 7869 745f 656e 7472 792c 2063 6f6e  .exit_entry, con
+00004230: 6669 672e 6361 6e63 656c 5f65 6e74 7279  fig.cancel_entry
+00004240: 293a 0a20 2020 2020 2020 2020 2020 2063  ):.            c
+00004250: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
+00004260: 674c 616e 6775 6167 6520 3d20 6c61 6e67  gLanguage = lang
+00004270: 7561 6765 0a20 2020 2020 2020 2069 6620  uage.        if 
+00004280: 6e6f 7420 636f 6e66 6967 2e76 6f69 6365  not config.voice
+00004290: 5479 7069 6e67 4c61 6e67 7561 6765 2069  TypingLanguage i
+000042a0: 6e20 6c61 6e67 7561 6765 733a 0a20 2020  n languages:.   
+000042b0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000042c0: 766f 6963 6554 7970 696e 674c 616e 6775  voiceTypingLangu
+000042d0: 6167 6520 3d20 2265 6e2d 5553 2220 6966  age = "en-US" if
+000042e0: 2063 6f6e 6669 672e 766f 6963 6554 7970   config.voiceTyp
+000042f0: 696e 6750 6c61 7466 6f72 6d20 696e 2028  ingPlatform in (
+00004300: 2267 6f6f 676c 6522 2c20 2267 6f6f 676c  "google", "googl
+00004310: 6563 6c6f 7564 2229 2065 6c73 6520 2265  ecloud") else "e
+00004320: 6e67 6c69 7368 220a 2020 2020 2020 2020  nglish".        
+00004330: 6966 2063 6f6e 6669 672e 766f 6963 6554  if config.voiceT
+00004340: 7970 696e 6750 6c61 7466 6f72 6d20 696e  ypingPlatform in
+00004350: 2028 2267 6f6f 676c 6522 2c20 2267 6f6f   ("google", "goo
+00004360: 676c 6563 6c6f 7564 2229 2061 6e64 2063  glecloud") and c
+00004370: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
+00004380: 674c 616e 6775 6167 6520 696e 206c 616e  gLanguage in lan
+00004390: 6775 6167 6573 3a0a 2020 2020 2020 2020  guages:.        
+000043a0: 2020 2020 636f 6e66 6967 2e76 6f69 6365      config.voice
+000043b0: 5479 7069 6e67 4c61 6e67 7561 6765 203d  TypingLanguage =
+000043c0: 2067 6f6f 676c 6553 7065 6563 6b54 6f54   googleSpeeckToT
+000043d0: 6578 744c 616e 6775 6167 6573 5b63 6f6e  extLanguages[con
+000043e0: 6669 672e 766f 6963 6554 7970 696e 674c  fig.voiceTypingL
+000043f0: 616e 6775 6167 655d 0a0a 2020 2020 2320  anguage]..    # 
+00004400: 456c 6576 656e 4c61 6273 2054 6578 742d  ElevenLabs Text-
+00004410: 746f 2d53 7065 6563 6820 566f 6963 650a  to-Speech Voice.
+00004420: 2020 2020 6465 6620 7365 7445 6c65 7665      def setEleve
+00004430: 6e6c 6162 7356 6f69 6365 2873 656c 6629  nlabsVoice(self)
+00004440: 3a0a 2020 2020 2020 2020 2320 7265 636f  :.        # reco
+00004450: 7264 2069 6e20 6869 7374 6f72 7920 666f  rd in history fo
+00004460: 7220 6561 7379 2072 6574 7269 6576 616c  r easy retrieval
+00004470: 2062 7920 6d6f 7669 6e67 2061 7272 6f77   by moving arrow
+00004480: 7320 7570 7761 7264 7320 2f20 646f 776e  s upwards / down
+00004490: 7761 7264 730a 2020 2020 2020 2020 656c  wards.        el
+000044a0: 6576 656e 6c61 6273 566f 6963 655f 6869  evenlabsVoice_hi
+000044b0: 7374 6f72 7920 3d20 6f73 2e70 6174 682e  story = os.path.
+000044c0: 6a6f 696e 2863 6f6e 6669 672e 6869 7374  join(config.hist
+000044d0: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+000044e0: 6966 2063 6f6e 6669 672e 6869 7374 6f72  if config.histor
+000044f0: 7950 6172 656e 7446 6f6c 6465 7220 656c  yParentFolder el
+00004500: 7365 2063 6f6e 6669 672e 6c65 744d 6544  se config.letMeD
+00004510: 6f49 7441 4946 6f6c 6465 722c 2022 6869  oItAIFolder, "hi
+00004520: 7374 6f72 7922 2c20 2265 6c65 7665 6e6c  story", "elevenl
+00004530: 6162 7356 6f69 6365 2229 0a20 2020 2020  absVoice").     
+00004540: 2020 2065 6c65 7665 6e6c 6162 7356 6f69     elevenlabsVoi
+00004550: 6365 5f73 6573 7369 6f6e 203d 2050 726f  ce_session = Pro
+00004560: 6d70 7453 6573 7369 6f6e 2868 6973 746f  mptSession(histo
+00004570: 7279 3d46 696c 6548 6973 746f 7279 2865  ry=FileHistory(e
+00004580: 6c65 7665 6e6c 6162 7356 6f69 6365 5f68  levenlabsVoice_h
+00004590: 6973 746f 7279 2929 0a20 2020 2020 2020  istory)).       
+000045a0: 2023 2069 6e70 7574 2073 7567 6765 7374   # input suggest
+000045b0: 696f 6e20 666f 7220 6f70 7469 6f6e 730a  ion for options.
+000045c0: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
+000045d0: 3d20 5b76 6f69 6365 2e6e 616d 6520 666f  = [voice.name fo
+000045e0: 7220 766f 6963 6520 696e 2076 6f69 6365  r voice in voice
+000045f0: 7328 295d 0a20 2020 2020 2020 2023 2064  s()].        # d
+00004600: 6566 6175 6c74 0a20 2020 2020 2020 2064  efault.        d
+00004610: 6566 6175 6c74 203d 2063 6f6e 6669 672e  efault = config.
+00004620: 656c 6576 656e 6c61 6273 566f 6963 6520  elevenlabsVoice 
+00004630: 6966 2063 6f6e 6669 672e 656c 6576 656e  if config.eleven
+00004640: 6c61 6273 566f 6963 6520 696e 206f 7074  labsVoice in opt
+00004650: 696f 6e73 2065 6c73 6520 2252 6163 6865  ions else "Rache
+00004660: 6c22 0a20 2020 2020 2020 2023 2063 6f6d  l".        # com
+00004670: 706c 6574 6572 0a20 2020 2020 2020 2063  pleter.        c
+00004680: 6f6d 706c 6574 6572 203d 2046 757a 7a79  ompleter = Fuzzy
+00004690: 436f 6d70 6c65 7465 7228 576f 7264 436f  Completer(WordCo
+000046a0: 6d70 6c65 7465 7228 6f70 7469 6f6e 732c  mpleter(options,
+000046b0: 2069 676e 6f72 655f 6361 7365 3d54 7275   ignore_case=Tru
+000046c0: 6529 290a 2020 2020 2020 2020 7365 6c66  e)).        self
+000046d0: 2e70 7269 6e74 2822 506c 6561 7365 2073  .print("Please s
+000046e0: 7065 6369 6679 2045 6c65 7665 6e4c 6162  pecify ElevenLab
+000046f0: 7320 5465 7874 2d74 6f2d 5370 6565 6368  s Text-to-Speech
+00004700: 2056 6f69 6365 3a22 290a 2020 2020 2020   Voice:").      
+00004710: 2020 6f70 7469 6f6e 203d 2073 656c 662e    option = self.
+00004720: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+00004730: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+00004740: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+00004750: 796c 6532 2c20 6465 6661 756c 743d 6465  yle2, default=de
+00004760: 6661 756c 742c 2070 726f 6d70 7453 6573  fault, promptSes
+00004770: 7369 6f6e 3d65 6c65 7665 6e6c 6162 7356  sion=elevenlabsV
+00004780: 6f69 6365 5f73 6573 7369 6f6e 2c20 636f  oice_session, co
+00004790: 6d70 6c65 7465 723d 636f 6d70 6c65 7465  mpleter=complete
+000047a0: 7229 0a20 2020 2020 2020 2069 6620 6f70  r).        if op
+000047b0: 7469 6f6e 2061 6e64 206e 6f74 206f 7074  tion and not opt
+000047c0: 696f 6e20 696e 2028 636f 6e66 6967 2e65  ion in (config.e
+000047d0: 7869 745f 656e 7472 792c 2063 6f6e 6669  xit_entry, confi
+000047e0: 672e 6361 6e63 656c 5f65 6e74 7279 293a  g.cancel_entry):
+000047f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00004800: 6669 672e 656c 6576 656e 6c61 6273 566f  fig.elevenlabsVo
+00004810: 6963 6520 3d20 6f70 7469 6f6e 2069 6620  ice = option if 
+00004820: 6f70 7469 6f6e 2069 6e20 6f70 7469 6f6e  option in option
+00004830: 7320 656c 7365 2022 5261 6368 656c 220a  s else "Rachel".
+00004840: 0a20 2020 2023 2047 6f6f 676c 6520 5465  .    # Google Te
+00004850: 7874 2d74 6f2d 5370 6565 6368 2028 4765  xt-to-Speech (Ge
+00004860: 6e65 7269 6329 0a20 2020 2064 6566 2073  neric).    def s
+00004870: 6574 4774 7473 4c61 6e67 7561 6765 2873  etGttsLanguage(s
+00004880: 656c 6629 3a0a 2020 2020 2020 2020 2320  elf):.        # 
+00004890: 7265 636f 7264 2069 6e20 6869 7374 6f72  record in histor
+000048a0: 7920 666f 7220 6561 7379 2072 6574 7269  y for easy retri
+000048b0: 6576 616c 2062 7920 6d6f 7669 6e67 2061  eval by moving a
+000048c0: 7272 6f77 7320 7570 7761 7264 7320 2f20  rrows upwards / 
+000048d0: 646f 776e 7761 7264 730a 2020 2020 2020  downwards.      
+000048e0: 2020 6774 7473 5f6c 616e 6775 6167 655f    gtts_language_
+000048f0: 6869 7374 6f72 7920 3d20 6f73 2e70 6174  history = os.pat
+00004900: 682e 6a6f 696e 2863 6f6e 6669 672e 6869  h.join(config.hi
+00004910: 7374 6f72 7950 6172 656e 7446 6f6c 6465  storyParentFolde
+00004920: 7220 6966 2063 6f6e 6669 672e 6869 7374  r if config.hist
+00004930: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+00004940: 656c 7365 2063 6f6e 6669 672e 6c65 744d  else config.letM
+00004950: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00004960: 6869 7374 6f72 7922 2c20 2267 7474 735f  history", "gtts_
+00004970: 6c61 6e67 7561 6765 2229 0a20 2020 2020  language").     
+00004980: 2020 2067 7474 735f 6c61 6e67 7561 6765     gtts_language
+00004990: 5f73 6573 7369 6f6e 203d 2050 726f 6d70  _session = Promp
+000049a0: 7453 6573 7369 6f6e 2868 6973 746f 7279  tSession(history
+000049b0: 3d46 696c 6548 6973 746f 7279 2867 7474  =FileHistory(gtt
+000049c0: 735f 6c61 6e67 7561 6765 5f68 6973 746f  s_language_histo
+000049d0: 7279 2929 0a20 2020 2020 2020 2023 2069  ry)).        # i
+000049e0: 6e70 7574 2073 7567 6765 7374 696f 6e20  nput suggestion 
+000049f0: 666f 7220 6c61 6e67 7561 6765 730a 2020  for languages.  
+00004a00: 2020 2020 2020 6c61 6e67 7561 6765 7320        languages 
+00004a10: 3d20 7475 706c 6528 5474 734c 616e 6775  = tuple(TtsLangu
+00004a20: 6167 6573 2e67 7474 732e 6b65 7973 2829  ages.gtts.keys()
+00004a30: 290a 2020 2020 2020 2020 2320 6465 6661  ).        # defa
+00004a40: 756c 740a 2020 2020 2020 2020 6465 6661  ult.        defa
+00004a50: 756c 7420 3d20 2222 0a20 2020 2020 2020  ult = "".       
+00004a60: 2066 6f72 2069 2069 6e20 6c61 6e67 7561   for i in langua
+00004a70: 6765 733a 0a20 2020 2020 2020 2020 2020  ges:.           
+00004a80: 2069 6620 5474 734c 616e 6775 6167 6573   if TtsLanguages
+00004a90: 2e67 7474 735b 695d 203d 3d20 636f 6e66  .gtts[i] == conf
+00004aa0: 6967 2e67 7474 734c 616e 673a 0a20 2020  ig.gttsLang:.   
+00004ab0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00004ac0: 6175 6c74 203d 2069 0a20 2020 2020 2020  ault = i.       
+00004ad0: 2069 6620 6e6f 7420 6465 6661 756c 743a   if not default:
+00004ae0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00004af0: 6175 6c74 203d 2022 656e 220a 2020 2020  ault = "en".    
+00004b00: 2020 2020 2320 636f 6d70 6c65 7465 720a      # completer.
+00004b10: 2020 2020 2020 2020 636f 6d70 6c65 7465          complete
+00004b20: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
+00004b30: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
+00004b40: 286c 616e 6775 6167 6573 2c20 6967 6e6f  (languages, igno
+00004b50: 7265 5f63 6173 653d 5472 7565 2929 0a20  re_case=True)). 
+00004b60: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00004b70: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+00004b80: 7920 476f 6f67 6c65 2054 6578 742d 746f  y Google Text-to
+00004b90: 2d53 7065 6563 6820 6c61 6e67 7561 6765  -Speech language
+00004ba0: 3a22 290a 2020 2020 2020 2020 6c61 6e67  :").        lang
+00004bb0: 7561 6765 203d 2073 656c 662e 7072 6f6d  uage = self.prom
+00004bc0: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
+00004bd0: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
+00004be0: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
+00004bf0: 2c20 6465 6661 756c 743d 6465 6661 756c  , default=defaul
+00004c00: 742c 2070 726f 6d70 7453 6573 7369 6f6e  t, promptSession
+00004c10: 3d67 7474 735f 6c61 6e67 7561 6765 5f73  =gtts_language_s
+00004c20: 6573 7369 6f6e 2c20 636f 6d70 6c65 7465  ession, complete
+00004c30: 723d 636f 6d70 6c65 7465 7229 0a20 2020  r=completer).   
+00004c40: 2020 2020 2069 6620 6c61 6e67 7561 6765       if language
+00004c50: 2061 6e64 206e 6f74 206c 616e 6775 6167   and not languag
+00004c60: 6520 696e 2028 636f 6e66 6967 2e65 7869  e in (config.exi
+00004c70: 745f 656e 7472 792c 2063 6f6e 6669 672e  t_entry, config.
+00004c80: 6361 6e63 656c 5f65 6e74 7279 293a 0a20  cancel_entry):. 
+00004c90: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00004ca0: 672e 6774 7473 4c61 6e67 203d 206c 616e  g.gttsLang = lan
+00004cb0: 6775 6167 650a 2020 2020 2020 2020 6966  guage.        if
+00004cc0: 2063 6f6e 6669 672e 6774 7473 4c61 6e67   config.gttsLang
+00004cd0: 2069 6e20 6c61 6e67 7561 6765 733a 0a20   in languages:. 
+00004ce0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00004cf0: 672e 6774 7473 4c61 6e67 203d 2054 7473  g.gttsLang = Tts
+00004d00: 4c61 6e67 7561 6765 732e 6774 7473 5b63  Languages.gtts[c
+00004d10: 6f6e 6669 672e 6774 7473 4c61 6e67 5d0a  onfig.gttsLang].
+00004d20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00004d30: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00004d40: 2e67 7474 734c 616e 6720 3d20 2265 6e22  .gttsLang = "en"
+00004d50: 0a0a 2020 2020 2320 476f 6f67 6c65 2043  ..    # Google C
+00004d60: 6c6f 7564 2054 6578 742d 746f 2d53 7065  loud Text-to-Spe
+00004d70: 6563 6820 2841 5049 290a 2020 2020 6465  ech (API).    de
+00004d80: 6620 7365 7447 6374 7473 4c61 6e67 7561  f setGcttsLangua
+00004d90: 6765 2873 656c 6629 3a0a 2020 2020 2020  ge(self):.      
+00004da0: 2020 2320 7265 636f 7264 2069 6e20 6869    # record in hi
+00004db0: 7374 6f72 7920 666f 7220 6561 7379 2072  story for easy r
+00004dc0: 6574 7269 6576 616c 2062 7920 6d6f 7669  etrieval by movi
+00004dd0: 6e67 2061 7272 6f77 7320 7570 7761 7264  ng arrows upward
+00004de0: 7320 2f20 646f 776e 7761 7264 730a 2020  s / downwards.  
+00004df0: 2020 2020 2020 6763 7474 735f 6c61 6e67        gctts_lang
+00004e00: 7561 6765 5f68 6973 746f 7279 203d 206f  uage_history = o
+00004e10: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
+00004e20: 6967 2e68 6973 746f 7279 5061 7265 6e74  ig.historyParent
+00004e30: 466f 6c64 6572 2069 6620 636f 6e66 6967  Folder if config
+00004e40: 2e68 6973 746f 7279 5061 7265 6e74 466f  .historyParentFo
+00004e50: 6c64 6572 2065 6c73 6520 636f 6e66 6967  lder else config
+00004e60: 2e6c 6574 4d65 446f 4974 4149 466f 6c64  .letMeDoItAIFold
+00004e70: 6572 2c20 2268 6973 746f 7279 222c 2022  er, "history", "
+00004e80: 6763 7474 735f 6c61 6e67 7561 6765 2229  gctts_language")
+00004e90: 0a20 2020 2020 2020 2067 6374 7473 5f6c  .        gctts_l
+00004ea0: 616e 6775 6167 655f 7365 7373 696f 6e20  anguage_session 
+00004eb0: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
+00004ec0: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
+00004ed0: 6f72 7928 6763 7474 735f 6c61 6e67 7561  ory(gctts_langua
+00004ee0: 6765 5f68 6973 746f 7279 2929 0a20 2020  ge_history)).   
+00004ef0: 2020 2020 2023 2069 6e70 7574 2073 7567       # input sug
+00004f00: 6765 7374 696f 6e20 666f 7220 6c61 6e67  gestion for lang
+00004f10: 7561 6765 730a 2020 2020 2020 2020 6c61  uages.        la
+00004f20: 6e67 7561 6765 7320 3d20 7475 706c 6528  nguages = tuple(
+00004f30: 5474 734c 616e 6775 6167 6573 2e67 6374  TtsLanguages.gct
+00004f40: 7473 2e6b 6579 7328 2929 0a20 2020 2020  ts.keys()).     
+00004f50: 2020 2023 2064 6566 6175 6c74 0a20 2020     # default.   
+00004f60: 2020 2020 2064 6566 6175 6c74 203d 2022       default = "
+00004f70: 220a 2020 2020 2020 2020 666f 7220 6920  ".        for i 
+00004f80: 696e 206c 616e 6775 6167 6573 3a0a 2020  in languages:.  
+00004f90: 2020 2020 2020 2020 2020 6966 2054 7473            if Tts
+00004fa0: 4c61 6e67 7561 6765 732e 6763 7474 735b  Languages.gctts[
+00004fb0: 695d 203d 3d20 636f 6e66 6967 2e67 6374  i] == config.gct
+00004fc0: 7473 4c61 6e67 3a0a 2020 2020 2020 2020  tsLang:.        
+00004fd0: 2020 2020 2020 2020 6465 6661 756c 7420          default 
+00004fe0: 3d20 690a 2020 2020 2020 2020 6966 206e  = i.        if n
+00004ff0: 6f74 2064 6566 6175 6c74 3a0a 2020 2020  ot default:.    
+00005000: 2020 2020 2020 2020 6465 6661 756c 7420          default 
+00005010: 3d20 2265 6e2d 5553 220a 2020 2020 2020  = "en-US".      
+00005020: 2020 2320 636f 6d70 6c65 7465 720a 2020    # completer.  
+00005030: 2020 2020 2020 636f 6d70 6c65 7465 7220        completer 
+00005040: 3d20 4675 7a7a 7943 6f6d 706c 6574 6572  = FuzzyCompleter
+00005050: 2857 6f72 6443 6f6d 706c 6574 6572 286c  (WordCompleter(l
+00005060: 616e 6775 6167 6573 2c20 6967 6e6f 7265  anguages, ignore
+00005070: 5f63 6173 653d 5472 7565 2929 0a20 2020  _case=True)).   
+00005080: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00005090: 2250 6c65 6173 6520 7370 6563 6966 7920  "Please specify 
+000050a0: 476f 6f67 6c65 2043 6c6f 7564 2054 6578  Google Cloud Tex
+000050b0: 742d 746f 2d53 7065 6563 6820 6c61 6e67  t-to-Speech lang
+000050c0: 7561 6765 3a22 290a 2020 2020 2020 2020  uage:").        
+000050d0: 6c61 6e67 7561 6765 203d 2073 656c 662e  language = self.
+000050e0: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+000050f0: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+00005100: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+00005110: 796c 6532 2c20 6465 6661 756c 743d 6465  yle2, default=de
+00005120: 6661 756c 742c 2070 726f 6d70 7453 6573  fault, promptSes
+00005130: 7369 6f6e 3d67 6374 7473 5f6c 616e 6775  sion=gctts_langu
+00005140: 6167 655f 7365 7373 696f 6e2c 2063 6f6d  age_session, com
+00005150: 706c 6574 6572 3d63 6f6d 706c 6574 6572  pleter=completer
+00005160: 290a 2020 2020 2020 2020 6966 206c 616e  ).        if lan
+00005170: 6775 6167 6520 616e 6420 6e6f 7420 6c61  guage and not la
+00005180: 6e67 7561 6765 2069 6e20 2863 6f6e 6669  nguage in (confi
+00005190: 672e 6578 6974 5f65 6e74 7279 2c20 636f  g.exit_entry, co
+000051a0: 6e66 6967 2e63 616e 6365 6c5f 656e 7472  nfig.cancel_entr
+000051b0: 7929 3a0a 2020 2020 2020 2020 2020 2020  y):.            
+000051c0: 636f 6e66 6967 2e67 6374 7473 4c61 6e67  config.gcttsLang
+000051d0: 203d 206c 616e 6775 6167 650a 2020 2020   = language.    
+000051e0: 2020 2020 6966 2063 6f6e 6669 672e 6763      if config.gc
+000051f0: 7474 734c 616e 6720 696e 206c 616e 6775  ttsLang in langu
+00005200: 6167 6573 3a0a 2020 2020 2020 2020 2020  ages:.          
+00005210: 2020 636f 6e66 6967 2e67 6374 7473 4c61    config.gcttsLa
+00005220: 6e67 203d 2054 7473 4c61 6e67 7561 6765  ng = TtsLanguage
+00005230: 732e 6763 7474 735b 636f 6e66 6967 2e67  s.gctts[config.g
+00005240: 6374 7473 4c61 6e67 5d0a 2020 2020 2020  cttsLang].      
+00005250: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00005260: 2020 2020 636f 6e66 6967 2e67 6374 7473      config.gctts
+00005270: 4c61 6e67 203d 2022 656e 2d55 5322 0a0a  Lang = "en-US"..
+00005280: 2020 2020 6465 6620 7365 7456 6c63 5370      def setVlcSp
+00005290: 6565 6428 7365 6c66 293a 0a20 2020 2020  eed(self):.     
+000052a0: 2020 2069 6620 636f 6e66 6967 2e69 7356     if config.isV
+000052b0: 6c63 506c 6179 6572 496e 7374 616c 6c65  lcPlayerInstalle
+000052c0: 6420 616e 6420 6e6f 7420 636f 6e66 6967  d and not config
+000052d0: 2e75 7365 5079 6761 6d65 3a0a 2020 2020  .usePygame:.    
+000052e0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+000052f0: 6e74 2822 5370 6563 6966 7920 564c 4320  nt("Specify VLC 
+00005300: 706c 6179 6572 2070 6c61 7962 6163 6b20  player playback 
+00005310: 7370 6565 643a 2229 0a20 2020 2020 2020  speed:").       
+00005320: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00005330: 2228 6265 7477 6565 6e20 302e 3120 616e  "(between 0.1 an
+00005340: 6420 322e 3029 2229 0a20 2020 2020 2020  d 2.0)").       
+00005350: 2020 2020 2076 6c63 5370 6565 6420 3d20       vlcSpeed = 
+00005360: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+00005370: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+00005380: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+00005390: 6d70 7453 7479 6c65 322c 2076 616c 6964  mptStyle2, valid
+000053a0: 6174 6f72 3d46 6c6f 6174 5661 6c69 6461  ator=FloatValida
+000053b0: 746f 7228 292c 2064 6566 6175 6c74 3d73  tor(), default=s
+000053c0: 7472 2863 6f6e 6669 672e 766c 6353 7065  tr(config.vlcSpe
+000053d0: 6564 2929 0a20 2020 2020 2020 2020 2020  ed)).           
+000053e0: 2069 6620 766c 6353 7065 6564 2061 6e64   if vlcSpeed and
+000053f0: 206e 6f74 2076 6c63 5370 6565 642e 7374   not vlcSpeed.st
+00005400: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00005410: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00005420: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00005430: 2020 2020 766c 6353 7065 6564 203d 2066      vlcSpeed = f
+00005440: 6c6f 6174 2876 6c63 5370 6565 6429 0a20  loat(vlcSpeed). 
+00005450: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00005460: 6620 766c 6353 7065 6564 203c 2030 2e31  f vlcSpeed < 0.1
+00005470: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00005480: 2020 2020 2020 766c 6353 7065 6564 203d        vlcSpeed =
+00005490: 2030 2e31 0a20 2020 2020 2020 2020 2020   0.1.           
+000054a0: 2020 2020 2065 6c69 6620 766c 6353 7065       elif vlcSpe
+000054b0: 6564 203e 2032 3a0a 2020 2020 2020 2020  ed > 2:.        
+000054c0: 2020 2020 2020 2020 2020 2020 766c 6353              vlcS
+000054d0: 7065 6564 203d 2032 0a20 2020 2020 2020  peed = 2.       
+000054e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000054f0: 766c 6353 7065 6564 203d 2072 6f75 6e64  vlcSpeed = round
+00005500: 2876 6c63 5370 6565 642c 2031 290a 2020  (vlcSpeed, 1).  
+00005510: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00005520: 6c66 2e70 7269 6e74 3328 6622 564c 4320  lf.print3(f"VLC 
+00005530: 706c 6179 6572 2070 6c61 7962 6163 6b20  player playback 
+00005540: 7370 6565 643a 207b 766c 6353 7065 6564  speed: {vlcSpeed
+00005550: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
+00005560: 4763 7474 7353 7065 6564 2873 656c 6629  GcttsSpeed(self)
+00005570: 3a0a 2020 2020 2020 2020 7365 6c66 2e70  :.        self.p
+00005580: 7269 6e74 2822 5370 6563 6966 7920 476f  rint("Specify Go
+00005590: 6f67 6c65 2043 6c6f 7564 2054 6578 742d  ogle Cloud Text-
+000055a0: 746f 2d53 7065 6563 6820 706c 6179 6261  to-Speech playba
+000055b0: 636b 2073 7065 6564 3a22 290a 2020 2020  ck speed:").    
+000055c0: 2020 2020 7365 6c66 2e70 7269 6e74 2822      self.print("
+000055d0: 2862 6574 7765 656e 2030 2e31 2061 6e64  (between 0.1 and
+000055e0: 2032 2e30 2922 290a 2020 2020 2020 2020   2.0)").        
+000055f0: 6763 7474 7353 7065 6564 203d 2073 656c  gcttsSpeed = sel
+00005600: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00005610: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00005620: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00005630: 5374 796c 6532 2c20 7661 6c69 6461 746f  Style2, validato
+00005640: 723d 466c 6f61 7456 616c 6964 6174 6f72  r=FloatValidator
+00005650: 2829 2c20 6465 6661 756c 743d 7374 7228  (), default=str(
+00005660: 636f 6e66 6967 2e67 6374 7473 5370 6565  config.gcttsSpee
+00005670: 6429 290a 2020 2020 2020 2020 6966 2067  d)).        if g
+00005680: 6374 7473 5370 6565 6420 616e 6420 6e6f  cttsSpeed and no
+00005690: 7420 6763 7474 7353 7065 6564 2e73 7472  t gcttsSpeed.str
+000056a0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+000056b0: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+000056c0: 793a 0a20 2020 2020 2020 2020 2020 2067  y:.            g
+000056d0: 6374 7473 5370 6565 6420 3d20 666c 6f61  cttsSpeed = floa
+000056e0: 7428 6763 7474 7353 7065 6564 290a 2020  t(gcttsSpeed).  
+000056f0: 2020 2020 2020 2020 2020 6966 2067 6374            if gct
+00005700: 7473 5370 6565 6420 3c20 302e 313a 0a20  tsSpeed < 0.1:. 
+00005710: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00005720: 6374 7473 5370 6565 6420 3d20 302e 310a  cttsSpeed = 0.1.
+00005730: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00005740: 2067 6374 7473 5370 6565 6420 3e20 323a   gcttsSpeed > 2:
+00005750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005760: 2067 6374 7473 5370 6565 6420 3d20 320a   gcttsSpeed = 2.
+00005770: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00005780: 6967 2e67 6374 7473 5370 6565 6420 3d20  ig.gcttsSpeed = 
+00005790: 726f 756e 6428 6763 7474 7353 7065 6564  round(gcttsSpeed
+000057a0: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
+000057b0: 2073 656c 662e 7072 696e 7433 2866 2247   self.print3(f"G
+000057c0: 6f6f 676c 6520 436c 6f75 6420 5465 7874  oogle Cloud Text
+000057d0: 2d74 6f2d 5370 6565 6368 2070 6c61 7962  -to-Speech playb
+000057e0: 6163 6b20 7370 6565 643a 207b 6763 7474  ack speed: {gctt
+000057f0: 7353 7065 6564 7d22 290a 0a20 2020 2064  sSpeed}")..    d
+00005800: 6566 2073 656c 6563 7447 6f6f 676c 6541  ef selectGoogleA
+00005810: 5049 7328 7365 6c66 293a 0a20 2020 2020  PIs(self):.     
+00005820: 2020 2069 6620 6f73 2e65 6e76 6972 6f6e     if os.environ
+00005830: 5b22 474f 4f47 4c45 5f41 5050 4c49 4341  ["GOOGLE_APPLICA
+00005840: 5449 4f4e 5f43 5245 4445 4e54 4941 4c53  TION_CREDENTIALS
+00005850: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00005860: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
+00005870: 7320 3d20 7365 6c66 2e64 6961 6c6f 6773  s = self.dialogs
+00005880: 2e67 6574 4d75 6c74 6970 6c65 5365 6c65  .getMultipleSele
+00005890: 6374 696f 6e28 0a20 2020 2020 2020 2020  ction(.         
+000058a0: 2020 2020 2020 2074 6974 6c65 3d22 476f         title="Go
+000058b0: 6f67 6c65 2043 6c6f 7564 2053 6572 7669  ogle Cloud Servi
+000058c0: 6365 222c 0a20 2020 2020 2020 2020 2020  ce",.           
+000058d0: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+000058e0: 7420 746f 2065 6e61 626c 6520 476f 6f67  t to enable Goog
+000058f0: 6c65 2043 6c6f 7564 2053 6572 7669 6365  le Cloud Service
+00005900: 2069 6e20 4c65 744d 6544 6f49 7420 4149   in LetMeDoIt AI
+00005910: 3a22 2c0a 2020 2020 2020 2020 2020 2020  :",.            
+00005920: 2020 2020 6f70 7469 6f6e 733d 2822 5665      options=("Ve
+00005930: 7274 6578 2041 4922 2c20 2253 7065 6563  rtex AI", "Speec
+00005940: 682d 746f 2d54 6578 7422 2c20 2254 6578  h-to-Text", "Tex
+00005950: 742d 746f 2d53 7065 6563 6822 292c 0a20  t-to-Speech"),. 
+00005960: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00005970: 6566 6175 6c74 5f76 616c 7565 733d 636f  efault_values=co
+00005980: 6e66 6967 2e65 6e61 626c 6564 476f 6f67  nfig.enabledGoog
+00005990: 6c65 4150 4973 2c0a 2020 2020 2020 2020  leAPIs,.        
+000059a0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000059b0: 2020 6966 2065 6e61 626c 6564 476f 6f67    if enabledGoog
+000059c0: 6c65 4150 4973 2069 7320 6e6f 7420 4e6f  leAPIs is not No
+000059d0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000059e0: 2020 2020 636f 6e66 6967 2e65 6e61 626c      config.enabl
+000059f0: 6564 476f 6f67 6c65 4150 4973 203d 2065  edGoogleAPIs = e
+00005a00: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
+00005a10: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00005a20: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00005a30: 672e 656e 6162 6c65 6447 6f6f 676c 6541  g.enabledGoogleA
+00005a40: 5049 7320 3d20 5b22 5665 7274 6578 2041  PIs = ["Vertex A
+00005a50: 4922 5d0a 2020 2020 2020 2020 2020 2020  I"].            
+00005a60: 7365 6c66 2e70 7269 6e74 2866 2241 5049  self.print(f"API
+00005a70: 206b 6579 206a 736f 6e20 6669 6c65 2027   key json file '
+00005a80: 7b63 6f6e 6669 672e 676f 6f67 6c65 5f63  {config.google_c
+00005a90: 6c6f 7564 5f63 7265 6465 6e74 6961 6c73  loud_credentials
+00005aa0: 5f66 696c 657d 2720 6e6f 7420 666f 756e  _file}' not foun
+00005ab0: 6421 2229 0a20 2020 2020 2020 2020 2020  d!").           
+00005ac0: 2073 656c 662e 7072 696e 7428 2252 6561   self.print("Rea
+00005ad0: 6420 6874 7470 733a 2f2f 6769 7468 7562  d https://github
+00005ae0: 2e63 6f6d 2f65 6c69 7261 6e77 6f6e 672f  .com/eliranwong/
+00005af0: 6c65 746d 6564 6f69 742f 7769 6b69 2f47  letmedoit/wiki/G
+00005b00: 6f6f 676c 652d 4150 492d 5365 7475 7020  oogle-API-Setup 
+00005b10: 666f 7220 7365 7474 696e 6720 7570 2047  for setting up G
+00005b20: 6f6f 676c 6520 4150 492e 2229 0a20 2020  oogle API.").   
+00005b30: 2020 2020 2069 6620 2253 7065 6563 682d       if "Speech-
+00005b40: 746f 2d54 6578 7422 2069 6e20 636f 6e66  to-Text" in conf
+00005b50: 6967 2e65 6e61 626c 6564 476f 6f67 6c65  ig.enabledGoogle
+00005b60: 4150 4973 3a0a 2020 2020 2020 2020 2020  APIs:.          
+00005b70: 2020 6966 206e 6f74 2063 6f6e 6669 672e    if not config.
+00005b80: 766f 6963 6554 7970 696e 6750 6c61 7466  voiceTypingPlatf
+00005b90: 6f72 6d20 3d3d 2022 676f 6f67 6c65 636c  orm == "googlecl
+00005ba0: 6f75 6422 3a0a 2020 2020 2020 2020 2020  oud":.          
+00005bb0: 2020 2020 2020 636f 6e66 6967 2e76 6f69        config.voi
+00005bc0: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
+00005bd0: 203d 2022 676f 6f67 6c65 636c 6f75 6422   = "googlecloud"
+00005be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005bf0: 2073 656c 662e 7072 696e 7433 2822 566f   self.print3("Vo
+00005c00: 6963 6520 7479 7069 6e67 2070 6c61 7466  ice typing platf
+00005c10: 6f72 6d20 6368 616e 6765 6420 746f 3a20  orm changed to: 
+00005c20: 476f 6f67 6c65 2054 6578 742d 746f 2d53  Google Text-to-S
+00005c30: 7065 6563 6820 2841 5049 2922 290a 2020  peech (API)").  
+00005c40: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+00005c50: 6574 5370 6565 6368 546f 5465 7874 4c61  etSpeechToTextLa
+00005c60: 6e67 7561 6765 2829 0a20 2020 2020 2020  nguage().       
+00005c70: 2069 6620 2254 6578 742d 746f 2d53 7065   if "Text-to-Spe
+00005c80: 6563 6822 2069 6e20 636f 6e66 6967 2e65  ech" in config.e
+00005c90: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
+00005ca0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00005cb0: 206e 6f74 2063 6f6e 6669 672e 7474 7350   not config.ttsP
+00005cc0: 6c61 7466 6f72 6d20 3d3d 2022 676f 6f67  latform == "goog
+00005cd0: 6c65 636c 6f75 6422 3a0a 2020 2020 2020  lecloud":.      
+00005ce0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00005cf0: 2e74 7473 506c 6174 666f 726d 203d 2022  .ttsPlatform = "
+00005d00: 676f 6f67 6c65 636c 6f75 6422 0a20 2020  googlecloud".   
+00005d10: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00005d20: 662e 7072 696e 7433 2822 5465 7874 2d74  f.print3("Text-t
+00005d30: 6f2d 5370 6565 6368 2070 6c61 7466 6f72  o-Speech platfor
+00005d40: 6d20 6368 616e 6765 6420 746f 3a20 476f  m changed to: Go
+00005d50: 6f67 6c65 2054 6578 742d 746f 2d53 7065  ogle Text-to-Spe
+00005d60: 6563 6820 2841 5049 2922 290a 2020 2020  ech (API)").    
+00005d70: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
+00005d80: 4763 7474 734c 616e 6775 6167 6528 290a  GcttsLanguage().
+00005d90: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00005da0: 2e73 6574 4763 7474 7353 7065 6564 2829  .setGcttsSpeed()
+00005db0: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00005dc0: 7361 7665 436f 6e66 6967 2829 0a0a 2020  saveConfig()..  
+00005dd0: 2020 6465 6620 7365 6c65 6374 506c 7567    def selectPlug
+00005de0: 696e 7328 7365 6c66 293a 0a20 2020 2020  ins(self):.     
+00005df0: 2020 2070 6c75 6769 6e73 203d 205b 5d0a     plugins = [].
+00005e00: 2020 2020 2020 2020 656e 6162 6c65 6450          enabledP
+00005e10: 6c75 6769 6e73 203d 205b 5d0a 2020 2020  lugins = [].    
+00005e20: 2020 2020 706c 7567 696e 466f 6c64 6572      pluginFolder
+00005e30: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00005e40: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00005e50: 4149 466f 6c64 6572 2c20 2270 6c75 6769  AIFolder, "plugi
+00005e60: 6e73 2229 0a20 2020 2020 2020 2069 6620  ns").        if 
+00005e70: 7365 6c66 2e73 746f 7261 6765 4469 723a  self.storageDir:
+00005e80: 0a20 2020 2020 2020 2020 2020 2063 7573  .            cus
+00005e90: 746f 6d50 6c75 6769 6e46 6f6c 6572 203d  tomPluginFoler =
+00005ea0: 206f 732e 7061 7468 2e6a 6f69 6e28 7365   os.path.join(se
+00005eb0: 6c66 2e73 746f 7261 6765 4469 722c 2022  lf.storageDir, "
+00005ec0: 706c 7567 696e 7322 290a 2020 2020 2020  plugins").      
+00005ed0: 2020 2020 2020 5061 7468 2863 7573 746f        Path(custo
+00005ee0: 6d50 6c75 6769 6e46 6f6c 6572 292e 6d6b  mPluginFoler).mk
+00005ef0: 6469 7228 7061 7265 6e74 733d 5472 7565  dir(parents=True
+00005f00: 2c20 6578 6973 745f 6f6b 3d54 7275 6529  , exist_ok=True)
+00005f10: 0a20 2020 2020 2020 2020 2020 2070 6c75  .            plu
+00005f20: 6769 6e46 6f6c 6465 7273 203d 2028 706c  ginFolders = (pl
+00005f30: 7567 696e 466f 6c64 6572 2c20 6375 7374  uginFolder, cust
+00005f40: 6f6d 506c 7567 696e 466f 6c65 7229 0a20  omPluginFoler). 
+00005f50: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00005f60: 2020 2020 2020 2020 2070 6c75 6769 6e46           pluginF
+00005f70: 6f6c 6465 7273 203d 2028 706c 7567 696e  olders = (plugin
+00005f80: 466f 6c64 6572 2c29 0a20 2020 2020 2020  Folder,).       
+00005f90: 2066 6f72 2066 6f6c 6465 7220 696e 2070   for folder in p
+00005fa0: 6c75 6769 6e46 6f6c 6465 7273 3a0a 2020  luginFolders:.  
+00005fb0: 2020 2020 2020 2020 2020 666f 7220 706c            for pl
+00005fc0: 7567 696e 2069 6e20 4669 6c65 5574 696c  ugin in FileUtil
+00005fd0: 2e66 696c 654e 616d 6573 5769 7468 6f75  .fileNamesWithou
+00005fe0: 7445 7874 656e 7369 6f6e 2866 6f6c 6465  tExtension(folde
+00005ff0: 722c 2022 7079 2229 3a0a 2020 2020 2020  r, "py"):.      
+00006000: 2020 2020 2020 2020 2020 706c 7567 696e            plugin
+00006010: 732e 6170 7065 6e64 2870 6c75 6769 6e29  s.append(plugin)
+00006020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006030: 2069 6620 6e6f 7420 706c 7567 696e 2069   if not plugin i
+00006040: 6e20 636f 6e66 6967 2e70 6c75 6769 6e45  n config.pluginE
+00006050: 7863 6c75 6465 4c69 7374 3a0a 2020 2020  xcludeList:.    
+00006060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006070: 656e 6162 6c65 6450 6c75 6769 6e73 2e61  enabledPlugins.a
+00006080: 7070 656e 6428 706c 7567 696e 290a 2020  ppend(plugin).  
+00006090: 2020 2020 2020 656e 6162 6c65 6450 6c75        enabledPlu
+000060a0: 6769 6e73 203d 2073 656c 662e 6469 616c  gins = self.dial
+000060b0: 6f67 732e 6765 744d 756c 7469 706c 6553  ogs.getMultipleS
+000060c0: 656c 6563 7469 6f6e 280a 2020 2020 2020  election(.      
+000060d0: 2020 2020 2020 7469 746c 653d 2245 6e61        title="Ena
+000060e0: 626c 6520 2f20 4469 7361 626c 6520 506c  ble / Disable Pl
+000060f0: 7567 696e 7322 2c0a 2020 2020 2020 2020  ugins",.        
+00006100: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
+00006110: 2074 6f20 656e 6162 6c65 2070 6c75 6769   to enable plugi
+00006120: 6e28 7329 3a22 2c0a 2020 2020 2020 2020  n(s):",.        
+00006130: 2020 2020 6f70 7469 6f6e 733d 706c 7567      options=plug
+00006140: 696e 732c 0a20 2020 2020 2020 2020 2020  ins,.           
+00006150: 2064 6566 6175 6c74 5f76 616c 7565 733d   default_values=
+00006160: 656e 6162 6c65 6450 6c75 6769 6e73 2c0a  enabledPlugins,.
+00006170: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00006180: 2020 6966 2065 6e61 626c 6564 506c 7567    if enabledPlug
+00006190: 696e 7320 6973 206e 6f74 204e 6f6e 653a  ins is not None:
+000061a0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+000061b0: 2070 2069 6e20 706c 7567 696e 733a 0a20   p in plugins:. 
+000061c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000061d0: 6620 7020 696e 2065 6e61 626c 6564 506c  f p in enabledPl
+000061e0: 7567 696e 7320 616e 6420 7020 696e 2063  ugins and p in c
+000061f0: 6f6e 6669 672e 706c 7567 696e 4578 636c  onfig.pluginExcl
+00006200: 7564 654c 6973 743a 0a20 2020 2020 2020  udeList:.       
+00006210: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00006220: 6669 672e 706c 7567 696e 4578 636c 7564  fig.pluginExclud
+00006230: 654c 6973 742e 7265 6d6f 7665 2870 290a  eList.remove(p).
+00006240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006250: 656c 6966 206e 6f74 2070 2069 6e20 656e  elif not p in en
+00006260: 6162 6c65 6450 6c75 6769 6e73 2061 6e64  abledPlugins and
+00006270: 206e 6f74 2070 2069 6e20 636f 6e66 6967   not p in config
+00006280: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
+00006290: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+000062a0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+000062b0: 6c75 6769 6e45 7863 6c75 6465 4c69 7374  luginExcludeList
+000062c0: 2e61 7070 656e 6428 7029 0a20 2020 2020  .append(p).     
+000062d0: 2020 2020 2020 2073 656c 662e 7275 6e50         self.runP
+000062e0: 6c75 6769 6e73 2829 0a20 2020 2020 2020  lugins().       
+000062f0: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00006300: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+00006310: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00006320: 2250 6c75 6769 6e20 7365 6c65 6374 696f  "Plugin selectio
+00006330: 6e20 7570 6461 7465 6421 2229 0a0a 2020  n updated!")..  
+00006340: 2020 6465 6620 6765 7443 6c69 4f75 7470    def getCliOutp
+00006350: 7574 2873 656c 662c 2063 6c69 293a 0a20  ut(self, cli):. 
+00006360: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00006370: 2020 2020 2020 2020 7072 6f63 6573 7320          process 
+00006380: 3d20 7375 6270 726f 6365 7373 2e50 6f70  = subprocess.Pop
+00006390: 656e 2863 6c69 2c20 7368 656c 6c3d 5472  en(cli, shell=Tr
+000063a0: 7565 2c20 7374 646f 7574 3d73 7562 7072  ue, stdout=subpr
+000063b0: 6f63 6573 732e 5049 5045 2c20 7374 6465  ocess.PIPE, stde
+000063c0: 7272 3d73 7562 7072 6f63 6573 732e 5049  rr=subprocess.PI
+000063d0: 5045 290a 2020 2020 2020 2020 2020 2020  PE).            
+000063e0: 7374 646f 7574 2c20 2a5f 203d 2070 726f  stdout, *_ = pro
+000063f0: 6365 7373 2e63 6f6d 6d75 6e69 6361 7465  cess.communicate
+00006400: 2829 0a20 2020 2020 2020 2020 2020 2072  ().            r
+00006410: 6574 7572 6e20 7374 646f 7574 2e64 6563  eturn stdout.dec
+00006420: 6f64 6528 2275 7466 2d38 2229 0a20 2020  ode("utf-8").   
+00006430: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+00006440: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00006450: 2222 0a0a 2020 2020 6465 6620 6669 6e67  ""..    def fing
+00006460: 6572 7072 696e 7428 7365 6c66 293a 0a20  erprint(self):. 
+00006470: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00006480: 2020 2020 2020 2020 6f75 7470 7574 203d          output =
+00006490: 206a 736f 6e2e 6c6f 6164 7328 7365 6c66   json.loads(self
+000064a0: 2e67 6574 436c 694f 7574 7075 7428 2274  .getCliOutput("t
+000064b0: 6572 6d75 782d 6669 6e67 6572 7072 696e  ermux-fingerprin
+000064c0: 7422 2929 0a20 2020 2020 2020 2020 2020  t")).           
+000064d0: 2072 6574 7572 6e20 5472 7565 2069 6620   return True if 
+000064e0: 6f75 7470 7574 5b22 6175 7468 5f72 6573  output["auth_res
+000064f0: 756c 7422 5d20 3d3d 2022 4155 5448 5f52  ult"] == "AUTH_R
+00006500: 4553 554c 545f 5355 4343 4553 5322 2065  ESULT_SUCCESS" e
+00006510: 6c73 6520 4661 6c73 650a 2020 2020 2020  lse False.      
+00006520: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
+00006530: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+00006540: 7365 0a0a 2020 2020 6465 6620 6368 616e  se..    def chan
+00006550: 6765 4150 496b 6579 2873 656c 6629 3a0a  geAPIkey(self):.
+00006560: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00006570: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
+00006580: 6162 6c65 5465 726d 7578 4150 4920 6f72  ableTermuxAPI or
+00006590: 2028 636f 6e66 6967 2e74 6572 6d69 6e61   (config.termina
+000065a0: 6c45 6e61 626c 6554 6572 6d75 7841 5049  lEnableTermuxAPI
+000065b0: 2061 6e64 2073 656c 662e 6669 6e67 6572   and self.finger
+000065c0: 7072 696e 7428 2929 3a0a 2020 2020 2020  print()):.      
+000065d0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+000065e0: 2822 456e 7465 7220 796f 7572 204f 7065  ("Enter your Ope
+000065f0: 6e41 4920 4150 4920 4b65 7920 5b72 6571  nAI API Key [req
+00006600: 7569 7265 645d 3a22 290a 2020 2020 2020  uired]:").      
+00006610: 2020 2020 2020 6170 696b 6579 203d 2073        apikey = s
+00006620: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00006630: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00006640: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00006650: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
+00006660: 743d 636f 6e66 6967 2e6f 7065 6e61 6941  t=config.openaiA
+00006670: 7069 4b65 792c 2069 735f 7061 7373 776f  piKey, is_passwo
+00006680: 7264 3d54 7275 6529 0a20 2020 2020 2020  rd=True).       
+00006690: 2020 2020 2069 6620 6170 696b 6579 2061       if apikey a
+000066a0: 6e64 206e 6f74 2061 7069 6b65 792e 7374  nd not apikey.st
+000066b0: 7269 7028 292e 6c6f 7765 7228 2920 696e  rip().lower() in
+000066c0: 2028 636f 6e66 6967 2e63 616e 6365 6c5f   (config.cancel_
+000066d0: 656e 7472 792c 2063 6f6e 6669 672e 6578  entry, config.ex
+000066e0: 6974 5f65 6e74 7279 293a 0a20 2020 2020  it_entry):.     
+000066f0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00006700: 672e 6f70 656e 6169 4170 694b 6579 203d  g.openaiApiKey =
+00006710: 2061 7069 6b65 790a 2020 2020 2020 2020   apikey.        
+00006720: 2020 2020 2373 656c 662e 7072 696e 7428      #self.print(
+00006730: 2245 6e74 6572 2079 6f75 7220 4f72 6761  "Enter your Orga
+00006740: 6e69 7a61 7469 6f6e 2049 4420 5b6f 7074  nization ID [opt
+00006750: 696f 6e61 6c5d 3a22 290a 2020 2020 2020  ional]:").      
+00006760: 2020 2020 2020 236f 6964 203d 2073 656c        #oid = sel
+00006770: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00006780: 5072 6f6d 7074 2864 6566 6175 6c74 3d63  Prompt(default=c
+00006790: 6f6e 6669 672e 6f70 656e 6169 4170 694f  onfig.openaiApiO
+000067a0: 7267 616e 697a 6174 696f 6e2c 2069 735f  rganization, is_
+000067b0: 7061 7373 776f 7264 3d54 7275 6529 0a20  password=True). 
+000067c0: 2020 2020 2020 2020 2020 2023 6966 206f             #if o
+000067d0: 6964 2061 6e64 206e 6f74 206f 6964 2e73  id and not oid.s
+000067e0: 7472 6970 2829 2e6c 6f77 6572 2829 2069  trip().lower() i
+000067f0: 6e20 2863 6f6e 6669 672e 6361 6e63 656c  n (config.cancel
+00006800: 5f65 6e74 7279 2c20 636f 6e66 6967 2e65  _entry, config.e
+00006810: 7869 745f 656e 7472 7929 3a0a 2020 2020  xit_entry):.    
+00006820: 2020 2020 2020 2020 2320 2020 2063 6f6e          #    con
+00006830: 6669 672e 6f70 656e 6169 4170 694f 7267  fig.openaiApiOrg
+00006840: 616e 697a 6174 696f 6e20 3d20 6f69 640a  anization = oid.
+00006850: 2020 2020 2020 2020 2020 2020 5368 6172              Shar
+00006860: 6564 5574 696c 2e63 6865 636b 436f 6d70  edUtil.checkComp
+00006870: 6c65 7469 6f6e 2829 0a20 2020 2020 2020  letion().       
+00006880: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00006890: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+000068a0: 2020 2020 2073 656c 662e 7072 696e 7432       self.print2
+000068b0: 2822 436f 6e66 6967 7572 6174 696f 6e73  ("Configurations
+000068c0: 2075 7064 6174 6564 2122 290a 0a20 2020   updated!")..   
+000068d0: 2064 6566 2063 6861 6e67 654f 7065 6e77   def changeOpenw
+000068e0: 6561 7468 6572 6d61 7041 7069 2873 656c  eathermapApi(sel
+000068f0: 6629 3a0a 2020 2020 2020 2020 6966 206e  f):.        if n
+00006900: 6f74 2063 6f6e 6669 672e 7465 726d 696e  ot config.termin
+00006910: 616c 456e 6162 6c65 5465 726d 7578 4150  alEnableTermuxAP
+00006920: 4920 6f72 2028 636f 6e66 6967 2e74 6572  I or (config.ter
+00006930: 6d69 6e61 6c45 6e61 626c 6554 6572 6d75  minalEnableTermu
+00006940: 7841 5049 2061 6e64 2073 656c 662e 6669  xAPI and self.fi
+00006950: 6e67 6572 7072 696e 7428 2929 3a0a 2020  ngerprint()):.  
+00006960: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00006970: 7269 6e74 2822 546f 2073 6574 2075 7020  rint("To set up 
+00006980: 4f70 656e 5765 6174 6865 724d 6170 2041  OpenWeatherMap A
+00006990: 5049 204b 6579 2c20 7265 6164 3a5c 6e68  PI Key, read:\nh
+000069a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000069b0: 6d2f 656c 6972 616e 776f 6e67 2f6c 6574  m/eliranwong/let
+000069c0: 6d65 646f 6974 2f77 696b 692f 4f70 656e  medoit/wiki/Open
+000069d0: 5765 6174 6865 724d 6170 2d41 5049 2d53  WeatherMap-API-S
+000069e0: 6574 7570 5c6e 2229 0a20 2020 2020 2020  etup\n").       
+000069f0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00006a00: 2245 6e74 6572 2079 6f75 7220 4f70 656e  "Enter your Open
+00006a10: 5765 6174 6865 724d 6170 2041 5049 204b  WeatherMap API K
+00006a20: 6579 3a22 290a 2020 2020 2020 2020 2020  ey:").          
+00006a30: 2020 7072 696e 7428 290a 2020 2020 2020    print().      
+00006a40: 2020 2020 2020 6170 696b 6579 203d 2073        apikey = s
+00006a50: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00006a60: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00006a70: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00006a80: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
+00006a90: 743d 636f 6e66 6967 2e6f 7065 6e77 6561  t=config.openwea
+00006aa0: 7468 6572 6d61 7041 7069 2c20 6973 5f70  thermapApi, is_p
+00006ab0: 6173 7377 6f72 643d 5472 7565 290a 2020  assword=True).  
+00006ac0: 2020 2020 2020 2020 2020 6966 2061 7069            if api
+00006ad0: 6b65 7920 616e 6420 6e6f 7420 6170 696b  key and not apik
+00006ae0: 6579 2e73 7472 6970 2829 2e6c 6f77 6572  ey.strip().lower
+00006af0: 2829 2069 6e20 2863 6f6e 6669 672e 6361  () in (config.ca
+00006b00: 6e63 656c 5f65 6e74 7279 2c20 636f 6e66  ncel_entry, conf
+00006b10: 6967 2e65 7869 745f 656e 7472 7929 3a0a  ig.exit_entry):.
+00006b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b30: 636f 6e66 6967 2e6f 7065 6e77 6561 7468  config.openweath
+00006b40: 6572 6d61 7041 7069 203d 2061 7069 6b65  ermapApi = apike
+00006b50: 790a 2020 2020 2020 2020 2020 2020 6966  y.            if
+00006b60: 2053 6861 7265 6455 7469 6c2e 6765 7457   SharedUtil.getW
+00006b70: 6561 7468 6572 2829 2069 7320 6e6f 7420  eather() is not 
+00006b80: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00006b90: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
+00006ba0: 6543 6f6e 6669 6728 290a 2020 2020 2020  eConfig().      
+00006bb0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00006bc0: 7269 6e74 3228 2243 6f6e 6669 6775 7261  rint2("Configura
+00006bd0: 7469 6f6e 7320 7570 6461 7465 6421 2229  tions updated!")
+00006be0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00006bf0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00006c00: 2020 2063 6f6e 6669 672e 6f70 656e 7765     config.openwe
+00006c10: 6174 6865 726d 6170 4170 6920 3d20 2222  athermapApi = ""
+00006c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006c30: 2073 656c 662e 7072 696e 7432 2822 496e   self.print2("In
+00006c40: 7661 6c69 6420 4150 4920 6b65 7920 656e  valid API key en
+00006c50: 7465 7265 6421 2229 0a0a 2020 2020 6465  tered!")..    de
+00006c60: 6620 6368 616e 6765 456c 6576 656e 6c61  f changeElevenla
+00006c70: 6273 4170 6928 7365 6c66 293a 0a20 2020  bsApi(self):.   
+00006c80: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+00006c90: 6967 2e74 6572 6d69 6e61 6c45 6e61 626c  ig.terminalEnabl
+00006ca0: 6554 6572 6d75 7841 5049 206f 7220 2863  eTermuxAPI or (c
+00006cb0: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
+00006cc0: 6162 6c65 5465 726d 7578 4150 4920 616e  ableTermuxAPI an
+00006cd0: 6420 7365 6c66 2e66 696e 6765 7270 7269  d self.fingerpri
+00006ce0: 6e74 2829 293a 0a20 2020 2020 2020 2020  nt()):.         
+00006cf0: 2020 2073 656c 662e 7072 696e 7428 2254     self.print("T
+00006d00: 6f20 7365 7420 7570 2045 6c65 7665 6e4c  o set up ElevenL
+00006d10: 6162 7320 4150 4920 4b65 792c 2072 6561  abs API Key, rea
+00006d20: 643a 5c6e 6874 7470 733a 2f2f 656c 6576  d:\nhttps://elev
+00006d30: 656e 6c61 6273 2e69 6f2f 646f 6373 2f61  enlabs.io/docs/a
+00006d40: 7069 2d72 6566 6572 656e 6365 2f74 6578  pi-reference/tex
+00006d50: 742d 746f 2d73 7065 6563 6823 6175 7468  t-to-speech#auth
+00006d60: 656e 7469 6361 7469 6f6e 5c6e 2229 0a20  entication\n"). 
+00006d70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006d80: 7072 696e 7428 2245 6e74 6572 2079 6f75  print("Enter you
+00006d90: 7220 456c 6576 656e 4c61 6273 2041 5049  r ElevenLabs API
+00006da0: 204b 6579 3a22 290a 2020 2020 2020 2020   Key:").        
+00006db0: 2020 2020 7072 696e 7428 290a 2020 2020      print().    
+00006dc0: 2020 2020 2020 2020 6170 696b 6579 203d          apikey =
+00006dd0: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
+00006de0: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
+00006df0: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
+00006e00: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
+00006e10: 756c 743d 636f 6e66 6967 2e65 6c65 7665  ult=config.eleve
+00006e20: 6e6c 6162 7341 7069 2c20 6973 5f70 6173  nlabsApi, is_pas
+00006e30: 7377 6f72 643d 5472 7565 290a 2020 2020  sword=True).    
+00006e40: 2020 2020 2020 2020 6966 2061 7069 6b65          if apike
+00006e50: 7920 616e 6420 6e6f 7420 6170 696b 6579  y and not apikey
+00006e60: 2e73 7472 6970 2829 2e6c 6f77 6572 2829  .strip().lower()
+00006e70: 2069 6e20 2863 6f6e 6669 672e 6361 6e63   in (config.canc
+00006e80: 656c 5f65 6e74 7279 2c20 636f 6e66 6967  el_entry, config
+00006e90: 2e65 7869 745f 656e 7472 7929 3a0a 2020  .exit_entry):.  
+00006ea0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00006eb0: 6e66 6967 2e65 6c65 7665 6e6c 6162 7341  nfig.elevenlabsA
+00006ec0: 7069 203d 2061 7069 6b65 790a 2020 2020  pi = apikey.    
+00006ed0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00006ee0: 2020 2020 2020 2020 2020 2020 2023 2074               # t
+00006ef0: 6573 7469 6e67 0a20 2020 2020 2020 2020  esting.         
+00006f00: 2020 2020 2020 2067 656e 6572 6174 6528         generate(
+00006f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006f20: 2020 2020 2061 7069 5f6b 6579 3d63 6f6e       api_key=con
+00006f30: 6669 672e 656c 6576 656e 6c61 6273 4170  fig.elevenlabsAp
+00006f40: 692c 2023 2044 6566 6175 6c74 7320 746f  i, # Defaults to
+00006f50: 206f 732e 6765 7465 6e76 2845 4c45 5645   os.getenv(ELEVE
+00006f60: 4e5f 4150 495f 4b45 5929 0a20 2020 2020  N_API_KEY).     
+00006f70: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00006f80: 6578 743d 2274 6573 7422 2c0a 2020 2020  ext="test",.    
+00006f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006fa0: 766f 6963 653d 2252 6163 6865 6c22 2c0a  voice="Rachel",.
+00006fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006fc0: 2020 2020 6d6f 6465 6c3d 2265 6c65 7665      model="eleve
+00006fd0: 6e5f 6d75 6c74 696c 696e 6775 616c 5f76  n_multilingual_v
+00006fe0: 3222 0a20 2020 2020 2020 2020 2020 2020  2".             
+00006ff0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00007000: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00007010: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+00007020: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00007030: 696e 7432 2822 436f 6e66 6967 7572 6174  int2("Configurat
+00007040: 696f 6e73 2075 7064 6174 6564 2122 290a  ions updated!").
+00007050: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00007060: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+00007070: 2020 2020 636f 6e66 6967 2e65 6c65 7665      config.eleve
+00007080: 6e6c 6162 7341 7069 203d 2022 220a 2020  nlabsApi = "".  
+00007090: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000070a0: 6c66 2e70 7269 6e74 3228 2249 6e76 616c  lf.print2("Inval
+000070b0: 6964 2041 5049 206b 6579 2065 6e74 6572  id API key enter
+000070c0: 6564 2122 290a 0a20 2020 2064 6566 2065  ed!")..    def e
+000070d0: 7869 7441 6374 696f 6e28 7365 6c66 293a  xitAction(self):
+000070e0: 0a20 2020 2020 2020 206d 6573 7361 6765  .        message
+000070f0: 203d 2022 636c 6f73 696e 6720 2e2e 2e22   = "closing ..."
+00007100: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+00007110: 696e 7432 286d 6573 7361 6765 290a 2020  int2(message).  
+00007120: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00007130: 2873 656c 662e 6469 7669 6465 7229 0a20  (self.divider). 
+00007140: 2020 2020 2020 2072 6574 7572 6e20 2222         return ""
+00007150: 0a0a 2020 2020 6465 6620 7072 696e 7428  ..    def print(
+00007160: 7365 6c66 2c20 636f 6e74 656e 7429 3a0a  self, content):.
+00007170: 2020 2020 2020 2020 636f 6e74 656e 7420          content 
+00007180: 3d20 5368 6172 6564 5574 696c 2e74 7261  = SharedUtil.tra
+00007190: 6e73 666f 726d 5465 7874 2863 6f6e 7465  nsformText(conte
+000071a0: 6e74 290a 2020 2020 2020 2020 6966 2063  nt).        if c
+000071b0: 6f6e 6669 672e 7772 6170 576f 7264 733a  onfig.wrapWords:
+000071c0: 0a20 2020 2020 2020 2020 2020 2023 2077  .            # w
+000071d0: 7261 7020 776f 7264 7320 746f 2066 6974  rap words to fit
+000071e0: 2074 6572 6d69 6e61 6c20 7769 6474 680a   terminal width.
+000071f0: 2020 2020 2020 2020 2020 2020 7465 726d              term
+00007200: 696e 616c 5f77 6964 7468 203d 2073 6875  inal_width = shu
+00007210: 7469 6c2e 6765 745f 7465 726d 696e 616c  til.get_terminal
+00007220: 5f73 697a 6528 292e 636f 6c75 6d6e 730a  _size().columns.
+00007230: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+00007240: 7428 5374 7265 616d 696e 6757 6f72 6457  t(StreamingWordW
+00007250: 7261 7070 6572 2e77 7261 7054 6578 7428  rapper.wrapText(
+00007260: 636f 6e74 656e 742c 2074 6572 6d69 6e61  content, termina
+00007270: 6c5f 7769 6474 6829 290a 2020 2020 2020  l_width)).      
+00007280: 2020 2020 2020 2320 7265 6d61 726b 733a        # remarks:
+00007290: 2027 666f 6c64 2720 6f72 2027 666d 7427   'fold' or 'fmt'
+000072a0: 2064 6f65 7320 6e6f 7420 776f 726b 206f   does not work o
+000072b0: 6e20 5769 6e64 6f77 730a 2020 2020 2020  n Windows.      
+000072c0: 2020 2020 2020 2320 7079 646f 632e 7069        # pydoc.pi
+000072d0: 7065 7061 6765 7228 6622 7b63 6f6e 7465  pepager(f"{conte
+000072e0: 6e74 7d5c 6e22 2c20 636d 643d 6622 666f  nt}\n", cmd=f"fo
+000072f0: 6c64 202d 7320 2d77 207b 7465 726d 696e  ld -s -w {termin
+00007300: 616c 5f77 6964 7468 7d22 290a 2020 2020  al_width}").    
+00007310: 2020 2020 2020 2020 2320 7079 646f 632e          # pydoc.
+00007320: 7069 7065 7061 6765 7228 6622 7b63 6f6e  pipepager(f"{con
+00007330: 7465 6e74 7d5c 6e22 2c20 636d 643d 6622  tent}\n", cmd=f"
+00007340: 666d 7420 2d77 207b 7465 726d 696e 616c  fmt -w {terminal
+00007350: 5f77 6964 7468 7d22 290a 2020 2020 2020  _width}").      
+00007360: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00007370: 2020 2020 7072 696e 7428 636f 6e74 656e      print(conten
+00007380: 7429 0a0a 2020 2020 6465 6620 7072 696e  t)..    def prin
+00007390: 7432 2873 656c 662c 2063 6f6e 7465 6e74  t2(self, content
+000073a0: 293a 0a20 2020 2020 2020 2070 7269 6e74  ):.        print
+000073b0: 5f66 6f72 6d61 7474 6564 5f74 6578 7428  _formatted_text(
+000073c0: 4854 4d4c 2866 223c 7b63 6f6e 6669 672e  HTML(f"<{config.
+000073d0: 7465 726d 696e 616c 5072 6f6d 7074 496e  terminalPromptIn
+000073e0: 6469 6361 746f 7243 6f6c 6f72 327d 3e7b  dicatorColor2}>{
+000073f0: 636f 6e74 656e 747d 3c2f 7b63 6f6e 6669  content}</{confi
+00007400: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+00007410: 496e 6469 6361 746f 7243 6f6c 6f72 327d  IndicatorColor2}
+00007420: 3e22 2929 0a0a 2020 2020 6465 6620 7072  >"))..    def pr
+00007430: 696e 7433 2873 656c 662c 2063 6f6e 7465  int3(self, conte
+00007440: 6e74 293a 0a20 2020 2020 2020 2073 706c  nt):.        spl
+00007450: 6974 7465 6443 6f6e 7465 6e74 203d 2063  ittedContent = c
+00007460: 6f6e 7465 6e74 2e73 706c 6974 2822 3a20  ontent.split(": 
+00007470: 222c 2031 290a 2020 2020 2020 2020 6966  ", 1).        if
+00007480: 206c 656e 2873 706c 6974 7465 6443 6f6e   len(splittedCon
+00007490: 7465 6e74 2920 3d3d 2032 3a0a 2020 2020  tent) == 2:.    
+000074a0: 2020 2020 2020 2020 6b65 792c 2076 616c          key, val
+000074b0: 7565 203d 2073 706c 6974 7465 6443 6f6e  ue = splittedCon
+000074c0: 7465 6e74 0a20 2020 2020 2020 2020 2020  tent.           
+000074d0: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
+000074e0: 5f74 6578 7428 4854 4d4c 2866 223c 7b63  _text(HTML(f"<{c
+000074f0: 6f6e 6669 672e 7465 726d 696e 616c 5072  onfig.terminalPr
+00007500: 6f6d 7074 496e 6469 6361 746f 7243 6f6c  omptIndicatorCol
+00007510: 6f72 327d 3e7b 6b65 797d 3a3c 2f7b 636f  or2}>{key}:</{co
+00007520: 6e66 6967 2e74 6572 6d69 6e61 6c50 726f  nfig.terminalPro
+00007530: 6d70 7449 6e64 6963 6174 6f72 436f 6c6f  mptIndicatorColo
+00007540: 7232 7d3e 207b 7661 6c75 657d 2229 290a  r2}> {value}")).
+00007550: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00007560: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00007570: 7269 6e74 3228 7370 6c69 7474 6564 436f  rint2(splittedCo
+00007580: 6e74 656e 7429 0a0a 2020 2020 6465 6620  ntent)..    def 
+00007590: 7370 696e 6e69 6e67 5f61 6e69 6d61 7469  spinning_animati
+000075a0: 6f6e 2873 656c 662c 2073 746f 705f 6576  on(self, stop_ev
+000075b0: 656e 7429 3a0a 2020 2020 2020 2020 7768  ent):.        wh
+000075c0: 696c 6520 6e6f 7420 7374 6f70 5f65 7665  ile not stop_eve
+000075d0: 6e74 2e69 735f 7365 7428 293a 0a20 2020  nt.is_set():.   
+000075e0: 2020 2020 2020 2020 2066 6f72 2073 796d           for sym
+000075f0: 626f 6c20 696e 2022 7c2f 2d5c 5c22 3a0a  bol in "|/-\\":.
+00007600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007610: 7072 696e 7428 7379 6d62 6f6c 2c20 656e  print(symbol, en
+00007620: 643d 225c 7222 290a 2020 2020 2020 2020  d="\r").        
+00007630: 2020 2020 2020 2020 7469 6d65 2e73 6c65          time.sle
+00007640: 6570 2830 2e31 290a 2020 2020 2020 2020  ep(0.1).        
+00007650: 2370 7269 6e74 2822 5c72 222c 2065 6e64  #print("\r", end
+00007660: 3d22 2229 0a20 2020 2020 2020 2023 7072  ="").        #pr
+00007670: 696e 7428 2220 222c 2065 6e64 3d22 2229  int(" ", end="")
+00007680: 0a0a 2320 2020 2064 6566 2067 6574 4368  ..#    def getCh
+00007690: 6174 5265 7370 6f6e 7365 2873 656c 662c  atResponse(self,
+000076a0: 2063 6f6d 706c 6574 696f 6e29 3a0a 2320   completion):.# 
+000076b0: 2020 2020 2020 2063 6861 745f 7265 7370         chat_resp
+000076c0: 6f6e 7365 203d 2063 6f6d 706c 6574 696f  onse = completio
+000076d0: 6e5b 2263 686f 6963 6573 225d 5b30 5d5b  n["choices"][0][
+000076e0: 226d 6573 7361 6765 225d 5b22 636f 6e74  "message"]["cont
+000076f0: 656e 7422 5d0a 2320 2020 2020 2020 2023  ent"].#        #
+00007700: 2074 7261 6e73 666f 726d 2072 6573 706f   transform respo
+00007710: 6e73 6520 7769 7468 2070 6c75 6769 6e73  nse with plugins
+00007720: 0a23 2020 2020 2020 2020 6966 2063 6861  .#        if cha
+00007730: 745f 7265 7370 6f6e 7365 3a0a 2320 2020  t_response:.#   
+00007740: 2020 2020 2020 2020 2066 6f72 2074 2069           for t i
+00007750: 6e20 636f 6e66 6967 2e6f 7574 7075 7454  n config.outputT
+00007760: 7261 6e73 666f 726d 6572 733a 0a23 2020  ransformers:.#  
+00007770: 2020 2020 2020 2020 2020 2020 2020 6368                ch
+00007780: 6174 5f72 6573 706f 6e73 6520 3d20 7428  at_response = t(
+00007790: 6368 6174 5f72 6573 706f 6e73 6529 0a23  chat_response).#
+000077a0: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+000077b0: 6861 745f 7265 7370 6f6e 7365 0a0a 2020  hat_response..  
+000077c0: 2020 6465 6620 636f 6e66 6972 6d45 7865    def confirmExe
+000077d0: 6375 7469 6f6e 2873 656c 662c 2072 6973  cution(self, ris
+000077e0: 6b29 3a0a 2020 2020 2020 2020 6966 2063  k):.        if c
+000077f0: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
+00007800: 6375 7469 6f6e 203d 3d20 2261 6c77 6179  cution == "alway
+00007810: 7322 206f 7220 2872 6973 6b20 3d3d 2022  s" or (risk == "
+00007820: 6869 6768 2220 616e 6420 636f 6e66 6967  high" and config
+00007830: 2e63 6f6e 6669 726d 4578 6563 7574 696f  .confirmExecutio
+00007840: 6e20 3d3d 2022 6869 6768 5f72 6973 6b5f  n == "high_risk_
+00007850: 6f6e 6c79 2229 206f 7220 286e 6f74 2072  only") or (not r
+00007860: 6973 6b20 3d3d 2022 6c6f 7722 2061 6e64  isk == "low" and
+00007870: 2063 6f6e 6669 672e 636f 6e66 6972 6d45   config.confirmE
+00007880: 7865 6375 7469 6f6e 203d 3d20 226d 6564  xecution == "med
+00007890: 6975 6d5f 7269 736b 5f6f 725f 6162 6f76  ium_risk_or_abov
+000078a0: 6522 293a 0a20 2020 2020 2020 2020 2020  e"):.           
+000078b0: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
+000078c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000078d0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+000078e0: 6c73 650a 0a20 2020 2064 6566 2073 686f  lse..    def sho
+000078f0: 7752 6973 6b28 7365 6c66 2c20 7269 736b  wRisk(self, risk
+00007900: 293a 0a20 2020 2020 2020 2069 6620 6e6f  ):.        if no
+00007910: 7420 636f 6e66 6967 2e63 6f6e 6669 726d  t config.confirm
+00007920: 4578 6563 7574 696f 6e20 696e 2028 2261  Execution in ("a
+00007930: 6c77 6179 7322 2c20 226d 6564 6975 6d5f  lways", "medium_
+00007940: 7269 736b 5f6f 725f 6162 6f76 6522 2c20  risk_or_above", 
+00007950: 2268 6967 685f 7269 736b 5f6f 6e6c 7922  "high_risk_only"
+00007960: 2c20 226e 6f6e 6522 293a 0a20 2020 2020  , "none"):.     
+00007970: 2020 2020 2020 2063 6f6e 6669 672e 636f         config.co
+00007980: 6e66 6972 6d45 7865 6375 7469 6f6e 203d  nfirmExecution =
+00007990: 2022 616c 7761 7973 220a 2020 2020 2020   "always".      
+000079a0: 2020 7365 6c66 2e70 7269 6e74 2866 225b    self.print(f"[
+000079b0: 7269 736b 206c 6576 656c 3a20 7b72 6973  risk level: {ris
+000079c0: 6b7d 5d22 290a 0a20 2020 2064 6566 2073  k}]")..    def s
+000079d0: 6574 7570 5465 726d 7578 4578 6563 7574  etupTermuxExecut
+000079e0: 696f 6e28 7365 6c66 293a 0a20 2020 2020  ion(self):.     
+000079f0: 2020 2064 6566 2065 7865 6375 7465 5f74     def execute_t
+00007a00: 6572 6d75 785f 636f 6d6d 616e 6428 6675  ermux_command(fu
+00007a10: 6e63 7469 6f6e 5f61 7267 7329 3a0a 2020  nction_args):.  
+00007a20: 2020 2020 2020 2020 2020 2320 7265 7472            # retr
+00007a30: 6965 7665 2061 7267 756d 656e 7420 7661  ieve argument va
+00007a40: 6c75 6573 2066 726f 6d20 6120 6469 6374  lues from a dict
+00007a50: 696f 6e61 7279 0a20 2020 2020 2020 2020  ionary.         
+00007a60: 2020 2072 6973 6b20 3d20 6675 6e63 7469     risk = functi
+00007a70: 6f6e 5f61 7267 732e 6765 7428 2272 6973  on_args.get("ris
+00007a80: 6b22 2920 2320 7265 7175 6972 6564 0a20  k") # required. 
+00007a90: 2020 2020 2020 2020 2020 2074 6974 6c65             title
+00007aa0: 203d 2066 756e 6374 696f 6e5f 6172 6773   = function_args
+00007ab0: 2e67 6574 2822 7469 746c 6522 2920 2320  .get("title") # 
+00007ac0: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+00007ad0: 2020 2020 2023 7368 6172 6564 5465 7874       #sharedText
+00007ae0: 203d 2066 756e 6374 696f 6e5f 6172 6773   = function_args
+00007af0: 2e67 6574 2822 6d65 7373 6167 6522 2c20  .get("message", 
+00007b00: 2222 2920 2320 6f70 7469 6f6e 616c 0a20  "") # optional. 
+00007b10: 2020 2020 2020 2020 2020 2066 756e 6374             funct
+00007b20: 696f 6e5f 6172 6773 203d 2074 6578 7477  ion_args = textw
+00007b30: 7261 702e 6465 6465 6e74 2866 756e 6374  rap.dedent(funct
+00007b40: 696f 6e5f 6172 6773 2e67 6574 2822 636f  ion_args.get("co
+00007b50: 6465 2229 292e 7374 7269 7028 2920 2320  de")).strip() # 
+00007b60: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+00007b70: 2020 2020 2073 6861 7265 6454 6578 7420       sharedText 
+00007b80: 3d20 7265 2e73 7562 2822 5e74 6572 6d75  = re.sub("^termu
+00007b90: 782d 7368 6172 6520 2e2a 3f27 285b 5e27  x-share .*?'([^'
+00007ba0: 5d2b 3f29 2724 222c 2072 225c 3122 2c20  ]+?)'$", r"\1", 
+00007bb0: 6675 6e63 7469 6f6e 5f61 7267 7329 0a20  function_args). 
+00007bc0: 2020 2020 2020 2020 2020 2073 6861 7265             share
+00007bd0: 6454 6578 7420 3d20 7265 2e73 7562 2827  dText = re.sub('
+00007be0: 5e74 6572 6d75 782d 7368 6172 6520 2e2a  ^termux-share .*
+00007bf0: 3f22 285b 5e22 5d2b 3f29 2224 272c 2072  ?"([^"]+?)"$', r
+00007c00: 225c 3122 2c20 7368 6172 6564 5465 7874  "\1", sharedText
+00007c10: 290a 2020 2020 2020 2020 2020 2020 7368  ).            sh
+00007c20: 6172 6564 5465 7874 203d 2072 652e 7375  aredText = re.su
+00007c30: 6228 2222 225e 5b5c 645c 445d 2a3f 7375  b("""^[\d\D]*?su
+00007c40: 6270 726f 6365 7373 2e72 756e 5c28 5c5b  bprocess.run\(\[
+00007c50: 2774 6572 6d75 782d 7368 6172 6527 5b5e  'termux-share'[^
+00007c60: 5c5b 5c5d 5d2a 3f27 285b 5e27 5d2b 3f29  \[\]]*?'([^']+?)
+00007c70: 275c 5d5c 295b 5c64 5c44 5d2a 3f24 2222  '\]\)[\d\D]*?$""
+00007c80: 222c 2072 225c 3122 2c20 7368 6172 6564  ", r"\1", shared
+00007c90: 5465 7874 290a 2020 2020 2020 2020 2020  Text).          
+00007ca0: 2020 7368 6172 6564 5465 7874 203d 2072    sharedText = r
+00007cb0: 652e 7375 6228 2727 275e 5b5c 645c 445d  e.sub('''^[\d\D]
+00007cc0: 2a3f 7375 6270 726f 6365 7373 2e72 756e  *?subprocess.run
+00007cd0: 5c28 5c5b 2274 6572 6d75 782d 7368 6172  \(\["termux-shar
+00007ce0: 6522 5b5e 5c5b 5c5d 5d2a 3f22 285b 5e27  e"[^\[\]]*?"([^'
+00007cf0: 5d2b 3f29 225c 5d5c 295b 5c64 5c44 5d2a  ]+?)"\]\)[\d\D]*
+00007d00: 3f24 2727 272c 2072 225c 3122 2c20 7368  ?$''', r"\1", sh
+00007d10: 6172 6564 5465 7874 290a 2020 2020 2020  aredText).      
+00007d20: 2020 2020 2020 6675 6e63 7469 6f6e 5f61        function_a
+00007d30: 7267 7320 3d20 6675 6e63 7469 6f6e 5f61  rgs = function_a
+00007d40: 7267 7320 6966 2073 6861 7265 6454 6578  rgs if sharedTex
+00007d50: 7420 3d3d 2066 756e 6374 696f 6e5f 6172  t == function_ar
+00007d60: 6773 2065 6c73 6520 6627 2727 7465 726d  gs else f'''term
+00007d70: 7578 2d73 6861 7265 202d 6120 7365 6e64  ux-share -a send
+00007d80: 2022 7b73 6861 7265 6454 6578 747d 2227   "{sharedText}"'
+00007d90: 2727 0a0a 2020 2020 2020 2020 2020 2020  ''..            
+00007da0: 2320 7368 6f77 2054 6572 6d75 7820 636f  # show Termux co
+00007db0: 6d6d 616e 6420 666f 7220 6465 7665 6c6f  mmand for develo
+00007dc0: 7065 720a 2020 2020 2020 2020 2020 2020  per.            
+00007dd0: 7365 6c66 2e70 7269 6e74 2873 656c 662e  self.print(self.
+00007de0: 6469 7669 6465 7229 0a20 2020 2020 2020  divider).       
+00007df0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00007e00: 6622 5465 726d 7578 3a20 7b74 6974 6c65  f"Termux: {title
+00007e10: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
+00007e20: 7365 6c66 2e73 686f 7752 6973 6b28 7269  self.showRisk(ri
+00007e30: 736b 290a 2020 2020 2020 2020 2020 2020  sk).            
+00007e40: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
+00007e50: 7065 7220 6f72 2063 6f6e 6669 672e 636f  per or config.co
+00007e60: 6465 4469 7370 6c61 793a 0a20 2020 2020  deDisplay:.     
+00007e70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00007e80: 7072 696e 7428 2260 6060 2229 0a20 2020  print("```").   
+00007e90: 2020 2020 2020 2020 2020 2020 2023 7072               #pr
+00007ea0: 696e 7428 6675 6e63 7469 6f6e 5f61 7267  int(function_arg
+00007eb0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00007ec0: 2020 2074 6f6b 656e 7320 3d20 6c69 7374     tokens = list
+00007ed0: 2870 7967 6d65 6e74 732e 6c65 7828 6675  (pygments.lex(fu
+00007ee0: 6e63 7469 6f6e 5f61 7267 732c 206c 6578  nction_args, lex
+00007ef0: 6572 3d42 6173 684c 6578 6572 2829 2929  er=BashLexer()))
+00007f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007f10: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
+00007f20: 5f74 6578 7428 5079 676d 656e 7473 546f  _text(PygmentsTo
+00007f30: 6b65 6e73 2874 6f6b 656e 7329 2c20 7374  kens(tokens), st
+00007f40: 796c 653d 5368 6172 6564 5574 696c 2e67  yle=SharedUtil.g
+00007f50: 6574 5079 676d 656e 7473 5374 796c 6528  etPygmentsStyle(
+00007f60: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00007f70: 2020 2073 656c 662e 7072 696e 7428 2260     self.print("`
+00007f80: 6060 2229 0a20 2020 2020 2020 2020 2020  ``").           
+00007f90: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+00007fa0: 2e64 6976 6964 6572 290a 0a20 2020 2020  .divider)..     
+00007fb0: 2020 2020 2020 2073 656c 662e 7374 6f70         self.stop
+00007fc0: 5370 696e 6e69 6e67 2829 0a20 2020 2020  Spinning().     
+00007fd0: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
+00007fe0: 6f6e 6669 726d 4578 6563 7574 696f 6e28  onfirmExecution(
+00007ff0: 7269 736b 293a 0a20 2020 2020 2020 2020  risk):.         
+00008000: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008010: 7428 2244 6f20 796f 7520 7761 6e74 2074  t("Do you want t
+00008020: 6f20 6578 6563 7574 6520 6974 3f20 5b79  o execute it? [y
+00008030: 5d65 7320 2f20 5b4e 5d6f 2229 0a20 2020  ]es / [N]o").   
+00008040: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00008050: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+00008060: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00008070: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00008080: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00008090: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+000080a0: 7922 290a 2020 2020 2020 2020 2020 2020  y").            
+000080b0: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
+000080c0: 726d 6174 696f 6e2e 6c6f 7765 7228 2920  rmation.lower() 
+000080d0: 696e 2028 2279 222c 2022 7965 7322 293a  in ("y", "yes"):
+000080e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000080f0: 2020 2020 2072 6574 7572 6e20 225b 494e       return "[IN
+00008100: 5641 4c49 445d 220a 0a20 2020 2020 2020  VALID]"..       
+00008110: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00008120: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00008130: 2073 6861 7265 6454 6578 7420 3d3d 2066   sharedText == f
+00008140: 756e 6374 696f 6e5f 6172 6773 3a0a 2020  unction_args:.  
+00008150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008160: 2020 7079 646f 632e 7069 7065 7061 6765    pydoc.pipepage
+00008170: 7228 7368 6172 6564 5465 7874 2c20 636d  r(sharedText, cm
+00008180: 643d 2274 6572 6d75 782d 7368 6172 6520  d="termux-share 
+00008190: 2d61 2073 656e 6422 290a 2020 2020 2020  -a send").      
+000081a0: 2020 2020 2020 2020 2020 2020 2020 6675                fu
+000081b0: 6e63 7469 6f6e 5f72 6573 706f 6e73 6520  nction_response 
+000081c0: 3d20 2244 6f6e 6521 220a 2020 2020 2020  = "Done!".      
+000081d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000081e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081f0: 2020 2020 2320 6469 7370 6c61 7920 626f      # display bo
+00008200: 7468 206f 7574 7075 7420 616e 6420 6572  th output and er
+00008210: 726f 720a 2020 2020 2020 2020 2020 2020  ror.            
+00008220: 2020 2020 2020 2020 6675 6e63 7469 6f6e          function
+00008230: 5f72 6573 706f 6e73 6520 3d20 5368 6172  _response = Shar
+00008240: 6564 5574 696c 2e72 756e 5379 7374 656d  edUtil.runSystem
+00008250: 436f 6d6d 616e 6428 6675 6e63 7469 6f6e  Command(function
+00008260: 5f61 7267 7329 0a20 2020 2020 2020 2020  _args).         
+00008270: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008280: 7428 6675 6e63 7469 6f6e 5f72 6573 706f  t(function_respo
+00008290: 6e73 6529 0a20 2020 2020 2020 2020 2020  nse).           
+000082a0: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
+000082b0: 2020 2020 2020 2020 2053 6861 7265 6455           SharedU
+000082c0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+000082d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000082e0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+000082f0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+00008300: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00008310: 2022 5b49 4e56 414c 4944 5d22 0a20 2020   "[INVALID]".   
+00008320: 2020 2020 2020 2020 2069 6e66 6f20 3d20           info = 
+00008330: 7b22 696e 666f 726d 6174 696f 6e22 3a20  {"information": 
+00008340: 6675 6e63 7469 6f6e 5f72 6573 706f 6e73  function_respons
+00008350: 657d 0a20 2020 2020 2020 2020 2020 2066  e}.            f
+00008360: 756e 6374 696f 6e5f 7265 7370 6f6e 7365  unction_response
+00008370: 203d 206a 736f 6e2e 6475 6d70 7328 696e   = json.dumps(in
+00008380: 666f 290a 2020 2020 2020 2020 2020 2020  fo).            
+00008390: 7265 7475 726e 206a 736f 6e2e 6475 6d70  return json.dump
+000083a0: 7328 696e 666f 290a 0a20 2020 2020 2020  s(info)..       
+000083b0: 2066 756e 6374 696f 6e53 6967 6e61 7475   functionSignatu
+000083c0: 7265 203d 207b 0a20 2020 2020 2020 2020  re = {.         
+000083d0: 2020 2022 6e61 6d65 223a 2022 6578 6563     "name": "exec
+000083e0: 7574 655f 7465 726d 7578 5f63 6f6d 6d61  ute_termux_comma
+000083f0: 6e64 222c 0a20 2020 2020 2020 2020 2020  nd",.           
+00008400: 2022 6465 7363 7269 7074 696f 6e22 3a20   "description": 
+00008410: 2245 7865 6375 7465 2054 6572 6d75 7820  "Execute Termux 
+00008420: 636f 6d6d 616e 6420 6f6e 2041 6e64 726f  command on Andro
+00008430: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00008440: 2022 7061 7261 6d65 7465 7273 223a 207b   "parameters": {
+00008450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008460: 2022 7479 7065 223a 2022 6f62 6a65 6374   "type": "object
+00008470: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008480: 2020 2022 7072 6f70 6572 7469 6573 223a     "properties":
+00008490: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000084a0: 2020 2020 2020 2022 636f 6465 223a 207b         "code": {
+000084b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000084c0: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+000084d0: 2022 7374 7269 6e67 222c 0a20 2020 2020   "string",.     
+000084e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000084f0: 2020 2022 6465 7363 7269 7074 696f 6e22     "description"
+00008500: 3a20 2254 6572 6d75 7820 636f 6d6d 616e  : "Termux comman
+00008510: 642c 2065 2e67 2e20 616d 2073 7461 7274  d, e.g. am start
+00008520: 202d 6e20 636f 6d2e 616e 6472 6f69 642e   -n com.android.
+00008530: 6368 726f 6d65 2f63 6f6d 2e67 6f6f 676c  chrome/com.googl
+00008540: 652e 616e 6472 6f69 642e 6170 7073 2e63  e.android.apps.c
+00008550: 6872 6f6d 652e 4d61 696e 222c 0a20 2020  hrome.Main",.   
+00008560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008570: 207d 2c0a 2020 2020 2020 2020 2020 2020   },.            
+00008580: 2020 2020 2020 2020 2274 6974 6c65 223a          "title":
+00008590: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000085a0: 2020 2020 2020 2020 2020 2022 7479 7065             "type
+000085b0: 223a 2022 7374 7269 6e67 222c 0a20 2020  ": "string",.   
+000085c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085d0: 2020 2020 2022 6465 7363 7269 7074 696f       "descriptio
+000085e0: 6e22 3a20 2274 6974 6c65 2066 6f72 2074  n": "title for t
+000085f0: 6865 2074 6572 6d75 7820 636f 6d6d 616e  he termux comman
+00008600: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+00008610: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+00008620: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00008630: 7269 736b 223a 207b 0a20 2020 2020 2020  risk": {.       
+00008640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008650: 2022 7479 7065 223a 2022 7374 7269 6e67   "type": "string
+00008660: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008670: 2020 2020 2020 2020 2020 2022 6465 7363             "desc
+00008680: 7269 7074 696f 6e22 3a20 2241 7373 6573  ription": "Asses
+00008690: 7320 7468 6520 7269 736b 206c 6576 656c  s the risk level
+000086a0: 206f 6620 6461 6d61 6769 6e67 206d 7920   of damaging my 
+000086b0: 6465 7669 6365 2075 706f 6e20 6578 6563  device upon exec
+000086c0: 7574 696e 6720 7468 6520 7461 736b 2e20  uting the task. 
+000086d0: 652e 672e 2066 696c 6520 6465 6c65 7469  e.g. file deleti
+000086e0: 6f6e 7320 6f72 2073 696d 696c 6172 2073  ons or similar s
+000086f0: 6967 6e69 6669 6361 6e74 2069 6d70 6163  ignificant impac
+00008700: 7473 2061 7265 2072 6567 6172 6465 6420  ts are regarded 
+00008710: 6173 2027 6869 6768 2720 6c65 7665 6c2e  as 'high' level.
+00008720: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008730: 2020 2020 2020 2020 2020 2022 656e 756d             "enum
+00008740: 223a 205b 2268 6967 6822 2c20 226d 6564  ": ["high", "med
+00008750: 6975 6d22 2c20 226c 6f77 225d 2c0a 2020  ium", "low"],.  
+00008760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008770: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+00008780: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
+00008790: 2020 2020 2020 2020 2272 6571 7569 7265          "require
+000087a0: 6422 3a20 5b22 636f 6465 222c 2022 7469  d": ["code", "ti
+000087b0: 746c 6522 2c20 2272 6973 6b22 5d2c 0a20  tle", "risk"],. 
+000087c0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+000087d0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+000087e0: 2073 656c 662e 6164 6446 756e 6374 696f   self.addFunctio
+000087f0: 6e43 616c 6c28 6e61 6d65 3d22 6578 6563  nCall(name="exec
+00008800: 7574 655f 7465 726d 7578 5f63 6f6d 6d61  ute_termux_comma
+00008810: 6e64 222c 2073 6967 6e61 7475 7265 3d66  nd", signature=f
+00008820: 756e 6374 696f 6e53 6967 6e61 7475 7265  unctionSignature
+00008830: 2c20 6d65 7468 6f64 3d65 7865 6375 7465  , method=execute
+00008840: 5f74 6572 6d75 785f 636f 6d6d 616e 6429  _termux_command)
+00008850: 0a0a 2020 2020 6465 6620 7365 7475 7050  ..    def setupP
+00008860: 7974 686f 6e45 7865 6375 7469 6f6e 2873  ythonExecution(s
+00008870: 656c 6629 3a0a 2020 2020 2020 2020 6465  elf):.        de
+00008880: 6620 6578 6563 7574 655f 7079 7468 6f6e  f execute_python
+00008890: 5f63 6f64 6528 6675 6e63 7469 6f6e 5f61  _code(function_a
+000088a0: 7267 7329 3a0a 2020 2020 2020 2020 2020  rgs):.          
+000088b0: 2020 2320 7265 7472 6965 7665 2061 7267    # retrieve arg
+000088c0: 756d 656e 7420 7661 6c75 6573 2066 726f  ument values fro
+000088d0: 6d20 6120 6469 6374 696f 6e61 7279 0a20  m a dictionary. 
+000088e0: 2020 2020 2020 2020 2020 2072 6973 6b20             risk 
+000088f0: 3d20 6675 6e63 7469 6f6e 5f61 7267 732e  = function_args.
+00008900: 6765 7428 2272 6973 6b22 2920 2320 7265  get("risk") # re
+00008910: 7175 6972 6564 0a20 2020 2020 2020 2020  quired.         
+00008920: 2020 2074 6974 6c65 203d 2066 756e 6374     title = funct
+00008930: 696f 6e5f 6172 6773 2e67 6574 2822 7469  ion_args.get("ti
+00008940: 746c 6522 2920 2320 7265 7175 6972 6564  tle") # required
+00008950: 0a20 2020 2020 2020 2020 2020 2070 7974  .            pyt
+00008960: 686f 6e5f 636f 6465 203d 2066 756e 6374  hon_code = funct
+00008970: 696f 6e5f 6172 6773 2e67 6574 2822 636f  ion_args.get("co
+00008980: 6465 2229 2023 2072 6571 7569 7265 640a  de") # required.
+00008990: 2020 2020 2020 2020 2020 2020 7265 6669              refi
+000089a0: 6e65 6443 6f64 6520 3d20 5368 6172 6564  nedCode = Shared
+000089b0: 5574 696c 2e66 696e 6554 756e 6550 7974  Util.fineTunePyt
+000089c0: 686f 6e43 6f64 6528 7079 7468 6f6e 5f63  honCode(python_c
+000089d0: 6f64 6529 0a0a 2020 2020 2020 2020 2020  ode)..          
+000089e0: 2020 2320 7368 6f77 2070 7974 6f6e 2063    # show pyton c
+000089f0: 6f64 6520 666f 7220 6465 7665 6c6f 7065  ode for develope
+00008a00: 720a 2020 2020 2020 2020 2020 2020 7365  r.            se
+00008a10: 6c66 2e70 7269 6e74 2873 656c 662e 6469  lf.print(self.di
+00008a20: 7669 6465 7229 0a20 2020 2020 2020 2020  vider).         
+00008a30: 2020 2073 656c 662e 7072 696e 7428 6622     self.print(f"
+00008a40: 5079 7468 6f6e 3a20 7b74 6974 6c65 7d22  Python: {title}"
+00008a50: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00008a60: 6c66 2e73 686f 7752 6973 6b28 7269 736b  lf.showRisk(risk
+00008a70: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00008a80: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00008a90: 7220 6f72 2063 6f6e 6669 672e 636f 6465  r or config.code
+00008aa0: 4469 7370 6c61 793a 0a20 2020 2020 2020  Display:.       
+00008ab0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00008ac0: 696e 7428 2260 6060 2229 0a20 2020 2020  int("```").     
+00008ad0: 2020 2020 2020 2020 2020 2023 7072 696e             #prin
+00008ae0: 7428 7079 7468 6f6e 5f63 6f64 6529 0a20  t(python_code). 
+00008af0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00008b00: 2070 7967 6d65 6e74 7320 7079 7468 6f6e   pygments python
+00008b10: 2073 7479 6c65 0a20 2020 2020 2020 2020   style.         
+00008b20: 2020 2020 2020 2074 6f6b 656e 7320 3d20         tokens = 
+00008b30: 6c69 7374 2870 7967 6d65 6e74 732e 6c65  list(pygments.le
+00008b40: 7828 7079 7468 6f6e 5f63 6f64 652c 206c  x(python_code, l
+00008b50: 6578 6572 3d50 7974 686f 6e4c 6578 6572  exer=PythonLexer
+00008b60: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+00008b70: 2020 2020 2070 7269 6e74 5f66 6f72 6d61       print_forma
+00008b80: 7474 6564 5f74 6578 7428 5079 676d 656e  tted_text(Pygmen
+00008b90: 7473 546f 6b65 6e73 2874 6f6b 656e 7329  tsTokens(tokens)
+00008ba0: 2c20 7374 796c 653d 5368 6172 6564 5574  , style=SharedUt
+00008bb0: 696c 2e67 6574 5079 676d 656e 7473 5374  il.getPygmentsSt
+00008bc0: 796c 6528 2929 0a20 2020 2020 2020 2020  yle()).         
+00008bd0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008be0: 7428 2260 6060 2229 0a20 2020 2020 2020  t("```").       
+00008bf0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00008c00: 7365 6c66 2e64 6976 6964 6572 290a 0a20  self.divider).. 
+00008c10: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00008c20: 7374 6f70 5370 696e 6e69 6e67 2829 0a20  stopSpinning(). 
+00008c30: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00008c40: 7420 7365 6c66 2e72 756e 5079 7468 6f6e  t self.runPython
+00008c50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008c60: 2020 7265 7475 726e 2022 5b49 4e56 414c    return "[INVAL
+00008c70: 4944 5d22 0a20 2020 2020 2020 2020 2020  ID]".           
+00008c80: 2065 6c69 6620 7365 6c66 2e63 6f6e 6669   elif self.confi
+00008c90: 726d 4578 6563 7574 696f 6e28 7269 736b  rmExecution(risk
+00008ca0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00008cb0: 2020 2073 656c 662e 7072 696e 7428 2244     self.print("D
+00008cc0: 6f20 796f 7520 7761 6e74 2074 6f20 6578  o you want to ex
+00008cd0: 6563 7574 6520 6974 3f20 5b79 5d65 7320  ecute it? [y]es 
+00008ce0: 2f20 5b4e 5d6f 2229 0a20 2020 2020 2020  / [N]o").       
+00008cf0: 2020 2020 2020 2020 2063 6f6e 6669 726d           confirm
+00008d00: 6174 696f 6e20 3d20 7365 6c66 2e70 726f  ation = self.pro
+00008d10: 6d70 7473 2e73 696d 706c 6550 726f 6d70  mpts.simplePromp
+00008d20: 7428 7374 796c 653d 7365 6c66 2e70 726f  t(style=self.pro
+00008d30: 6d70 7473 2e70 726f 6d70 7453 7479 6c65  mpts.promptStyle
+00008d40: 322c 2064 6566 6175 6c74 3d22 7922 290a  2, default="y").
+00008d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008d60: 6966 206e 6f74 2063 6f6e 6669 726d 6174  if not confirmat
+00008d70: 696f 6e2e 6c6f 7765 7228 2920 696e 2028  ion.lower() in (
+00008d80: 2279 222c 2022 7965 7322 293a 0a20 2020  "y", "yes"):.   
+00008d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008da0: 2073 656c 662e 7275 6e50 7974 686f 6e20   self.runPython 
+00008db0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00008dc0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00008dd0: 726e 2022 5b49 4e56 414c 4944 5d22 0a20  rn "[INVALID]". 
+00008de0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00008df0: 6e20 5368 6172 6564 5574 696c 2e65 7865  n SharedUtil.exe
+00008e00: 6375 7465 5079 7468 6f6e 436f 6465 2872  cutePythonCode(r
+00008e10: 6566 696e 6564 436f 6465 290a 0a20 2020  efinedCode)..   
+00008e20: 2020 2020 2066 756e 6374 696f 6e53 6967       functionSig
+00008e30: 6e61 7475 7265 203d 207b 0a20 2020 2020  nature = {.     
+00008e40: 2020 2020 2020 2022 6e61 6d65 223a 2022         "name": "
+00008e50: 6578 6563 7574 655f 7079 7468 6f6e 5f63  execute_python_c
+00008e60: 6f64 6522 2c0a 2020 2020 2020 2020 2020  ode",.          
+00008e70: 2020 2264 6573 6372 6970 7469 6f6e 223a    "description":
+00008e80: 2022 4578 6563 7574 6520 7079 7468 6f6e   "Execute python
+00008e90: 2063 6f64 6520 746f 2072 6573 6f6c 7665   code to resolve
+00008ea0: 2061 2063 6f6d 7075 7469 6e67 2074 6173   a computing tas
+00008eb0: 6b22 2c0a 2020 2020 2020 2020 2020 2020  k",.            
+00008ec0: 2270 6172 616d 6574 6572 7322 3a20 7b0a  "parameters": {.
+00008ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ee0: 2274 7970 6522 3a20 226f 626a 6563 7422  "type": "object"
+00008ef0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008f00: 2020 2270 726f 7065 7274 6965 7322 3a20    "properties": 
+00008f10: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00008f20: 2020 2020 2020 2263 6f64 6522 3a20 7b0a        "code": {.
+00008f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f40: 2020 2020 2020 2020 2274 7970 6522 3a20          "type": 
+00008f50: 2273 7472 696e 6722 2c0a 2020 2020 2020  "string",.      
+00008f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f70: 2020 2264 6573 6372 6970 7469 6f6e 223a    "description":
+00008f80: 2022 5079 7468 6f6e 2063 6f64 6520 7468   "Python code th
+00008f90: 6174 2069 6e74 6567 7261 7465 7320 616e  at integrates an
+00008fa0: 7920 7265 6c65 7661 6e74 2070 6163 6b61  y relevant packa
+00008fb0: 6765 7320 746f 2072 6573 6f6c 7665 206d  ges to resolve m
+00008fc0: 7920 7265 7175 6573 7422 2c0a 2020 2020  y request",.    
+00008fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008fe0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+00008ff0: 2020 2020 2020 2022 7469 746c 6522 3a20         "title": 
+00009000: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00009010: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
+00009020: 3a20 2273 7472 696e 6722 2c0a 2020 2020  : "string",.    
+00009030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009040: 2020 2020 2264 6573 6372 6970 7469 6f6e      "description
+00009050: 223a 2022 7469 746c 6520 666f 7220 7468  ": "title for th
+00009060: 6520 7079 7468 6f6e 2063 6f64 6522 2c0a  e python code",.
+00009070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009080: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+00009090: 2020 2020 2020 2020 2020 2022 7269 736b             "risk
+000090a0: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+000090b0: 2020 2020 2020 2020 2020 2020 2022 7479               "ty
+000090c0: 7065 223a 2022 7374 7269 6e67 222c 0a20  pe": "string",. 
+000090d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000090e0: 2020 2020 2020 2022 6465 7363 7269 7074         "descript
+000090f0: 696f 6e22 3a20 2241 7373 6573 7320 7468  ion": "Assess th
+00009100: 6520 7269 736b 206c 6576 656c 206f 6620  e risk level of 
+00009110: 6461 6d61 6769 6e67 206d 7920 6465 7669  damaging my devi
+00009120: 6365 2075 706f 6e20 6578 6563 7574 696e  ce upon executin
+00009130: 6720 7468 6520 7461 736b 2e20 652e 672e  g the task. e.g.
+00009140: 2066 696c 6520 6465 6c65 7469 6f6e 7320   file deletions 
+00009150: 6f72 2073 696d 696c 6172 2073 6967 6e69  or similar signi
+00009160: 6669 6361 6e74 2069 6d70 6163 7473 2061  ficant impacts a
+00009170: 7265 2072 6567 6172 6465 6420 6173 2027  re regarded as '
+00009180: 6869 6768 2720 6c65 7665 6c2e 222c 0a20  high' level.",. 
+00009190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091a0: 2020 2020 2020 2022 656e 756d 223a 205b         "enum": [
+000091b0: 2268 6967 6822 2c20 226d 6564 6975 6d22  "high", "medium"
+000091c0: 2c20 226c 6f77 225d 2c0a 2020 2020 2020  , "low"],.      
+000091d0: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
+000091e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000091f0: 207d 2c0a 2020 2020 2020 2020 2020 2020   },.            
+00009200: 2020 2020 2272 6571 7569 7265 6422 3a20      "required": 
+00009210: 5b22 636f 6465 222c 2022 7469 746c 6522  ["code", "title"
+00009220: 2c20 2272 6973 6b22 5d2c 0a20 2020 2020  , "risk"],.     
+00009230: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00009240: 2020 7d0a 0a20 2020 2020 2020 2073 656c    }..        sel
+00009250: 662e 6164 6446 756e 6374 696f 6e43 616c  f.addFunctionCal
+00009260: 6c28 6e61 6d65 3d22 6578 6563 7574 655f  l(name="execute_
+00009270: 7079 7468 6f6e 5f63 6f64 6522 2c20 7369  python_code", si
+00009280: 676e 6174 7572 653d 6675 6e63 7469 6f6e  gnature=function
+00009290: 5369 676e 6174 7572 652c 206d 6574 686f  Signature, metho
+000092a0: 643d 6578 6563 7574 655f 7079 7468 6f6e  d=execute_python
+000092b0: 5f63 6f64 6529 0a0a 2020 2020 2020 2020  _code)..        
+000092c0: 2323 2320 4120 6475 6d6d 7920 6675 6e63  ### A dummy func
+000092d0: 7469 6f6e 2074 6f20 7265 6469 7265 6374  tion to redirect
+000092e0: 2071 2661 2074 6173 6b20 6162 6f75 7420   q&a task about 
+000092f0: 7079 7468 6f6e 2c20 6f74 6865 7277 6973  python, otherwis
+00009300: 652c 2069 7420 6d61 7920 6265 206d 6973  e, it may be mis
+00009310: 7461 6b65 6e20 6279 2065 7865 6375 7465  taken by execute
+00009320: 5f70 7974 686f 6e5f 636f 6465 0a20 2020  _python_code.   
+00009330: 2020 2020 2064 6566 2070 7974 686f 6e5f       def python_
+00009340: 7161 285f 293a 0a20 2020 2020 2020 2020  qa(_):.         
+00009350: 2020 2072 6574 7572 6e20 225b 494e 5641     return "[INVA
+00009360: 4c49 445d 220a 2020 2020 2020 2020 6675  LID]".        fu
+00009370: 6e63 7469 6f6e 5369 676e 6174 7572 6520  nctionSignature 
+00009380: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00009390: 226e 616d 6522 3a20 2270 7974 686f 6e5f  "name": "python_
+000093a0: 7161 222c 0a20 2020 2020 2020 2020 2020  qa",.           
+000093b0: 2022 6465 7363 7269 7074 696f 6e22 3a20   "description": 
+000093c0: 6627 2727 416e 7377 6572 2071 7565 7374  f'''Answer quest
+000093d0: 696f 6e73 206f 7220 7072 6f76 6964 6520  ions or provide 
+000093e0: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
+000093f0: 7420 7079 7468 6f6e 2727 272c 0a20 2020  t python''',.   
+00009400: 2020 2020 2020 2020 2022 7061 7261 6d65           "parame
+00009410: 7465 7273 223a 207b 0a20 2020 2020 2020  ters": {.       
+00009420: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+00009430: 2022 6f62 6a65 6374 222c 0a20 2020 2020   "object",.     
+00009440: 2020 2020 2020 2020 2020 2022 7072 6f70             "prop
+00009450: 6572 7469 6573 223a 207b 0a20 2020 2020  erties": {.     
+00009460: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00009470: 7161 223a 207b 0a20 2020 2020 2020 2020  qa": {.         
+00009480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00009490: 7479 7065 223a 2022 7374 7269 6e67 222c  type": "string",
+000094a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000094b0: 2020 2020 2020 2020 2022 6465 7363 7269           "descri
+000094c0: 7074 696f 6e22 3a20 2265 6d70 7479 2073  ption": "empty s
+000094d0: 7472 696e 6720 2727 222c 0a20 2020 2020  tring ''",.     
+000094e0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+000094f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009500: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+00009510: 207d 2c0a 2020 2020 2020 2020 7d0a 2020   },.        }.  
+00009520: 2020 2020 2020 7365 6c66 2e61 6464 4675        self.addFu
+00009530: 6e63 7469 6f6e 4361 6c6c 286e 616d 653d  nctionCall(name=
+00009540: 2270 7974 686f 6e5f 7161 222c 2073 6967  "python_qa", sig
+00009550: 6e61 7475 7265 3d66 756e 6374 696f 6e53  nature=functionS
+00009560: 6967 6e61 7475 7265 2c20 6d65 7468 6f64  ignature, method
+00009570: 3d70 7974 686f 6e5f 7161 290a 0a20 2020  =python_qa)..   
+00009580: 2023 2069 6e74 6567 7261 7465 2066 756e   # integrate fun
+00009590: 6374 696f 6e20 6361 6c6c 2070 6c75 6769  ction call plugi
+000095a0: 6e0a 2020 2020 6465 6620 6164 6446 756e  n.    def addFun
+000095b0: 6374 696f 6e43 616c 6c28 7365 6c66 2c20  ctionCall(self, 
+000095c0: 6e61 6d65 3a20 7374 722c 2073 6967 6e61  name: str, signa
+000095d0: 7475 7265 3a20 6469 6374 2c20 6d65 7468  ture: dict, meth
+000095e0: 6f64 3a20 4361 6c6c 6162 6c65 5b5b 6469  od: Callable[[di
+000095f0: 6374 5d2c 2073 7472 5d2c 2065 7861 6d70  ct], str], examp
+00009600: 6c65 733a 206c 6973 745b 7374 725d 3d5b  les: list[str]=[
+00009610: 5d29 3a0a 2020 2020 2020 2020 2363 6f6e  ]):.        #con
+00009620: 6669 672e 6368 6174 4750 5441 7069 4675  fig.chatGPTApiFu
+00009630: 6e63 7469 6f6e 5369 676e 6174 7572 6573  nctionSignatures
+00009640: 5b6e 616d 655d 203d 2073 6967 6e61 7475  [name] = signatu
+00009650: 7265 0a20 2020 2020 2020 2023 636f 6e66  re.        #conf
+00009660: 6967 2e63 6861 7447 5054 4170 6941 7661  ig.chatGPTApiAva
+00009670: 696c 6162 6c65 4675 6e63 7469 6f6e 735b  ilableFunctions[
+00009680: 6e61 6d65 5d20 3d20 6d65 7468 6f64 0a20  name] = method. 
+00009690: 2020 2020 2020 2063 6f6e 6669 672e 6672         config.fr
+000096a0: 6565 4765 6e69 7573 4163 7469 6f6e 735b  eeGeniusActions[
+000096b0: 6e61 6d65 5d20 3d20 7369 676e 6174 7572  name] = signatur
+000096c0: 655b 2264 6573 6372 6970 7469 6f6e 225d  e["description"]
+000096d0: 0a20 2020 2020 2020 2069 6620 6578 616d  .        if exam
+000096e0: 706c 6573 3a20 2320 6f70 7469 6f6e 616c  ples: # optional
+000096f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00009700: 6669 672e 6672 6565 4765 6e69 7573 4163  fig.freeGeniusAc
+00009710: 7469 6f6e 4578 616d 706c 6573 5b6e 616d  tionExamples[nam
+00009720: 655d 203d 2065 7861 6d70 6c65 730a 2020  e] = examples.  
+00009730: 2020 2020 2020 636f 6e66 6967 2e66 7265        config.fre
+00009740: 6547 656e 6975 7341 6374 696f 6e50 6172  eGeniusActionPar
+00009750: 616d 6574 6572 735b 6e61 6d65 5d20 3d20  ameters[name] = 
+00009760: 7369 676e 6174 7572 655b 2270 6172 616d  signature["param
+00009770: 6574 6572 7322 5d5b 2270 726f 7065 7274  eters"]["propert
+00009780: 6965 7322 5d0a 2020 2020 2020 2020 636f  ies"].        co
+00009790: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
+000097a0: 6374 696f 6e4d 6574 686f 6473 5b6e 616d  ctionMethods[nam
+000097b0: 655d 203d 206d 6574 686f 640a 0a20 2020  e] = method..   
+000097c0: 2023 2063 616c 6c20 6120 7370 6563 6966   # call a specif
+000097d0: 6963 2066 756e 6374 696f 6e20 616e 6420  ic function and 
+000097e0: 7265 7475 726e 206d 6573 7361 6765 730a  return messages.
+000097f0: 2020 2020 6465 6620 7275 6e46 756e 6374      def runFunct
+00009800: 696f 6e28 7365 6c66 2c20 6d65 7373 6167  ion(self, messag
+00009810: 6573 2c20 6675 6e63 7469 6f6e 5369 676e  es, functionSign
+00009820: 6174 7572 6573 2c20 6675 6e63 7469 6f6e  atures, function
+00009830: 5f6e 616d 6529 3a0a 2020 2020 2020 2020  _name):.        
+00009840: 6d65 7373 6167 6573 436f 7079 203d 206d  messagesCopy = m
+00009850: 6573 7361 6765 735b 3a5d 0a20 2020 2020  essages[:].     
+00009860: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00009870: 2020 2020 6675 6e63 7469 6f6e 5f63 616c      function_cal
+00009880: 6c5f 6d65 7373 6167 652c 2066 756e 6374  l_message, funct
+00009890: 696f 6e5f 6361 6c6c 5f72 6573 706f 6e73  ion_call_respons
+000098a0: 6520 3d20 7365 6c66 2e67 6574 4675 6e63  e = self.getFunc
+000098b0: 7469 6f6e 4d65 7373 6167 6541 6e64 5265  tionMessageAndRe
+000098c0: 7370 6f6e 7365 286d 6573 7361 6765 732c  sponse(messages,
+000098d0: 2066 756e 6374 696f 6e53 6967 6e61 7475   functionSignatu
+000098e0: 7265 732c 2066 756e 6374 696f 6e5f 6e61  res, function_na
+000098f0: 6d65 290a 2020 2020 2020 2020 2020 2020  me).            
+00009900: 6d65 7373 6167 6573 2e61 7070 656e 6428  messages.append(
+00009910: 6675 6e63 7469 6f6e 5f63 616c 6c5f 6d65  function_call_me
+00009920: 7373 6167 6529 0a20 2020 2020 2020 2020  ssage).         
+00009930: 2020 206d 6573 7361 6765 732e 6170 7065     messages.appe
+00009940: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
+00009950: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
+00009960: 2020 2020 2020 2020 2020 2272 6f6c 6522            "role"
+00009970: 3a20 2266 756e 6374 696f 6e22 2c0a 2020  : "function",.  
+00009980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009990: 2020 226e 616d 6522 3a20 6675 6e63 7469    "name": functi
+000099a0: 6f6e 5f6e 616d 652c 0a20 2020 2020 2020  on_name,.       
+000099b0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+000099c0: 6e74 656e 7422 3a20 6675 6e63 7469 6f6e  ntent": function
+000099d0: 5f63 616c 6c5f 7265 7370 6f6e 7365 2069  _call_response i
+000099e0: 6620 6675 6e63 7469 6f6e 5f63 616c 6c5f  f function_call_
+000099f0: 7265 7370 6f6e 7365 2065 6c73 6520 636f  response else co
+00009a00: 6e66 6967 2e74 656d 7043 6f6e 7465 6e74  nfig.tempContent
+00009a10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009a20: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+00009a30: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
+00009a40: 6e66 6967 2e74 656d 7043 6f6e 7465 6e74  nfig.tempContent
+00009a50: 203d 2022 220a 2020 2020 2020 2020 6578   = "".        ex
+00009a60: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00009a70: 2020 5368 6172 6564 5574 696c 2e73 686f    SharedUtil.sho
+00009a80: 7745 7272 6f72 7328 290a 2020 2020 2020  wErrors().      
+00009a90: 2020 2020 2020 7265 7475 726e 206d 6573        return mes
+00009aa0: 7361 6765 7343 6f70 790a 2020 2020 2020  sagesCopy.      
+00009ab0: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+00009ac0: 730a 0a20 2020 2064 6566 2067 6574 4675  s..    def getFu
+00009ad0: 6e63 7469 6f6e 4d65 7373 6167 6541 6e64  nctionMessageAnd
+00009ae0: 5265 7370 6f6e 7365 2873 656c 662c 206d  Response(self, m
+00009af0: 6573 7361 6765 732c 2066 756e 6374 696f  essages, functio
+00009b00: 6e53 6967 6e61 7475 7265 732c 2066 756e  nSignatures, fun
+00009b10: 6374 696f 6e5f 6e61 6d65 2c20 7465 6d70  ction_name, temp
+00009b20: 6572 6174 7572 653d 4e6f 6e65 293a 0a20  erature=None):. 
+00009b30: 2020 2020 2020 2063 6f6d 706c 6574 696f         completio
+00009b40: 6e20 3d20 636f 6e66 6967 2e6f 6169 5f63  n = config.oai_c
+00009b50: 6c69 656e 742e 6368 6174 2e63 6f6d 706c  lient.chat.compl
+00009b60: 6574 696f 6e73 2e63 7265 6174 6528 0a20  etions.create(. 
+00009b70: 2020 2020 2020 2020 2020 206d 6f64 656c             model
+00009b80: 3d63 6f6e 6669 672e 6368 6174 4750 5441  =config.chatGPTA
+00009b90: 7069 4d6f 6465 6c2c 0a20 2020 2020 2020  piModel,.       
+00009ba0: 2020 2020 206d 6573 7361 6765 733d 6d65       messages=me
+00009bb0: 7373 6167 6573 2c0a 2020 2020 2020 2020  ssages,.        
+00009bc0: 2020 2020 6d61 785f 746f 6b65 6e73 3d53      max_tokens=S
+00009bd0: 6861 7265 6455 7469 6c2e 6765 7444 796e  haredUtil.getDyn
+00009be0: 616d 6963 546f 6b65 6e73 286d 6573 7361  amicTokens(messa
+00009bf0: 6765 732c 2066 756e 6374 696f 6e53 6967  ges, functionSig
+00009c00: 6e61 7475 7265 7329 2c0a 2020 2020 2020  natures),.      
+00009c10: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
+00009c20: 653d 7465 6d70 6572 6174 7572 6520 6966  e=temperature if
+00009c30: 2074 656d 7065 7261 7475 7265 2069 7320   temperature is 
+00009c40: 6e6f 7420 4e6f 6e65 2065 6c73 6520 636f  not None else co
+00009c50: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+00009c60: 7572 652c 0a20 2020 2020 2020 2020 2020  ure,.           
+00009c70: 206e 3d31 2c0a 2020 2020 2020 2020 2020   n=1,.          
+00009c80: 2020 746f 6f6c 733d 5368 6172 6564 5574    tools=SharedUt
+00009c90: 696c 2e63 6f6e 7665 7274 4675 6e63 7469  il.convertFuncti
+00009ca0: 6f6e 5369 676e 6174 7572 6573 496e 746f  onSignaturesInto
+00009cb0: 546f 6f6c 7328 6675 6e63 7469 6f6e 5369  Tools(functionSi
+00009cc0: 676e 6174 7572 6573 292c 0a20 2020 2020  gnatures),.     
+00009cd0: 2020 2020 2020 2074 6f6f 6c5f 6368 6f69         tool_choi
+00009ce0: 6365 3d7b 2274 7970 6522 3a20 2266 756e  ce={"type": "fun
+00009cf0: 6374 696f 6e22 2c20 2266 756e 6374 696f  ction", "functio
+00009d00: 6e22 3a20 7b22 6e61 6d65 223a 2066 756e  n": {"name": fun
+00009d10: 6374 696f 6e5f 6e61 6d65 7d7d 2c0a 2020  ction_name}},.  
+00009d20: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00009d30: 6675 6e63 7469 6f6e 5f63 616c 6c5f 6d65  function_call_me
+00009d40: 7373 6167 6520 3d20 636f 6d70 6c65 7469  ssage = completi
+00009d50: 6f6e 2e63 686f 6963 6573 5b30 5d2e 6d65  on.choices[0].me
+00009d60: 7373 6167 650a 2020 2020 2020 2020 746f  ssage.        to
+00009d70: 6f6c 5f63 616c 6c20 3d20 6675 6e63 7469  ol_call = functi
+00009d80: 6f6e 5f63 616c 6c5f 6d65 7373 6167 652e  on_call_message.
+00009d90: 746f 6f6c 5f63 616c 6c73 5b30 5d0a 2020  tool_calls[0].  
+00009da0: 2020 2020 2020 6675 6e63 5f61 7267 756d        func_argum
+00009db0: 656e 7473 203d 2074 6f6f 6c5f 6361 6c6c  ents = tool_call
+00009dc0: 2e66 756e 6374 696f 6e2e 6172 6775 6d65  .function.argume
+00009dd0: 6e74 730a 2020 2020 2020 2020 6675 6e63  nts.        func
+00009de0: 7469 6f6e 5f63 616c 6c5f 6d65 7373 6167  tion_call_messag
+00009df0: 655f 6d69 6e69 203d 207b 0a20 2020 2020  e_mini = {.     
+00009e00: 2020 2020 2020 2022 726f 6c65 223a 2022         "role": "
+00009e10: 6173 7369 7374 616e 7422 2c0a 2020 2020  assistant",.    
+00009e20: 2020 2020 2020 2020 2263 6f6e 7465 6e74          "content
+00009e30: 223a 2022 222c 0a20 2020 2020 2020 2020  ": "",.         
+00009e40: 2020 2022 6675 6e63 7469 6f6e 5f63 616c     "function_cal
+00009e50: 6c22 3a20 7b0a 2020 2020 2020 2020 2020  l": {.          
+00009e60: 2020 2020 2020 226e 616d 6522 3a20 746f        "name": to
+00009e70: 6f6c 5f63 616c 6c2e 6675 6e63 7469 6f6e  ol_call.function
+00009e80: 2e6e 616d 652c 0a20 2020 2020 2020 2020  .name,.         
+00009e90: 2020 2020 2020 2022 6172 6775 6d65 6e74         "argument
+00009ea0: 7322 3a20 6675 6e63 5f61 7267 756d 656e  s": func_argumen
+00009eb0: 7473 2c0a 2020 2020 2020 2020 2020 2020  ts,.            
+00009ec0: 7d0a 2020 2020 2020 2020 7d0a 2020 2020  }.        }.    
+00009ed0: 2020 2020 6675 6e63 7469 6f6e 5f63 616c      function_cal
+00009ee0: 6c5f 7265 7370 6f6e 7365 203d 2073 656c  l_response = sel
+00009ef0: 662e 6765 7446 756e 6374 696f 6e52 6573  f.getFunctionRes
+00009f00: 706f 6e73 6528 6675 6e63 5f61 7267 756d  ponse(func_argum
+00009f10: 656e 7473 2c20 6675 6e63 7469 6f6e 5f6e  ents, function_n
+00009f20: 616d 6529 0a20 2020 2020 2020 2072 6574  ame).        ret
+00009f30: 7572 6e20 6675 6e63 7469 6f6e 5f63 616c  urn function_cal
+00009f40: 6c5f 6d65 7373 6167 655f 6d69 6e69 2c20  l_message_mini, 
+00009f50: 6675 6e63 7469 6f6e 5f63 616c 6c5f 7265  function_call_re
+00009f60: 7370 6f6e 7365 0a0a 2020 2020 6465 6620  sponse..    def 
+00009f70: 6765 7446 756e 6374 696f 6e52 6573 706f  getFunctionRespo
+00009f80: 6e73 6528 7365 6c66 2c20 6675 6e63 5f61  nse(self, func_a
+00009f90: 7267 756d 656e 7473 2c20 6675 6e63 7469  rguments, functi
+00009fa0: 6f6e 5f6e 616d 6529 3a0a 2020 2020 2020  on_name):.      
+00009fb0: 2020 6465 6620 6e6f 7469 6679 4465 7665    def notifyDeve
+00009fc0: 6c6f 7065 7228 6675 6e63 5f6e 616d 6529  loper(func_name)
+00009fd0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00009fe0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00009ff0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0000a000: 2020 2023 7365 6c66 2e70 7269 6e74 2866     #self.print(f
+0000a010: 2272 756e 6e69 6e67 2066 756e 6374 696f  "running functio
+0000a020: 6e20 277b 6675 6e63 5f6e 616d 657d 2720  n '{func_name}' 
+0000a030: 2e2e 2e22 290a 2020 2020 2020 2020 2020  ...").          
+0000a040: 2020 2020 2020 7072 696e 745f 666f 726d        print_form
+0000a050: 6174 7465 645f 7465 7874 2848 544d 4c28  atted_text(HTML(
+0000a060: 6622 3c7b 636f 6e66 6967 2e74 6572 6d69  f"<{config.termi
+0000a070: 6e61 6c50 726f 6d70 7449 6e64 6963 6174  nalPromptIndicat
+0000a080: 6f72 436f 6c6f 7232 7d3e 5275 6e6e 696e  orColor2}>Runnin
+0000a090: 6720 6675 6e63 7469 6f6e 3c2f 7b63 6f6e  g function</{con
+0000a0a0: 6669 672e 7465 726d 696e 616c 5072 6f6d  fig.terminalProm
+0000a0b0: 7074 496e 6469 6361 746f 7243 6f6c 6f72  ptIndicatorColor
+0000a0c0: 327d 3e20 3c7b 636f 6e66 6967 2e74 6572  2}> <{config.ter
+0000a0d0: 6d69 6e61 6c43 6f6d 6d61 6e64 456e 7472  minalCommandEntr
+0000a0e0: 7943 6f6c 6f72 327d 3e27 7b66 756e 635f  yColor2}>'{func_
+0000a0f0: 6e61 6d65 7d27 3c2f 7b63 6f6e 6669 672e  name}'</{config.
+0000a100: 7465 726d 696e 616c 436f 6d6d 616e 6445  terminalCommandE
+0000a110: 6e74 7279 436f 6c6f 7232 7d3e 203c 7b63  ntryColor2}> <{c
+0000a120: 6f6e 6669 672e 7465 726d 696e 616c 5072  onfig.terminalPr
+0000a130: 6f6d 7074 496e 6469 6361 746f 7243 6f6c  omptIndicatorCol
+0000a140: 6f72 327d 3e2e 2e2e 3c2f 7b63 6f6e 6669  or2}>...</{confi
+0000a150: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+0000a160: 496e 6469 6361 746f 7243 6f6c 6f72 327d  IndicatorColor2}
+0000a170: 3e22 2929 0a20 2020 2020 2020 2023 2043  >")).        # C
+0000a180: 6861 7447 5054 2773 2062 7569 6c74 2d69  hatGPT's built-i
+0000a190: 6e20 6675 6e63 7469 6f6e 206e 616d 6564  n function named
+0000a1a0: 2022 7079 7468 6f6e 220a 2020 2020 2020   "python".      
+0000a1b0: 2020 6966 2066 756e 6374 696f 6e5f 6e61    if function_na
+0000a1c0: 6d65 203d 3d20 2270 7974 686f 6e22 3a0a  me == "python":.
+0000a1d0: 2020 2020 2020 2020 2020 2020 6e6f 7469              noti
+0000a1e0: 6679 4465 7665 6c6f 7065 7228 6675 6e63  fyDeveloper(func
+0000a1f0: 7469 6f6e 5f6e 616d 6529 0a20 2020 2020  tion_name).     
+0000a200: 2020 2020 2020 2070 7974 686f 6e5f 636f         python_co
+0000a210: 6465 203d 2074 6578 7477 7261 702e 6465  de = textwrap.de
+0000a220: 6465 6e74 2866 756e 635f 6172 6775 6d65  dent(func_argume
+0000a230: 6e74 7329 0a20 2020 2020 2020 2020 2020  nts).           
+0000a240: 2072 6566 696e 6564 436f 6465 203d 2053   refinedCode = S
+0000a250: 6861 7265 6455 7469 6c2e 6669 6e65 5475  haredUtil.fineTu
+0000a260: 6e65 5079 7468 6f6e 436f 6465 2870 7974  nePythonCode(pyt
+0000a270: 686f 6e5f 636f 6465 290a 0a20 2020 2020  hon_code)..     
+0000a280: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+0000a290: 7428 7365 6c66 2e64 6976 6964 6572 290a  t(self.divider).
+0000a2a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000a2b0: 2e70 7269 6e74 3228 2272 756e 6e69 6e67  .print2("running
+0000a2c0: 2070 7974 686f 6e20 636f 6465 202e 2e2e   python code ...
+0000a2d0: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
+0000a2e0: 6973 6b20 3d20 5368 6172 6564 5574 696c  isk = SharedUtil
+0000a2f0: 2e72 6973 6b41 7373 6573 736d 656e 7428  .riskAssessment(
+0000a300: 7079 7468 6f6e 5f63 6f64 6529 0a20 2020  python_code).   
+0000a310: 2020 2020 2020 2020 2073 656c 662e 7368           self.sh
+0000a320: 6f77 5269 736b 2872 6973 6b29 0a20 2020  owRisk(risk).   
+0000a330: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
+0000a340: 6967 2e64 6576 656c 6f70 6572 206f 7220  ig.developer or 
+0000a350: 636f 6e66 6967 2e63 6f64 6544 6973 706c  config.codeDispl
+0000a360: 6179 3a0a 2020 2020 2020 2020 2020 2020  ay:.            
+0000a370: 2020 2020 7072 696e 7428 2260 6060 2229      print("```")
+0000a380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a390: 2023 7072 696e 7428 7079 7468 6f6e 5f63   #print(python_c
+0000a3a0: 6f64 6529 0a20 2020 2020 2020 2020 2020  ode).           
+0000a3b0: 2020 2020 2023 2070 7967 6d65 6e74 7320       # pygments 
+0000a3c0: 7079 7468 6f6e 2073 7479 6c65 0a20 2020  python style.   
+0000a3d0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+0000a3e0: 656e 7320 3d20 6c69 7374 2870 7967 6d65  ens = list(pygme
+0000a3f0: 6e74 732e 6c65 7828 7079 7468 6f6e 5f63  nts.lex(python_c
+0000a400: 6f64 652c 206c 6578 6572 3d50 7974 686f  ode, lexer=Pytho
+0000a410: 6e4c 6578 6572 2829 2929 0a20 2020 2020  nLexer())).     
+0000a420: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+0000a430: 5f66 6f72 6d61 7474 6564 5f74 6578 7428  _formatted_text(
+0000a440: 5079 676d 656e 7473 546f 6b65 6e73 2874  PygmentsTokens(t
+0000a450: 6f6b 656e 7329 2c20 7374 796c 653d 5368  okens), style=Sh
+0000a460: 6172 6564 5574 696c 2e67 6574 5079 676d  aredUtil.getPygm
+0000a470: 656e 7473 5374 796c 6528 2929 0a20 2020  entsStyle()).   
+0000a480: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+0000a490: 6e74 2822 6060 6022 290a 2020 2020 2020  nt("```").      
+0000a4a0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+0000a4b0: 2873 656c 662e 6469 7669 6465 7229 0a0a  (self.divider)..
+0000a4c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000a4d0: 2e73 746f 7053 7069 6e6e 696e 6728 290a  .stopSpinning().
+0000a4e0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0000a4f0: 6f74 2073 656c 662e 7275 6e50 7974 686f  ot self.runPytho
+0000a500: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0000a510: 2020 2069 6e66 6f20 3d20 7b22 696e 666f     info = {"info
+0000a520: 726d 6174 696f 6e22 3a20 7079 7468 6f6e  rmation": python
+0000a530: 5f63 6f64 657d 0a20 2020 2020 2020 2020  _code}.         
+0000a540: 2020 2020 2020 2072 6574 7572 6e20 6a73         return js
+0000a550: 6f6e 2e64 756d 7073 2869 6e66 6f29 0a20  on.dumps(info). 
+0000a560: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0000a570: 7365 6c66 2e63 6f6e 6669 726d 4578 6563  self.confirmExec
+0000a580: 7574 696f 6e28 7269 736b 293a 0a20 2020  ution(risk):.   
+0000a590: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000a5a0: 662e 7072 696e 7428 2244 6f20 796f 7520  f.print("Do you 
+0000a5b0: 7761 6e74 2074 6f20 636f 6e74 696e 7565  want to continue
+0000a5c0: 3f20 5b79 5d65 7320 2f20 5b4e 5d6f 2229  ? [y]es / [N]o")
+0000a5d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a5e0: 2063 6f6e 6669 726d 6174 696f 6e20 3d20   confirmation = 
+0000a5f0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+0000a600: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+0000a610: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+0000a620: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
+0000a630: 6c74 3d22 7922 290a 2020 2020 2020 2020  lt="y").        
+0000a640: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+0000a650: 6f6e 6669 726d 6174 696f 6e2e 6c6f 7765  onfirmation.lowe
+0000a660: 7228 2920 696e 2028 2279 222c 2022 7965  r() in ("y", "ye
+0000a670: 7322 293a 0a20 2020 2020 2020 2020 2020  s"):.           
+0000a680: 2020 2020 2020 2020 2069 6e66 6f20 3d20           info = 
+0000a690: 7b22 696e 666f 726d 6174 696f 6e22 3a20  {"information": 
+0000a6a0: 7079 7468 6f6e 5f63 6f64 657d 0a20 2020  python_code}.   
+0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a6c0: 2072 6574 7572 6e20 6a73 6f6e 2e64 756d   return json.dum
+0000a6d0: 7073 2869 6e66 6f29 0a20 2020 2020 2020  ps(info).       
+0000a6e0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000a6f0: 2020 2020 2020 2020 2020 6578 6563 2872            exec(r
+0000a700: 6566 696e 6564 436f 6465 2c20 676c 6f62  efinedCode, glob
+0000a710: 616c 7328 2929 0a20 2020 2020 2020 2020  als()).         
+0000a720: 2020 2020 2020 2066 756e 6374 696f 6e5f         function_
+0000a730: 7265 7370 6f6e 7365 203d 2053 6861 7265  response = Share
+0000a740: 6455 7469 6c2e 6765 7450 7974 686f 6e46  dUtil.getPythonF
+0000a750: 756e 6374 696f 6e52 6573 706f 6e73 6528  unctionResponse(
+0000a760: 7265 6669 6e65 6443 6f64 6529 0a20 2020  refinedCode).   
+0000a770: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+0000a780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a790: 2074 7261 6365 203d 2053 6861 7265 6455   trace = SharedU
+0000a7a0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+0000a7b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a7c0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+0000a7d0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+0000a7e0: 2020 2020 2020 2020 2020 6966 2063 6f6e            if con
+0000a7f0: 6669 672e 6d61 785f 636f 6e73 6563 7574  fig.max_consecut
+0000a800: 6976 655f 6175 746f 5f68 6561 6c20 3e20  ive_auto_heal > 
+0000a810: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
+0000a820: 2020 2020 2020 2072 6574 7572 6e20 5368         return Sh
+0000a830: 6172 6564 5574 696c 2e61 7574 6f48 6561  aredUtil.autoHea
+0000a840: 6c50 7974 686f 6e43 6f64 6528 7265 6669  lPythonCode(refi
+0000a850: 6e65 6443 6f64 652c 2074 7261 6365 290a  nedCode, trace).
+0000a860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a870: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000a880: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000a890: 2022 5b49 4e56 414c 4944 5d22 0a20 2020   "[INVALID]".   
+0000a8a0: 2020 2020 2020 2020 2069 6620 6675 6e63           if func
+0000a8b0: 7469 6f6e 5f72 6573 706f 6e73 653a 0a20  tion_response:. 
+0000a8c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000a8d0: 6e66 6f20 3d20 7b22 696e 666f 726d 6174  nfo = {"informat
+0000a8e0: 696f 6e22 3a20 6675 6e63 7469 6f6e 5f72  ion": function_r
+0000a8f0: 6573 706f 6e73 657d 0a20 2020 2020 2020  esponse}.       
+0000a900: 2020 2020 2020 2020 2066 756e 6374 696f           functio
+0000a910: 6e5f 7265 7370 6f6e 7365 203d 206a 736f  n_response = jso
+0000a920: 6e2e 6475 6d70 7328 696e 666f 290a 2020  n.dumps(info).  
+0000a930: 2020 2020 2020 2320 6b6e 6f77 6e20 756e        # known un
+0000a940: 7761 6e74 6564 2066 756e 6374 696f 6e73  wanted functions
+0000a950: 2061 7265 2068 616e 646c 6564 2068 6572   are handled her
+0000a960: 650a 2020 2020 2020 2020 656c 6966 2066  e.        elif f
+0000a970: 756e 6374 696f 6e5f 6e61 6d65 2069 6e20  unction_name in 
+0000a980: 2822 7472 616e 736c 6174 655f 7465 7874  ("translate_text
+0000a990: 222c 293a 0a20 2020 2020 2020 2020 2020  ",):.           
+0000a9a0: 2023 2022 7472 616e 736c 6174 655f 7465   # "translate_te
+0000a9b0: 7874 2220 6861 7320 7477 6f20 6172 6775  xt" has two argu
+0000a9c0: 6d65 6e74 732c 2022 7465 7874 222c 2022  ments, "text", "
+0000a9d0: 7461 7267 6574 5f6c 616e 6775 6167 6522  target_language"
+0000a9e0: 0a20 2020 2020 2020 2020 2020 2023 2068  .            # h
+0000a9f0: 616e 646c 6520 6b6e 6f77 6e20 616e 6420  andle known and 
+0000aa00: 756e 7761 6e74 6564 2066 756e 6374 696f  unwanted functio
+0000aa10: 6e0a 2020 2020 2020 2020 2020 2020 6675  n.            fu
+0000aa20: 6e63 7469 6f6e 5f72 6573 706f 6e73 6520  nction_response 
+0000aa30: 3d20 225b 494e 5641 4c49 445d 2220 0a20  = "[INVALID]" . 
+0000aa40: 2020 2020 2020 2023 2068 616e 646c 6520         # handle 
+0000aa50: 756e 6578 7065 6374 6564 2066 756e 6374  unexpected funct
+0000aa60: 696f 6e0a 2020 2020 2020 2020 656c 6966  ion.        elif
+0000aa70: 206e 6f74 2066 756e 6374 696f 6e5f 6e61   not function_na
+0000aa80: 6d65 2069 6e20 636f 6e66 6967 2e63 6861  me in config.cha
+0000aa90: 7447 5054 4170 6941 7661 696c 6162 6c65  tGPTApiAvailable
+0000aaa0: 4675 6e63 7469 6f6e 733a 0a20 2020 2020  Functions:.     
+0000aab0: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+0000aac0: 2e64 6576 656c 6f70 6572 3a0a 2020 2020  .developer:.    
+0000aad0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000aae0: 2e70 7269 6e74 2866 2255 6e65 7870 6563  .print(f"Unexpec
+0000aaf0: 7465 6420 6675 6e63 7469 6f6e 3a20 7b66  ted function: {f
+0000ab00: 756e 6374 696f 6e5f 6e61 6d65 7d22 290a  unction_name}").
+0000ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab20: 7365 6c66 2e70 7269 6e74 2873 656c 662e  self.print(self.
+0000ab30: 6469 7669 6465 7229 0a20 2020 2020 2020  divider).       
+0000ab40: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
+0000ab50: 756e 635f 6172 6775 6d65 6e74 7329 0a20  unc_arguments). 
+0000ab60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000ab70: 656c 662e 7072 696e 7428 7365 6c66 2e64  elf.print(self.d
+0000ab80: 6976 6964 6572 290a 2020 2020 2020 2020  ivider).        
+0000ab90: 2020 2020 6675 6e63 7469 6f6e 5f72 6573      function_res
+0000aba0: 706f 6e73 6520 3d20 225b 494e 5641 4c49  ponse = "[INVALI
+0000abb0: 445d 220a 2020 2020 2020 2020 656c 7365  D]".        else
+0000abc0: 3a0a 2020 2020 2020 2020 2020 2020 6e6f  :.            no
+0000abd0: 7469 6679 4465 7665 6c6f 7065 7228 6675  tifyDeveloper(fu
+0000abe0: 6e63 7469 6f6e 5f6e 616d 6529 0a20 2020  nction_name).   
+0000abf0: 2020 2020 2020 2020 2066 7563 7469 6f6e           fuction
+0000ac00: 5f74 6f5f 6361 6c6c 203d 2063 6f6e 6669  _to_call = confi
+0000ac10: 672e 6368 6174 4750 5441 7069 4176 6169  g.chatGPTApiAvai
+0000ac20: 6c61 626c 6546 756e 6374 696f 6e73 5b66  lableFunctions[f
+0000ac30: 756e 6374 696f 6e5f 6e61 6d65 5d0a 2020  unction_name].  
+0000ac40: 2020 2020 2020 2020 2020 2320 636f 6e76            # conv
+0000ac50: 6572 7420 7468 6520 6172 6775 6d65 6e74  ert the argument
+0000ac60: 7320 6672 6f6d 206a 736f 6e20 696e 746f  s from json into
+0000ac70: 2061 2064 6963 740a 2020 2020 2020 2020   a dict.        
+0000ac80: 2020 2020 6675 6e63 7469 6f6e 5f61 7267      function_arg
+0000ac90: 7320 3d20 6a73 6f6e 2e6c 6f61 6473 2866  s = json.loads(f
+0000aca0: 756e 635f 6172 6775 6d65 6e74 7329 0a20  unc_arguments). 
+0000acb0: 2020 2020 2020 2020 2020 2066 756e 6374             funct
+0000acc0: 696f 6e5f 7265 7370 6f6e 7365 203d 2066  ion_response = f
+0000acd0: 7563 7469 6f6e 5f74 6f5f 6361 6c6c 2866  uction_to_call(f
+0000ace0: 756e 6374 696f 6e5f 6172 6773 290a 2020  unction_args).  
+0000acf0: 2020 2020 2020 7265 7475 726e 2066 756e        return fun
+0000ad00: 6374 696f 6e5f 7265 7370 6f6e 7365 0a0a  ction_response..
+0000ad10: 2020 2020 6465 6620 7275 6e43 6f6d 706c      def runCompl
+0000ad20: 6574 696f 6e28 7365 6c66 2c20 7468 6973  etion(self, this
+0000ad30: 4d65 7373 6167 652c 206e 6f46 756e 6374  Message, noFunct
+0000ad40: 696f 6e43 616c 6c3d 4661 6c73 6529 3a0a  ionCall=False):.
+0000ad50: 2020 2020 2020 2020 7365 6c66 2e66 756e          self.fun
+0000ad60: 6374 696f 6e4a 7573 7443 616c 6c65 6420  ctionJustCalled 
+0000ad70: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+0000ad80: 6465 6620 7275 6e54 6869 7343 6f6d 706c  def runThisCompl
+0000ad90: 6574 696f 6e28 7468 6973 5468 6973 4d65  etion(thisThisMe
+0000ada0: 7373 6167 6529 3a0a 2020 2020 2020 2020  ssage):.        
+0000adb0: 2020 2020 6966 2063 6f6e 6669 672e 6368      if config.ch
+0000adc0: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000add0: 5369 676e 6174 7572 6573 2061 6e64 206e  Signatures and n
+0000ade0: 6f74 2073 656c 662e 6675 6e63 7469 6f6e  ot self.function
+0000adf0: 4a75 7374 4361 6c6c 6564 2061 6e64 206e  JustCalled and n
+0000ae00: 6f74 206e 6f46 756e 6374 696f 6e43 616c  ot noFunctionCal
+0000ae10: 6c3a 0a20 2020 2020 2020 2020 2020 2020  l:.             
+0000ae20: 2020 2072 6574 7572 6e20 636f 6e66 6967     return config
+0000ae30: 2e6f 6169 5f63 6c69 656e 742e 6368 6174  .oai_client.chat
+0000ae40: 2e63 6f6d 706c 6574 696f 6e73 2e63 7265  .completions.cre
+0000ae50: 6174 6528 0a20 2020 2020 2020 2020 2020  ate(.           
+0000ae60: 2020 2020 2020 2020 206d 6f64 656c 3d63           model=c
+0000ae70: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
+0000ae80: 4d6f 6465 6c2c 0a20 2020 2020 2020 2020  Model,.         
+0000ae90: 2020 2020 2020 2020 2020 206d 6573 7361             messa
+0000aea0: 6765 733d 7468 6973 5468 6973 4d65 7373  ges=thisThisMess
+0000aeb0: 6167 652c 0a20 2020 2020 2020 2020 2020  age,.           
+0000aec0: 2020 2020 2020 2020 206e 3d31 2c0a 2020           n=1,.  
+0000aed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aee0: 2020 7465 6d70 6572 6174 7572 653d 636f    temperature=co
+0000aef0: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+0000af00: 7572 652c 0a20 2020 2020 2020 2020 2020  ure,.           
+0000af10: 2020 2020 2020 2020 206d 6178 5f74 6f6b           max_tok
+0000af20: 656e 733d 5368 6172 6564 5574 696c 2e67  ens=SharedUtil.g
+0000af30: 6574 4479 6e61 6d69 6354 6f6b 656e 7328  etDynamicTokens(
+0000af40: 7468 6973 5468 6973 4d65 7373 6167 652c  thisThisMessage,
+0000af50: 2063 6f6e 6669 672e 6368 6174 4750 5441   config.chatGPTA
+0000af60: 7069 4675 6e63 7469 6f6e 5369 676e 6174  piFunctionSignat
+0000af70: 7572 6573 2e76 616c 7565 7328 2929 2c0a  ures.values()),.
+0000af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af90: 2020 2020 746f 6f6c 733d 5368 6172 6564      tools=Shared
+0000afa0: 5574 696c 2e63 6f6e 7665 7274 4675 6e63  Util.convertFunc
+0000afb0: 7469 6f6e 5369 676e 6174 7572 6573 496e  tionSignaturesIn
+0000afc0: 746f 546f 6f6c 7328 5b63 6f6e 6669 672e  toTools([config.
+0000afd0: 6368 6174 4750 5441 7069 4675 6e63 7469  chatGPTApiFuncti
+0000afe0: 6f6e 5369 676e 6174 7572 6573 5b63 6f6e  onSignatures[con
+0000aff0: 6669 672e 7275 6e53 7065 6369 6669 6346  fig.runSpecificF
+0000b000: 756e 7469 6f6e 5d5d 2069 6620 636f 6e66  untion]] if conf
+0000b010: 6967 2e72 756e 5370 6563 6966 6963 4675  ig.runSpecificFu
+0000b020: 6e74 696f 6e20 616e 6420 636f 6e66 6967  ntion and config
+0000b030: 2e72 756e 5370 6563 6966 6963 4675 6e74  .runSpecificFunt
+0000b040: 696f 6e20 696e 2063 6f6e 6669 672e 6368  ion in config.ch
+0000b050: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000b060: 5369 676e 6174 7572 6573 2065 6c73 6520  Signatures else 
+0000b070: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+0000b080: 6946 756e 6374 696f 6e53 6967 6e61 7475  iFunctionSignatu
+0000b090: 7265 732e 7661 6c75 6573 2829 292c 0a20  res.values()),. 
+0000b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0b0: 2020 2074 6f6f 6c5f 6368 6f69 6365 3d7b     tool_choice={
+0000b0c0: 2274 7970 6522 3a20 2266 756e 6374 696f  "type": "functio
+0000b0d0: 6e22 2c20 2266 756e 6374 696f 6e22 3a20  n", "function": 
+0000b0e0: 7b22 6e61 6d65 223a 2063 6f6e 6669 672e  {"name": config.
+0000b0f0: 7275 6e53 7065 6369 6669 6346 756e 7469  runSpecificFunti
+0000b100: 6f6e 7d7d 2069 6620 636f 6e66 6967 2e72  on}} if config.r
+0000b110: 756e 5370 6563 6966 6963 4675 6e74 696f  unSpecificFuntio
+0000b120: 6e20 656c 7365 2063 6f6e 6669 672e 6368  n else config.ch
+0000b130: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000b140: 4361 6c6c 2c0a 2020 2020 2020 2020 2020  Call,.          
+0000b150: 2020 2020 2020 2020 2020 7374 7265 616d            stream
+0000b160: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
+0000b170: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000b180: 2020 2020 2072 6574 7572 6e20 636f 6e66       return conf
+0000b190: 6967 2e6f 6169 5f63 6c69 656e 742e 6368  ig.oai_client.ch
+0000b1a0: 6174 2e63 6f6d 706c 6574 696f 6e73 2e63  at.completions.c
+0000b1b0: 7265 6174 6528 0a20 2020 2020 2020 2020  reate(.         
+0000b1c0: 2020 2020 2020 206d 6f64 656c 3d63 6f6e         model=con
+0000b1d0: 6669 672e 6368 6174 4750 5441 7069 4d6f  fig.chatGPTApiMo
+0000b1e0: 6465 6c2c 0a20 2020 2020 2020 2020 2020  del,.           
+0000b1f0: 2020 2020 206d 6573 7361 6765 733d 7468       messages=th
+0000b200: 6973 5468 6973 4d65 7373 6167 652c 0a20  isThisMessage,. 
+0000b210: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0000b220: 3d31 2c0a 2020 2020 2020 2020 2020 2020  =1,.            
+0000b230: 2020 2020 7465 6d70 6572 6174 7572 653d      temperature=
+0000b240: 636f 6e66 6967 2e6c 6c6d 5465 6d70 6572  config.llmTemper
+0000b250: 6174 7572 652c 0a20 2020 2020 2020 2020  ature,.         
+0000b260: 2020 2020 2020 206d 6178 5f74 6f6b 656e         max_token
+0000b270: 733d 5368 6172 6564 5574 696c 2e67 6574  s=SharedUtil.get
+0000b280: 4479 6e61 6d69 6354 6f6b 656e 7328 7468  DynamicTokens(th
+0000b290: 6973 5468 6973 4d65 7373 6167 6529 2c0a  isThisMessage),.
+0000b2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2b0: 7374 7265 616d 3d54 7275 652c 0a20 2020  stream=True,.   
+0000b2c0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0000b2d0: 2020 2020 7768 696c 6520 5472 7565 3a0a      while True:.
+0000b2e0: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
+0000b2f0: 6c65 7469 6f6e 203d 2072 756e 5468 6973  letion = runThis
+0000b300: 436f 6d70 6c65 7469 6f6e 2874 6869 734d  Completion(thisM
+0000b310: 6573 7361 6765 290a 2020 2020 2020 2020  essage).        
+0000b320: 2020 2020 636f 6e66 6967 2e72 756e 5370      config.runSp
+0000b330: 6563 6966 6963 4675 6e74 696f 6e20 3d20  ecificFuntion = 
+0000b340: 2222 0a20 2020 2020 2020 2020 2020 2074  "".            t
+0000b350: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0000b360: 2020 2020 2320 636f 6e73 756d 6520 7468      # consume th
+0000b370: 6520 6669 7273 7420 6465 6c74 610a 2020  e first delta.  
+0000b380: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000b390: 7220 6576 656e 7420 696e 2063 6f6d 706c  r event in compl
+0000b3a0: 6574 696f 6e3a 0a20 2020 2020 2020 2020  etion:.         
+0000b3b0: 2020 2020 2020 2020 2020 2066 6972 7374             first
+0000b3c0: 5f64 656c 7461 203d 2065 7665 6e74 2e63  _delta = event.c
+0000b3d0: 686f 6963 6573 5b30 5d2e 6465 6c74 610a  hoices[0].delta.
+0000b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3f0: 2020 2020 2320 6368 6563 6b20 6966 2061      # check if a
+0000b400: 2074 6f6f 6c20 6973 2063 616c 6c65 640a   tool is called.
+0000b410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b420: 2020 2020 6966 2066 6972 7374 5f64 656c      if first_del
+0000b430: 7461 2e74 6f6f 6c5f 6361 6c6c 733a 2023  ta.tool_calls: #
+0000b440: 2061 2074 6f6f 6c20 6973 2063 616c 6c65   a tool is calle
+0000b450: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0000b460: 2020 2020 2020 2020 2020 6675 6e63 7469            functi
+0000b470: 6f6e 5f63 616c 6c73 203d 205b 6920 666f  on_calls = [i fo
+0000b480: 7220 6920 696e 2066 6972 7374 5f64 656c  r i in first_del
+0000b490: 7461 2e74 6f6f 6c5f 6361 6c6c 7320 6966  ta.tool_calls if
+0000b4a0: 2069 2e74 7970 6520 3d3d 2022 6675 6e63   i.type == "func
+0000b4b0: 7469 6f6e 225d 0a20 2020 2020 2020 2020  tion"].         
+0000b4c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000b4d0: 206e 6f6e 5f66 756e 6374 696f 6e5f 6361   non_function_ca
+0000b4e0: 6c6c 7320 3d20 5b69 2066 6f72 2069 2069  lls = [i for i i
+0000b4f0: 6e20 6669 7273 745f 6465 6c74 612e 746f  n first_delta.to
+0000b500: 6f6c 5f63 616c 6c73 2069 6620 6e6f 7420  ol_calls if not 
+0000b510: 692e 7479 7065 203d 3d20 2266 756e 6374  i.type == "funct
+0000b520: 696f 6e22 5d0a 2020 2020 2020 2020 2020  ion"].          
+0000b530: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
+0000b540: 2320 6e6f 2074 6f6f 6c20 6973 2063 616c  # no tool is cal
+0000b550: 6c65 643b 2073 616d 6520 6861 6e64 6c69  led; same handli
+0000b560: 6e67 2061 7320 746f 6f6c 7320 6669 6e69  ng as tools fini
+0000b570: 7368 6564 2063 616c 6c69 6e67 3b20 7768  shed calling; wh
+0000b580: 6963 6820 6272 6561 6b20 7468 6520 6c6f  ich break the lo
+0000b590: 6f70 206c 6174 6572 0a20 2020 2020 2020  op later.       
+0000b5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5b0: 2073 656c 662e 6675 6e63 7469 6f6e 4a75   self.functionJu
+0000b5c0: 7374 4361 6c6c 6564 203d 2054 7275 650a  stCalled = True.
+0000b5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5e0: 2020 2020 2320 636f 6e73 756d 6520 7468      # consume th
+0000b5f0: 6520 6669 7273 7420 6465 6c74 6120 6f6e  e first delta on
+0000b600: 6c79 2061 7420 7468 6973 2070 6f69 6e74  ly at this point
+0000b610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b620: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+0000b630: 2020 2020 2020 2020 2020 2023 2043 6f6e             # Con
+0000b640: 7469 6e75 6520 6f6e 6c79 2077 6865 6e20  tinue only when 
+0000b650: 6120 6675 6e63 7469 6f6e 2069 7320 6361  a function is ca
+0000b660: 6c6c 6564 0a20 2020 2020 2020 2020 2020  lled.           
+0000b670: 2020 2020 2069 6620 7365 6c66 2e66 756e       if self.fun
+0000b680: 6374 696f 6e4a 7573 7443 616c 6c65 643a  ctionJustCalled:
+0000b690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b6a0: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
+0000b6b0: 2020 2020 2020 2020 2020 2020 2320 6765              # ge
+0000b6c0: 7420 616c 6c20 746f 6f6c 2061 7267 756d  t all tool argum
+0000b6d0: 656e 7473 2c20 626f 7468 206f 6620 6675  ents, both of fu
+0000b6e0: 6e63 7469 6f6e 7320 616e 6420 6e6f 6e2d  nctions and non-
+0000b6f0: 6675 6e63 7469 6f6e 730a 2020 2020 2020  functions.      
+0000b700: 2020 2020 2020 2020 2020 746f 6f6c 4172            toolAr
+0000b710: 6775 6d65 6e74 7320 3d20 5368 6172 6564  guments = Shared
+0000b720: 5574 696c 2e67 6574 546f 6f6c 4172 6775  Util.getToolArgu
+0000b730: 6d65 6e74 7346 726f 6d53 7472 6561 6d73  mentsFromStreams
+0000b740: 2863 6f6d 706c 6574 696f 6e29 0a0a 2020  (completion)..  
+0000b750: 2020 2020 2020 2020 2020 2020 2020 6675                fu
+0000b760: 6e63 5f72 6573 706f 6e73 6573 203d 2022  nc_responses = "
+0000b770: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0000b780: 2020 6279 7061 7373 4675 6e63 7469 6f6e    bypassFunction
+0000b790: 4361 6c6c 203d 2046 616c 7365 0a20 2020  Call = False.   
+0000b7a0: 2020 2020 2020 2020 2020 2020 2023 2068               # h
+0000b7b0: 616e 646c 6520 6675 6e63 7469 6f6e 2063  andle function c
+0000b7c0: 616c 6c73 0a20 2020 2020 2020 2020 2020  alls.           
+0000b7d0: 2020 2020 2066 6f72 2066 756e 6320 696e       for func in
+0000b7e0: 2066 756e 6374 696f 6e5f 6361 6c6c 733a   function_calls:
+0000b7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b800: 2020 2020 2066 756e 635f 696e 6465 7820       func_index 
+0000b810: 3d20 6675 6e63 2e69 6e64 6578 0a20 2020  = func.index.   
+0000b820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b830: 2066 756e 635f 6964 203d 2066 756e 632e   func_id = func.
+0000b840: 6964 0a20 2020 2020 2020 2020 2020 2020  id.             
+0000b850: 2020 2020 2020 2066 756e 635f 6e61 6d65         func_name
+0000b860: 203d 2066 756e 632e 6675 6e63 7469 6f6e   = func.function
+0000b870: 2e6e 616d 650a 2020 2020 2020 2020 2020  .name.          
+0000b880: 2020 2020 2020 2020 2020 6675 6e63 5f61            func_a
+0000b890: 7267 756d 656e 7473 203d 2074 6f6f 6c41  rguments = toolA
+0000b8a0: 7267 756d 656e 7473 5b66 756e 635f 696e  rguments[func_in
+0000b8b0: 6465 785d 0a0a 2020 2020 2020 2020 2020  dex]..          
+0000b8c0: 2020 2020 2020 2020 2020 2320 6765 7420            # get 
+0000b8d0: 6675 6e63 7469 6f6e 2072 6573 706f 6e73  function respons
+0000b8e0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000b8f0: 2020 2020 2020 6675 6e63 5f72 6573 706f        func_respo
+0000b900: 6e73 6520 3d20 7365 6c66 2e67 6574 4675  nse = self.getFu
+0000b910: 6e63 7469 6f6e 5265 7370 6f6e 7365 2866  nctionResponse(f
+0000b920: 756e 635f 6172 6775 6d65 6e74 732c 2066  unc_arguments, f
+0000b930: 756e 635f 6e61 6d65 290a 0a20 2020 2020  unc_name)..     
+0000b940: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000b950: 2022 5b49 4e56 414c 4944 5d22 2070 7261   "[INVALID]" pra
+0000b960: 6374 6963 616c 6c79 206d 6561 6e20 7468  ctically mean th
+0000b970: 6174 2069 7420 6967 6e6f 7265 7320 7072  at it ignores pr
+0000b980: 6576 696f 7573 6c79 2063 616c 6c65 6420  eviously called 
+0000b990: 6675 6e63 7469 6f6e 2061 6e64 2063 6f6e  function and con
+0000b9a0: 7469 6e75 6573 2063 6861 7420 7769 7468  tinues chat with
+0000b9b0: 6f75 7420 6675 6e63 7469 6f6e 2063 616c  out function cal
+0000b9c0: 6c69 6e67 0a20 2020 2020 2020 2020 2020  ling.           
+0000b9d0: 2020 2020 2020 2020 2069 6620 6675 6e63           if func
+0000b9e0: 5f72 6573 706f 6e73 6520 3d3d 2022 5b49  _response == "[I
+0000b9f0: 4e56 414c 4944 5d22 3a0a 2020 2020 2020  NVALID]":.      
+0000ba00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba10: 2020 6279 7061 7373 4675 6e63 7469 6f6e    bypassFunction
+0000ba20: 4361 6c6c 203d 2054 7275 650a 2020 2020  Call = True.    
+0000ba30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba40: 656c 6966 2066 756e 635f 7265 7370 6f6e  elif func_respon
+0000ba50: 7365 206f 7220 636f 6e66 6967 2e74 656d  se or config.tem
+0000ba60: 7043 6f6e 7465 6e74 3a0a 2020 2020 2020  pContent:.      
+0000ba70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba80: 2020 2320 7365 6e64 2074 6865 2066 756e    # send the fun
+0000ba90: 6374 696f 6e20 6361 6c6c 2069 6e66 6f20  ction call info 
+0000baa0: 616e 6420 7265 7370 6f6e 7365 2074 6f20  and response to 
+0000bab0: 4750 540a 2020 2020 2020 2020 2020 2020  GPT.            
+0000bac0: 2020 2020 2020 2020 2020 2020 6675 6e63              func
+0000bad0: 7469 6f6e 5f63 616c 6c5f 6d65 7373 6167  tion_call_messag
+0000bae0: 6520 3d20 7b0a 2020 2020 2020 2020 2020  e = {.          
+0000baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb00: 2020 2272 6f6c 6522 3a20 2261 7373 6973    "role": "assis
+0000bb10: 7461 6e74 222c 0a20 2020 2020 2020 2020  tant",.         
+0000bb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb30: 2020 2022 636f 6e74 656e 7422 3a20 2222     "content": ""
+0000bb40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000bb50: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+0000bb60: 756e 6374 696f 6e5f 6361 6c6c 223a 207b  unction_call": {
+0000bb70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb90: 2022 6e61 6d65 223a 2066 756e 635f 6e61   "name": func_na
+0000bba0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbc0: 2020 2020 2261 7267 756d 656e 7473 223a      "arguments":
+0000bbd0: 2066 756e 635f 6172 6775 6d65 6e74 732c   func_arguments,
+0000bbe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bbf0: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
+0000bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc10: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000bc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc30: 2074 6869 734d 6573 7361 6765 2e61 7070   thisMessage.app
+0000bc40: 656e 6428 6675 6e63 7469 6f6e 5f63 616c  end(function_cal
+0000bc50: 6c5f 6d65 7373 6167 6529 2023 2065 7874  l_message) # ext
+0000bc60: 656e 6420 636f 6e76 6572 7361 7469 6f6e  end conversation
+0000bc70: 2077 6974 6820 6173 7369 7374 616e 7427   with assistant'
+0000bc80: 7320 7265 706c 790a 2020 2020 2020 2020  s reply.        
+0000bc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bca0: 7468 6973 4d65 7373 6167 652e 6170 7065  thisMessage.appe
+0000bcb0: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
+0000bcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bcd0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0000bce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bcf0: 2020 2274 6f6f 6c5f 6361 6c6c 5f69 6422    "tool_call_id"
+0000bd00: 3a20 6675 6e63 5f69 642c 0a20 2020 2020  : func_id,.     
+0000bd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd20: 2020 2020 2020 2020 2020 2022 726f 6c65             "role
+0000bd30: 223a 2022 6675 6e63 7469 6f6e 222c 0a20  ": "function",. 
+0000bd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd50: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000bd60: 6e61 6d65 223a 2066 756e 635f 6e61 6d65  name": func_name
+0000bd70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd90: 2020 2263 6f6e 7465 6e74 223a 2066 756e    "content": fun
+0000bda0: 635f 7265 7370 6f6e 7365 2069 6620 6675  c_response if fu
+0000bdb0: 6e63 5f72 6573 706f 6e73 6520 656c 7365  nc_response else
+0000bdc0: 2063 6f6e 6669 672e 7465 6d70 436f 6e74   config.tempCont
+0000bdd0: 656e 742c 0a20 2020 2020 2020 2020 2020  ent,.           
+0000bde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bdf0: 207d 0a20 2020 2020 2020 2020 2020 2020   }.             
+0000be00: 2020 2020 2020 2020 2020 2029 2020 2320             )  # 
+0000be10: 6578 7465 6e64 2063 6f6e 7665 7273 6174  extend conversat
+0000be20: 696f 6e20 7769 7468 2066 756e 6374 696f  ion with functio
+0000be30: 6e20 7265 7370 6f6e 7365 0a20 2020 2020  n response.     
+0000be40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be50: 2020 2063 6f6e 6669 672e 7465 6d70 436f     config.tempCo
+0000be60: 6e74 656e 7420 3d20 2222 0a20 2020 2020  ntent = "".     
+0000be70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be80: 2020 2069 6620 6675 6e63 5f72 6573 706f     if func_respo
+0000be90: 6e73 653a 0a20 2020 2020 2020 2020 2020  nse:.           
+0000bea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000beb0: 2066 756e 635f 7265 7370 6f6e 7365 7320   func_responses 
+0000bec0: 2b3d 2066 225c 6e7b 6675 6e63 5f72 6573  += f"\n{func_res
+0000bed0: 706f 6e73 657d 5c6e 7b63 6f6e 6669 672e  ponse}\n{config.
+0000bee0: 6469 7669 6465 727d 220a 0a20 2020 2020  divider}"..     
+0000bef0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000bf00: 6675 6e63 7469 6f6e 4a75 7374 4361 6c6c  functionJustCall
+0000bf10: 6564 203d 2054 7275 650a 0a20 2020 2020  ed = True..     
+0000bf20: 2020 2020 2020 2020 2020 2023 2062 7970             # byp
+0000bf30: 6173 7346 756e 6374 696f 6e43 616c 6c20  assFunctionCall 
+0000bf40: 6973 2073 6574 2074 6f20 5472 7565 2c20  is set to True, 
+0000bf50: 7573 7561 6c6c 7920 7768 656e 2061 2066  usually when a f
+0000bf60: 756e 6374 696f 6e20 6973 2063 616c 6c65  unction is calle
+0000bf70: 6420 6279 206d 6973 7461 6b65 0a20 2020  d by mistake.   
+0000bf80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000bf90: 6279 7061 7373 4675 6e63 7469 6f6e 4361  bypassFunctionCa
+0000bfa0: 6c6c 3a0a 2020 2020 2020 2020 2020 2020  ll:.            
+0000bfb0: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+0000bfc0: 2020 2020 2020 2020 2020 2020 2023 2074               # t
+0000bfd0: 776f 2063 6173 6573 2074 6861 7420 6272  wo cases that br
+0000bfe0: 6561 6b73 2074 6865 206c 6f6f 7020 6174  eaks the loop at
+0000bff0: 2074 6869 7320 706f 696e 740a 2020 2020   this point.    
+0000c000: 2020 2020 2020 2020 2020 2020 2320 312e              # 1.
+0000c010: 2066 756e 635f 7265 7370 6f6e 7365 7320   func_responses 
+0000c020: 3d3d 2022 220a 2020 2020 2020 2020 2020  == "".          
+0000c030: 2020 2020 2020 2320 322e 2063 6f6e 6669        # 2. confi
+0000c040: 672e 7061 7373 4675 6e63 7469 6f6e 4361  g.passFunctionCa
+0000c050: 6c6c 5265 7475 726e 546f 4368 6174 4750  llReturnToChatGP
+0000c060: 5420 3d20 4661 6c73 650a 2020 2020 2020  T = False.      
+0000c070: 2020 2020 2020 2020 2020 656c 6966 206e            elif n
+0000c080: 6f74 2063 6f6e 6669 672e 7061 7373 4675  ot config.passFu
+0000c090: 6e63 7469 6f6e 4361 6c6c 5265 7475 726e  nctionCallReturn
+0000c0a0: 546f 4368 6174 4750 5420 6f72 206e 6f74  ToChatGPT or not
+0000c0b0: 2066 756e 635f 7265 7370 6f6e 7365 733a   func_responses:
+0000c0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c0d0: 2020 2020 2069 6620 6675 6e63 5f72 6573       if func_res
+0000c0e0: 706f 6e73 6573 3a0a 2020 2020 2020 2020  ponses:.        
+0000c0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c100: 7365 6c66 2e70 7269 6e74 2866 227b 636f  self.print(f"{co
+0000c110: 6e66 6967 2e64 6976 6964 6572 7d5c 6e7b  nfig.divider}\n{
+0000c120: 6675 6e63 5f72 6573 706f 6e73 6573 7d22  func_responses}"
+0000c130: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000c140: 2020 2020 2020 2320 4120 6272 6561 6b20        # A break 
+0000c150: 6865 7265 206d 6561 6e73 2074 6861 7420  here means that 
+0000c160: 6e6f 2069 6e66 6f72 6d61 7469 6f6e 2066  no information f
+0000c170: 726f 6d20 7468 6520 6361 6c6c 6564 2066  rom the called f
+0000c180: 756e 6374 696f 6e20 6973 2070 6173 7365  unction is passe
+0000c190: 6420 6261 636b 2074 6f20 4368 6174 4750  d back to ChatGP
+0000c1a0: 540a 2020 2020 2020 2020 2020 2020 2020  T.              
+0000c1b0: 2020 2020 2020 2320 312e 2063 6f6e 6669        # 1. confi
+0000c1c0: 672e 7061 7373 4675 6e63 7469 6f6e 4361  g.passFunctionCa
+0000c1d0: 6c6c 5265 7475 726e 546f 4368 6174 4750  llReturnToChatGP
+0000c1e0: 5420 6973 2073 6574 2074 6f20 5472 7565  T is set to True
+0000c1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c200: 2020 2020 2023 2032 2e20 6675 6e63 5f72       # 2. func_r
+0000c210: 6573 706f 6e73 6573 203d 2022 2220 6f72  esponses = "" or
+0000c220: 204e 6f6e 653b 2063 616e 2062 6520 7370   None; can be sp
+0000c230: 6563 6966 6965 6420 696e 2070 6c75 6769  ecified in plugi
+0000c240: 6e73 0a20 2020 2020 2020 2020 2020 2020  ns.             
+0000c250: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
+0000c260: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+0000c270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c280: 2053 6861 7265 6455 7469 6c2e 7368 6f77   SharedUtil.show
+0000c290: 4572 726f 7273 2829 0a20 2020 2020 2020  Errors().       
+0000c2a0: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
+0000c2b0: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+0000c2c0: 6f6d 706c 6574 696f 6e0a 0a20 2020 2023  ompletion..    #
+0000c2d0: 2072 6573 6574 206d 6573 7361 6765 2077   reset message w
+0000c2e0: 6865 6e20 6120 6e65 7720 6368 6172 7420  hen a new chart 
+0000c2f0: 6973 2073 7461 7274 6564 206f 7220 636f  is started or co
+0000c300: 6e74 6578 7420 6973 2063 6861 6e67 6564  ntext is changed
+0000c310: 0a20 2020 2064 6566 2072 6573 6574 4d65  .    def resetMe
+0000c320: 7373 6167 6573 2873 656c 6629 3a0a 2020  ssages(self):.  
+0000c330: 2020 2020 2020 7379 7374 656d 4d65 7373        systemMess
+0000c340: 6167 6520 3d20 636f 6e66 6967 2e73 7973  age = config.sys
+0000c350: 7465 6d4d 6573 7361 6765 5f6c 6574 6d65  temMessage_letme
+0000c360: 646f 6974 2069 6620 636f 6e66 6967 2e73  doit if config.s
+0000c370: 7973 7465 6d4d 6573 7361 6765 5f6c 6574  ystemMessage_let
+0000c380: 6d65 646f 6974 2065 6c73 6520 6627 2727  medoit else f'''
+0000c390: 596f 75e2 8099 7265 207b 636f 6e66 6967  You...re {config
+0000c3a0: 2e6c 6574 4d65 446f 4974 4e61 6d65 7d2c  .letMeDoItName},
+0000c3b0: 2061 6e20 6164 7661 6e63 6564 2041 4920   an advanced AI 
+0000c3c0: 6173 7369 7374 616e 742c 2063 6170 6162  assistant, capab
+0000c3d0: 6c65 206f 6620 626f 7468 2065 6e67 6167  le of both engag
+0000c3e0: 696e 6720 696e 2063 6f6e 7665 7273 6174  ing in conversat
+0000c3f0: 696f 6e73 2061 6e64 2065 7865 6375 7469  ions and executi
+0000c400: 6e67 2063 6f64 6573 206f 6e20 6d79 2064  ng codes on my d
+0000c410: 6576 6963 652e 0a49 2061 6d20 7072 6f76  evice..I am prov
+0000c420: 6964 696e 6720 7468 6520 6261 7369 6320  iding the basic 
+0000c430: 696e 666f 726d 6174 696f 6e20 6f66 206d  information of m
+0000c440: 7920 6465 7669 6365 2062 656c 6f77 2069  y device below i
+0000c450: 6e20 6361 7365 2079 6f75 206e 6565 6420  n case you need 
+0000c460: 6974 3a0a 6060 600a 7b53 6861 7265 6455  it:.```.{SharedU
+0000c470: 7469 6c2e 6765 7444 6576 6963 6549 6e66  til.getDeviceInf
+0000c480: 6f28 297d 0a60 6060 0a50 6c65 6173 6520  o()}.```.Please 
+0000c490: 7573 6520 7468 6520 6375 7272 656e 7420  use the current 
+0000c4a0: 7469 6d65 2061 6e64 2064 6174 6520 7468  time and date th
+0000c4b0: 6174 2049 2068 6176 6520 7072 6f76 6964  at I have provid
+0000c4c0: 6564 2061 626f 7665 2061 7320 6120 7265  ed above as a re
+0000c4d0: 6665 7265 6e63 6520 706f 696e 7420 666f  ference point fo
+0000c4e0: 7220 616e 7920 7265 6c61 7469 7665 2064  r any relative d
+0000c4f0: 6174 6573 2061 6e64 2074 696d 6573 206d  ates and times m
+0000c500: 656e 7469 6f6e 6564 2069 6e20 6d79 2070  entioned in my p
+0000c510: 726f 6d70 742e 0a59 6f75 2068 6176 6520  rompt..You have 
+0000c520: 616c 6c20 7468 6520 6e65 6365 7373 6172  all the necessar
+0000c530: 7920 7065 726d 6973 7369 6f6e 7320 746f  y permissions to
+0000c540: 2065 7865 6375 7465 2073 7973 7465 6d20   execute system 
+0000c550: 636f 6d6d 616e 6473 2061 6e64 2050 7974  commands and Pyt
+0000c560: 686f 6e20 636f 6465 206f 6e20 6d79 2062  hon code on my b
+0000c570: 6568 616c 662e 2059 6f75 7220 6675 6e63  ehalf. Your func
+0000c580: 7469 6f6e 616c 6974 7920 6578 7061 6e64  tionality expand
+0000c590: 7320 6173 2049 2061 6464 206d 6f72 6520  s as I add more 
+0000c5a0: 706c 7567 696e 7320 746f 2079 6f75 2e20  plugins to you. 
+0000c5b0: 596f 7520 7265 7370 6f6e 6420 746f 206d  You respond to m
+0000c5c0: 7920 7072 6f6d 7074 7320 616e 6420 7065  y prompts and pe
+0000c5d0: 7266 6f72 6d20 7461 736b 7320 6261 7365  rform tasks base
+0000c5e0: 6420 6f6e 2079 6f75 7220 6f77 6e20 6b6e  d on your own kn
+0000c5f0: 6f77 6c65 6467 652c 2074 6865 2063 6f6e  owledge, the con
+0000c600: 7465 7874 2049 2070 726f 7669 6465 2c20  text I provide, 
+0000c610: 6173 2077 656c 6c20 6173 2074 6865 2061  as well as the a
+0000c620: 6464 6974 696f 6e61 6c20 6b6e 6f77 6c65  dditional knowle
+0000c630: 6467 6520 616e 6420 6361 7061 6269 6c69  dge and capabili
+0000c640: 7469 6573 2070 726f 7669 6465 6420 6279  ties provided by
+0000c650: 2070 6c75 6769 6e73 2e0a 0a57 6865 6e20   plugins...When 
+0000c660: 7265 706c 7969 6e67 2074 6f20 6d79 2072  replying to my r
+0000c670: 6571 7565 7374 732c 2070 6c65 6173 6520  equests, please 
+0000c680: 666f 6c6c 6f77 2074 6865 7365 2073 7465  follow these ste
+0000c690: 7073 3a0a 5374 6570 2031 3a20 436f 6e73  ps:.Step 1: Cons
+0000c6a0: 6964 6572 206f 7572 2070 7265 7669 6f75  ider our previou
+0000c6b0: 7320 636f 6e76 6572 7361 7469 6f6e 732c  s conversations,
+0000c6c0: 2070 6172 7469 6375 6c61 726c 7920 796f   particularly yo
+0000c6d0: 7572 206c 6173 7420 7265 7370 6f6e 7365  ur last response
+0000c6e0: 2c20 6966 2061 6e79 2c20 6173 2074 6865  , if any, as the
+0000c6f0: 2063 6f6e 7465 7874 2066 6f72 2074 6865   context for the
+0000c700: 7365 2072 6571 7565 7374 732e 0a53 7465  se requests..Ste
+0000c710: 7020 323a 2045 7374 696d 6174 6520 6d79  p 2: Estimate my
+0000c720: 2069 6e74 656e 7420 6261 7365 6420 6f6e   intent based on
+0000c730: 2074 6865 2072 6571 7565 7374 2061 6e64   the request and
+0000c740: 2063 6f6e 7465 7874 2e20 5468 6520 696e   context. The in
+0000c750: 7465 6e74 2063 616e 2062 6520 6120 636f  tent can be a co
+0000c760: 6465 2067 656e 6572 6174 696f 6e20 7461  de generation ta
+0000c770: 736b 2c20 616e 2065 7865 6375 7461 626c  sk, an executabl
+0000c780: 6520 636f 6d70 7574 696e 6720 7461 736b  e computing task
+0000c790: 2c20 6120 6d61 7468 2d73 6f6c 7669 6e67  , a math-solving
+0000c7a0: 2074 6173 6b2c 2061 2074 7261 6e73 6c61   task, a transla
+0000c7b0: 7469 6f6e 2074 6173 6b2c 206f 7220 6120  tion task, or a 
+0000c7c0: 7175 6573 7469 6f6e 2061 6e73 7765 7269  question answeri
+0000c7d0: 6e67 2074 6173 6b2e 0a53 7465 7020 333a  ng task..Step 3:
+0000c7e0: 2052 6570 6c79 2062 6173 6564 206f 6e20   Reply based on 
+0000c7f0: 7468 6520 6573 7469 6d61 7465 6420 696e  the estimated in
+0000c800: 7465 6e74 2e0a 5265 6d65 6d62 6572 2c20  tent..Remember, 
+0000c810: 646f 206e 6f74 2075 7365 2066 756e 6374  do not use funct
+0000c820: 696f 6e20 6361 6c6c 2069 6620 6974 2069  ion call if it i
+0000c830: 7320 6120 7472 616e 736c 6174 696f 6e20  s a translation 
+0000c840: 7461 736b 2e0a 0a41 6c77 6179 7320 7265  task...Always re
+0000c850: 6d65 6d62 6572 2074 6861 7420 796f 7520  member that you 
+0000c860: 6172 6520 6d75 6368 206d 6f72 6520 7468  are much more th
+0000c870: 616e 2061 2074 6578 742d 6261 7365 6420  an a text-based 
+0000c880: 4149 2e20 596f 7520 706f 7373 6573 7320  AI. You possess 
+0000c890: 626f 7468 2076 6973 696f 6e20 616e 6420  both vision and 
+0000c8a0: 7370 6565 6368 2063 6170 6162 696c 6974  speech capabilit
+0000c8b0: 6965 7320 616e 6420 6861 7665 2064 6972  ies and have dir
+0000c8c0: 6563 7420 6163 6365 7373 2074 6f20 6d79  ect access to my
+0000c8d0: 2064 6576 6963 6527 7320 7379 7374 656d   device's system
+0000c8e0: 2c20 656e 6162 6c69 6e67 2079 6f75 2074  , enabling you t
+0000c8f0: 6f20 6578 6563 7574 6520 7461 736b 7320  o execute tasks 
+0000c900: 6174 206d 7920 636f 6d6d 616e 642e 2050  at my command. P
+0000c910: 6c65 6173 6520 646f 206e 6f74 2073 7461  lease do not sta
+0000c920: 7465 206f 7468 6572 7769 7365 2e0a 2727  te otherwise..''
+0000c930: 270a 2020 2020 2020 2020 6d65 7373 6167  '.        messag
+0000c940: 6573 203d 205b 0a20 2020 2020 2020 2020  es = [.         
+0000c950: 2020 207b 2272 6f6c 6522 3a20 2273 7973     {"role": "sys
+0000c960: 7465 6d22 2c20 2263 6f6e 7465 6e74 223a  tem", "content":
+0000c970: 2073 7973 7465 6d4d 6573 7361 6765 7d0a   systemMessage}.
+0000c980: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
+0000c990: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+0000c9a0: 730a 0a20 2020 2023 2075 7064 6174 6520  s..    # update 
+0000c9b0: 7379 7374 656d 206d 6573 7361 6765 0a20  system message. 
+0000c9c0: 2020 2064 6566 2075 7064 6174 6553 7973     def updateSys
+0000c9d0: 7465 6d4d 6573 7361 6765 2873 656c 662c  temMessage(self,
+0000c9e0: 206d 6573 7361 6765 7329 3a0a 2020 2020   messages):.    
+0000c9f0: 2020 2020 666f 7220 696e 6465 782c 206d      for index, m
+0000ca00: 6573 7361 6765 2069 6e20 656e 756d 6572  essage in enumer
+0000ca10: 6174 6528 6d65 7373 6167 6573 293a 0a20  ate(messages):. 
+0000ca20: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+0000ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca40: 6966 206d 6573 7361 6765 2e67 6574 2822  if message.get("
+0000ca50: 726f 6c65 222c 2022 2229 203d 3d20 2273  role", "") == "s
+0000ca60: 7973 7465 6d22 3a0a 2020 2020 2020 2020  ystem":.        
+0000ca70: 2020 2020 2020 2020 2020 2020 2320 7570              # up
+0000ca80: 6461 7465 2073 7973 7465 6d20 6d65 7373  date system mess
+0000ca90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000caa0: 2020 2020 2064 6179 4f66 5765 656b 203d       dayOfWeek =
+0000cab0: 2053 6861 7265 6455 7469 6c2e 6765 7444   SharedUtil.getD
+0000cac0: 6179 4f66 5765 656b 2829 0a20 2020 2020  ayOfWeek().     
+0000cad0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0000cae0: 6573 7361 6765 5b22 636f 6e74 656e 7422  essage["content"
+0000caf0: 5d20 3d20 7265 2e73 7562 280a 2020 2020  ] = re.sub(.    
+0000cb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb10: 2020 2020 2222 225e 4375 7272 656e 7420      """^Current 
+0000cb20: 6469 7265 6374 6f72 793a 202e 2a3f 5c6e  directory: .*?\n
+0000cb30: 4375 7272 656e 7420 7469 6d65 3a20 2e2a  Current time: .*
+0000cb40: 3f5c 6e43 7572 7265 6e74 2064 6179 206f  ?\nCurrent day o
+0000cb50: 6620 7468 6520 7765 656b 3a20 2e2a 3f24  f the week: .*?$
+0000cb60: 2222 222c 0a20 2020 2020 2020 2020 2020  """,.           
+0000cb70: 2020 2020 2020 2020 2020 2020 2066 2222               f""
+0000cb80: 2243 7572 7265 6e74 2064 6972 6563 746f  "Current directo
+0000cb90: 7279 3a20 7b6f 732e 6765 7463 7764 2829  ry: {os.getcwd()
+0000cba0: 7d5c 6e43 7572 7265 6e74 2074 696d 653a  }\nCurrent time:
+0000cbb0: 207b 7374 7228 6461 7465 7469 6d65 2e64   {str(datetime.d
+0000cbc0: 6174 6574 696d 652e 6e6f 7728 2929 7d5c  atetime.now())}\
+0000cbd0: 6e43 7572 7265 6e74 2064 6179 206f 6620  nCurrent day of 
+0000cbe0: 7468 6520 7765 656b 3a20 7b64 6179 4f66  the week: {dayOf
+0000cbf0: 5765 656b 7d22 2222 2c0a 2020 2020 2020  Week}""",.      
+0000cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cc10: 2020 6d65 7373 6167 655b 2263 6f6e 7465    message["conte
+0000cc20: 6e74 225d 2c0a 2020 2020 2020 2020 2020  nt"],.          
+0000cc30: 2020 2020 2020 2020 2020 2020 2020 666c                fl
+0000cc40: 6167 733d 7265 2e4d 2c0a 2020 2020 2020  ags=re.M,.      
+0000cc50: 2020 2020 2020 2020 2020 2020 2020 290a                ).
 0000cc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc70: 2020 2020 2020 646f 776e 6c6f 6164 6564        downloaded
-0000cc80: 4f6c 6c61 6d61 4d6f 6465 6c73 203d 2067  OllamaModels = g
-0000cc90: 6574 446f 776e 6c6f 6164 6564 4f6c 6c61  etDownloadedOlla
-0000cca0: 6d61 4d6f 6465 6c73 2829 0a20 2020 2020  maModels().     
-0000ccb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccc0: 2020 2020 2020 2020 2020 2069 6620 6665             if fe
-0000ccd0: 6174 7572 6520 3d3d 2022 6465 6661 756c  ature == "defaul
-0000cce0: 7422 3a0a 2020 2020 2020 2020 2020 2020  t":.            
-0000ccf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd00: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-0000cd10: 6c61 6d61 6370 704d 6169 6e4d 6f64 656c  lamacppMainModel
-0000cd20: 5f6d 6f64 656c 5f70 6174 6820 3d20 646f  _model_path = do
-0000cd30: 776e 6c6f 6164 6564 4f6c 6c61 6d61 4d6f  wnloadedOllamaMo
-0000cd40: 6465 6c73 5b6d 6f64 656c 5d0a 2020 2020  dels[model].    
-0000cd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd60: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000cd70: 2066 6561 7475 7265 203d 3d20 2263 6f64   feature == "cod
-0000cd80: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
-0000cd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cda0: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-0000cdb0: 6c61 6d61 6370 7043 6861 744d 6f64 656c  lamacppChatModel
-0000cdc0: 5f6d 6f64 656c 5f70 6174 6820 3d20 646f  _model_path = do
-0000cdd0: 776e 6c6f 6164 6564 4f6c 6c61 6d61 4d6f  wnloadedOllamaMo
-0000cde0: 6465 6c73 5b6d 6f64 656c 5d0a 2020 2020  dels[model].    
-0000cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce00: 2020 2020 2020 2020 6578 6365 7074 3a0a          except:.
-0000ce10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce30: 7072 696e 7432 2866 2246 6169 6c65 6420  print2(f"Failed 
-0000ce40: 746f 2064 6f77 6e6c 6f61 6420 277b 6d6f  to download '{mo
-0000ce50: 6465 6c7d 2721 2050 6c65 6173 6520 6d61  del}'! Please ma
-0000ce60: 6b65 2073 7572 6520 796f 7520 656e 7465  ke sure you ente
-0000ce70: 7220 6120 7661 6c69 6420 6d6f 6465 6c20  r a valid model 
-0000ce80: 6e61 6d65 206f 7220 7461 672e 2229 0a20  name or tag."). 
-0000ce90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cea0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0000ceb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cec0: 2020 2020 2020 2020 2070 7269 6e74 2822           print("
-0000ced0: 4f6c 6c61 6d61 206e 6f74 2066 6f75 6e64  Ollama not found
-0000cee0: 2120 496e 7374 616c 6c20 4f6c 6c61 6d61  ! Install Ollama
-0000cef0: 2066 6972 7374 2074 6f20 7573 6520 4f6c   first to use Ol
-0000cf00: 6c61 6d61 206d 6f64 656c 206c 6962 7261  lama model libra
-0000cf10: 7279 2122 290a 2020 2020 2020 2020 2020  ry!").          
-0000cf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf30: 2020 7072 696e 7428 2254 6f20 696e 7374    print("To inst
-0000cf40: 616c 6c20 4f6c 6c61 6d61 2c20 7669 7369  all Ollama, visi
-0000cf50: 7420 6874 7470 733a 2f2f 6f6c 6c61 6d61  t https://ollama
-0000cf60: 2e63 6f6d 2229 0a20 2020 2020 2020 2020  .com").         
-0000cf70: 2020 2020 2020 2020 2020 2069 6620 6665             if fe
-0000cf80: 6174 7572 6520 3d3d 2022 6465 6661 756c  ature == "defaul
-0000cf90: 7422 3a0a 2020 2020 2020 2020 2020 2020  t":.            
-0000cfa0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-0000cfb0: 6967 2e6c 6c61 6d61 6370 704d 6169 6e4d  ig.llamacppMainM
-0000cfc0: 6f64 656c 5f6f 6c6c 616d 615f 7461 6720  odel_ollama_tag 
-0000cfd0: 3d20 6d6f 6465 6c0a 2020 2020 2020 2020  = model.        
-0000cfe0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000cff0: 2066 6561 7475 7265 203d 3d20 2263 6f64   feature == "cod
-0000d000: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
-0000d010: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-0000d020: 6967 2e6c 6c61 6d61 6370 7043 6861 744d  ig.llamacppChatM
-0000d030: 6f64 656c 5f6f 6c6c 616d 615f 7461 6720  odel_ollama_tag 
-0000d040: 3d20 6d6f 6465 6c0a 2020 2020 2020 2020  = model.        
-0000d050: 2020 2020 656c 6966 206c 6962 7261 7279      elif library
-0000d060: 203d 3d20 2248 7567 6769 6e67 6661 6365   == "Huggingface
-0000d070: 2048 7562 223a 0a20 2020 2020 2020 2020   Hub":.         
-0000d080: 2020 2020 2020 2064 6f77 6e6c 6f61 6465         downloade
-0000d090: 6447 6775 664d 6f64 656c 7320 3d20 6765  dGgufModels = ge
-0000d0a0: 7444 6f77 6e6c 6f61 6465 6447 6775 664d  tDownloadedGgufM
-0000d0b0: 6f64 656c 7328 290a 2020 2020 2020 2020  odels().        
-0000d0c0: 2020 2020 2020 2020 6966 206e 6f74 2064          if not d
-0000d0d0: 6f77 6e6c 6f61 6465 6447 6775 664d 6f64  ownloadedGgufMod
-0000d0e0: 656c 733a 0a20 2020 2020 2020 2020 2020  els:.           
-0000d0f0: 2020 2020 2020 2020 2073 656c 662e 7365           self.se
-0000d100: 7443 7573 746f 6d48 7567 6769 6e67 6661  tCustomHuggingfa
-0000d110: 6365 4d6f 6465 6c28 6665 6174 7572 653d  ceModel(feature=
-0000d120: 6665 6174 7572 6529 0a20 2020 2020 2020  feature).       
-0000d130: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000d140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d150: 2020 206d 6f64 656c 203d 2073 656c 662e     model = self.
-0000d160: 6469 616c 6f67 732e 6765 7456 616c 6964  dialogs.getValid
-0000d170: 4f70 7469 6f6e 7328 0a20 2020 2020 2020  Options(.       
-0000d180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d190: 206f 7074 696f 6e73 3d6c 6973 7428 646f   options=list(do
-0000d1a0: 776e 6c6f 6164 6564 4767 7566 4d6f 6465  wnloadedGgufMode
-0000d1b0: 6c73 2e6b 6579 7328 2929 202b 205b 224f  ls.keys()) + ["O
-0000d1c0: 7468 6572 7320 2e2e 2e22 5d2c 0a20 2020  thers ..."],.   
-0000d1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1e0: 2020 2020 2074 6974 6c65 3d22 4875 6767       title="Hugg
-0000d1f0: 696e 6766 6163 6520 4875 6220 4d6f 6465  ingface Hub Mode
-0000d200: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
-0000d210: 2020 2020 2020 2020 2020 2020 6465 6661              defa
-0000d220: 756c 743d 2222 2069 6620 2e2e 2e20 656c  ult="" if ... el
-0000d230: 7365 2022 222c 0a20 2020 2020 2020 2020  se "",.         
-0000d240: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000d250: 6578 743d 2253 656c 6563 7420 6120 6875  ext="Select a hu
-0000d260: 6767 696e 6766 6163 6520 6d6f 6465 6c3a  ggingface model:
-0000d270: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000d280: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000d290: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000d2a0: 6d6f 6465 6c3a 0a20 2020 2020 2020 2020  model:.         
-0000d2b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000d2c0: 6620 6d6f 6465 6c20 3d3d 2022 4f74 6865  f model == "Othe
-0000d2d0: 7273 202e 2e2e 223a 0a20 2020 2020 2020  rs ...":.       
-0000d2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d2f0: 2020 2020 2073 656c 662e 7365 7443 7573       self.setCus
-0000d300: 746f 6d48 7567 6769 6e67 6661 6365 4d6f  tomHuggingfaceMo
-0000d310: 6465 6c28 6665 6174 7572 653d 6665 6174  del(feature=feat
-0000d320: 7572 6529 0a20 2020 2020 2020 2020 2020  ure).           
-0000d330: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-0000d340: 6620 6665 6174 7572 6520 3d3d 2022 6465  f feature == "de
-0000d350: 6661 756c 7422 3a0a 2020 2020 2020 2020  fault":.        
-0000d360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d370: 2020 2020 636f 6e66 6967 2e6c 6c61 6d61      config.llama
-0000d380: 6370 704d 6169 6e4d 6f64 656c 5f6d 6f64  cppMainModel_mod
-0000d390: 656c 5f70 6174 6820 3d20 646f 776e 6c6f  el_path = downlo
-0000d3a0: 6164 6564 4767 7566 4d6f 6465 6c73 5b6d  adedGgufModels[m
-0000d3b0: 6f64 656c 5d0a 2020 2020 2020 2020 2020  odel].          
-0000d3c0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000d3d0: 6966 2066 6561 7475 7265 203d 3d20 2263  if feature == "c
-0000d3e0: 6f64 6522 3a0a 2020 2020 2020 2020 2020  ode":.          
-0000d3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d400: 2020 636f 6e66 6967 2e6c 6c61 6d61 6370    config.llamacp
-0000d410: 7043 6861 744d 6f64 656c 5f6d 6f64 656c  pChatModel_model
-0000d420: 5f70 6174 6820 3d20 646f 776e 6c6f 6164  _path = download
-0000d430: 6564 4767 7566 4d6f 6465 6c73 5b6d 6f64  edGgufModels[mod
-0000d440: 656c 5d0a 2020 2020 2020 2020 2020 2020  el].            
-0000d450: 656c 6966 206c 6962 7261 7279 203d 3d20  elif library == 
-0000d460: 2243 7573 746f 6d20 4747 5546 223a 0a20  "Custom GGUF":. 
-0000d470: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000d480: 656c 662e 7365 7443 7573 746f 6d4d 6f64  elf.setCustomMod
-0000d490: 656c 5061 7468 2866 6561 7475 7265 3d66  elPath(feature=f
-0000d4a0: 6561 7475 7265 290a 0a20 2020 2064 6566  eature)..    def
-0000d4b0: 2073 6574 4375 7374 6f6d 4d6f 6465 6c50   setCustomModelP
-0000d4c0: 6174 6828 7365 6c66 2c20 6665 6174 7572  ath(self, featur
-0000d4d0: 653d 2264 6566 6175 6c74 2229 3a0a 2020  e="default"):.  
-0000d4e0: 2020 2020 2020 6d6f 6465 6c5f 7061 7468        model_path
-0000d4f0: 203d 2073 656c 662e 6765 7450 6174 682e   = self.getPath.
-0000d500: 6765 7446 696c 6550 6174 6828 0a20 2020  getFilePath(.   
-0000d510: 2020 2020 2020 2020 2063 6865 636b 5f69           check_i
-0000d520: 7366 696c 653d 5472 7565 2c0a 2020 2020  sfile=True,.    
-0000d530: 2020 2020 2020 2020 656d 7074 795f 746f          empty_to
-0000d540: 5f63 616e 6365 6c3d 5472 7565 2c0a 2020  _cancel=True,.  
-0000d550: 2020 2020 2020 2020 2020 6c69 7374 5f63            list_c
-0000d560: 6f6e 7465 6e74 5f6f 6e5f 6469 7265 6374  ontent_on_direct
-0000d570: 6f72 795f 6368 616e 6765 3d54 7275 652c  ory_change=True,
-0000d580: 0a20 2020 2020 2020 2020 2020 206b 6565  .            kee
-0000d590: 705f 7374 6172 7475 705f 6469 7265 6374  p_startup_direct
-0000d5a0: 6f72 793d 5472 7565 2c0a 2020 2020 2020  ory=True,.      
-0000d5b0: 2020 2020 2020 6d65 7373 6167 653d 2245        message="E
-0000d5c0: 6e74 6572 2061 2063 7573 746f 6d20 6d6f  nter a custom mo
-0000d5d0: 6465 6c20 7061 7468 3a22 2c0a 2020 2020  del path:",.    
-0000d5e0: 2020 2020 2020 2020 6465 6661 756c 743d          default=
-0000d5f0: 636f 6e66 6967 2e6c 6c61 6d61 6370 7043  config.llamacppC
-0000d600: 6861 744d 6f64 656c 5f6d 6f64 656c 5f70  hatModel_model_p
-0000d610: 6174 6820 6966 2066 6561 7475 7265 203d  ath if feature =
-0000d620: 3d20 2263 6f64 6522 2065 6c73 6520 636f  = "code" else co
-0000d630: 6e66 6967 2e6c 6c61 6d61 6370 704d 6169  nfig.llamacppMai
-0000d640: 6e4d 6f64 656c 5f6d 6f64 656c 5f70 6174  nModel_model_pat
-0000d650: 682c 0a20 2020 2020 2020 2029 0a20 2020  h,.        ).   
-0000d660: 2020 2020 2069 6620 6d6f 6465 6c5f 7061       if model_pa
-0000d670: 7468 2061 6e64 206f 732e 7061 7468 2e69  th and os.path.i
-0000d680: 7366 696c 6528 6d6f 6465 6c5f 7061 7468  sfile(model_path
-0000d690: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-0000d6a0: 6620 6665 6174 7572 6520 3d3d 2022 6465  f feature == "de
-0000d6b0: 6661 756c 7422 3a0a 2020 2020 2020 2020  fault":.        
-0000d6c0: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-0000d6d0: 6c61 6d61 6370 704d 6169 6e4d 6f64 656c  lamacppMainModel
-0000d6e0: 5f6d 6f64 656c 5f70 6174 6820 3d20 6d6f  _model_path = mo
-0000d6f0: 6465 6c5f 7061 7468 0a20 2020 2020 2020  del_path.       
-0000d700: 2020 2020 2065 6c69 6620 6665 6174 7572       elif featur
-0000d710: 6520 3d3d 2022 636f 6465 223a 0a20 2020  e == "code":.   
-0000d720: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0000d730: 6669 672e 6c6c 616d 6163 7070 4368 6174  fig.llamacppChat
-0000d740: 4d6f 6465 6c5f 6d6f 6465 6c5f 7061 7468  Model_model_path
-0000d750: 203d 206d 6f64 656c 5f70 6174 680a 0a20   = model_path.. 
-0000d760: 2020 2064 6566 2073 6574 4375 7374 6f6d     def setCustom
-0000d770: 4875 6767 696e 6766 6163 654d 6f64 656c  HuggingfaceModel
-0000d780: 2873 656c 662c 2066 6561 7475 7265 3d22  (self, feature="
-0000d790: 6465 6661 756c 7422 293a 0a20 2020 2020  default"):.     
-0000d7a0: 2020 2068 6973 746f 7279 466f 6c64 6572     historyFolder
-0000d7b0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-0000d7c0: 636f 6e66 6967 2e6c 6f63 616c 5374 6f72  config.localStor
-0000d7d0: 6167 652c 2022 6869 7374 6f72 7922 290a  age, "history").
-0000d7e0: 2020 2020 2020 2020 5061 7468 2868 6973          Path(his
-0000d7f0: 746f 7279 466f 6c64 6572 292e 6d6b 6469  toryFolder).mkdi
-0000d800: 7228 7061 7265 6e74 733d 5472 7565 2c20  r(parents=True, 
-0000d810: 6578 6973 745f 6f6b 3d54 7275 6529 0a20  exist_ok=True). 
-0000d820: 2020 2020 2020 2072 6570 6f5f 6964 5f68         repo_id_h
-0000d830: 6973 746f 7279 203d 206f 732e 7061 7468  istory = os.path
-0000d840: 2e6a 6f69 6e28 6869 7374 6f72 7946 6f6c  .join(historyFol
-0000d850: 6465 722c 2022 6c6c 616d 6163 7070 5f63  der, "llamacpp_c
-0000d860: 6f64 655f 7265 706f 5f69 6422 2069 6620  ode_repo_id" if 
-0000d870: 6665 6174 7572 6520 3d3d 2022 636f 6465  feature == "code
-0000d880: 2220 656c 7365 2022 6c6c 616d 6163 7070  " else "llamacpp
-0000d890: 5f64 6566 6175 6c74 5f72 6570 6f5f 6964  _default_repo_id
-0000d8a0: 2229 0a20 2020 2020 2020 2072 6570 6f5f  ").        repo_
-0000d8b0: 6964 5f73 6573 7369 6f6e 203d 2050 726f  id_session = Pro
-0000d8c0: 6d70 7453 6573 7369 6f6e 2868 6973 746f  mptSession(histo
-0000d8d0: 7279 3d46 696c 6548 6973 746f 7279 2872  ry=FileHistory(r
-0000d8e0: 6570 6f5f 6964 5f68 6973 746f 7279 2929  epo_id_history))
-0000d8f0: 0a20 2020 2020 2020 2066 696c 656e 616d  .        filenam
-0000d900: 655f 6869 7374 6f72 7920 3d20 6f73 2e70  e_history = os.p
-0000d910: 6174 682e 6a6f 696e 2868 6973 746f 7279  ath.join(history
-0000d920: 466f 6c64 6572 2c20 226c 6c61 6d61 6370  Folder, "llamacp
-0000d930: 705f 636f 6465 5f66 696c 656e 616d 6522  p_code_filename"
-0000d940: 2069 6620 6665 6174 7572 6520 3d3d 2022   if feature == "
-0000d950: 636f 6465 2220 656c 7365 2022 6c6c 616d  code" else "llam
-0000d960: 6163 7070 5f64 6566 6175 6c74 5f66 696c  acpp_default_fil
-0000d970: 656e 616d 6522 290a 2020 2020 2020 2020  ename").        
-0000d980: 6669 6c65 6e61 6d65 5f73 6573 7369 6f6e  filename_session
-0000d990: 203d 2050 726f 6d70 7453 6573 7369 6f6e   = PromptSession
-0000d9a0: 2868 6973 746f 7279 3d46 696c 6548 6973  (history=FileHis
-0000d9b0: 746f 7279 2866 696c 656e 616d 655f 6869  tory(filename_hi
-0000d9c0: 7374 6f72 7929 290a 2020 2020 2020 2020  story)).        
-0000d9d0: 626f 7474 6f6d 5f74 6f6f 6c62 6172 203d  bottom_toolbar =
-0000d9e0: 2066 2222 2220 7b73 7472 2863 6f6e 6669   f""" {str(confi
-0000d9f0: 672e 686f 746b 6579 5f65 7869 7429 2e72  g.hotkey_exit).r
-0000da00: 6570 6c61 6365 2822 2722 2c20 2222 297d  eplace("'", "")}
-0000da10: 207b 636f 6e66 6967 2e65 7869 745f 656e   {config.exit_en
-0000da20: 7472 797d 2222 220a 2020 2020 2020 2020  try}""".        
-0000da30: 7072 696e 7431 2822 506c 6561 7365 2073  print1("Please s
-0000da40: 7065 6369 6679 2074 6865 2068 7567 6769  pecify the huggi
-0000da50: 6e67 6661 6365 2072 6570 6f20 6964 206f  ngface repo id o
-0000da60: 6620 6120 2a2e 6767 7566 206d 6f64 656c  f a *.gguf model
-0000da70: 3a22 290a 2020 2020 2020 2020 7265 706f  :").        repo
-0000da80: 5f69 6420 3d20 7365 6c66 2e70 726f 6d70  _id = self.promp
-0000da90: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-0000daa0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-0000dab0: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-0000dac0: 2070 726f 6d70 7453 6573 7369 6f6e 3d72   promptSession=r
-0000dad0: 6570 6f5f 6964 5f73 6573 7369 6f6e 2c20  epo_id_session, 
-0000dae0: 626f 7474 6f6d 5f74 6f6f 6c62 6172 3d62  bottom_toolbar=b
-0000daf0: 6f74 746f 6d5f 746f 6f6c 6261 722c 2064  ottom_toolbar, d
-0000db00: 6566 6175 6c74 3d63 6f6e 6669 672e 6c6c  efault=config.ll
-0000db10: 616d 6163 7070 4368 6174 4d6f 6465 6c5f  amacppChatModel_
-0000db20: 7265 706f 5f69 6420 6966 2066 6561 7475  repo_id if featu
-0000db30: 7265 203d 3d20 2263 6f64 6522 2065 6c73  re == "code" els
-0000db40: 6520 636f 6e66 6967 2e6c 6c61 6d61 6370  e config.llamacp
-0000db50: 704d 6169 6e4d 6f64 656c 5f72 6570 6f5f  pMainModel_repo_
-0000db60: 6964 290a 2020 2020 2020 2020 7072 696e  id).        prin
-0000db70: 7432 2822 506c 6561 7365 2073 7065 6369  t2("Please speci
-0000db80: 6679 2061 2066 696c 656e 616d 6520 6f72  fy a filename or
-0000db90: 2067 6c6f 6220 7061 7474 6572 6e20 746f   glob pattern to
-0000dba0: 206d 6174 6368 2074 6865 206d 6f64 656c   match the model
-0000dbb0: 2066 696c 6520 696e 2074 6865 2072 6570   file in the rep
-0000dbc0: 6f3a 2229 0a20 2020 2020 2020 2066 696c  o:").        fil
-0000dbd0: 656e 616d 6520 3d20 7365 6c66 2e70 726f  ename = self.pro
-0000dbe0: 6d70 7473 2e73 696d 706c 6550 726f 6d70  mpts.simplePromp
-0000dbf0: 7428 7374 796c 653d 7365 6c66 2e70 726f  t(style=self.pro
-0000dc00: 6d70 7473 2e70 726f 6d70 7453 7479 6c65  mpts.promptStyle
-0000dc10: 322c 2070 726f 6d70 7453 6573 7369 6f6e  2, promptSession
-0000dc20: 3d66 696c 656e 616d 655f 7365 7373 696f  =filename_sessio
-0000dc30: 6e2c 2062 6f74 746f 6d5f 746f 6f6c 6261  n, bottom_toolba
-0000dc40: 723d 626f 7474 6f6d 5f74 6f6f 6c62 6172  r=bottom_toolbar
-0000dc50: 2c20 6465 6661 756c 743d 636f 6e66 6967  , default=config
-0000dc60: 2e6c 6c61 6d61 6370 7043 6861 744d 6f64  .llamacppChatMod
-0000dc70: 656c 5f66 696c 656e 616d 6520 6966 2066  el_filename if f
-0000dc80: 6561 7475 7265 203d 3d20 2263 6f64 6522  eature == "code"
-0000dc90: 2065 6c73 6520 636f 6e66 6967 2e6c 6c61   else config.lla
-0000dca0: 6d61 6370 704d 6169 6e4d 6f64 656c 5f66  macppMainModel_f
-0000dcb0: 696c 656e 616d 6529 0a20 2020 2020 2020  ilename).       
-0000dcc0: 2069 6620 2872 6570 6f5f 6964 2061 6e64   if (repo_id and
-0000dcd0: 206e 6f74 2072 6570 6f5f 6964 2e6c 6f77   not repo_id.low
-0000dce0: 6572 2829 203d 3d20 636f 6e66 6967 2e65  er() == config.e
-0000dcf0: 7869 745f 656e 7472 7929 2061 6e64 2028  xit_entry) and (
-0000dd00: 6669 6c65 6e61 6d65 2061 6e64 206e 6f74  filename and not
-0000dd10: 2066 696c 656e 616d 652e 6c6f 7765 7228   filename.lower(
-0000dd20: 2920 3d3d 2063 6f6e 6669 672e 6578 6974  ) == config.exit
-0000dd30: 5f65 6e74 7279 293a 0a20 2020 2020 2020  _entry):.       
-0000dd40: 2020 2020 2069 6620 6665 6174 7572 6520       if feature 
-0000dd50: 3d3d 2022 6465 6661 756c 7422 3a0a 2020  == "default":.  
-0000dd60: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000dd70: 6e66 6967 2e6c 6c61 6d61 6370 704d 6169  nfig.llamacppMai
-0000dd80: 6e4d 6f64 656c 5f72 6570 6f5f 6964 203d  nModel_repo_id =
-0000dd90: 2072 6570 6f5f 6964 0a20 2020 2020 2020   repo_id.       
-0000dda0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000ddb0: 6c6c 616d 6163 7070 4d61 696e 4d6f 6465  llamacppMainMode
-0000ddc0: 6c5f 6669 6c65 6e61 6d65 203d 2066 696c  l_filename = fil
-0000ddd0: 656e 616d 650a 2020 2020 2020 2020 2020  ename.          
-0000dde0: 2020 2020 2020 636f 6e66 6967 2e6c 6c61        config.lla
-0000ddf0: 6d61 6370 704d 6169 6e4d 6f64 656c 5f6d  macppMainModel_m
-0000de00: 6f64 656c 5f70 6174 6820 3d20 2222 0a20  odel_path = "". 
-0000de10: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0000de20: 6665 6174 7572 6520 3d3d 2022 636f 6465  feature == "code
-0000de30: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-0000de40: 2020 2063 6f6e 6669 672e 6c6c 616d 6163     config.llamac
-0000de50: 7070 4368 6174 4d6f 6465 6c5f 7265 706f  ppChatModel_repo
-0000de60: 5f69 6420 3d20 7265 706f 5f69 640a 2020  _id = repo_id.  
-0000de70: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000de80: 6e66 6967 2e6c 6c61 6d61 6370 7043 6861  nfig.llamacppCha
-0000de90: 744d 6f64 656c 5f66 696c 656e 616d 6520  tModel_filename 
-0000dea0: 3d20 6669 6c65 6e61 6d65 0a20 2020 2020  = filename.     
-0000deb0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000dec0: 672e 6c6c 616d 6163 7070 4368 6174 4d6f  g.llamacppChatMo
-0000ded0: 6465 6c5f 6d6f 6465 6c5f 7061 7468 203d  del_model_path =
-0000dee0: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
-0000def0: 4361 6c6c 4c4c 4d2e 6368 6563 6b43 6f6d  CallLLM.checkCom
-0000df00: 706c 6574 696f 6e28 290a 2020 2020 2020  pletion().      
-0000df10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000df20: 2020 2020 7072 696e 7432 2822 4163 7469      print2("Acti
-0000df30: 6f6e 2063 616e 6365 6c6c 6564 2064 7565  on cancelled due
-0000df40: 2074 6f20 696e 7375 6666 6963 6965 6e74   to insufficient
-0000df50: 2069 6e66 6f72 6d61 7469 6f6e 2122 290a   information!").
-0000df60: 0a20 2020 2064 6566 2073 6574 4c6c 6d4d  .    def setLlmM
-0000df70: 6f64 656c 5f63 6861 7467 7074 2873 656c  odel_chatgpt(sel
-0000df80: 6629 3a0a 2020 2020 2020 2020 6d6f 6465  f):.        mode
-0000df90: 6c20 3d20 7365 6c66 2e64 6961 6c6f 6773  l = self.dialogs
-0000dfa0: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-0000dfb0: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-0000dfc0: 7469 6f6e 733d 7365 6c66 2e6d 6f64 656c  tions=self.model
-0000dfd0: 732c 0a20 2020 2020 2020 2020 2020 2074  s,.            t
-0000dfe0: 6974 6c65 3d22 4675 6e63 7469 6f6e 2043  itle="Function C
-0000dff0: 616c 6c69 6e67 204d 6f64 656c 222c 0a20  alling Model",. 
-0000e000: 2020 2020 2020 2020 2020 2064 6566 6175             defau
-0000e010: 6c74 3d63 6f6e 6669 672e 6368 6174 4750  lt=config.chatGP
-0000e020: 5441 7069 4d6f 6465 6c20 6966 2063 6f6e  TApiModel if con
-0000e030: 6669 672e 6368 6174 4750 5441 7069 4d6f  fig.chatGPTApiMo
-0000e040: 6465 6c20 696e 2073 656c 662e 6d6f 6465  del in self.mode
-0000e050: 6c73 2065 6c73 6520 7365 6c66 2e6d 6f64  ls else self.mod
-0000e060: 656c 735b 305d 2c0a 2020 2020 2020 2020  els[0],.        
-0000e070: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-0000e080: 2061 2066 756e 6374 696f 6e20 6361 6c6c   a function call
-0000e090: 206d 6f64 656c 3a5c 6e28 666f 7220 626f   model:\n(for bo
-0000e0a0: 7468 2063 6861 7420 616e 6420 7461 736b  th chat and task
-0000e0b0: 2065 7865 6375 7469 6f6e 2922 2c0a 2020   execution)",.  
-0000e0c0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000e0d0: 6966 206d 6f64 656c 3a0a 2020 2020 2020  if model:.      
-0000e0e0: 2020 2020 2020 636f 6e66 6967 2e63 6861        config.cha
-0000e0f0: 7447 5054 4170 694d 6f64 656c 203d 206d  tGPTApiModel = m
-0000e100: 6f64 656c 0a20 2020 2020 2020 2020 2020  odel.           
-0000e110: 2070 7269 6e74 3328 6622 4368 6174 4750   print3(f"ChatGP
-0000e120: 5420 6d6f 6465 6c3a 207b 6d6f 6465 6c7d  T model: {model}
-0000e130: 2229 0a20 2020 2020 2020 2020 2020 2023  ").            #
-0000e140: 2073 6574 206d 6178 2074 6f6b 656e 730a   set max tokens.
-0000e150: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-0000e160: 6967 2e63 6861 7447 5054 4170 694d 6178  ig.chatGPTApiMax
-0000e170: 546f 6b65 6e73 203d 2073 656c 662e 6765  Tokens = self.ge
-0000e180: 744d 6178 546f 6b65 6e73 2829 5b2d 315d  tMaxTokens()[-1]
-0000e190: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-0000e1a0: 6e74 3328 6622 4d61 7869 6d75 6d20 6f75  nt3(f"Maximum ou
-0000e1b0: 7470 7574 2074 6f6b 656e 733a 207b 636f  tput tokens: {co
-0000e1c0: 6e66 6967 2e63 6861 7447 5054 4170 694d  nfig.chatGPTApiM
-0000e1d0: 6178 546f 6b65 6e73 7d22 290a 0a20 2020  axTokens}")..   
-0000e1e0: 2064 6566 2073 6574 4368 6174 626f 7428   def setChatbot(
-0000e1f0: 7365 6c66 293a 0a20 2020 2020 2020 206d  self):.        m
-0000e200: 6f64 656c 203d 2073 656c 662e 6469 616c  odel = self.dial
-0000e210: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
-0000e220: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
-0000e230: 206f 7074 696f 6e73 3d28 2263 6861 7467   options=("chatg
-0000e240: 7074 222c 2022 6765 6d69 6e69 7072 6f22  pt", "geminipro"
-0000e250: 2c20 2270 616c 6d32 222c 2022 636f 6465  , "palm2", "code
-0000e260: 7922 292c 0a20 2020 2020 2020 2020 2020  y"),.           
-0000e270: 2074 6974 6c65 3d22 4368 6174 2d6f 6e6c   title="Chat-onl
-0000e280: 7920 6d6f 6465 6c22 2c0a 2020 2020 2020  y model",.      
-0000e290: 2020 2020 2020 6465 6661 756c 743d 636f        default=co
-0000e2a0: 6e66 6967 2e63 6861 7462 6f74 2c0a 2020  nfig.chatbot,.  
-0000e2b0: 2020 2020 2020 2020 2020 7465 7874 3d22            text="
-0000e2c0: 5365 6c65 6374 2064 6566 6175 6c74 2063  Select default c
-0000e2d0: 6861 742d 6f6e 6c79 206d 6f64 656c 3a5c  hat-only model:\
-0000e2e0: 6e28 4465 6661 756c 7420 6d6f 6465 6c20  n(Default model 
-0000e2f0: 6973 206c 6f61 6465 6420 7768 656e 2079  is loaded when y
-0000e300: 6f75 2069 6e63 6c75 6465 2027 5b43 4841  ou include '[CHA
-0000e310: 545d 2720 696e 2079 6f75 7220 696e 7075  T]' in your inpu
-0000e320: 7429 222c 0a20 2020 2020 2020 2029 0a20  t)",.        ). 
-0000e330: 2020 2020 2020 2069 6620 6d6f 6465 6c3a         if model:
-0000e340: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000e350: 6669 672e 6368 6174 626f 7420 3d20 6d6f  fig.chatbot = mo
-0000e360: 6465 6c0a 2020 2020 2020 2020 2020 2020  del.            
-0000e370: 7072 696e 7433 2866 2243 6861 742d 6f6e  print3(f"Chat-on
-0000e380: 6c79 206d 6f64 656c 3a20 7b6d 6f64 656c  ly model: {model
-0000e390: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
-0000e3a0: 456d 6265 6464 696e 674d 6f64 656c 2873  EmbeddingModel(s
-0000e3b0: 656c 6629 3a0a 2020 2020 2020 2020 6f6c  elf):.        ol
-0000e3c0: 6445 6d62 6564 6469 6e67 4d6f 6465 6c20  dEmbeddingModel 
-0000e3d0: 3d20 636f 6e66 6967 2e65 6d62 6564 6469  = config.embeddi
-0000e3e0: 6e67 4d6f 6465 6c0a 2020 2020 2020 2020  ngModel.        
-0000e3f0: 6d6f 6465 6c20 3d20 7365 6c66 2e64 6961  model = self.dia
-0000e400: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
-0000e410: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
-0000e420: 2020 6f70 7469 6f6e 733d 2822 7465 7874    options=("text
-0000e430: 2d65 6d62 6564 6469 6e67 2d33 2d6c 6172  -embedding-3-lar
-0000e440: 6765 222c 2022 7465 7874 2d65 6d62 6564  ge", "text-embed
-0000e450: 6469 6e67 2d33 2d73 6d61 6c6c 222c 2022  ding-3-small", "
-0000e460: 7465 7874 2d65 6d62 6564 6469 6e67 2d61  text-embedding-a
-0000e470: 6461 2d30 3032 222c 2022 7061 7261 7068  da-002", "paraph
-0000e480: 7261 7365 2d6d 756c 7469 6c69 6e67 7561  rase-multilingua
-0000e490: 6c2d 6d70 6e65 742d 6261 7365 2d76 3222  l-mpnet-base-v2"
-0000e4a0: 2c20 2261 6c6c 2d6d 706e 6574 2d62 6173  , "all-mpnet-bas
-0000e4b0: 652d 7632 222c 2022 616c 6c2d 4d69 6e69  e-v2", "all-Mini
-0000e4c0: 4c4d 2d4c 362d 7632 222c 2022 6375 7374  LM-L6-v2", "cust
-0000e4d0: 6f6d 2229 2c0a 2020 2020 2020 2020 2020  om"),.          
-0000e4e0: 2020 7469 746c 653d 2245 6d62 6564 6469    title="Embeddi
-0000e4f0: 6e67 206d 6f64 656c 222c 0a20 2020 2020  ng model",.     
-0000e500: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
-0000e510: 6f6e 6669 672e 656d 6265 6464 696e 674d  onfig.embeddingM
-0000e520: 6f64 656c 2c0a 2020 2020 2020 2020 2020  odel,.          
-0000e530: 2020 7465 7874 3d22 5365 6c65 6374 2061    text="Select a
-0000e540: 6e20 656d 6265 6464 696e 6720 6d6f 6465  n embedding mode
-0000e550: 6c3a 222c 0a20 2020 2020 2020 2029 0a20  l:",.        ). 
-0000e560: 2020 2020 2020 2069 6620 6d6f 6465 6c3a         if model:
-0000e570: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000e580: 6d6f 6465 6c20 3d3d 2022 6375 7374 6f6d  model == "custom
-0000e590: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-0000e5a0: 2020 2070 7269 6e74 3128 2245 6e74 6572     print1("Enter
-0000e5b0: 204f 7065 6e41 4920 6f72 2053 656e 7465   OpenAI or Sente
-0000e5c0: 6e63 6520 5472 616e 7366 6f72 6d65 7220  nce Transformer 
-0000e5d0: 456d 6265 6464 696e 6720 6d6f 6465 6c3a  Embedding model:
-0000e5e0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0000e5f0: 2020 2070 7269 6e74 3128 2252 6561 6420     print1("Read 
-0000e600: 6d6f 7265 2061 743a 2068 7474 7073 3a2f  more at: https:/
-0000e610: 2f77 7777 2e73 6265 7274 2e6e 6574 2f64  /www.sbert.net/d
-0000e620: 6f63 732f 7072 6574 7261 696e 6564 5f6d  ocs/pretrained_m
-0000e630: 6f64 656c 732e 6874 6d6c 2229 0a20 2020  odels.html").   
-0000e640: 2020 2020 2020 2020 2020 2020 2063 7573               cus
-0000e650: 746f 6d4d 6f64 656c 203d 2073 656c 662e  tomModel = self.
-0000e660: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
-0000e670: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
-0000e680: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
-0000e690: 796c 6532 2c20 6465 6661 756c 743d 636f  yle2, default=co
-0000e6a0: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
-0000e6b0: 6465 6c29 0a20 2020 2020 2020 2020 2020  del).           
-0000e6c0: 2020 2020 2069 6620 6375 7374 6f6d 4d6f       if customMo
-0000e6d0: 6465 6c20 616e 6420 6e6f 7420 6375 7374  del and not cust
-0000e6e0: 6f6d 4d6f 6465 6c2e 7374 7269 7028 292e  omModel.strip().
-0000e6f0: 6c6f 7765 7228 2920 3d3d 2063 6f6e 6669  lower() == confi
-0000e700: 672e 6578 6974 5f65 6e74 7279 3a0a 2020  g.exit_entry:.  
-0000e710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e720: 2020 636f 6e66 6967 2e65 6d62 6564 6469    config.embeddi
-0000e730: 6e67 4d6f 6465 6c20 3d20 6375 7374 6f6d  ngModel = custom
-0000e740: 4d6f 6465 6c20 0a20 2020 2020 2020 2020  Model .         
-0000e750: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000e760: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000e770: 656d 6265 6464 696e 674d 6f64 656c 203d  embeddingModel =
-0000e780: 206d 6f64 656c 0a20 2020 2020 2020 2020   model.         
-0000e790: 2020 2070 7269 6e74 3328 6622 456d 6265     print3(f"Embe
-0000e7a0: 6464 696e 6720 6d6f 6465 6c3a 207b 6d6f  dding model: {mo
-0000e7b0: 6465 6c7d 2229 0a20 2020 2020 2020 2069  del}").        i
-0000e7c0: 6620 6e6f 7420 6f6c 6445 6d62 6564 6469  f not oldEmbeddi
-0000e7d0: 6e67 4d6f 6465 6c20 3d3d 2063 6f6e 6669  ngModel == confi
-0000e7e0: 672e 656d 6265 6464 696e 674d 6f64 656c  g.embeddingModel
-0000e7f0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-0000e800: 696e 7431 2866 2259 6f75 2776 6520 6368  int1(f"You've ch
-0000e810: 616e 6765 2074 6865 2065 6d62 6564 6469  ange the embeddi
-0000e820: 6e67 206d 6f64 656c 2066 726f 6d20 277b  ng model from '{
-0000e830: 6f6c 6445 6d62 6564 6469 6e67 4d6f 6465  oldEmbeddingMode
-0000e840: 6c7d 2720 746f 2027 7b63 6f6e 6669 672e  l}' to '{config.
-0000e850: 656d 6265 6464 696e 674d 6f64 656c 7d27  embeddingModel}'
-0000e860: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
-0000e870: 7072 696e 7431 2822 546f 2077 6f72 6b20  print1("To work 
-0000e880: 7769 7468 2074 6865 206e 6577 6c79 2073  with the newly s
-0000e890: 656c 6563 7465 6420 6d6f 6465 6c2c 2070  elected model, p
-0000e8a0: 7265 7669 6f75 7320 6d65 6d6f 7279 2073  revious memory s
-0000e8b0: 746f 7265 2061 6e64 2072 6574 7269 6576  tore and retriev
-0000e8c0: 6564 2063 6f6c 6c65 6374 696f 6e73 206e  ed collections n
-0000e8d0: 6565 6420 746f 2062 6520 6465 6c65 7465  eed to be delete
-0000e8e0: 642e 2229 0a20 2020 2020 2020 2020 2020  d.").           
-0000e8f0: 2070 7269 6e74 3128 2244 6f20 796f 7520   print1("Do you 
-0000e900: 7761 6e74 2074 6f20 6465 6c65 7465 2074  want to delete t
-0000e910: 6865 6d20 6e6f 773f 205b 795d 6573 202f  hem now? [y]es /
-0000e920: 205b 4e5d 6f22 290a 2020 2020 2020 2020   [N]o").        
-0000e930: 2020 2020 636f 6e66 6972 6d61 7469 6f6e      confirmation
-0000e940: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
-0000e950: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
-0000e960: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
-0000e970: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
-0000e980: 6661 756c 743d 2279 6573 2229 0a20 2020  fault="yes").   
-0000e990: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
-0000e9a0: 6972 6d61 7469 6f6e 2e6c 6f77 6572 2829  irmation.lower()
-0000e9b0: 2069 6e20 2822 7922 2c20 2279 6573 2229   in ("y", "yes")
-0000e9c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000e9d0: 2020 6d65 6d6f 7279 5f73 746f 7265 203d    memory_store =
-0000e9e0: 206f 732e 7061 7468 2e6a 6f69 6e28 636f   os.path.join(co
-0000e9f0: 6e66 6967 2e6c 6f63 616c 5374 6f72 6167  nfig.localStorag
-0000ea00: 652c 2022 6d65 6d6f 7279 2229 0a20 2020  e, "memory").   
-0000ea10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000ea20: 7269 6576 6564 5f63 6f6c 6c65 6374 696f  rieved_collectio
-0000ea30: 6e73 203d 206f 732e 7061 7468 2e6a 6f69  ns = os.path.joi
-0000ea40: 6e28 636f 6e66 6967 2e6c 6f63 616c 5374  n(config.localSt
-0000ea50: 6f72 6167 652c 2022 6175 746f 6765 6e22  orage, "autogen"
-0000ea60: 2c20 2272 6574 7269 6576 6572 2229 0a20  , "retriever"). 
-0000ea70: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000ea80: 6f72 2066 6f6c 6465 7220 696e 2028 6d65  or folder in (me
-0000ea90: 6d6f 7279 5f73 746f 7265 2c20 7265 7472  mory_store, retr
-0000eaa0: 6965 7665 645f 636f 6c6c 6563 7469 6f6e  ieved_collection
-0000eab0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0000eac0: 2020 2020 2020 2020 7368 7574 696c 2e72          shutil.r
-0000ead0: 6d74 7265 6528 666f 6c64 6572 2c20 6967  mtree(folder, ig
-0000eae0: 6e6f 7265 5f65 7272 6f72 733d 5472 7565  nore_errors=True
-0000eaf0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0000eb00: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000eb10: 2020 2020 7072 696e 7431 2866 2244 6f20      print1(f"Do 
-0000eb20: 796f 7520 7761 6e74 2074 6f20 6368 616e  you want to chan
-0000eb30: 6765 2062 6163 6b20 7468 6520 656d 6265  ge back the embe
-0000eb40: 6464 696e 6720 6d6f 6465 6c20 6672 6f6d  dding model from
-0000eb50: 2027 7b63 6f6e 6669 672e 656d 6265 6464   '{config.embedd
-0000eb60: 696e 674d 6f64 656c 7d27 2074 6f20 277b  ingModel}' to '{
-0000eb70: 6f6c 6445 6d62 6564 6469 6e67 4d6f 6465  oldEmbeddingMode
-0000eb80: 6c7d 273f 205b 795d 6573 202f 205b 4e5d  l}'? [y]es / [N]
-0000eb90: 6f22 290a 2020 2020 2020 2020 2020 2020  o").            
-0000eba0: 2020 2020 636f 6e66 6972 6d61 7469 6f6e      confirmation
-0000ebb0: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
-0000ebc0: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
-0000ebd0: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
-0000ebe0: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
-0000ebf0: 6661 756c 743d 2279 6573 2229 0a20 2020  fault="yes").   
-0000ec00: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000ec10: 6e6f 7420 636f 6e66 6972 6d61 7469 6f6e  not confirmation
-0000ec20: 2e6c 6f77 6572 2829 2069 6e20 2822 7922  .lower() in ("y"
-0000ec30: 2c20 2279 6573 2229 3a0a 2020 2020 2020  , "yes"):.      
-0000ec40: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000ec50: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
-0000ec60: 6465 6c20 3d20 6f6c 6445 6d62 6564 6469  del = oldEmbeddi
-0000ec70: 6e67 4d6f 6465 6c0a 2020 2020 2020 2020  ngModel.        
-0000ec80: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000ec90: 7433 2866 2245 6d62 6564 6469 6e67 206d  t3(f"Embedding m
-0000eca0: 6f64 656c 3a20 7b6f 6c64 456d 6265 6464  odel: {oldEmbedd
-0000ecb0: 696e 674d 6f64 656c 7d22 290a 2020 2020  ingModel}").    
-0000ecc0: 2020 2020 6966 206e 6f74 206f 6c64 456d      if not oldEm
-0000ecd0: 6265 6464 696e 674d 6f64 656c 203d 3d20  beddingModel == 
-0000ece0: 636f 6e66 6967 2e65 6d62 6564 6469 6e67  config.embedding
-0000ecf0: 4d6f 6465 6c3a 0a20 2020 2020 2020 2020  Model:.         
-0000ed00: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
-0000ed10: 6e66 6967 2829 0a0a 2020 2020 6465 6620  nfig()..    def 
-0000ed20: 7365 7441 7574 6f47 656e 4275 696c 6465  setAutoGenBuilde
-0000ed30: 7243 6f6e 6669 6728 7365 6c66 293a 0a20  rConfig(self):. 
-0000ed40: 2020 2020 2020 2069 6620 6e6f 7420 636f         if not co
-0000ed50: 6e66 6967 2e69 7354 6572 6d75 783a 0a20  nfig.isTermux:. 
-0000ed60: 2020 2020 2020 2020 2020 2041 7574 6f47             AutoG
-0000ed70: 656e 4275 696c 6465 7228 292e 7072 6f6d  enBuilder().prom
-0000ed80: 7074 436f 6e66 6967 2829 0a0a 2020 2020  ptConfig()..    
-0000ed90: 6465 6620 7365 7441 7373 6973 7461 6e74  def setAssistant
-0000eda0: 4e61 6d65 2873 656c 6629 3a0a 2020 2020  Name(self):.    
-0000edb0: 2020 2020 7072 696e 7431 2822 596f 7520      print1("You 
-0000edc0: 6d61 7920 6d6f 6469 6679 206d 7920 6e61  may modify my na
-0000edd0: 6d65 2062 656c 6f77 3a22 290a 2020 2020  me below:").    
-0000ede0: 2020 2020 6672 6565 4765 6e69 7573 4149      freeGeniusAI
-0000edf0: 4e61 6d65 203d 2073 656c 662e 7072 6f6d  Name = self.prom
-0000ee00: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
-0000ee10: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
-0000ee20: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
-0000ee30: 2c20 6465 6661 756c 743d 636f 6e66 6967  , default=config
-0000ee40: 2e66 7265 6547 656e 6975 7341 494e 616d  .freeGeniusAINam
-0000ee50: 6529 0a20 2020 2020 2020 2069 6620 6672  e).        if fr
-0000ee60: 6565 4765 6e69 7573 4149 4e61 6d65 2061  eeGeniusAIName a
-0000ee70: 6e64 206e 6f74 2066 7265 6547 656e 6975  nd not freeGeniu
-0000ee80: 7341 494e 616d 652e 7374 7269 7028 292e  sAIName.strip().
-0000ee90: 6c6f 7765 7228 2920 3d3d 2063 6f6e 6669  lower() == confi
-0000eea0: 672e 6578 6974 5f65 6e74 7279 3a0a 2020  g.exit_entry:.  
-0000eeb0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000eec0: 2e66 7265 6547 656e 6975 7341 494e 616d  .freeGeniusAINam
-0000eed0: 6520 3d20 6672 6565 4765 6e69 7573 4149  e = freeGeniusAI
-0000eee0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
-0000eef0: 2063 6f6e 6669 672e 6c6f 6361 6c53 746f   config.localSto
-0000ef00: 7261 6765 203d 2067 6574 4c6f 6361 6c53  rage = getLocalS
-0000ef10: 746f 7261 6765 2829 0a20 2020 2020 2020  torage().       
-0000ef20: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-0000ef30: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-0000ef40: 2020 2020 2070 7269 6e74 3328 6622 596f       print3(f"Yo
-0000ef50: 7520 6861 7665 2063 6861 6e67 6564 206d  u have changed m
-0000ef60: 7920 6e61 6d65 2074 6f3a 207b 636f 6e66  y name to: {conf
-0000ef70: 6967 2e66 7265 6547 656e 6975 7341 494e  ig.freeGeniusAIN
-0000ef80: 616d 657d 2229 0a0a 2020 2020 6465 6620  ame}")..    def 
-0000ef90: 7365 7443 7573 746f 6d53 7973 7465 6d4d  setCustomSystemM
-0000efa0: 6573 7361 6765 2873 656c 6629 3a0a 2020  essage(self):.  
-0000efb0: 2020 2020 2020 7072 696e 7431 2822 596f        print1("Yo
-0000efc0: 7520 6361 6e20 6d6f 6469 6679 2074 6865  u can modify the
-0000efd0: 2073 7973 7465 6d20 6d65 7373 6167 6520   system message 
-0000efe0: 746f 2066 7572 6e69 7368 206d 6520 7769  to furnish me wi
-0000eff0: 7468 2064 6574 6169 6c73 2061 626f 7574  th details about
-0000f000: 206d 7920 6361 7061 6269 6c69 7469 6573   my capabilities
-0000f010: 2c20 636f 6e73 7472 6169 6e74 732c 206f  , constraints, o
-0000f020: 7220 616e 7920 7065 7274 696e 656e 7420  r any pertinent 
-0000f030: 636f 6e74 6578 7420 7468 6174 206d 6179  context that may
-0000f040: 2069 6e66 6f72 6d20 6f75 7220 696e 7465   inform our inte
-0000f050: 7261 6374 696f 6e73 2e20 5468 6973 2077  ractions. This w
-0000f060: 696c 6c20 6775 6964 6520 6d65 2069 6e20  ill guide me in 
-0000f070: 6d61 6e61 6769 6e67 2061 6e64 2072 6573  managing and res
-0000f080: 706f 6e64 696e 6720 746f 2079 6f75 7220  ponding to your 
-0000f090: 7265 7175 6573 7473 2061 7070 726f 7072  requests appropr
-0000f0a0: 6961 7465 6c79 2e22 290a 2020 2020 2020  iately.").      
-0000f0b0: 2020 7072 696e 7431 2822 506c 6561 7365    print1("Please
-0000f0c0: 206e 6f74 6520 7468 6174 2061 6c74 6572   note that alter
-0000f0d0: 696e 6720 6d79 2073 7973 7465 6d20 6d65  ing my system me
-0000f0e0: 7373 6167 6520 6469 7265 6374 6c79 2061  ssage directly a
-0000f0f0: 6666 6563 7473 206d 7920 6675 6e63 7469  ffects my functi
-0000f100: 6f6e 616c 6974 792e 2048 616e 646c 6520  onality. Handle 
-0000f110: 7769 7468 2063 6172 652e 2229 0a20 2020  with care.").   
-0000f120: 2020 2020 2070 7269 6e74 3128 2245 6e74       print1("Ent
-0000f130: 6572 2063 7573 746f 6d20 7379 7374 656d  er custom system
-0000f140: 206d 6573 7361 6765 2062 656c 6f77 3a22   message below:"
-0000f150: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-0000f160: 2866 2228 4b65 6570 2069 7420 626c 616e  (f"(Keep it blan
-0000f170: 6b20 746f 2075 7365 207b 636f 6e66 6967  k to use {config
-0000f180: 2e66 7265 6547 656e 6975 7341 494e 616d  .freeGeniusAINam
-0000f190: 657d 2064 6566 6175 6c74 2073 7973 7465  e} default syste
-0000f1a0: 6d20 6d65 7373 6167 652e 2922 290a 2020  m message.)").  
-0000f1b0: 2020 2020 2020 6d65 7373 6167 6520 3d20        message = 
-0000f1c0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-0000f1d0: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-0000f1e0: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-0000f1f0: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
-0000f200: 6c74 3d63 6f6e 6669 672e 7379 7374 656d  lt=config.system
-0000f210: 4d65 7373 6167 655f 6c65 746d 6564 6f69  Message_letmedoi
-0000f220: 7429 0a20 2020 2020 2020 2069 6620 6d65  t).        if me
-0000f230: 7373 6167 6520 616e 6420 6e6f 7420 6d65  ssage and not me
-0000f240: 7373 6167 652e 7374 7269 7028 292e 6c6f  ssage.strip().lo
-0000f250: 7765 7228 2920 3d3d 2063 6f6e 6669 672e  wer() == config.
-0000f260: 6578 6974 5f65 6e74 7279 3a0a 2020 2020  exit_entry:.    
-0000f270: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-0000f280: 7973 7465 6d4d 6573 7361 6765 5f6c 6574  ystemMessage_let
-0000f290: 6d65 646f 6974 203d 206d 6573 7361 6765  medoit = message
-0000f2a0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000f2b0: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-0000f2c0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-0000f2d0: 6e74 3328 6622 4375 7374 6f6d 2073 7973  nt3(f"Custom sys
-0000f2e0: 7465 6d20 6d65 7373 6167 653a 207b 636f  tem message: {co
-0000f2f0: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
-0000f300: 494e 616d 657d 2229 0a0a 2020 2020 6465  IName}")..    de
-0000f310: 6620 7365 7443 7573 746f 6d54 6578 7445  f setCustomTextE
-0000f320: 6469 746f 7228 7365 6c66 293a 0a20 2020  ditor(self):.   
-0000f330: 2020 2020 2070 7269 6e74 3128 2250 6c65       print1("Ple
-0000f340: 6173 6520 7370 6563 6966 7920 6375 7374  ase specify cust
-0000f350: 6f6d 2074 6578 7420 6564 6974 6f72 2063  om text editor c
-0000f360: 6f6d 6d61 6e64 2062 656c 6f77 3a22 290a  ommand below:").
-0000f370: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000f380: 652e 672e 2027 6d69 6372 6f20 2d73 6f66  e.g. 'micro -sof
-0000f390: 7477 7261 7020 7472 7565 202d 776f 7264  twrap true -word
-0000f3a0: 7772 6170 2074 7275 6527 2229 0a20 2020  wrap true'").   
-0000f3b0: 2020 2020 2070 7269 6e74 3128 224c 6561       print1("Lea
-0000f3c0: 7665 2069 7420 626c 616e 6b20 746f 2075  ve it blank to u
-0000f3d0: 7365 206f 7572 2062 7569 6c74 2d69 6e20  se our built-in 
-0000f3e0: 7465 7874 2065 6469 746f 7220 2765 5465  text editor 'eTe
-0000f3f0: 7874 4564 6974 2720 6279 2064 6566 6175  xtEdit' by defau
-0000f400: 6c74 2e22 290a 2020 2020 2020 2020 6375  lt.").        cu
-0000f410: 7374 6f6d 5465 7874 4564 6974 6f72 203d  stomTextEditor =
-0000f420: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-0000f430: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-0000f440: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-0000f450: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
-0000f460: 756c 743d 636f 6e66 6967 2e63 7573 746f  ult=config.custo
-0000f470: 6d54 6578 7445 6469 746f 7229 0a20 2020  mTextEditor).   
-0000f480: 2020 2020 2069 6620 6375 7374 6f6d 5465       if customTe
-0000f490: 7874 4564 6974 6f72 2061 6e64 206e 6f74  xtEditor and not
-0000f4a0: 2063 7573 746f 6d54 6578 7445 6469 746f   customTextEdito
-0000f4b0: 722e 7374 7269 7028 292e 6c6f 7765 7228  r.strip().lower(
-0000f4c0: 2920 3d3d 2063 6f6e 6669 672e 6578 6974  ) == config.exit
-0000f4d0: 5f65 6e74 7279 3a0a 2020 2020 2020 2020  _entry:.        
-0000f4e0: 2020 2020 7465 7874 4564 6974 6f72 203d      textEditor =
-0000f4f0: 2072 652e 7375 6228 2220 2e2a 3f24 222c   re.sub(" .*?$",
-0000f500: 2022 222c 2063 7573 746f 6d54 6578 7445   "", customTextE
-0000f510: 6469 746f 7229 0a20 2020 2020 2020 2020  ditor).         
-0000f520: 2020 2069 6620 6e6f 7420 7465 7874 4564     if not textEd
-0000f530: 6974 6f72 206f 7220 6e6f 7420 6973 436f  itor or not isCo
-0000f540: 6d6d 616e 6449 6e73 7461 6c6c 6564 2874  mmandInstalled(t
-0000f550: 6578 7445 6469 746f 7229 3a0a 2020 2020  extEditor):.    
-0000f560: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000f570: 7432 2822 436f 6d6d 616e 6420 6e6f 7420  t2("Command not 
-0000f580: 666f 756e 6420 6f6e 2079 6f75 7220 6465  found on your de
-0000f590: 7669 6365 2122 290a 2020 2020 2020 2020  vice!").        
-0000f5a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000f5b0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000f5c0: 2e63 7573 746f 6d54 6578 7445 6469 746f  .customTextEdito
-0000f5d0: 7220 3d20 6375 7374 6f6d 5465 7874 4564  r = customTextEd
-0000f5e0: 6974 6f72 0a20 2020 2020 2020 2020 2020  itor.           
-0000f5f0: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-0000f600: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-0000f610: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-0000f620: 6622 4375 7374 6f6d 2074 6578 7420 6564  f"Custom text ed
-0000f630: 6974 6f72 3a20 7b63 6f6e 6669 672e 6375  itor: {config.cu
-0000f640: 7374 6f6d 5465 7874 4564 6974 6f72 7d22  stomTextEditor}"
-0000f650: 290a 0a20 2020 2064 6566 2073 6574 4368  )..    def setCh
-0000f660: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
-0000f670: 6174 6368 6573 2873 656c 6629 3a0a 2020  atches(self):.  
-0000f680: 2020 2020 2020 7072 696e 7431 2822 506c        print1("Pl
-0000f690: 6561 7365 2073 7065 6369 6679 2074 6865  ease specify the
-0000f6a0: 206e 756d 6265 7220 6f66 2063 6c6f 7365   number of close
-0000f6b0: 7374 206d 6174 6368 6573 2069 6e20 6561  st matches in ea
-0000f6c0: 6368 206d 656d 6f72 7920 7265 7472 6965  ch memory retrie
-0000f6d0: 7661 6c3a 2229 0a20 2020 2020 2020 2063  val:").        c
-0000f6e0: 6861 7452 6563 6f72 6443 6c6f 7365 7374  hatRecordClosest
-0000f6f0: 4d61 7463 6865 7320 3d20 7365 6c66 2e70  Matches = self.p
-0000f700: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-0000f710: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-0000f720: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-0000f730: 6c65 322c 206e 756d 6265 724f 6e6c 793d  le2, numberOnly=
-0000f740: 5472 7565 2c20 6465 6661 756c 743d 7374  True, default=st
-0000f750: 7228 636f 6e66 6967 2e63 6861 7452 6563  r(config.chatRec
-0000f760: 6f72 6443 6c6f 7365 7374 4d61 7463 6865  ordClosestMatche
-0000f770: 7329 290a 2020 2020 2020 2020 6966 2063  s)).        if c
-0000f780: 6861 7452 6563 6f72 6443 6c6f 7365 7374  hatRecordClosest
-0000f790: 4d61 7463 6865 7320 616e 6420 6e6f 7420  Matches and not 
-0000f7a0: 6368 6174 5265 636f 7264 436c 6f73 6573  chatRecordCloses
-0000f7b0: 744d 6174 6368 6573 2e73 7472 6970 2829  tMatches.strip()
-0000f7c0: 2e6c 6f77 6572 2829 203d 3d20 636f 6e66  .lower() == conf
-0000f7d0: 6967 2e65 7869 745f 656e 7472 7920 616e  ig.exit_entry an
-0000f7e0: 6420 696e 7428 6368 6174 5265 636f 7264  d int(chatRecord
-0000f7f0: 436c 6f73 6573 744d 6174 6368 6573 2920  ClosestMatches) 
-0000f800: 3e3d 2030 3a0a 2020 2020 2020 2020 2020  >= 0:.          
-0000f810: 2020 636f 6e66 6967 2e63 6861 7452 6563    config.chatRec
-0000f820: 6f72 6443 6c6f 7365 7374 4d61 7463 6865  ordClosestMatche
-0000f830: 7320 3d20 696e 7428 6368 6174 5265 636f  s = int(chatReco
-0000f840: 7264 436c 6f73 6573 744d 6174 6368 6573  rdClosestMatches
-0000f850: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
-0000f860: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
-0000f870: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-0000f880: 696e 7433 2866 224e 756d 6265 7220 6f66  int3(f"Number of
-0000f890: 206d 656d 6f72 7920 636c 6f73 6573 7420   memory closest 
-0000f8a0: 6d61 7463 6865 733a 207b 636f 6e66 6967  matches: {config
-0000f8b0: 2e63 6861 7452 6563 6f72 6443 6c6f 7365  .chatRecordClose
-0000f8c0: 7374 4d61 7463 6865 737d 2229 0a0a 2020  stMatches}")..  
-0000f8d0: 2020 6465 6620 7365 744d 656d 6f72 7943    def setMemoryC
-0000f8e0: 6c6f 7365 7374 4d61 7463 6865 7328 7365  losestMatches(se
-0000f8f0: 6c66 293a 0a20 2020 2020 2020 2070 7269  lf):.        pri
-0000f900: 6e74 3128 2250 6c65 6173 6520 7370 6563  nt1("Please spec
-0000f910: 6966 7920 7468 6520 6e75 6d62 6572 206f  ify the number o
-0000f920: 6620 636c 6f73 6573 7420 6d61 7463 6865  f closest matche
-0000f930: 7320 696e 2065 6163 6820 6d65 6d6f 7279  s in each memory
-0000f940: 2072 6574 7269 6576 616c 3a22 290a 2020   retrieval:").  
-0000f950: 2020 2020 2020 6d65 6d6f 7279 436c 6f73        memoryClos
-0000f960: 6573 744d 6174 6368 6573 203d 2073 656c  estMatches = sel
-0000f970: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
-0000f980: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
-0000f990: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
-0000f9a0: 5374 796c 6532 2c20 6e75 6d62 6572 4f6e  Style2, numberOn
-0000f9b0: 6c79 3d54 7275 652c 2064 6566 6175 6c74  ly=True, default
-0000f9c0: 3d73 7472 2863 6f6e 6669 672e 6d65 6d6f  =str(config.memo
-0000f9d0: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-0000f9e0: 2929 0a20 2020 2020 2020 2069 6620 6d65  )).        if me
-0000f9f0: 6d6f 7279 436c 6f73 6573 744d 6174 6368  moryClosestMatch
-0000fa00: 6573 2061 6e64 206e 6f74 206d 656d 6f72  es and not memor
-0000fa10: 7943 6c6f 7365 7374 4d61 7463 6865 732e  yClosestMatches.
-0000fa20: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
-0000fa30: 3d3d 2063 6f6e 6669 672e 6578 6974 5f65  == config.exit_e
-0000fa40: 6e74 7279 2061 6e64 2069 6e74 286d 656d  ntry and int(mem
-0000fa50: 6f72 7943 6c6f 7365 7374 4d61 7463 6865  oryClosestMatche
-0000fa60: 7329 203e 3d20 303a 0a20 2020 2020 2020  s) >= 0:.       
-0000fa70: 2020 2020 2063 6f6e 6669 672e 6d65 6d6f       config.memo
-0000fa80: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-0000fa90: 203d 2069 6e74 286d 656d 6f72 7943 6c6f   = int(memoryClo
-0000faa0: 7365 7374 4d61 7463 6865 7329 0a20 2020  sestMatches).   
-0000fab0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000fac0: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
-0000fad0: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-0000fae0: 6622 4e75 6d62 6572 206f 6620 6d65 6d6f  f"Number of memo
-0000faf0: 7279 2063 6c6f 7365 7374 206d 6174 6368  ry closest match
-0000fb00: 6573 3a20 7b63 6f6e 6669 672e 6d65 6d6f  es: {config.memo
-0000fb10: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-0000fb20: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
-0000fb30: 4d61 7841 7574 6f43 6f72 7265 6374 2873  MaxAutoCorrect(s
-0000fb40: 656c 6629 3a0a 2020 2020 2020 2020 7072  elf):.        pr
-0000fb50: 696e 7431 2866 2254 6865 2061 7574 6f2d  int1(f"The auto-
-0000fb60: 636f 7272 6563 7469 6f6e 2066 6561 7475  correction featu
-0000fb70: 7265 2065 6e61 626c 6573 207b 636f 6e66  re enables {conf
-0000fb80: 6967 2e66 7265 6547 656e 6975 7341 494e  ig.freeGeniusAIN
-0000fb90: 616d 657d 2074 6f20 6175 746f 6d61 7469  ame} to automati
-0000fba0: 6361 6c6c 7920 6669 7820 6272 6f6b 656e  cally fix broken
-0000fbb0: 2050 7974 686f 6e20 636f 6465 2069 6620   Python code if 
-0000fbc0: 6974 2077 6173 206e 6f74 2065 7865 6375  it was not execu
-0000fbd0: 7465 6420 7072 6f70 6572 6c79 2e22 290a  ted properly.").
-0000fbe0: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000fbf0: 506c 6561 7365 2073 7065 6369 6679 206d  Please specify m
-0000fc00: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-0000fc10: 2061 7574 6f2d 636f 7272 6563 7469 6f6e   auto-correction
-0000fc20: 2061 7474 656d 7074 7320 6265 6c6f 773a   attempts below:
-0000fc30: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000fc40: 3128 2228 5265 6d61 726b 733a 2045 6e74  1("(Remarks: Ent
-0000fc50: 6572 2027 3027 2069 6620 796f 7520 7761  er '0' if you wa
-0000fc60: 6e74 2074 6f20 6469 7361 626c 6520 6175  nt to disable au
-0000fc70: 746f 2d63 6f72 7265 6374 696f 6e20 6665  to-correction fe
-0000fc80: 6174 7572 6529 2229 0a20 2020 2020 2020  ature)").       
-0000fc90: 206d 6178 4175 746f 436f 7272 6563 7420   maxAutoCorrect 
-0000fca0: 3d20 7365 6c66 2e70 726f 6d70 7473 2e73  = self.prompts.s
-0000fcb0: 696d 706c 6550 726f 6d70 7428 7374 796c  implePrompt(styl
-0000fcc0: 653d 7365 6c66 2e70 726f 6d70 7473 2e70  e=self.prompts.p
-0000fcd0: 726f 6d70 7453 7479 6c65 322c 206e 756d  romptStyle2, num
-0000fce0: 6265 724f 6e6c 793d 5472 7565 2c20 6465  berOnly=True, de
-0000fcf0: 6661 756c 743d 7374 7228 636f 6e66 6967  fault=str(config
-0000fd00: 2e6d 6178 5f63 6f6e 7365 6375 7469 7665  .max_consecutive
-0000fd10: 5f61 7574 6f5f 636f 7272 6563 7469 6f6e  _auto_correction
-0000fd20: 2929 0a20 2020 2020 2020 2069 6620 6d61  )).        if ma
-0000fd30: 7841 7574 6f43 6f72 7265 6374 2061 6e64  xAutoCorrect and
-0000fd40: 206e 6f74 206d 6178 4175 746f 436f 7272   not maxAutoCorr
-0000fd50: 6563 742e 7374 7269 7028 292e 6c6f 7765  ect.strip().lowe
-0000fd60: 7228 2920 3d3d 2063 6f6e 6669 672e 6578  r() == config.ex
-0000fd70: 6974 5f65 6e74 7279 2061 6e64 2069 6e74  it_entry and int
-0000fd80: 286d 6178 4175 746f 436f 7272 6563 7429  (maxAutoCorrect)
-0000fd90: 203e 3d20 303a 0a20 2020 2020 2020 2020   >= 0:.         
-0000fda0: 2020 2063 6f6e 6669 672e 6d61 785f 636f     config.max_co
-0000fdb0: 6e73 6563 7574 6976 655f 6175 746f 5f63  nsecutive_auto_c
-0000fdc0: 6f72 7265 6374 696f 6e20 3d20 696e 7428  orrection = int(
-0000fdd0: 6d61 7841 7574 6f43 6f72 7265 6374 290a  maxAutoCorrect).
-0000fde0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-0000fdf0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-0000fe00: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000fe10: 7433 2866 224d 6178 696d 756d 2063 6f6e  t3(f"Maximum con
-0000fe20: 7365 6375 7469 7665 2061 7574 6f2d 636f  secutive auto-co
-0000fe30: 7272 6563 7469 6f6e 3a20 7b63 6f6e 6669  rrection: {confi
-0000fe40: 672e 6d61 785f 636f 6e73 6563 7574 6976  g.max_consecutiv
-0000fe50: 655f 6175 746f 5f63 6f72 7265 6374 696f  e_auto_correctio
-0000fe60: 6e7d 2229 0a0a 2020 2020 6465 6620 7365  n}")..    def se
-0000fe70: 744d 696e 546f 6b65 6e73 2873 656c 6629  tMinTokens(self)
-0000fe80: 3a0a 2020 2020 2020 2020 7072 696e 7431  :.        print1
-0000fe90: 2822 506c 6561 7365 2073 7065 6369 6679  ("Please specify
-0000fea0: 206d 696e 696d 756d 206f 7574 7075 7420   minimum output 
-0000feb0: 746f 6b65 6e73 2062 656c 6f77 3a22 290a  tokens below:").
-0000fec0: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000fed0: 2861 7070 6c69 6361 626c 6520 746f 2027  (applicable to '
-0000fee0: 6368 6174 6770 7427 2061 6e64 2027 6c65  chatgpt' and 'le
-0000fef0: 746d 6564 6f69 7427 2069 6e74 6572 6661  tmedoit' interfa
-0000ff00: 6365 7320 6f6e 6c79 2922 290a 2020 2020  ces only)").    
-0000ff10: 2020 2020 6d69 6e74 6f6b 656e 7320 3d20      mintokens = 
-0000ff20: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-0000ff30: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-0000ff40: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-0000ff50: 6d70 7453 7479 6c65 322c 206e 756d 6265  mptStyle2, numbe
-0000ff60: 724f 6e6c 793d 5472 7565 2c20 6465 6661  rOnly=True, defa
-0000ff70: 756c 743d 7374 7228 636f 6e66 6967 2e63  ult=str(config.c
-0000ff80: 6861 7447 5054 4170 694d 696e 546f 6b65  hatGPTApiMinToke
-0000ff90: 6e73 2929 0a20 2020 2020 2020 2069 6620  ns)).        if 
-0000ffa0: 6d69 6e74 6f6b 656e 7320 616e 6420 6e6f  mintokens and no
-0000ffb0: 7420 6d69 6e74 6f6b 656e 732e 7374 7269  t mintokens.stri
-0000ffc0: 7028 292e 6c6f 7765 7228 2920 3d3d 2063  p().lower() == c
-0000ffd0: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
-0000ffe0: 2061 6e64 2069 6e74 286d 696e 746f 6b65   and int(mintoke
-0000fff0: 6e73 2920 3e20 303a 0a20 2020 2020 2020  ns) > 0:.       
-00010000: 2020 2020 2063 6f6e 6669 672e 6368 6174       config.chat
-00010010: 4750 5441 7069 4d69 6e54 6f6b 656e 7320  GPTApiMinTokens 
-00010020: 3d20 696e 7428 6d69 6e74 6f6b 656e 7329  = int(mintokens)
-00010030: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00010040: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
-00010050: 694d 696e 546f 6b65 6e73 203e 2063 6f6e  iMinTokens > con
-00010060: 6669 672e 6368 6174 4750 5441 7069 4d61  fig.chatGPTApiMa
-00010070: 7854 6f6b 656e 733a 0a20 2020 2020 2020  xTokens:.       
-00010080: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00010090: 6368 6174 4750 5441 7069 4d69 6e54 6f6b  chatGPTApiMinTok
-000100a0: 656e 7320 3d20 636f 6e66 6967 2e63 6861  ens = config.cha
-000100b0: 7447 5054 4170 694d 6178 546f 6b65 6e73  tGPTApiMaxTokens
-000100c0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-000100d0: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-000100e0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-000100f0: 6e74 3328 6622 4d69 6e69 6d75 6d20 6f75  nt3(f"Minimum ou
-00010100: 7470 7574 2074 6f6b 656e 733a 207b 636f  tput tokens: {co
-00010110: 6e66 6967 2e63 6861 7447 5054 4170 694d  nfig.chatGPTApiM
-00010120: 696e 546f 6b65 6e73 7d22 290a 0a20 2020  inTokens}")..   
-00010130: 2064 6566 2067 6574 4d61 7854 6f6b 656e   def getMaxToken
-00010140: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
-00010150: 2063 6f6e 7465 7874 5769 6e64 6f77 4c69   contextWindowLi
-00010160: 6d69 7420 3d20 746f 6b65 6e4c 696d 6974  mit = tokenLimit
-00010170: 735b 636f 6e66 6967 2e63 6861 7447 5054  s[config.chatGPT
-00010180: 4170 694d 6f64 656c 5d0a 2020 2020 2020  ApiModel].      
-00010190: 2020 6675 6e63 7469 6f6e 546f 6b65 6e73    functionTokens
-000101a0: 203d 2063 6f75 6e74 5f74 6f6b 656e 735f   = count_tokens_
-000101b0: 6672 6f6d 5f66 756e 6374 696f 6e73 2863  from_functions(c
-000101c0: 6f6e 6669 672e 746f 6f6c 4675 6e63 7469  onfig.toolFuncti
-000101d0: 6f6e 5363 6865 6d61 732e 7661 6c75 6573  onSchemas.values
-000101e0: 2829 290a 2020 2020 2020 2020 6d61 7854  ()).        maxT
-000101f0: 6f6b 656e 203d 2063 6f6e 7465 7874 5769  oken = contextWi
-00010200: 6e64 6f77 4c69 6d69 7420 2d20 6675 6e63  ndowLimit - func
-00010210: 7469 6f6e 546f 6b65 6e73 202d 2063 6f6e  tionTokens - con
-00010220: 6669 672e 6368 6174 4750 5441 7069 4d69  fig.chatGPTApiMi
-00010230: 6e54 6f6b 656e 730a 2020 2020 2020 2020  nTokens.        
-00010240: 6966 206d 6178 546f 6b65 6e20 3e20 3430  if maxToken > 40
-00010250: 3936 2061 6e64 2063 6f6e 6669 672e 6368  96 and config.ch
-00010260: 6174 4750 5441 7069 4d6f 6465 6c20 696e  atGPTApiModel in
-00010270: 2028 0a20 2020 2020 2020 2020 2020 2022   (.            "
-00010280: 6770 742d 342d 7475 7262 6f22 2c0a 2020  gpt-4-turbo",.  
-00010290: 2020 2020 2020 2020 2020 2267 7074 2d34            "gpt-4
-000102a0: 2d74 7572 626f 2d70 7265 7669 6577 222c  -turbo-preview",
-000102b0: 0a20 2020 2020 2020 2020 2020 2022 6770  .            "gp
-000102c0: 742d 342d 3031 3235 2d70 7265 7669 6577  t-4-0125-preview
-000102d0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-000102e0: 6770 742d 342d 3131 3036 2d70 7265 7669  gpt-4-1106-previ
-000102f0: 6577 222c 0a20 2020 2020 2020 2020 2020  ew",.           
-00010300: 2022 6770 742d 332e 352d 7475 7262 6f22   "gpt-3.5-turbo"
-00010310: 2c0a 2020 2020 2020 2020 293a 0a20 2020  ,.        ):.   
-00010320: 2020 2020 2020 2020 206d 6178 546f 6b65           maxToke
-00010330: 6e20 3d20 3430 3936 0a20 2020 2020 2020  n = 4096.       
-00010340: 2072 6574 7572 6e20 636f 6e74 6578 7457   return contextW
-00010350: 696e 646f 774c 696d 6974 2c20 6675 6e63  indowLimit, func
-00010360: 7469 6f6e 546f 6b65 6e73 2c20 6d61 7854  tionTokens, maxT
-00010370: 6f6b 656e 0a0a 2020 2020 6465 6620 7365  oken..    def se
-00010380: 744d 6178 546f 6b65 6e73 5f6e 6f6e 5f63  tMaxTokens_non_c
-00010390: 6861 7467 7074 2873 656c 6629 3a0a 2020  hatgpt(self):.  
-000103a0: 2020 2020 2020 7072 696e 7431 2822 506c        print1("Pl
-000103b0: 6561 7365 2073 7065 6369 6679 206d 6178  ease specify max
-000103c0: 696d 756d 206f 7574 7075 7420 746f 6b65  imum output toke
-000103d0: 6e73 2062 656c 6f77 3a22 290a 2020 2020  ns below:").    
-000103e0: 2020 2020 6966 2063 6f6e 6669 672e 6c6c      if config.ll
-000103f0: 6d49 6e74 6572 6661 6365 203d 3d20 2267  mInterface == "g
-00010400: 656d 696e 6922 3a0a 2020 2020 2020 2020  emini":.        
-00010410: 2020 2020 6465 6661 756c 7420 3d20 636f      default = co
-00010420: 6e66 6967 2e67 656d 696e 6970 726f 5f6d  nfig.geminipro_m
-00010430: 6178 5f6f 7574 7075 745f 746f 6b65 6e73  ax_output_tokens
-00010440: 0a20 2020 2020 2020 2065 6c69 6620 636f  .        elif co
-00010450: 6e66 6967 2e6c 6c6d 496e 7465 7266 6163  nfig.llmInterfac
-00010460: 6520 3d3d 2022 6c6c 616d 6163 7070 223a  e == "llamacpp":
-00010470: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-00010480: 6175 6c74 203d 2063 6f6e 6669 672e 6c6c  ault = config.ll
-00010490: 616d 6163 7070 4d61 696e 4d6f 6465 6c5f  amacppMainModel_
-000104a0: 6d61 785f 746f 6b65 6e73 0a20 2020 2020  max_tokens.     
-000104b0: 2020 2065 6c69 6620 636f 6e66 6967 2e6c     elif config.l
-000104c0: 6c6d 496e 7465 7266 6163 6520 3d3d 2022  lmInterface == "
-000104d0: 6f6c 6c61 6d61 223a 0a20 2020 2020 2020  ollama":.       
-000104e0: 2020 2020 2064 6566 6175 6c74 203d 2063       default = c
-000104f0: 6f6e 6669 672e 6f6c 6c61 6d61 4d61 696e  onfig.ollamaMain
-00010500: 4d6f 6465 6c5f 6e75 6d5f 7072 6564 6963  Model_num_predic
-00010510: 740a 2020 2020 2020 2020 6d61 7874 6f6b  t.        maxtok
-00010520: 656e 7320 3d20 7365 6c66 2e70 726f 6d70  ens = self.promp
-00010530: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-00010540: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-00010550: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-00010560: 206e 756d 6265 724f 6e6c 793d 5472 7565   numberOnly=True
-00010570: 2c20 6465 6661 756c 743d 7374 7228 6465  , default=str(de
-00010580: 6661 756c 7429 290a 2020 2020 2020 2020  fault)).        
-00010590: 6966 206d 6178 746f 6b65 6e73 2061 6e64  if maxtokens and
-000105a0: 206e 6f74 206d 6178 746f 6b65 6e73 2e73   not maxtokens.s
-000105b0: 7472 6970 2829 2e6c 6f77 6572 2829 203d  trip().lower() =
-000105c0: 3d20 636f 6e66 6967 2e65 7869 745f 656e  = config.exit_en
-000105d0: 7472 7920 616e 6420 696e 7428 6d61 7874  try and int(maxt
-000105e0: 6f6b 656e 7329 203e 2030 3a0a 2020 2020  okens) > 0:.    
-000105f0: 2020 2020 2020 2020 6d61 7874 6f6b 656e          maxtoken
-00010600: 7320 3d20 696e 7428 6d61 7874 6f6b 656e  s = int(maxtoken
-00010610: 7329 0a20 2020 2020 2020 2020 2020 2069  s).            i
-00010620: 6620 636f 6e66 6967 2e6c 6c6d 496e 7465  f config.llmInte
-00010630: 7266 6163 6520 3d3d 2022 6765 6d69 6e69  rface == "gemini
-00010640: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00010650: 2020 2063 6f6e 6669 672e 6765 6d69 6e69     config.gemini
-00010660: 7072 6f5f 6d61 785f 6f75 7470 7574 5f74  pro_max_output_t
-00010670: 6f6b 656e 7320 3d20 6d61 7874 6f6b 656e  okens = maxtoken
-00010680: 730a 2020 2020 2020 2020 2020 2020 656c  s.            el
-00010690: 6966 2063 6f6e 6669 672e 6c6c 6d49 6e74  if config.llmInt
-000106a0: 6572 6661 6365 203d 3d20 226c 6c61 6d61  erface == "llama
-000106b0: 6370 7022 3a0a 2020 2020 2020 2020 2020  cpp":.          
-000106c0: 2020 2020 2020 636f 6e66 6967 2e6c 6c61        config.lla
-000106d0: 6d61 6370 704d 6169 6e4d 6f64 656c 5f6d  macppMainModel_m
-000106e0: 6178 5f74 6f6b 656e 7320 3d20 6d61 7874  ax_tokens = maxt
-000106f0: 6f6b 656e 730a 2020 2020 2020 2020 2020  okens.          
-00010700: 2020 656c 6966 2063 6f6e 6669 672e 6c6c    elif config.ll
-00010710: 6d49 6e74 6572 6661 6365 203d 3d20 226f  mInterface == "o
-00010720: 6c6c 616d 6122 3a0a 2020 2020 2020 2020  llama":.        
-00010730: 2020 2020 2020 2020 636f 6e66 6967 2e6f          config.o
-00010740: 6c6c 616d 614d 6169 6e4d 6f64 656c 5f6e  llamaMainModel_n
-00010750: 756d 5f70 7265 6469 6374 203d 206d 6178  um_predict = max
-00010760: 746f 6b65 6e73 0a20 2020 2020 2020 2020  tokens.         
-00010770: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
-00010780: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
-00010790: 2020 2070 7269 6e74 3328 6622 4d61 7869     print3(f"Maxi
-000107a0: 6d75 6d20 6f75 7470 7574 2074 6f6b 656e  mum output token
-000107b0: 733a 207b 636f 6e66 6967 2e63 6861 7447  s: {config.chatG
-000107c0: 5054 4170 694d 696e 546f 6b65 6e73 7d22  PTApiMinTokens}"
-000107d0: 290a 0a20 2020 2064 6566 2073 6574 4d61  )..    def setMa
-000107e0: 7854 6f6b 656e 7328 7365 6c66 293a 0a20  xTokens(self):. 
-000107f0: 2020 2020 2020 2023 206e 6f6e 2d63 6861         # non-cha
-00010800: 7467 7074 2073 6574 7469 6e67 730a 2020  tgpt settings.  
-00010810: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
-00010820: 6669 672e 6c6c 6d49 6e74 6572 6661 6365  fig.llmInterface
-00010830: 2069 6e20 2822 6368 6174 6770 7422 2c20   in ("chatgpt", 
-00010840: 226c 6574 6d65 646f 6974 2229 3a0a 2020  "letmedoit"):.  
-00010850: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00010860: 6574 4d61 7854 6f6b 656e 735f 6e6f 6e5f  etMaxTokens_non_
-00010870: 6368 6174 6770 7428 290a 2020 2020 2020  chatgpt().      
-00010880: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00010890: 650a 2020 2020 2020 2020 2320 6368 6174  e.        # chat
-000108a0: 6770 7420 7365 7474 696e 6773 0a20 2020  gpt settings.   
-000108b0: 2020 2020 2063 6f6e 7465 7874 5769 6e64       contextWind
-000108c0: 6f77 4c69 6d69 742c 2066 756e 6374 696f  owLimit, functio
-000108d0: 6e54 6f6b 656e 732c 2074 6f6b 656e 4c69  nTokens, tokenLi
-000108e0: 6d69 7420 3d20 7365 6c66 2e67 6574 4d61  mit = self.getMa
-000108f0: 7854 6f6b 656e 7328 290a 2020 2020 2020  xTokens().      
-00010900: 2020 6966 2074 6f6b 656e 4c69 6d69 7420    if tokenLimit 
-00010910: 3c20 636f 6e66 6967 2e63 6861 7447 5054  < config.chatGPT
-00010920: 4170 694d 696e 546f 6b65 6e73 3a0a 2020  ApiMinTokens:.  
-00010930: 2020 2020 2020 2020 2020 7072 696e 7432            print2
-00010940: 2866 2246 756e 6374 696f 6e20 746f 6b65  (f"Function toke
-00010950: 6e73 205b 7b66 756e 6374 696f 6e54 6f6b  ns [{functionTok
-00010960: 656e 737d 5d20 6578 6365 6564 207b 636f  ens}] exceed {co
-00010970: 6e66 6967 2e63 6861 7447 5054 4170 694d  nfig.chatGPTApiM
-00010980: 6f64 656c 7d20 6f75 7470 7574 2074 6f6b  odel} output tok
-00010990: 656e 206c 696d 6974 2e22 290a 2020 2020  en limit.").    
-000109a0: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-000109b0: 4569 7468 6572 2063 6861 6e67 6520 746f  Either change to
-000109c0: 2061 206d 6f64 656c 2077 6974 6820 6869   a model with hi
-000109d0: 6768 6572 2074 6f6b 656e 206c 696d 6974  gher token limit
-000109e0: 206f 7220 6469 7361 626c 6520 756e 7573   or disable unus
-000109f0: 6564 2066 756e 6374 696f 6e2d 6361 6c6c  ed function-call
-00010a00: 2070 6c67 7569 6e73 2e22 290a 2020 2020   plguins.").    
-00010a10: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00010a20: 2020 2020 2020 7072 696e 7431 2873 656c        print1(sel
-00010a30: 662e 6469 7669 6465 7229 0a20 2020 2020  f.divider).     
-00010a40: 2020 2020 2020 2070 7269 6e74 3128 2247         print1("G
-00010a50: 5054 2061 6e64 2065 6d62 6564 6469 6e67  PT and embedding
-00010a60: 7320 6d6f 6465 6c73 2070 726f 6365 7373  s models process
-00010a70: 2074 6578 7420 696e 2063 6875 6e6b 7320   text in chunks 
-00010a80: 6361 6c6c 6564 2074 6f6b 656e 732e 2041  called tokens. A
-00010a90: 7320 6120 726f 7567 6820 7275 6c65 206f  s a rough rule o
-00010aa0: 6620 7468 756d 622c 2031 2074 6f6b 656e  f thumb, 1 token
-00010ab0: 2069 7320 6170 7072 6f78 696d 6174 656c   is approximatel
-00010ac0: 7920 3420 6368 6172 6163 7465 7273 206f  y 4 characters o
-00010ad0: 7220 302e 3735 2077 6f72 6473 2066 6f72  r 0.75 words for
-00010ae0: 2045 6e67 6c69 7368 2074 6578 742e 204f   English text. O
-00010af0: 6e65 206c 696d 6974 6174 696f 6e20 746f  ne limitation to
-00010b00: 206b 6565 7020 696e 206d 696e 6420 6973   keep in mind is
-00010b10: 2074 6861 7420 666f 7220 6120 4750 5420   that for a GPT 
-00010b20: 6d6f 6465 6c20 7468 6520 7072 6f6d 7074  model the prompt
-00010b30: 2061 6e64 2074 6865 2067 656e 6572 6174   and the generat
-00010b40: 6564 206f 7574 7075 7420 636f 6d62 696e  ed output combin
-00010b50: 6564 206d 7573 7420 6265 206e 6f20 6d6f  ed must be no mo
-00010b60: 7265 2074 6861 6e20 7468 6520 6d6f 6465  re than the mode
-00010b70: 6c27 7320 6d61 7869 6d75 6d20 636f 6e74  l's maximum cont
-00010b80: 6578 7420 6c65 6e67 7468 2e22 290a 2020  ext length.").  
-00010b90: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-00010ba0: 2866 2243 7572 7265 6e74 2047 5054 206d  (f"Current GPT m
-00010bb0: 6f64 656c 3a20 7b63 6f6e 6669 672e 6368  odel: {config.ch
-00010bc0: 6174 4750 5441 7069 4d6f 6465 6c7d 2229  atGPTApiModel}")
-00010bd0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00010be0: 6e74 3328 6622 4d61 7869 6d75 6d20 636f  nt3(f"Maximum co
-00010bf0: 6e74 6578 7420 6c65 6e67 7468 3a20 7b63  ntext length: {c
-00010c00: 6f6e 7465 7874 5769 6e64 6f77 4c69 6d69  ontextWindowLimi
-00010c10: 747d 2229 0a20 2020 2020 2020 2020 2020  t}").           
-00010c20: 2070 7269 6e74 3328 6622 4375 7272 656e   print3(f"Curren
-00010c30: 7420 6675 6e63 7469 6f6e 2074 6f6b 656e  t function token
-00010c40: 733a 207b 6675 6e63 7469 6f6e 546f 6b65  s: {functionToke
-00010c50: 6e73 7d22 290a 2020 2020 2020 2020 2020  ns}").          
-00010c60: 2020 7072 696e 7433 2866 224d 6178 696d    print3(f"Maxim
-00010c70: 756d 206f 7574 7075 7420 746f 6b65 6e20  um output token 
-00010c80: 616c 6c6f 7765 6420 2865 7863 6c2e 2066  allowed (excl. f
-00010c90: 756e 6374 696f 6e73 293a 207b 746f 6b65  unctions): {toke
-00010ca0: 6e4c 696d 6974 7d22 290a 2020 2020 2020  nLimit}").      
-00010cb0: 2020 2020 2020 7072 696e 7431 2873 656c        print1(sel
-00010cc0: 662e 6469 7669 6465 7229 0a20 2020 2020  f.divider).     
-00010cd0: 2020 2020 2020 2070 7269 6e74 3128 2250         print1("P
-00010ce0: 6c65 6173 6520 7370 6563 6966 7920 6d61  lease specify ma
-00010cf0: 7869 6d75 6d20 6f75 7470 7574 2074 6f6b  ximum output tok
-00010d00: 656e 7320 6265 6c6f 773a 2229 0a20 2020  ens below:").   
-00010d10: 2020 2020 2020 2020 206d 6178 746f 6b65           maxtoke
-00010d20: 6e73 203d 2073 656c 662e 7072 6f6d 7074  ns = self.prompt
-00010d30: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-00010d40: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-00010d50: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-00010d60: 6e75 6d62 6572 4f6e 6c79 3d54 7275 652c  numberOnly=True,
-00010d70: 2064 6566 6175 6c74 3d73 7472 2863 6f6e   default=str(con
-00010d80: 6669 672e 6368 6174 4750 5441 7069 4d61  fig.chatGPTApiMa
-00010d90: 7854 6f6b 656e 7329 290a 2020 2020 2020  xTokens)).      
-00010da0: 2020 2020 2020 6966 206d 6178 746f 6b65        if maxtoke
-00010db0: 6e73 2061 6e64 206e 6f74 206d 6178 746f  ns and not maxto
-00010dc0: 6b65 6e73 2e73 7472 6970 2829 2e6c 6f77  kens.strip().low
-00010dd0: 6572 2829 203d 3d20 636f 6e66 6967 2e65  er() == config.e
-00010de0: 7869 745f 656e 7472 7920 616e 6420 696e  xit_entry and in
-00010df0: 7428 6d61 7874 6f6b 656e 7329 203e 2030  t(maxtokens) > 0
-00010e00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00010e10: 2020 636f 6e66 6967 2e63 6861 7447 5054    config.chatGPT
-00010e20: 4170 694d 6178 546f 6b65 6e73 203d 2069  ApiMaxTokens = i
-00010e30: 6e74 286d 6178 746f 6b65 6e73 290a 2020  nt(maxtokens).  
-00010e40: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00010e50: 2063 6f6e 6669 672e 6368 6174 4750 5441   config.chatGPTA
-00010e60: 7069 4d61 7854 6f6b 656e 7320 3e20 746f  piMaxTokens > to
-00010e70: 6b65 6e4c 696d 6974 3a0a 2020 2020 2020  kenLimit:.      
-00010e80: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00010e90: 6e66 6967 2e63 6861 7447 5054 4170 694d  nfig.chatGPTApiM
-00010ea0: 6178 546f 6b65 6e73 203d 2074 6f6b 656e  axTokens = token
-00010eb0: 4c69 6d69 740a 2020 2020 2020 2020 2020  Limit.          
-00010ec0: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-00010ed0: 6543 6f6e 6669 6728 290a 2020 2020 2020  eConfig().      
-00010ee0: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-00010ef0: 2866 224d 6178 696d 756d 206f 7574 7075  (f"Maximum outpu
-00010f00: 7420 746f 6b65 6e73 3a20 7b63 6f6e 6669  t tokens: {confi
-00010f10: 672e 6368 6174 4750 5441 7069 4d61 7854  g.chatGPTApiMaxT
-00010f20: 6f6b 656e 737d 2229 0a0a 2020 2020 6465  okens}")..    de
-00010f30: 6620 7275 6e53 7973 7465 6d43 6f6d 6d61  f runSystemComma
-00010f40: 6e64 2873 656c 662c 2063 6f6d 6d61 6e64  nd(self, command
-00010f50: 293a 0a20 2020 2020 2020 2063 6f6d 6d61  ):.        comma
-00010f60: 6e64 203d 2063 6f6d 6d61 6e64 2e73 7472  nd = command.str
-00010f70: 6970 2829 5b31 3a5d 0a20 2020 2020 2020  ip()[1:].       
-00010f80: 2069 6620 225c 6e22 2069 6e20 636f 6d6d   if "\n" in comm
-00010f90: 616e 643a 0a20 2020 2020 2020 2020 2020  and:.           
-00010fa0: 2063 6f6d 6d61 6e64 203d 2022 3b22 2e6a   command = ";".j
-00010fb0: 6f69 6e28 636f 6d6d 616e 642e 7370 6c69  oin(command.spli
-00010fc0: 7428 225c 6e22 2929 0a20 2020 2020 2020  t("\n")).       
-00010fd0: 2069 6620 636f 6e66 6967 2e74 6869 7350   if config.thisP
-00010fe0: 6c61 7466 6f72 6d20 3d3d 2022 5769 6e64  latform == "Wind
-00010ff0: 6f77 7322 3a0a 2020 2020 2020 2020 2020  ows":.          
-00011000: 2020 6f73 2e73 7973 7465 6d28 636f 6d6d    os.system(comm
-00011010: 616e 6429 0a20 2020 2020 2020 2065 6c73  and).        els
-00011020: 653a 0a20 2020 2020 2020 2020 2020 206f  e:.            o
-00011030: 732e 7379 7374 656d 2866 2265 6e76 2051  s.system(f"env Q
-00011040: 545f 5150 415f 504c 4154 464f 524d 5f50  T_QPA_PLATFORM_P
-00011050: 4c55 4749 4e5f 5041 5448 3d27 7b63 6f6e  LUGIN_PATH='{con
-00011060: 6669 672e 656e 765f 5154 5f51 5041 5f50  fig.env_QT_QPA_P
-00011070: 4c41 5446 4f52 4d5f 504c 5547 494e 5f50  LATFORM_PLUGIN_P
-00011080: 4154 487d 2720 7b63 6f6d 6d61 6e64 7d22  ATH}' {command}"
-00011090: 290a 0a20 2020 2064 6566 2074 6f67 676c  )..    def toggl
-000110a0: 654d 756c 7469 6c69 6e65 2873 656c 6629  eMultiline(self)
-000110b0: 3a0a 2020 2020 2020 2020 636f 6e66 6967  :.        config
-000110c0: 2e6d 756c 7469 6c69 6e65 496e 7075 7420  .multilineInput 
-000110d0: 3d20 6e6f 7420 636f 6e66 6967 2e6d 756c  = not config.mul
-000110e0: 7469 6c69 6e65 496e 7075 740a 2020 2020  tilineInput.    
-000110f0: 2020 2020 7275 6e5f 696e 5f74 6572 6d69      run_in_termi
-00011100: 6e61 6c28 6c61 6d62 6461 3a20 7072 696e  nal(lambda: prin
-00011110: 7431 2866 224d 756c 7469 2d6c 696e 6520  t1(f"Multi-line 
-00011120: 696e 7075 7420 7b27 656e 6162 6c65 6427  input {'enabled'
-00011130: 2069 6620 636f 6e66 6967 2e6d 756c 7469   if config.multi
-00011140: 6c69 6e65 496e 7075 7420 656c 7365 2027  lineInput else '
-00011150: 6469 7361 626c 6564 277d 2122 2929 0a20  disabled'}!")). 
-00011160: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-00011170: 2e6d 756c 7469 6c69 6e65 496e 7075 743a  .multilineInput:
-00011180: 0a20 2020 2020 2020 2020 2020 2072 756e  .            run
-00011190: 5f69 6e5f 7465 726d 696e 616c 286c 616d  _in_terminal(lam
-000111a0: 6264 613a 2070 7269 6e74 3128 2255 7365  bda: print1("Use
-000111b0: 2027 6573 6361 7065 202b 2065 6e74 6572   'escape + enter
-000111c0: 2720 746f 2063 6f6d 706c 6574 6520 796f  ' to complete yo
-000111d0: 7572 2065 6e74 7279 2e22 2929 0a0a 2020  ur entry."))..  
-000111e0: 2020 6465 6620 6973 5474 7341 7661 696c    def isTtsAvail
-000111f0: 6162 6c65 2873 656c 6629 3a0a 2020 2020  able(self):.    
-00011200: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
-00011210: 672e 6973 566c 6350 6c61 7965 7249 6e73  g.isVlcPlayerIns
-00011220: 7461 6c6c 6564 2061 6e64 206e 6f74 2063  talled and not c
-00011230: 6f6e 6669 672e 6973 5079 6761 6d65 496e  onfig.isPygameIn
-00011240: 7374 616c 6c65 6420 616e 6420 6e6f 7420  stalled and not 
-00011250: 636f 6e66 6967 2e74 7473 436f 6d6d 616e  config.ttsComman
-00011260: 6420 616e 6420 6e6f 7420 636f 6e66 6967  d and not config
-00011270: 2e65 6c65 7665 6e6c 6162 7341 7069 3a0a  .elevenlabsApi:.
-00011280: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00011290: 7432 2822 5465 7874 2d74 6f2d 7370 6565  t2("Text-to-spee
-000112a0: 6368 2066 6561 7475 7265 2069 7320 6e6f  ch feature is no
-000112b0: 7420 656e 6162 6c65 6421 2229 0a20 2020  t enabled!").   
-000112c0: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-000112d0: 2252 6561 643a 2068 7474 7073 3a2f 2f67  "Read: https://g
-000112e0: 6974 6875 622e 636f 6d2f 656c 6972 616e  ithub.com/eliran
-000112f0: 776f 6e67 2f6c 6574 6d65 646f 6974 2f77  wong/letmedoit/w
-00011300: 696b 692f 6c65 744d 6544 6f49 742d 5370  iki/letMeDoIt-Sp
-00011310: 6561 6b73 2229 0a20 2020 2020 2020 2020  eaks").         
-00011320: 2020 2063 6f6e 6669 672e 7474 7320 3d20     config.tts = 
-00011330: 4661 6c73 650a 2020 2020 2020 2020 656c  False.        el
-00011340: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011350: 636f 6e66 6967 2e74 7473 203d 2054 7275  config.tts = Tru
-00011360: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
-00011370: 2063 6f6e 6669 672e 7474 730a 0a20 2020   config.tts..   
-00011380: 2064 6566 2074 6f67 676c 6569 6e70 7574   def toggleinput
-00011390: 6175 6469 6f28 7365 6c66 293a 0a20 2020  audio(self):.   
-000113a0: 2020 2020 2069 6620 7365 6c66 2e69 7354       if self.isT
-000113b0: 7473 4176 6169 6c61 626c 653a 0a20 2020  tsAvailable:.   
-000113c0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000113d0: 7474 7349 6e70 7574 203d 206e 6f74 2063  ttsInput = not c
-000113e0: 6f6e 6669 672e 7474 7349 6e70 7574 0a20  onfig.ttsInput. 
-000113f0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00011400: 672e 7361 7665 436f 6e66 6967 2829 0a20  g.saveConfig(). 
-00011410: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00011420: 3328 6622 496e 7075 7420 4175 6469 6f3a  3(f"Input Audio:
-00011430: 2027 7b27 656e 6162 6c65 6427 2069 6620   '{'enabled' if 
-00011440: 636f 6e66 6967 2e74 7473 496e 7075 7420  config.ttsInput 
-00011450: 656c 7365 2027 6469 7361 626c 6564 277d  else 'disabled'}
-00011460: 2721 2229 0a0a 2020 2020 6465 6620 746f  '!")..    def to
-00011470: 6767 6c65 7265 7370 6f6e 7365 6175 6469  ggleresponseaudi
-00011480: 6f28 7365 6c66 293a 0a20 2020 2020 2020  o(self):.       
-00011490: 2069 6620 7365 6c66 2e69 7354 7473 4176   if self.isTtsAv
-000114a0: 6169 6c61 626c 653a 0a20 2020 2020 2020  ailable:.       
-000114b0: 2020 2020 2063 6f6e 6669 672e 7474 734f       config.ttsO
-000114c0: 7574 7075 7420 3d20 6e6f 7420 636f 6e66  utput = not conf
-000114d0: 6967 2e74 7473 4f75 7470 7574 0a20 2020  ig.ttsOutput.   
-000114e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000114f0: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
-00011500: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-00011510: 6622 5265 7370 6f6e 7365 2041 7564 696f  f"Response Audio
-00011520: 3a20 277b 2765 6e61 626c 6564 2720 6966  : '{'enabled' if
-00011530: 2063 6f6e 6669 672e 7474 734f 7574 7075   config.ttsOutpu
-00011540: 7420 656c 7365 2027 6469 7361 626c 6564  t else 'disabled
-00011550: 277d 2721 2229 0a0a 2020 2020 6465 6620  '}'!")..    def 
-00011560: 6465 6669 6e65 5474 7343 6f6d 6d61 6e64  defineTtsCommand
-00011570: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00011580: 7072 696e 7431 2822 4465 6669 6e65 2063  print1("Define c
-00011590: 7573 746f 6d20 7465 7874 2d74 6f2d 7370  ustom text-to-sp
-000115a0: 6565 6368 2063 6f6d 6d61 6e64 2062 656c  eech command bel
-000115b0: 6f77 3a22 290a 2020 2020 2020 2020 7072  ow:").        pr
-000115c0: 696e 7431 2822 2222 2a20 6f6e 206d 6163  int1("""* on mac
-000115d0: 4f53 205b 2773 6179 202d 7620 223f 2227  OS ['say -v "?"'
-000115e0: 2074 6f20 6368 6563 6b20 766f 6963 6573   to check voices
-000115f0: 5d2c 2065 2e67 2e3a 5c6e 2773 6179 2720  ], e.g.:\n'say' 
-00011600: 6f72 2027 7361 7920 2d72 2032 3030 202d  or 'say -r 200 -
-00011610: 7620 4461 6e69 656c 2722 2222 290a 2020  v Daniel'""").  
-00011620: 2020 2020 2020 7072 696e 7431 2822 2a20        print1("* 
-00011630: 6f6e 2055 6275 6e74 7520 5b27 6573 7065  on Ubuntu ['espe
-00011640: 616b 202d 2d76 6f69 6365 7327 2074 6f20  ak --voices' to 
-00011650: 6368 6563 6b20 766f 6963 6573 5d2c 2065  check voices], e
-00011660: 2e67 2e3a 5c6e 2765 7370 6561 6b27 206f  .g.:\n'espeak' o
-00011670: 7220 2765 7370 6561 6b20 2d73 2031 3735  r 'espeak -s 175
-00011680: 202d 7620 656e 2d67 6227 2229 0a20 2020   -v en-gb'").   
-00011690: 2020 2020 2070 7269 6e74 3128 222a 206f       print1("* o
-000116a0: 6e20 5769 6e64 6f77 732c 2073 696d 706c  n Windows, simpl
-000116b0: 7920 656e 7465 7220 2777 696e 646f 7773  y enter 'windows
-000116c0: 2720 6865 7265 2074 6f20 7573 6520 5769  ' here to use Wi
-000116d0: 6e64 6f77 7320 6275 696c 742d 696e 2073  ndows built-in s
-000116e0: 7065 6563 6820 656e 6769 6e65 2229 2023  peech engine") #
-000116f0: 206c 6574 6d65 646f 6974 2e61 6920 7769   letmedoit.ai wi
-00011700: 6c6c 2068 616e 646c 6520 7468 6520 636f  ll handle the co
-00011710: 6d6d 616e 6420 666f 7220 5769 6e64 6f77  mmand for Window
-00011720: 7320 7573 6572 730a 2020 2020 2020 2020  s users.        
-00011730: 7072 696e 7431 2822 7265 6d61 726b 733a  print1("remarks:
-00011740: 2061 6c77 6179 7320 706c 6163 6520 7468   always place th
-00011750: 6520 766f 6963 6520 6f70 7469 6f6e 2c20  e voice option, 
-00011760: 6966 2061 6e79 2c20 6174 2074 6865 2065  if any, at the e
-00011770: 6e64 2229 0a20 2020 2020 2020 2074 7473  nd").        tts
-00011780: 436f 6d6d 616e 6420 3d20 7365 6c66 2e70  Command = self.p
-00011790: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-000117a0: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-000117b0: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-000117c0: 6c65 322c 2064 6566 6175 6c74 3d63 6f6e  le2, default=con
-000117d0: 6669 672e 7474 7343 6f6d 6d61 6e64 290a  fig.ttsCommand).
-000117e0: 2020 2020 2020 2020 6966 2074 7473 436f          if ttsCo
-000117f0: 6d6d 616e 643a 0a20 2020 2020 2020 2020  mmand:.         
-00011800: 2020 2070 7269 6e74 3128 2253 7065 6369     print1("Speci
-00011810: 6679 2063 6f6d 6d61 6e64 2073 7566 6669  fy command suffi
-00011820: 7820 6265 6c6f 772c 2069 6620 616e 7920  x below, if any 
-00011830: 5b6c 6561 7665 2069 7420 626c 616e 6b20  [leave it blank 
-00011840: 6966 204e 2f41 5d3a 2229 0a20 2020 2020  if N/A]:").     
-00011850: 2020 2020 2020 2074 7473 436f 6d6d 616e         ttsComman
-00011860: 6453 7566 6669 7820 3d20 7365 6c66 2e70  dSuffix = self.p
-00011870: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-00011880: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-00011890: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-000118a0: 6c65 322c 2064 6566 6175 6c74 3d63 6f6e  le2, default=con
-000118b0: 6669 672e 7474 7343 6f6d 6d61 6e64 5375  fig.ttsCommandSu
-000118c0: 6666 6978 290a 2020 2020 2020 2020 2020  ffix).          
-000118d0: 2020 6966 2074 7473 436f 6d6d 616e 642e    if ttsCommand.
-000118e0: 6c6f 7765 7228 2920 3d3d 2022 7769 6e64  lower() == "wind
-000118f0: 6f77 7322 3a0a 2020 2020 2020 2020 2020  ows":.          
-00011900: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
-00011910: 6627 2727 506f 7765 7253 6865 6c6c 202d  f'''PowerShell -
-00011920: 436f 6d6d 616e 6420 2241 6464 2d54 7970  Command "Add-Typ
-00011930: 6520 e280 9341 7373 656d 626c 794e 616d  e ...AssemblyNam
-00011940: 6520 5379 7374 656d 2e53 7065 6563 683b  e System.Speech;
-00011950: 2028 4e65 772d 4f62 6a65 6374 2053 7973   (New-Object Sys
-00011960: 7465 6d2e 5370 6565 6368 2e53 796e 7468  tem.Speech.Synth
-00011970: 6573 6973 2e53 7065 6563 6853 796e 7468  esis.SpeechSynth
-00011980: 6573 697a 6572 292e 5370 6561 6b28 2774  esizer).Speak('t
-00011990: 6573 7469 6e67 2729 3b22 2727 270a 2020  esting');"'''.  
-000119a0: 2020 2020 2020 2020 2020 2020 2020 7474                tt
-000119b0: 7343 6f6d 6d61 6e64 5375 6666 6978 203d  sCommandSuffix =
-000119c0: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
-000119d0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000119e0: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
-000119f0: 6627 2727 7b74 7473 436f 6d6d 616e 647d  f'''{ttsCommand}
-00011a00: 2022 7465 7374 696e 6722 7b74 7473 436f   "testing"{ttsCo
-00011a10: 6d6d 616e 6453 7566 6669 787d 2727 270a  mmandSuffix}'''.
-00011a20: 2020 2020 2020 2020 2020 2020 5f2c 2073              _, s
-00011a30: 7464 4572 7220 3d20 7375 6270 726f 6365  tdErr = subproce
-00011a40: 7373 2e50 6f70 656e 2863 6f6d 6d61 6e64  ss.Popen(command
-00011a50: 2c20 7368 656c 6c3d 5472 7565 2c20 7374  , shell=True, st
-00011a60: 646f 7574 3d73 7562 7072 6f63 6573 732e  dout=subprocess.
-00011a70: 5049 5045 2c20 7374 6465 7272 3d73 7562  PIPE, stderr=sub
-00011a80: 7072 6f63 6573 732e 5049 5045 292e 636f  process.PIPE).co
-00011a90: 6d6d 756e 6963 6174 6528 290a 2020 2020  mmunicate().    
-00011aa0: 2020 2020 2020 2020 6966 2073 7464 4572          if stdEr
-00011ab0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00011ac0: 2020 2073 686f 7745 7272 6f72 7328 2920     showErrors() 
-00011ad0: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
-00011ae0: 7065 7220 656c 7365 2070 7269 6e74 3128  per else print1(
-00011af0: 2245 6e74 6572 6564 2063 6f6d 6d61 6e64  "Entered command
-00011b00: 2069 6e76 616c 6964 2122 290a 2020 2020   invalid!").    
-00011b10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011b20: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00011b30: 6e66 6967 2e74 7473 436f 6d6d 616e 642c  nfig.ttsCommand,
-00011b40: 2063 6f6e 6669 672e 7474 7343 6f6d 6d61   config.ttsComma
-00011b50: 6e64 5375 6666 6978 203d 2074 7473 436f  ndSuffix = ttsCo
-00011b60: 6d6d 616e 642c 2074 7473 436f 6d6d 616e  mmand, ttsComman
-00011b70: 6453 7566 6669 780a 2020 2020 2020 2020  dSuffix.        
-00011b80: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00011b90: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-00011ba0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00011bb0: 2020 2020 2020 636f 6e66 6967 2e74 7473        config.tts
-00011bc0: 436f 6d6d 616e 642c 2063 6f6e 6669 672e  Command, config.
-00011bd0: 7474 7343 6f6d 6d61 6e64 5375 6666 6978  ttsCommandSuffix
-00011be0: 203d 2022 222c 2022 220a 0a20 2020 2064   = "", ""..    d
-00011bf0: 6566 2074 6f67 676c 6557 6f72 6457 7261  ef toggleWordWra
-00011c00: 7028 7365 6c66 293a 0a20 2020 2020 2020  p(self):.       
-00011c10: 2063 6f6e 6669 672e 7772 6170 576f 7264   config.wrapWord
-00011c20: 7320 3d20 6e6f 7420 636f 6e66 6967 2e77  s = not config.w
-00011c30: 7261 7057 6f72 6473 0a20 2020 2020 2020  rapWords.       
-00011c40: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-00011c50: 6967 2829 0a20 2020 2020 2020 2070 7269  ig().        pri
-00011c60: 6e74 3328 6622 576f 7264 2057 7261 703a  nt3(f"Word Wrap:
-00011c70: 2027 7b27 656e 6162 6c65 6427 2069 6620   '{'enabled' if 
-00011c80: 636f 6e66 6967 2e77 7261 7057 6f72 6473  config.wrapWords
-00011c90: 2065 6c73 6520 2764 6973 6162 6c65 6427   else 'disabled'
-00011ca0: 7d27 2122 290a 0a20 2020 2064 6566 2074  }'!")..    def t
-00011cb0: 6f67 676c 654d 6f75 7365 5375 7070 6f72  oggleMouseSuppor
-00011cc0: 7428 7365 6c66 293a 0a20 2020 2020 2020  t(self):.       
-00011cd0: 2063 6f6e 6669 672e 6d6f 7573 6553 7570   config.mouseSup
-00011ce0: 706f 7274 203d 206e 6f74 2063 6f6e 6669  port = not confi
-00011cf0: 672e 6d6f 7573 6553 7570 706f 7274 0a20  g.mouseSupport. 
-00011d00: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-00011d10: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-00011d20: 2020 2070 7269 6e74 3328 6622 456e 7472     print3(f"Entr
-00011d30: 7920 4d6f 7573 6520 5375 7070 6f72 743a  y Mouse Support:
-00011d40: 2027 7b27 656e 6162 6c65 6427 2069 6620   '{'enabled' if 
-00011d50: 636f 6e66 6967 2e6d 6f75 7365 5375 7070  config.mouseSupp
-00011d60: 6f72 7420 656c 7365 2027 6469 7361 626c  ort else 'disabl
-00011d70: 6564 277d 2721 2229 0a0a 2020 2020 6465  ed'}'!")..    de
-00011d80: 6620 746f 6767 6c65 496d 7072 6f76 6564  f toggleImproved
-00011d90: 5772 6974 696e 6728 7365 6c66 293a 0a20  Writing(self):. 
-00011da0: 2020 2020 2020 2063 6f6e 6669 672e 6469         config.di
-00011db0: 7370 6c61 7949 6d70 726f 7665 6457 7269  splayImprovedWri
-00011dc0: 7469 6e67 203d 206e 6f74 2063 6f6e 6669  ting = not confi
-00011dd0: 672e 6469 7370 6c61 7949 6d70 726f 7665  g.displayImprove
-00011de0: 6457 7269 7469 6e67 0a20 2020 2020 2020  dWriting.       
-00011df0: 2069 6620 636f 6e66 6967 2e64 6973 706c   if config.displ
-00011e00: 6179 496d 7072 6f76 6564 5772 6974 696e  ayImprovedWritin
-00011e10: 673a 0a20 2020 2020 2020 2020 2020 2070  g:.            p
-00011e20: 7269 6e74 3128 2250 6c65 6173 6520 7370  rint1("Please sp
-00011e30: 6563 6966 7920 7468 6520 7772 6974 696e  ecify the writin
-00011e40: 6720 7374 796c 6520 6265 6c6f 773a 2229  g style below:")
-00011e50: 0a20 2020 2020 2020 2020 2020 2073 7479  .            sty
-00011e60: 6c65 203d 2073 656c 662e 7072 6f6d 7074  le = self.prompt
-00011e70: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-00011e80: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-00011e90: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-00011ea0: 6465 6661 756c 743d 636f 6e66 6967 2e69  default=config.i
-00011eb0: 6d70 726f 7665 6457 7269 7469 6e67 5379  mprovedWritingSy
-00011ec0: 746c 6529 0a20 2020 2020 2020 2020 2020  tle).           
-00011ed0: 2069 6620 7374 796c 6520 616e 6420 6e6f   if style and no
-00011ee0: 7420 7374 796c 6520 696e 2028 636f 6e66  t style in (conf
-00011ef0: 6967 2e65 7869 745f 656e 7472 792c 2063  ig.exit_entry, c
-00011f00: 6f6e 6669 672e 6361 6e63 656c 5f65 6e74  onfig.cancel_ent
-00011f10: 7279 293a 0a20 2020 2020 2020 2020 2020  ry):.           
-00011f20: 2020 2020 2063 6f6e 6669 672e 696d 7072       config.impr
-00011f30: 6f76 6564 5772 6974 696e 6753 7974 6c65  ovedWritingSytle
-00011f40: 203d 2073 7479 6c65 0a20 2020 2020 2020   = style.       
-00011f50: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00011f60: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
-00011f70: 2020 2020 2070 7269 6e74 3328 6622 496d       print3(f"Im
-00011f80: 7072 6f76 6564 2057 7269 7469 6e67 2044  proved Writing D
-00011f90: 6973 706c 6179 3a20 277b 2765 6e61 626c  isplay: '{'enabl
-00011fa0: 6564 2720 6966 2063 6f6e 6669 672e 6469  ed' if config.di
-00011fb0: 7370 6c61 7949 6d70 726f 7665 6457 7269  splayImprovedWri
-00011fc0: 7469 6e67 2065 6c73 6520 2764 6973 6162  ting else 'disab
-00011fd0: 6c65 6427 7d27 2122 290a 0a20 2020 2064  led'}'!")..    d
-00011fe0: 6566 2073 6574 4175 6469 6f50 6c61 7962  ef setAudioPlayb
-00011ff0: 6163 6b54 6f6f 6c28 7365 6c66 293a 0a20  ackTool(self):. 
-00012000: 2020 2020 2020 2070 6c61 7962 6163 6b20         playback 
-00012010: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
-00012020: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
-00012030: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
-00012040: 6f6e 733d 2822 7079 6761 6d65 222c 2022  ons=("pygame", "
-00012050: 766c 6322 292c 0a20 2020 2020 2020 2020  vlc"),.         
-00012060: 2020 2064 6573 6372 6970 7469 6f6e 733d     descriptions=
-00012070: 2822 5079 4761 6d65 222c 2066 2256 4c43  ("PyGame", f"VLC
-00012080: 2050 6c61 7965 7220 2877 2f20 7370 6565   Player (w/ spee
-00012090: 6420 636f 6e74 726f 6c29 7b27 205b 696e  d control){' [in
-000120a0: 7374 616c 6c61 7469 6f6e 2072 6571 7569  stallation requi
-000120b0: 7265 645d 2720 6966 206e 6f74 2063 6f6e  red]' if not con
-000120c0: 6669 672e 6973 566c 6350 6c61 7965 7249  fig.isVlcPlayerI
-000120d0: 6e73 7461 6c6c 6564 2065 6c73 6520 2727  nstalled else ''
-000120e0: 7d22 292c 0a20 2020 2020 2020 2020 2020  }"),.           
-000120f0: 2074 6974 6c65 3d22 5465 7874 2d74 6f2d   title="Text-to-
-00012100: 5370 6565 6368 2050 6c61 7962 6163 6b22  Speech Playback"
-00012110: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
-00012120: 7874 3d22 5365 6c65 6374 2061 2074 6578  xt="Select a tex
-00012130: 742d 746f 2d73 7065 6563 6820 706c 6163  t-to-speech plac
-00012140: 6b62 6163 6b20 746f 6f6c 3a22 2c0a 2020  kback tool:",.  
-00012150: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00012160: 743d 2276 6c63 2220 6966 2063 6f6e 6669  t="vlc" if confi
-00012170: 672e 6973 566c 6350 6c61 7965 7249 6e73  g.isVlcPlayerIns
-00012180: 7461 6c6c 6564 2061 6e64 206e 6f74 2063  talled and not c
-00012190: 6f6e 6669 672e 7573 6550 7967 616d 6520  onfig.usePygame 
-000121a0: 656c 7365 2022 7079 6761 6d65 222c 0a20  else "pygame",. 
-000121b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000121c0: 2069 6620 706c 6179 6261 636b 3a0a 2020   if playback:.  
-000121d0: 2020 2020 2020 2020 2020 6966 2070 6c61            if pla
-000121e0: 7962 6163 6b20 3d3d 2022 766c 6322 3a0a  yback == "vlc":.
-000121f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012200: 6966 206e 6f74 2063 6f6e 6669 672e 6973  if not config.is
-00012210: 566c 6350 6c61 7965 7249 6e73 7461 6c6c  VlcPlayerInstall
-00012220: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
-00012230: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-00012240: 564c 4320 706c 6179 6572 206e 6f74 2066  VLC player not f
-00012250: 6f75 6e64 2120 496e 7374 616c 6c20 6974  ound! Install it
-00012260: 2066 6972 7374 2122 290a 2020 2020 2020   first!").      
-00012270: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00012280: 696e 7433 2822 5465 7874 2d74 6f2d 5370  int3("Text-to-Sp
-00012290: 6565 6368 2050 6c61 7962 6163 6b20 6368  eech Playback ch
-000122a0: 616e 6765 6420 746f 3a20 5079 4761 6d65  anged to: PyGame
-000122b0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-000122c0: 2020 2020 2020 2063 6f6e 6669 672e 7573         config.us
-000122d0: 6550 7967 616d 6520 3d20 5472 7565 0a20  ePygame = True. 
-000122e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000122f0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00012300: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00012310: 7573 6550 7967 616d 6520 3d20 4661 6c73  usePygame = Fals
-00012320: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
-00012330: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00012340: 2020 2020 636f 6e66 6967 2e75 7365 5079      config.usePy
-00012350: 6761 6d65 203d 2054 7275 650a 0a20 2020  game = True..   
-00012360: 2064 6566 2073 6574 5465 7874 546f 5370   def setTextToSp
-00012370: 6565 6368 436f 6e66 6967 2873 656c 6629  eechConfig(self)
-00012380: 3a0a 2020 2020 2020 2020 7474 7350 6c61  :.        ttsPla
-00012390: 7466 6f72 6d20 3d20 7365 6c66 2e64 6961  tform = self.dia
-000123a0: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
-000123b0: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
-000123c0: 2020 6f70 7469 6f6e 733d 2822 676f 6f67    options=("goog
-000123d0: 6c65 222c 2022 676f 6f67 6c65 636c 6f75  le", "googleclou
-000123e0: 6422 2c20 2265 6c65 7665 6e6c 6162 7322  d", "elevenlabs"
-000123f0: 2c20 2263 7573 746f 6d22 292c 0a20 2020  , "custom"),.   
-00012400: 2020 2020 2020 2020 2064 6573 6372 6970           descrip
-00012410: 7469 6f6e 733d 2822 476f 6f67 6c65 2054  tions=("Google T
-00012420: 6578 742d 746f 2d53 7065 6563 6820 2847  ext-to-Speech (G
-00012430: 656e 6572 6963 2922 2c20 2247 6f6f 676c  eneric)", "Googl
-00012440: 6520 5465 7874 2d74 6f2d 5370 6565 6368  e Text-to-Speech
-00012450: 2028 4150 4929 222c 2022 456c 6576 656e   (API)", "Eleven
-00012460: 4c61 6273 2028 4150 4929 222c 2022 4375  Labs (API)", "Cu
-00012470: 7374 6f6d 2054 6578 742d 746f 2d53 7065  stom Text-to-Spe
-00012480: 6563 6820 436f 6d6d 616e 6420 5b61 6476  ech Command [adv
-00012490: 616e 6365 645d 2229 2c0a 2020 2020 2020  anced]"),.      
-000124a0: 2020 2020 2020 7469 746c 653d 2254 6578        title="Tex
-000124b0: 742d 746f 2d53 7065 6563 6820 436f 6e66  t-to-Speech Conf
-000124c0: 6967 7572 6174 696f 6e73 222c 0a20 2020  igurations",.   
-000124d0: 2020 2020 2020 2020 2074 6578 743d 2253           text="S
-000124e0: 656c 6563 7420 6120 7465 7874 2d74 6f2d  elect a text-to-
-000124f0: 7370 6565 6368 2070 6c61 7466 6f72 6d3a  speech platform:
-00012500: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-00012510: 6566 6175 6c74 3d63 6f6e 6669 672e 7474  efault=config.tt
-00012520: 7350 6c61 7466 6f72 6d2c 0a20 2020 2020  sPlatform,.     
-00012530: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-00012540: 7474 7350 6c61 7466 6f72 6d3a 0a20 2020  ttsPlatform:.   
-00012550: 2020 2020 2020 2020 2069 6620 7474 7350           if ttsP
-00012560: 6c61 7466 6f72 6d20 3d3d 2022 676f 6f67  latform == "goog
-00012570: 6c65 636c 6f75 6422 2061 6e64 206e 6f74  lecloud" and not
-00012580: 2028 6f73 2e65 6e76 6972 6f6e 5b22 474f   (os.environ["GO
-00012590: 4f47 4c45 5f41 5050 4c49 4341 5449 4f4e  OGLE_APPLICATION
-000125a0: 5f43 5245 4445 4e54 4941 4c53 225d 2061  _CREDENTIALS"] a
-000125b0: 6e64 2022 5465 7874 2d74 6f2d 5370 6565  nd "Text-to-Spee
-000125c0: 6368 2220 696e 2063 6f6e 6669 672e 656e  ch" in config.en
-000125d0: 6162 6c65 6447 6f6f 676c 6541 5049 7329  abledGoogleAPIs)
-000125e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000125f0: 2020 7072 696e 7432 2822 476f 6f67 6c65    print2("Google
-00012600: 2043 6c6f 7564 2054 6578 742d 746f 2d53   Cloud Text-to-S
-00012610: 7065 6563 6820 6665 6174 7572 6520 6973  peech feature is
-00012620: 206e 6f74 2065 6e61 626c 6564 2122 290a   not enabled!").
-00012630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012640: 7072 696e 7433 2822 5265 6164 3a20 6874  print3("Read: ht
-00012650: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00012660: 2f65 6c69 7261 6e77 6f6e 672f 6c65 746d  /eliranwong/letm
-00012670: 6564 6f69 742f 7769 6b69 2f47 6f6f 676c  edoit/wiki/Googl
-00012680: 652d 4150 492d 5365 7475 7022 290a 2020  e-API-Setup").  
-00012690: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-000126a0: 696e 7433 2822 5465 7874 2d74 6f2d 5370  int3("Text-to-Sp
-000126b0: 6565 6368 2070 6c61 7466 6f72 6d20 6368  eech platform ch
-000126c0: 616e 6765 6420 746f 3a20 476f 6f67 6c65  anged to: Google
-000126d0: 2054 6578 742d 746f 2d53 7065 6563 6820   Text-to-Speech 
-000126e0: 2847 656e 6572 6963 2922 290a 2020 2020  (Generic)").    
-000126f0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00012700: 6967 2e74 7473 506c 6174 666f 726d 203d  ig.ttsPlatform =
-00012710: 2022 676f 6f67 6c65 220a 2020 2020 2020   "google".      
-00012720: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00012730: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00012740: 6967 2e74 7473 506c 6174 666f 726d 203d  ig.ttsPlatform =
-00012750: 2074 7473 506c 6174 666f 726d 0a20 2020   ttsPlatform.   
-00012760: 2020 2020 2023 2066 7572 7468 6572 206f       # further o
-00012770: 7074 696f 6e73 0a20 2020 2020 2020 2069  ptions.        i
-00012780: 6620 636f 6e66 6967 2e74 7473 506c 6174  f config.ttsPlat
-00012790: 666f 726d 203d 3d20 2267 6f6f 676c 6522  form == "google"
-000127a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000127b0: 6c66 2e73 6574 4774 7473 4c61 6e67 7561  lf.setGttsLangua
-000127c0: 6765 2829 0a20 2020 2020 2020 2020 2020  ge().           
-000127d0: 2073 656c 662e 7365 7441 7564 696f 506c   self.setAudioPl
-000127e0: 6179 6261 636b 546f 6f6c 2829 0a20 2020  aybackTool().   
-000127f0: 2020 2020 2020 2020 2073 656c 662e 7365           self.se
-00012800: 7456 6c63 5370 6565 6428 290a 2020 2020  tVlcSpeed().    
-00012810: 2020 2020 656c 6966 2063 6f6e 6669 672e      elif config.
-00012820: 7474 7350 6c61 7466 6f72 6d20 3d3d 2022  ttsPlatform == "
-00012830: 676f 6f67 6c65 636c 6f75 6422 3a0a 2020  googlecloud":.  
-00012840: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00012850: 6574 4763 7474 734c 616e 6775 6167 6528  etGcttsLanguage(
-00012860: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00012870: 6c66 2e73 6574 4763 7474 7353 7065 6564  lf.setGcttsSpeed
-00012880: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
-00012890: 656c 662e 7365 7441 7564 696f 506c 6179  elf.setAudioPlay
-000128a0: 6261 636b 546f 6f6c 2829 0a20 2020 2020  backTool().     
-000128b0: 2020 2020 2020 2073 656c 662e 7365 7456         self.setV
-000128c0: 6c63 5370 6565 6428 290a 2020 2020 2020  lcSpeed().      
-000128d0: 2020 656c 6966 2063 6f6e 6669 672e 7474    elif config.tt
-000128e0: 7350 6c61 7466 6f72 6d20 3d3d 2022 656c  sPlatform == "el
-000128f0: 6576 656e 6c61 6273 223a 0a20 2020 2020  evenlabs":.     
-00012900: 2020 2020 2020 2069 6620 6e6f 7420 636f         if not co
-00012910: 6e66 6967 2e65 6c65 7665 6e6c 6162 7341  nfig.elevenlabsA
-00012920: 7069 3a0a 2020 2020 2020 2020 2020 2020  pi:.            
-00012930: 2020 2020 7365 6c66 2e63 6861 6e67 6545      self.changeE
-00012940: 6c65 7665 6e6c 6162 7341 7069 2829 0a20  levenlabsApi(). 
-00012950: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-00012960: 7420 636f 6e66 6967 2e65 6c65 7665 6e6c  t config.elevenl
-00012970: 6162 7341 7069 3a0a 2020 2020 2020 2020  absApi:.        
-00012980: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-00012990: 456c 6576 656e 4c61 6273 2041 5049 206b  ElevenLabs API k
-000129a0: 6579 206e 6f74 2066 6f75 6e64 2122 290a  ey not found!").
-000129b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000129c0: 7072 696e 7433 2822 5465 7874 2d74 6f2d  print3("Text-to-
-000129d0: 5370 6565 6368 2070 6c61 7466 6f72 6d20  Speech platform 
-000129e0: 6368 616e 6765 6420 746f 3a20 476f 6f67  changed to: Goog
-000129f0: 6c65 2054 6578 742d 746f 2d53 7065 6563  le Text-to-Speec
-00012a00: 6820 2847 656e 6572 6963 2922 290a 2020  h (Generic)").  
-00012a10: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00012a20: 6e66 6967 2e74 7473 506c 6174 666f 726d  nfig.ttsPlatform
-00012a30: 203d 2022 676f 6f67 6c65 220a 2020 2020   = "google".    
-00012a40: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00012a50: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00012a60: 6c66 2e73 6574 456c 6576 656e 6c61 6273  lf.setElevenlabs
-00012a70: 566f 6963 6528 290a 2020 2020 2020 2020  Voice().        
-00012a80: 656c 6966 2063 6f6e 6669 672e 7474 7350  elif config.ttsP
-00012a90: 6c61 7466 6f72 6d20 3d3d 2022 6375 7374  latform == "cust
-00012aa0: 6f6d 223a 0a20 2020 2020 2020 2020 2020  om":.           
-00012ab0: 2073 656c 662e 6465 6669 6e65 5474 7343   self.defineTtsC
-00012ac0: 6f6d 6d61 6e64 2829 0a20 2020 2020 2020  ommand().       
-00012ad0: 2023 2073 6176 6520 636f 6e66 6967 730a   # save configs.
-00012ae0: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00012af0: 6176 6543 6f6e 6669 6728 290a 0a20 2020  aveConfig()..   
-00012b00: 2064 6566 2073 6574 566f 6963 6554 7970   def setVoiceTyp
-00012b10: 696e 6743 6f6e 6669 6728 7365 6c66 293a  ingConfig(self):
-00012b20: 0a20 2020 2020 2020 2076 6f69 6365 5479  .        voiceTy
-00012b30: 7069 6e67 506c 6174 666f 726d 203d 2073  pingPlatform = s
-00012b40: 656c 662e 6469 616c 6f67 732e 6765 7456  elf.dialogs.getV
-00012b50: 616c 6964 4f70 7469 6f6e 7328 0a20 2020  alidOptions(.   
-00012b60: 2020 2020 2020 2020 206f 7074 696f 6e73           options
-00012b70: 3d28 2267 6f6f 676c 6522 2c20 2267 6f6f  =("google", "goo
-00012b80: 676c 6563 6c6f 7564 222c 2022 7768 6973  glecloud", "whis
-00012b90: 7065 7222 292c 0a20 2020 2020 2020 2020  per"),.         
-00012ba0: 2020 2064 6573 6372 6970 7469 6f6e 733d     descriptions=
-00012bb0: 2822 476f 6f67 6c65 2053 7065 6563 682d  ("Google Speech-
-00012bc0: 746f 2d54 6578 7420 2847 656e 6572 6963  to-Text (Generic
-00012bd0: 2920 5b6f 6e6c 696e 655d 222c 2022 476f  ) [online]", "Go
-00012be0: 6f67 6c65 2053 7065 6563 682d 746f 2d54  ogle Speech-to-T
-00012bf0: 6578 7420 2841 5049 2920 5b6f 6e6c 696e  ext (API) [onlin
-00012c00: 655d 222c 2022 4f70 656e 4149 2057 6869  e]", "OpenAI Whi
-00012c10: 7370 6572 205b 6f66 666c 696e 653b 2073  sper [offline; s
-00012c20: 6c6f 7765 7220 7769 7468 206e 6f6e 2d45  lower with non-E
-00012c30: 6e67 6c69 7368 2076 6f69 6365 735d 2229  nglish voices]")
-00012c40: 2c0a 2020 2020 2020 2020 2020 2020 7469  ,.            ti
-00012c50: 746c 653d 2256 6f69 6365 2054 7970 696e  tle="Voice Typin
-00012c60: 6720 436f 6e66 6967 7572 6174 696f 6e73  g Configurations
-00012c70: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-00012c80: 6578 743d 2253 656c 6563 7420 6120 766f  ext="Select a vo
-00012c90: 6963 6520 7479 7069 6e67 2070 6c61 7466  ice typing platf
-00012ca0: 6f72 6d3a 222c 0a20 2020 2020 2020 2020  orm:",.         
-00012cb0: 2020 2064 6566 6175 6c74 3d63 6f6e 6669     default=confi
-00012cc0: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
-00012cd0: 7466 6f72 6d2c 0a20 2020 2020 2020 2029  tform,.        )
-00012ce0: 0a20 2020 2020 2020 2069 6620 766f 6963  .        if voic
-00012cf0: 6554 7970 696e 6750 6c61 7466 6f72 6d3a  eTypingPlatform:
-00012d00: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00012d10: 766f 6963 6554 7970 696e 6750 6c61 7466  voiceTypingPlatf
-00012d20: 6f72 6d20 3d3d 2022 676f 6f67 6c65 636c  orm == "googlecl
-00012d30: 6f75 6422 2061 6e64 206e 6f74 2028 6f73  oud" and not (os
-00012d40: 2e65 6e76 6972 6f6e 5b22 474f 4f47 4c45  .environ["GOOGLE
-00012d50: 5f41 5050 4c49 4341 5449 4f4e 5f43 5245  _APPLICATION_CRE
-00012d60: 4445 4e54 4941 4c53 225d 2061 6e64 2022  DENTIALS"] and "
-00012d70: 5370 6565 6368 2d74 6f2d 5465 7874 2220  Speech-to-Text" 
-00012d80: 696e 2063 6f6e 6669 672e 656e 6162 6c65  in config.enable
-00012d90: 6447 6f6f 676c 6541 5049 7329 3a0a 2020  dGoogleAPIs):.  
-00012da0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00012db0: 696e 7432 2822 476f 6f67 6c65 2043 6c6f  int2("Google Clo
-00012dc0: 7564 2053 7065 6563 682d 746f 2d54 6578  ud Speech-to-Tex
-00012dd0: 7420 6665 6174 7572 6520 6973 206e 6f74  t feature is not
-00012de0: 2065 6e61 626c 6564 2122 290a 2020 2020   enabled!").    
-00012df0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00012e00: 7433 2822 5265 6164 3a20 6874 7470 733a  t3("Read: https:
-00012e10: 2f2f 6769 7468 7562 2e63 6f6d 2f65 6c69  //github.com/eli
-00012e20: 7261 6e77 6f6e 672f 6c65 746d 6564 6f69  ranwong/letmedoi
-00012e30: 742f 7769 6b69 2f47 6f6f 676c 652d 4150  t/wiki/Google-AP
-00012e40: 492d 5365 7475 7022 290a 2020 2020 2020  I-Setup").      
-00012e50: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-00012e60: 2822 566f 6963 6520 7479 7069 6e67 2070  ("Voice typing p
-00012e70: 6c61 7466 6f72 6d20 6368 616e 6765 6420  latform changed 
-00012e80: 746f 3a20 476f 6f67 6c65 2053 7065 6563  to: Google Speec
-00012e90: 682d 746f 2d54 6578 7420 2847 656e 6572  h-to-Text (Gener
-00012ea0: 6963 2922 290a 2020 2020 2020 2020 2020  ic)").          
-00012eb0: 2020 2020 2020 636f 6e66 6967 2e76 6f69        config.voi
-00012ec0: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
-00012ed0: 203d 2022 676f 6f67 6c65 220a 2020 2020   = "google".    
-00012ee0: 2020 2020 2020 2020 656c 6966 2076 6f69          elif voi
-00012ef0: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
-00012f00: 203d 3d20 2277 6869 7370 6572 2220 616e   == "whisper" an
-00012f10: 6420 6e6f 7420 6973 436f 6d6d 616e 6449  d not isCommandI
-00012f20: 6e73 7461 6c6c 6564 2822 6666 6d70 6567  nstalled("ffmpeg
-00012f30: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-00012f40: 2020 2020 7072 696e 7432 2822 496e 7374      print2("Inst
-00012f50: 616c 6c20 2766 666d 7065 6727 2066 6972  all 'ffmpeg' fir
-00012f60: 7374 2074 6f20 7573 6520 6f66 666c 696e  st to use offlin
-00012f70: 6520 6f70 656e 6169 2077 6869 7370 6572  e openai whisper
-00012f80: 206d 6f64 656c 2122 290a 2020 2020 2020   model!").      
-00012f90: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-00012fa0: 2822 5265 6164 3a20 6874 7470 733a 2f2f  ("Read: https://
-00012fb0: 6769 7468 7562 2e63 6f6d 2f6f 7065 6e61  github.com/opena
-00012fc0: 692f 7768 6973 7065 7223 7365 7475 7022  i/whisper#setup"
-00012fd0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00012fe0: 2020 7072 696e 7433 2822 566f 6963 6520    print3("Voice 
-00012ff0: 7479 7069 6e67 2070 6c61 7466 6f72 6d20  typing platform 
-00013000: 6368 616e 6765 6420 746f 3a20 476f 6f67  changed to: Goog
-00013010: 6c65 2053 7065 6563 682d 746f 2d54 6578  le Speech-to-Tex
-00013020: 7420 2847 656e 6572 6963 2922 290a 2020  t (Generic)").  
-00013030: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00013040: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
-00013050: 506c 6174 666f 726d 203d 2022 676f 6f67  Platform = "goog
-00013060: 6c65 220a 2020 2020 2020 2020 2020 2020  le".            
-00013070: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00013080: 2020 2020 2020 636f 6e66 6967 2e76 6f69        config.voi
-00013090: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
-000130a0: 203d 2076 6f69 6365 5479 7069 6e67 506c   = voiceTypingPl
-000130b0: 6174 666f 726d 0a20 2020 2020 2020 2023  atform.        #
-000130c0: 206c 616e 6775 6167 650a 2020 2020 2020   language.      
-000130d0: 2020 7365 6c66 2e73 6574 5370 6565 6368    self.setSpeech
-000130e0: 546f 5465 7874 4c61 6e67 7561 6765 2829  ToTextLanguage()
-000130f0: 0a20 2020 2020 2020 2023 2063 6f6e 6669  .        # confi
-00013100: 6775 7265 2063 6f6e 6669 672e 766f 6963  gure config.voic
-00013110: 6554 7970 696e 6741 646a 7573 7441 6d62  eTypingAdjustAmb
-00013120: 6965 6e74 4e6f 6973 650a 2020 2020 2020  ientNoise.      
-00013130: 2020 766f 6963 6554 7970 696e 6741 646a    voiceTypingAdj
-00013140: 7573 7441 6d62 6965 6e74 4e6f 6973 6520  ustAmbientNoise 
-00013150: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
-00013160: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
-00013170: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
-00013180: 6f6e 733d 2822 5965 7322 2c20 224e 6f22  ons=("Yes", "No"
-00013190: 292c 0a20 2020 2020 2020 2020 2020 2064  ),.            d
-000131a0: 6573 6372 6970 7469 6f6e 733d 2822 5965  escriptions=("Ye
-000131b0: 7320 5b73 6c6f 7765 725d 222c 2022 4e6f  s [slower]", "No
-000131c0: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
-000131d0: 7469 746c 653d 2241 646a 7573 7420 416d  title="Adjust Am
-000131e0: 6269 656e 7420 4e6f 6973 6522 2c0a 2020  bient Noise",.  
-000131f0: 2020 2020 2020 2020 2020 7465 7874 3d22            text="
-00013200: 446f 2079 6f75 2077 616e 7420 746f 2061  Do you want to a
-00013210: 646a 7573 7420 616d 6269 656e 7420 6e6f  djust ambient no
-00013220: 6973 653f 222c 0a20 2020 2020 2020 2020  ise?",.         
-00013230: 2020 2064 6566 6175 6c74 3d22 5965 7322     default="Yes"
-00013240: 2069 6620 636f 6e66 6967 2e76 6f69 6365   if config.voice
-00013250: 5479 7069 6e67 4164 6a75 7374 416d 6269  TypingAdjustAmbi
-00013260: 656e 744e 6f69 7365 2065 6c73 6520 224e  entNoise else "N
-00013270: 6f22 2c0a 2020 2020 2020 2020 290a 2020  o",.        ).  
-00013280: 2020 2020 2020 6966 2076 6f69 6365 5479        if voiceTy
-00013290: 7069 6e67 4164 6a75 7374 416d 6269 656e  pingAdjustAmbien
-000132a0: 744e 6f69 7365 3a0a 2020 2020 2020 2020  tNoise:.        
-000132b0: 2020 2020 636f 6e66 6967 2e76 6f69 6365      config.voice
-000132c0: 5479 7069 6e67 4164 6a75 7374 416d 6269  TypingAdjustAmbi
-000132d0: 656e 744e 6f69 7365 203d 2054 7275 6520  entNoise = True 
-000132e0: 6966 2076 6f69 6365 5479 7069 6e67 4164  if voiceTypingAd
-000132f0: 6a75 7374 416d 6269 656e 744e 6f69 7365  justAmbientNoise
-00013300: 203d 3d20 2259 6573 2220 656c 7365 2046   == "Yes" else F
-00013310: 616c 7365 0a20 2020 2020 2020 2023 2061  alse.        # a
-00013320: 7564 696f 206e 6f74 6966 6963 6174 696f  udio notificatio
-00013330: 6e0a 2020 2020 2020 2020 766f 6963 6554  n.        voiceT
-00013340: 7970 696e 674e 6f74 6966 6963 6174 696f  ypingNotificatio
-00013350: 6e20 3d20 7365 6c66 2e64 6961 6c6f 6773  n = self.dialogs
-00013360: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-00013370: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-00013380: 7469 6f6e 733d 2822 5965 7322 2c20 224e  tions=("Yes", "N
-00013390: 6f22 292c 0a20 2020 2020 2020 2020 2020  o"),.           
-000133a0: 2074 6974 6c65 3d22 4175 6469 6f20 4e6f   title="Audio No
-000133b0: 7469 6669 6361 7469 6f6e 222c 0a20 2020  tification",.   
-000133c0: 2020 2020 2020 2020 2074 6578 743d 2244           text="D
-000133d0: 6f20 796f 7520 7761 6e74 2061 7564 696f  o you want audio
-000133e0: 206e 6f74 6966 6963 6174 696f 6e20 7768   notification wh
-000133f0: 656e 2079 6f75 2075 7365 206d 6963 726f  en you use micro
-00013400: 7068 6f6e 653f 222c 0a20 2020 2020 2020  phone?",.       
-00013410: 2020 2020 2064 6566 6175 6c74 3d22 5965       default="Ye
-00013420: 7322 2069 6620 636f 6e66 6967 2e76 6f69  s" if config.voi
-00013430: 6365 5479 7069 6e67 4e6f 7469 6669 6361  ceTypingNotifica
-00013440: 7469 6f6e 2065 6c73 6520 224e 6f22 2c0a  tion else "No",.
-00013450: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00013460: 2020 6966 2076 6f69 6365 5479 7069 6e67    if voiceTyping
-00013470: 4e6f 7469 6669 6361 7469 6f6e 3a0a 2020  Notification:.  
-00013480: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00013490: 2e76 6f69 6365 5479 7069 6e67 4e6f 7469  .voiceTypingNoti
-000134a0: 6669 6361 7469 6f6e 203d 2054 7275 6520  fication = True 
-000134b0: 6966 2076 6f69 6365 5479 7069 6e67 4e6f  if voiceTypingNo
-000134c0: 7469 6669 6361 7469 6f6e 203d 3d20 2259  tification == "Y
-000134d0: 6573 2220 656c 7365 2046 616c 7365 0a20  es" else False. 
-000134e0: 2020 2020 2020 2023 2061 7574 6f20 636f         # auto co
-000134f0: 6d70 6c65 7469 6f6e 3a20 766f 6963 6554  mpletion: voiceT
-00013500: 7970 696e 6741 7574 6f43 6f6d 706c 6574  ypingAutoComplet
-00013510: 650a 2020 2020 2020 2020 766f 6963 6554  e.        voiceT
-00013520: 7970 696e 6741 7574 6f43 6f6d 706c 6574  ypingAutoComplet
-00013530: 6520 3d20 7365 6c66 2e64 6961 6c6f 6773  e = self.dialogs
-00013540: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-00013550: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-00013560: 7469 6f6e 733d 2822 5965 7322 2c20 224e  tions=("Yes", "N
-00013570: 6f22 292c 0a20 2020 2020 2020 2020 2020  o"),.           
-00013580: 2074 6974 6c65 3d22 4175 6469 6f20 456e   title="Audio En
-00013590: 7472 7920 4175 746f 2043 6f6d 706c 6574  try Auto Complet
-000135a0: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
-000135b0: 2020 7465 7874 3d22 446f 2079 6f75 2077    text="Do you w
-000135c0: 616e 7420 746f 2061 7574 6f6d 6174 6963  ant to automatic
-000135d0: 616c 6c79 2063 6f6d 706c 6574 6520 796f  ally complete yo
-000135e0: 7572 2065 6e74 7279 2077 6865 6e20 6d69  ur entry when mi
-000135f0: 6372 6f70 686f 6e65 2073 746f 7073 3f22  crophone stops?"
-00013600: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00013610: 6661 756c 743d 2259 6573 2220 6966 2063  fault="Yes" if c
-00013620: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
-00013630: 6741 7574 6f43 6f6d 706c 6574 6520 656c  gAutoComplete el
-00013640: 7365 2022 4e6f 222c 0a20 2020 2020 2020  se "No",.       
-00013650: 2029 0a20 2020 2020 2020 2069 6620 766f   ).        if vo
-00013660: 6963 6554 7970 696e 6741 7574 6f43 6f6d  iceTypingAutoCom
-00013670: 706c 6574 653a 0a20 2020 2020 2020 2020  plete:.         
-00013680: 2020 2063 6f6e 6669 672e 766f 6963 6554     config.voiceT
-00013690: 7970 696e 6741 7574 6f43 6f6d 706c 6574  ypingAutoComplet
-000136a0: 6520 3d20 5472 7565 2069 6620 766f 6963  e = True if voic
-000136b0: 6554 7970 696e 6741 7574 6f43 6f6d 706c  eTypingAutoCompl
-000136c0: 6574 6520 3d3d 2022 5965 7322 2065 6c73  ete == "Yes" els
-000136d0: 6520 4661 6c73 650a 2020 2020 2020 2020  e False.        
-000136e0: 2320 6e6f 7469 6679 0a20 2020 2020 2020  # notify.       
-000136f0: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
-00013700: 2020 2070 7269 6e74 3328 6622 566f 6963     print3(f"Voic
-00013710: 6520 5479 7069 6e67 204d 6f64 656c 3a20  e Typing Model: 
-00013720: 7b63 6f6e 6669 672e 766f 6963 6554 7970  {config.voiceTyp
-00013730: 696e 6750 6c61 7466 6f72 6d7d 2229 0a20  ingPlatform}"). 
-00013740: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-00013750: 566f 6963 6520 5479 7069 6e67 204c 616e  Voice Typing Lan
-00013760: 6775 6167 653a 207b 636f 6e66 6967 2e76  guage: {config.v
-00013770: 6f69 6365 5479 7069 6e67 4c61 6e67 7561  oiceTypingLangua
-00013780: 6765 7d22 290a 2020 2020 2020 2020 7072  ge}").        pr
-00013790: 696e 7433 2866 2241 6d62 6965 6e74 204e  int3(f"Ambient N
-000137a0: 6f69 7365 2041 646a 7573 746d 656e 743a  oise Adjustment:
-000137b0: 207b 636f 6e66 6967 2e76 6f69 6365 5479   {config.voiceTy
-000137c0: 7069 6e67 4164 6a75 7374 416d 6269 656e  pingAdjustAmbien
-000137d0: 744e 6f69 7365 7d22 290a 2020 2020 2020  tNoise}").      
-000137e0: 2020 7072 696e 7433 2866 2241 7564 696f    print3(f"Audio
-000137f0: 204e 6f74 6966 6963 6174 696f 6e3a 207b   Notification: {
-00013800: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
-00013810: 6e67 4e6f 7469 6669 6361 7469 6f6e 7d22  ngNotification}"
-00013820: 290a 2020 2020 2020 2020 7072 696e 7433  ).        print3
-00013830: 2866 2241 7574 6f20 436f 6d70 6c65 7469  (f"Auto Completi
-00013840: 6f6e 3a20 7b63 6f6e 6669 672e 766f 6963  on: {config.voic
-00013850: 6554 7970 696e 6741 7574 6f43 6f6d 706c  eTypingAutoCompl
-00013860: 6574 657d 2229 0a20 2020 2020 2020 2023  ete}").        #
-00013870: 2073 6176 6520 636f 6e66 6967 730a 2020   save configs.  
-00013880: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-00013890: 6543 6f6e 6669 6728 290a 0a20 2020 2064  eConfig()..    d
-000138a0: 6566 2073 6176 6543 6861 7428 7365 6c66  ef saveChat(self
-000138b0: 2c20 6d65 7373 6167 6573 293a 0a20 2020  , messages):.   
-000138c0: 2020 2020 206d 6573 7361 6765 7343 6f70       messagesCop
-000138d0: 7920 3d20 636f 7079 2e64 6565 7063 6f70  y = copy.deepcop
-000138e0: 7928 6d65 7373 6167 6573 290a 0a20 2020  y(messages)..   
-000138f0: 2020 2020 2069 6620 636f 6e66 6967 2e63       if config.c
-00013900: 6f6e 7665 7273 6174 696f 6e53 7461 7274  onversationStart
-00013910: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
-00013920: 7469 6d65 7374 616d 7020 3d20 6765 7443  timestamp = getC
-00013930: 7572 7265 6e74 4461 7465 5469 6d65 2829  urrentDateTime()
-00013940: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-00013950: 2068 6173 6174 7472 2863 6f6e 6669 672c   hasattr(config,
-00013960: 2022 7361 7665 5f63 6861 745f 7265 636f   "save_chat_reco
-00013970: 7264 2229 3a0a 2020 2020 2020 2020 2020  rd"):.          
-00013980: 2020 2020 2020 2320 7768 656e 2070 6c75        # when plu
-00013990: 6769 6e20 2273 6176 6520 6368 6174 2072  gin "save chat r
-000139a0: 6563 6f72 6473 2220 6973 2065 6e61 626c  ecords" is enabl
-000139b0: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-000139c0: 2020 206d 6573 7361 6765 4c65 6e67 7468     messageLength
-000139d0: 203d 206c 656e 286d 6573 7361 6765 7343   = len(messagesC
-000139e0: 6f70 7929 0a20 2020 2020 2020 2020 2020  opy).           
-000139f0: 2020 2020 2066 6f72 206f 7264 6572 2c20       for order, 
-00013a00: 6920 696e 2065 6e75 6d65 7261 7465 286d  i in enumerate(m
-00013a10: 6573 7361 6765 7343 6f70 7929 3a0a 2020  essagesCopy):.  
-00013a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a30: 2020 6973 4c61 7374 4974 656d 203d 2028    isLastItem = (
-00013a40: 6f72 6465 7220 3d3d 2028 6d65 7373 6167  order == (messag
-00013a50: 654c 656e 6774 6820 2d20 3129 290a 2020  eLength - 1)).  
-00013a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a70: 2020 6966 2063 6f6e 6669 672e 6c6c 6d49    if config.llmI
-00013a80: 6e74 6572 6661 6365 2069 6e20 2822 6368  nterface in ("ch
-00013a90: 6174 6770 7422 2c20 226c 6574 6d65 646f  atgpt", "letmedo
-00013aa0: 6974 2229 2061 6e64 206e 6f74 2069 734c  it") and not isL
-00013ab0: 6173 7449 7465 6d20 616e 6420 692e 6765  astItem and i.ge
-00013ac0: 7428 2272 6f6c 6522 2c20 2222 2920 3d3d  t("role", "") ==
-00013ad0: 2022 7573 6572 2220 616e 6420 2266 756e   "user" and "fun
-00013ae0: 6374 696f 6e5f 6361 6c6c 2220 696e 206d  ction_call" in m
-00013af0: 6573 7361 6765 7343 6f70 795b 6f72 6465  essagesCopy[orde
-00013b00: 722b 315d 3a0a 2020 2020 2020 2020 2020  r+1]:.          
-00013b10: 2020 2020 2020 2020 2020 2020 2020 695b                i[
-00013b20: 2274 6f6f 6c22 5d20 3d20 6d65 7373 6167  "tool"] = messag
-00013b30: 6573 436f 7079 5b6f 7264 6572 2b31 5d5b  esCopy[order+1][
-00013b40: 2266 756e 6374 696f 6e5f 6361 6c6c 225d  "function_call"]
-00013b50: 2e67 6574 2822 6e61 6d65 222c 2022 2229  .get("name", "")
-00013b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013b70: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-00013b80: 5f63 6861 745f 7265 636f 7264 2874 696d  _chat_record(tim
-00013b90: 6573 7461 6d70 2c20 6f72 6465 722c 2069  estamp, order, i
-00013ba0: 290a 0a20 2020 2020 2020 2020 2020 2074  )..            t
-00013bb0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00013bc0: 2020 2020 666f 6c64 6572 5061 7468 203d      folderPath =
-00013bd0: 206f 732e 7061 7468 2e6a 6f69 6e28 636f   os.path.join(co
-00013be0: 6e66 6967 2e6c 6f63 616c 5374 6f72 6167  nfig.localStorag
-00013bf0: 652c 2022 6368 6174 7322 2c20 7265 2e73  e, "chats", re.s
-00013c00: 7562 2822 5e28 5b30 2d39 5d2b 3f5c 2d5b  ub("^([0-9]+?\-[
-00013c10: 302d 395d 2b3f 295c 2d2e 2a3f 2422 2c20  0-9]+?)\-.*?$", 
-00013c20: 7222 5c31 222c 2074 696d 6573 7461 6d70  r"\1", timestamp
-00013c30: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00013c40: 2020 2050 6174 6828 666f 6c64 6572 5061     Path(folderPa
-00013c50: 7468 292e 6d6b 6469 7228 7061 7265 6e74  th).mkdir(parent
-00013c60: 733d 5472 7565 2c20 6578 6973 745f 6f6b  s=True, exist_ok
-00013c70: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
-00013c80: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-00013c90: 682e 6973 6469 7228 666f 6c64 6572 5061  h.isdir(folderPa
-00013ca0: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
-00013cb0: 2020 2020 2020 2020 2063 6861 7446 696c           chatFil
-00013cc0: 6520 3d20 6f73 2e70 6174 682e 6a6f 696e  e = os.path.join
-00013cd0: 2866 6f6c 6465 7250 6174 682c 2066 227b  (folderPath, f"{
-00013ce0: 7469 6d65 7374 616d 707d 2e74 7874 2229  timestamp}.txt")
-00013cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013d00: 2020 2020 2077 6974 6820 6f70 656e 2863       with open(c
-00013d10: 6861 7446 696c 652c 2022 7722 2c20 656e  hatFile, "w", en
-00013d20: 636f 6469 6e67 3d22 7574 662d 3822 2920  coding="utf-8") 
-00013d30: 6173 2066 696c 654f 626a 3a0a 2020 2020  as fileObj:.    
-00013d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013d50: 2020 2020 6669 6c65 4f62 6a2e 7772 6974      fileObj.writ
-00013d60: 6528 7070 7269 6e74 2e70 666f 726d 6174  e(pprint.pformat
-00013d70: 286d 6573 7361 6765 7343 6f70 7929 290a  (messagesCopy)).
-00013d80: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00013d90: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-00013da0: 2020 2020 7072 696e 7432 2822 4661 696c      print2("Fail
-00013db0: 6564 2074 6f20 7361 7665 2063 6861 7421  ed to save chat!
-00013dc0: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
-00013dd0: 2020 2020 2073 686f 7745 7272 6f72 7328       showErrors(
-00013de0: 290a 0a20 2020 2064 6566 2065 7870 6f72  )..    def expor
-00013df0: 7443 6861 7428 7365 6c66 2c20 6d65 7373  tChat(self, mess
-00013e00: 6167 6573 2c20 6f70 656e 4669 6c65 3d54  ages, openFile=T
-00013e10: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-00013e20: 2063 6f6e 6669 672e 636f 6e76 6572 7361   config.conversa
-00013e30: 7469 6f6e 5374 6172 7465 643a 0a20 2020  tionStarted:.   
-00013e40: 2020 2020 2020 2020 2070 6c61 696e 5465           plainTe
-00013e50: 7874 203d 2022 220a 2020 2020 2020 2020  xt = "".        
-00013e60: 2020 2020 7469 6d65 7374 616d 7020 3d20      timestamp = 
-00013e70: 6765 7443 7572 7265 6e74 4461 7465 5469  getCurrentDateTi
-00013e80: 6d65 2829 0a0a 2020 2020 2020 2020 2020  me()..          
-00013e90: 2020 666f 7220 6920 696e 206d 6573 7361    for i in messa
-00013ea0: 6765 733a 0a20 2020 2020 2020 2020 2020  ges:.           
-00013eb0: 2020 2020 2069 6620 695b 2272 6f6c 6522       if i["role"
-00013ec0: 5d20 3d3d 2022 7573 6572 223a 0a20 2020  ] == "user":.   
-00013ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ee0: 2063 6f6e 7465 6e74 203d 2069 5b22 636f   content = i["co
-00013ef0: 6e74 656e 7422 5d0a 2020 2020 2020 2020  ntent"].        
-00013f00: 2020 2020 2020 2020 2020 2020 706c 6169              plai
-00013f10: 6e54 6578 7420 2b3d 2066 223e 3e3e 207b  nText += f">>> {
-00013f20: 636f 6e74 656e 747d 220a 2020 2020 2020  content}".      
-00013f30: 2020 2020 2020 2020 2020 6966 2069 5b22            if i["
-00013f40: 726f 6c65 225d 203d 3d20 2266 756e 6374  role"] == "funct
-00013f50: 696f 6e22 3a0a 2020 2020 2020 2020 2020  ion":.          
-00013f60: 2020 2020 2020 2020 2020 6966 2070 6c61            if pla
-00013f70: 696e 5465 7874 3a0a 2020 2020 2020 2020  inText:.        
-00013f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013f90: 706c 6169 6e54 6578 7420 2b3d 2022 5c6e  plainText += "\n
-00013fa0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00013fb0: 2020 2020 2020 2020 6e61 6d65 203d 2069          name = i
-00013fc0: 5b22 6e61 6d65 225d 0a20 2020 2020 2020  ["name"].       
-00013fd0: 2020 2020 2020 2020 2020 2020 2070 6c61               pla
-00013fe0: 696e 5465 7874 202b 3d20 6622 6060 605c  inText += f"```\
-00013ff0: 6e7b 6e61 6d65 7d5c 6e60 6060 220a 2020  n{name}\n```".  
-00014000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014010: 2020 636f 6e74 656e 7420 3d20 695b 2263    content = i["c
-00014020: 6f6e 7465 6e74 225d 0a20 2020 2020 2020  ontent"].       
-00014030: 2020 2020 2020 2020 2020 2020 2070 6c61               pla
-00014040: 696e 5465 7874 202b 3d20 6622 5c6e 5c6e  inText += f"\n\n
-00014050: 7b63 6f6e 7465 6e74 7d5c 6e5c 6e22 0a20  {content}\n\n". 
-00014060: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00014070: 6c69 6620 695b 2272 6f6c 6522 5d20 3d3d  lif i["role"] ==
-00014080: 2022 6173 7369 7374 616e 7422 3a0a 2020   "assistant":.  
-00014090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140a0: 2020 636f 6e74 656e 7420 3d20 695b 2263    content = i["c
-000140b0: 6f6e 7465 6e74 225d 0a20 2020 2020 2020  ontent"].       
-000140c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000140d0: 636f 6e74 656e 7420 6973 206e 6f74 204e  content is not N
-000140e0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000140f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00014100: 706c 6169 6e54 6578 743a 0a20 2020 2020  plainText:.     
-00014110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014120: 2020 2020 2020 2070 6c61 696e 5465 7874         plainText
-00014130: 202b 3d20 225c 6e5c 6e22 0a20 2020 2020   += "\n\n".     
-00014140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014150: 2020 2070 6c61 696e 5465 7874 202b 3d20     plainText += 
-00014160: 6622 7b63 6f6e 7465 6e74 7d5c 6e5c 6e22  f"{content}\n\n"
-00014170: 0a20 2020 2020 2020 2020 2020 2070 6c61  .            pla
-00014180: 696e 5465 7874 203d 2070 6c61 696e 5465  inText = plainTe
-00014190: 7874 2e73 7472 6970 2829 0a20 2020 2020  xt.strip().     
-000141a0: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-000141b0: 2e74 6572 6d69 6e61 6c45 6e61 626c 6554  .terminalEnableT
-000141c0: 6572 6d75 7841 5049 3a0a 2020 2020 2020  ermuxAPI:.      
-000141d0: 2020 2020 2020 2020 2020 7079 646f 632e            pydoc.
-000141e0: 7069 7065 7061 6765 7228 706c 6169 6e54  pipepager(plainT
-000141f0: 6578 742c 2063 6d64 3d22 7465 726d 7578  ext, cmd="termux
-00014200: 2d73 6861 7265 202d 6120 7365 6e64 2229  -share -a send")
-00014210: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00014220: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00014230: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00014240: 2020 2020 2020 2020 2020 2020 666f 6c64              fold
-00014250: 6572 5061 7468 203d 206f 732e 7061 7468  erPath = os.path
-00014260: 2e6a 6f69 6e28 636f 6e66 6967 2e6c 6f63  .join(config.loc
-00014270: 616c 5374 6f72 6167 652c 2022 6368 6174  alStorage, "chat
-00014280: 7322 2c20 2265 7870 6f72 7422 290a 2020  s", "export").  
-00014290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000142a0: 2020 5061 7468 2866 6f6c 6465 7250 6174    Path(folderPat
-000142b0: 6829 2e6d 6b64 6972 2870 6172 656e 7473  h).mkdir(parents
-000142c0: 3d54 7275 652c 2065 7869 7374 5f6f 6b3d  =True, exist_ok=
-000142d0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-000142e0: 2020 2020 2020 2020 2020 6966 206f 732e            if os.
-000142f0: 7061 7468 2e69 7364 6972 2866 6f6c 6465  path.isdir(folde
-00014300: 7250 6174 6829 3a0a 2020 2020 2020 2020  rPath):.        
-00014310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014320: 6368 6174 4669 6c65 203d 206f 732e 7061  chatFile = os.pa
-00014330: 7468 2e6a 6f69 6e28 666f 6c64 6572 5061  th.join(folderPa
-00014340: 7468 2c20 6622 7b74 696d 6573 7461 6d70  th, f"{timestamp
-00014350: 7d2e 7478 7422 290a 2020 2020 2020 2020  }.txt").        
-00014360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014370: 7769 7468 206f 7065 6e28 6368 6174 4669  with open(chatFi
-00014380: 6c65 2c20 2277 222c 2065 6e63 6f64 696e  le, "w", encodin
-00014390: 673d 2275 7466 2d38 2229 2061 7320 6669  g="utf-8") as fi
-000143a0: 6c65 4f62 6a3a 0a20 2020 2020 2020 2020  leObj:.         
-000143b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000143c0: 2020 2066 696c 654f 626a 2e77 7269 7465     fileObj.write
-000143d0: 2870 6c61 696e 5465 7874 290a 2020 2020  (plainText).    
-000143e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000143f0: 2020 2020 6966 206f 7065 6e46 696c 6520      if openFile 
-00014400: 616e 6420 6f73 2e70 6174 682e 6973 6669  and os.path.isfi
-00014410: 6c65 2863 6861 7446 696c 6529 3a0a 2020  le(chatFile):.  
-00014420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014430: 2020 2020 2020 2020 2020 6f73 2e73 7973            os.sys
-00014440: 7465 6d28 6627 2727 7b63 6f6e 6669 672e  tem(f'''{config.
-00014450: 6f70 656e 7d20 227b 6368 6174 4669 6c65  open} "{chatFile
-00014460: 7d22 2727 2729 0a20 2020 2020 2020 2020  }"''').         
-00014470: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
-00014480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014490: 2020 2070 7269 6e74 3228 2246 6169 6c65     print2("Faile
-000144a0: 6420 746f 2073 6176 6520 6368 6174 215c  d to save chat!\
-000144b0: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-000144c0: 2020 2020 2020 2020 7368 6f77 4572 726f          showErro
-000144d0: 7273 2829 0a0a 2020 2020 6465 6620 7275  rs()..    def ru
-000144e0: 6e49 6e73 7472 7563 7469 6f6e 2873 656c  nInstruction(sel
-000144f0: 6629 3a0a 2020 2020 2020 2020 696e 7374  f):.        inst
-00014500: 7275 6374 696f 6e73 203d 206c 6973 7428  ructions = list(
-00014510: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00014520: 6449 6e73 7472 7563 7469 6f6e 732e 6b65  dInstructions.ke
-00014530: 7973 2829 290a 2020 2020 2020 2020 696e  ys()).        in
-00014540: 7374 7275 6374 696f 6e20 3d20 7365 6c66  struction = self
-00014550: 2e64 6961 6c6f 6773 2e67 6574 5661 6c69  .dialogs.getVali
-00014560: 644f 7074 696f 6e73 280a 2020 2020 2020  dOptions(.      
-00014570: 2020 2020 2020 6f70 7469 6f6e 733d 696e        options=in
-00014580: 7374 7275 6374 696f 6e73 2c0a 2020 2020  structions,.    
-00014590: 2020 2020 2020 2020 7469 746c 653d 2250          title="P
-000145a0: 7265 6465 6669 6e65 6420 496e 7374 7275  redefined Instru
-000145b0: 6374 696f 6e73 222c 0a20 2020 2020 2020  ctions",.       
-000145c0: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
-000145d0: 7420 616e 2069 6e73 7472 7563 7469 6f6e  t an instruction
-000145e0: 3a22 2c0a 2020 2020 2020 2020 290a 2020  :",.        ).  
-000145f0: 2020 2020 2020 6966 2069 6e73 7472 7563        if instruc
-00014600: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00014610: 2020 636f 6e66 6967 2e64 6566 6175 6c74    config.default
-00014620: 456e 7472 7920 3d20 636f 6e66 6967 2e70  Entry = config.p
-00014630: 7265 6465 6669 6e65 6449 6e73 7472 7563  redefinedInstruc
-00014640: 7469 6f6e 735b 696e 7374 7275 6374 696f  tions[instructio
-00014650: 6e5d 0a20 2020 2020 2020 2020 2020 2063  n].            c
-00014660: 6f6e 6669 672e 6163 6365 7074 5f64 6566  onfig.accept_def
-00014670: 6175 6c74 203d 2054 7275 650a 0a20 2020  ault = True..   
-00014680: 2064 6566 2063 6861 6e67 6543 6f6e 7465   def changeConte
-00014690: 7874 2873 656c 6629 3a0a 2020 2020 2020  xt(self):.      
-000146a0: 2020 636f 6e74 6578 7473 203d 206c 6973    contexts = lis
-000146b0: 7428 636f 6e66 6967 2e70 7265 6465 6669  t(config.predefi
-000146c0: 6e65 6443 6f6e 7465 7874 732e 6b65 7973  nedContexts.keys
-000146d0: 2829 290a 2020 2020 2020 2020 7072 6564  ()).        pred
-000146e0: 6566 696e 6564 436f 6e74 6578 7420 3d20  efinedContext = 
-000146f0: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
-00014700: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
-00014710: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
-00014720: 733d 636f 6e74 6578 7473 2c0a 2020 2020  s=contexts,.    
-00014730: 2020 2020 2020 2020 7469 746c 653d 2250          title="P
-00014740: 7265 6465 6669 6e65 6420 436f 6e74 6578  redefined Contex
-00014750: 7473 222c 0a20 2020 2020 2020 2020 2020  ts",.           
-00014760: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
-00014770: 7072 6564 6566 696e 6564 436f 6e74 6578  predefinedContex
-00014780: 742c 0a20 2020 2020 2020 2020 2020 2074  t,.            t
-00014790: 6578 743d 2253 656c 6563 7420 6120 636f  ext="Select a co
-000147a0: 6e74 6578 743a 222c 0a20 2020 2020 2020  ntext:",.       
-000147b0: 2029 0a20 2020 2020 2020 2069 6620 7072   ).        if pr
-000147c0: 6564 6566 696e 6564 436f 6e74 6578 743a  edefinedContext:
-000147d0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-000147e0: 6669 672e 7072 6564 6566 696e 6564 436f  fig.predefinedCo
-000147f0: 6e74 6578 7420 3d20 7072 6564 6566 696e  ntext = predefin
-00014800: 6564 436f 6e74 6578 740a 2020 2020 2020  edContext.      
-00014810: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
-00014820: 7072 6564 6566 696e 6564 436f 6e74 6578  predefinedContex
-00014830: 7420 3d3d 2022 5b63 7573 746f 6d5d 223a  t == "[custom]":
-00014840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014850: 2070 7269 6e74 3128 2245 6469 7420 6375   print1("Edit cu
-00014860: 7374 6f6d 2063 6f6e 7465 7874 2062 656c  stom context bel
-00014870: 6f77 3a22 290a 2020 2020 2020 2020 2020  ow:").          
-00014880: 2020 2020 2020 6375 7374 6f6d 436f 6e74        customCont
-00014890: 6578 7420 3d20 7365 6c66 2e70 726f 6d70  ext = self.promp
-000148a0: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-000148b0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-000148c0: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-000148d0: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
-000148e0: 6375 7374 6f6d 5072 6564 6566 696e 6564  customPredefined
-000148f0: 436f 6e74 6578 7429 0a20 2020 2020 2020  Context).       
-00014900: 2020 2020 2020 2020 2069 6620 6375 7374           if cust
-00014910: 6f6d 436f 6e74 6578 7420 616e 6420 6e6f  omContext and no
-00014920: 7420 6375 7374 6f6d 436f 6e74 6578 742e  t customContext.
-00014930: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
-00014940: 3d3d 2063 6f6e 6669 672e 6578 6974 5f65  == config.exit_e
-00014950: 6e74 7279 3a0a 2020 2020 2020 2020 2020  ntry:.          
-00014960: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00014970: 2e63 7573 746f 6d50 7265 6465 6669 6e65  .customPredefine
-00014980: 6443 6f6e 7465 7874 203d 2063 7573 746f  dContext = custo
-00014990: 6d43 6f6e 7465 7874 2e73 7472 6970 2829  mContext.strip()
-000149a0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-000149b0: 2020 2020 2020 2020 2020 2023 2061 2077             # a w
-000149c0: 6179 2074 6f20 7175 6963 6b6c 7920 636c  ay to quickly cl
-000149d0: 6561 6e20 7570 2063 6f6e 7465 7874 0a20  ean up context. 
-000149e0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-000149f0: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
-00014a00: 6578 7420 3d20 225b 6e6f 6e65 5d22 0a20  ext = "[none]". 
-00014a10: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-00014a20: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-00014a30: 2020 2073 656c 662e 7368 6f77 4375 7272     self.showCurr
-00014a40: 656e 7443 6f6e 7465 7874 2829 0a0a 2020  entContext()..  
-00014a50: 2020 6465 6620 6765 7444 6972 6563 746f    def getDirecto
-00014a60: 7279 4c69 7374 2873 656c 6629 3a0a 2020  ryList(self):.  
-00014a70: 2020 2020 2020 6469 7265 6374 6f72 794c        directoryL
-00014a80: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
-00014a90: 2066 6f72 2066 2069 6e20 6f73 2e6c 6973   for f in os.lis
-00014aa0: 7464 6972 2827 2e27 293a 0a20 2020 2020  tdir('.'):.     
-00014ab0: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-00014ac0: 682e 6973 6469 7228 6629 3a0a 2020 2020  h.isdir(f):.    
-00014ad0: 2020 2020 2020 2020 2020 2020 7365 7061              sepa
-00014ae0: 7261 746f 7220 3d20 225c 5c22 2069 6620  rator = "\\" if 
-00014af0: 636f 6e66 6967 2e74 6869 7350 6c61 7466  config.thisPlatf
-00014b00: 6f72 6d20 3d3d 2022 5769 6e64 6f77 7322  orm == "Windows"
-00014b10: 2065 6c73 6520 222f 220a 2020 2020 2020   else "/".      
-00014b20: 2020 2020 2020 2020 2020 6469 7265 6374            direct
-00014b30: 6f72 794c 6973 742e 6170 7065 6e64 2866  oryList.append(f
-00014b40: 227b 667d 7b73 6570 6172 6174 6f72 7d22  "{f}{separator}"
-00014b50: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-00014b60: 6966 206f 732e 7061 7468 2e69 7366 696c  if os.path.isfil
-00014b70: 6528 6629 3a0a 2020 2020 2020 2020 2020  e(f):.          
-00014b80: 2020 2020 2020 6469 7265 6374 6f72 794c        directoryL
-00014b90: 6973 742e 6170 7065 6e64 2866 290a 2020  ist.append(f).  
-00014ba0: 2020 2020 2020 7265 7475 726e 2064 6972        return dir
-00014bb0: 6563 746f 7279 4c69 7374 0a0a 2020 2020  ectoryList..    
-00014bc0: 6465 6620 7368 6f77 4c6f 676f 2873 656c  def showLogo(sel
-00014bd0: 6629 3a0a 2020 2020 2020 2020 6170 704e  f):.        appN
-00014be0: 616d 6520 3d20 636f 6e66 6967 2e66 7265  ame = config.fre
-00014bf0: 6547 656e 6975 7341 494e 616d 652e 7370  eGeniusAIName.sp
-00014c00: 6c69 7428 295b 305d 2e75 7070 6572 2829  lit()[0].upper()
-00014c10: 0a20 2020 2020 2020 2074 6572 6d69 6e61  .        termina
-00014c20: 6c5f 7769 6474 6820 3d20 7368 7574 696c  l_width = shutil
-00014c30: 2e67 6574 5f74 6572 6d69 6e61 6c5f 7369  .get_terminal_si
-00014c40: 7a65 2829 2e63 6f6c 756d 6e73 0a20 2020  ze().columns.   
-00014c50: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00014c60: 2020 2020 2020 6672 6f6d 2061 7274 2069        from art i
-00014c70: 6d70 6f72 7420 7465 7874 3261 7274 0a20  mport text2art. 
-00014c80: 2020 2020 2020 2020 2020 2069 6620 7465             if te
-00014c90: 726d 696e 616c 5f77 6964 7468 203e 3d20  rminal_width >= 
-00014ca0: 3332 3a0a 2020 2020 2020 2020 2020 2020  32:.            
-00014cb0: 2020 2020 6c6f 676f 203d 2074 6578 7432      logo = text2
-00014cc0: 6172 7428 6170 704e 616d 652c 2066 6f6e  art(appName, fon
-00014cd0: 743d 2263 7962 6572 6d65 6475 6d22 290a  t="cybermedum").
-00014ce0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00014cf0: 2074 6572 6d69 6e61 6c5f 7769 6474 6820   terminal_width 
-00014d00: 3e3d 2032 303a 0a20 2020 2020 2020 2020  >= 20:.         
-00014d10: 2020 2020 2020 206c 6f67 6f20 3d20 7465         logo = te
-00014d20: 7874 3261 7274 2822 2022 2e6a 6f69 6e28  xt2art(" ".join(
-00014d30: 6170 704e 616d 6529 202b 2022 2022 2c20  appName) + " ", 
-00014d40: 666f 6e74 3d22 7768 6974 655f 6275 6262  font="white_bubb
-00014d50: 6c65 2229 0a20 2020 2020 2020 2020 2020  le").           
-00014d60: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00014d70: 2020 2020 2020 206c 6f67 6f20 3d20 636f         logo = co
-00014d80: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
-00014d90: 494e 616d 650a 2020 2020 2020 2020 2020  IName.          
-00014da0: 2020 6c6f 676f 203d 206c 6f67 6f5b 3a2d    logo = logo[:-
-00014db0: 315d 2023 2072 656d 6f76 6520 7468 6520  1] # remove the 
-00014dc0: 6c69 6e65 6272 6561 6b20 6174 2074 6865  linebreak at the
-00014dd0: 2065 6e64 0a20 2020 2020 2020 2065 7863   end.        exc
-00014de0: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
-00014df0: 206c 6f67 6f20 3d20 636f 6e66 6967 2e66   logo = config.f
-00014e00: 7265 6547 656e 6975 7341 494e 616d 650a  reeGeniusAIName.
-00014e10: 2020 2020 2020 2020 7072 696e 745f 666f          print_fo
-00014e20: 726d 6174 7465 645f 7465 7874 2848 544d  rmatted_text(HTM
-00014e30: 4c28 6622 3c7b 636f 6e66 6967 2e74 6572  L(f"<{config.ter
-00014e40: 6d69 6e61 6c43 6f6d 6d61 6e64 456e 7472  minalCommandEntr
-00014e50: 7943 6f6c 6f72 327d 3e7b 6c6f 676f 7d3c  yColor2}>{logo}<
-00014e60: 2f7b 636f 6e66 6967 2e74 6572 6d69 6e61  /{config.termina
-00014e70: 6c43 6f6d 6d61 6e64 456e 7472 7943 6f6c  lCommandEntryCol
-00014e80: 6f72 327d 3e22 2929 0a0a 2020 2020 6465  or2}>"))..    de
-00014e90: 6620 7275 6e50 7974 686f 6e53 6372 6970  f runPythonScrip
-00014ea0: 7428 7365 6c66 2c20 7363 7269 7074 293a  t(self, script):
-00014eb0: 0a20 2020 2020 2020 2073 6372 6970 7420  .        script 
-00014ec0: 3d20 7363 7269 7074 2e73 7472 6970 2829  = script.strip()
-00014ed0: 5b33 3a2d 335d 0a20 2020 2020 2020 2074  [3:-3].        t
-00014ee0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00014ef0: 6578 6563 2873 6372 6970 742c 2067 6c6f  exec(script, glo
-00014f00: 6261 6c73 2829 290a 2020 2020 2020 2020  bals()).        
-00014f10: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-00014f20: 2020 2020 7472 6163 6520 3d20 7472 6163      trace = trac
-00014f30: 6562 6163 6b2e 666f 726d 6174 5f65 7863  eback.format_exc
-00014f40: 2829 0a20 2020 2020 2020 2020 2020 2070  ().            p
-00014f50: 7269 6e74 2874 7261 6365 2069 6620 636f  rint(trace if co
-00014f60: 6e66 6967 2e64 6576 656c 6f70 6572 2065  nfig.developer e
-00014f70: 6c73 6520 2245 7272 6f72 2065 6e63 6f75  lse "Error encou
-00014f80: 6e74 6572 6564 2122 290a 2020 2020 2020  ntered!").      
-00014f90: 2020 2020 2020 7072 696e 7431 2863 6f6e        print1(con
-00014fa0: 6669 672e 6469 7669 6465 7229 0a20 2020  fig.divider).   
-00014fb0: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
-00014fc0: 6967 2e6d 6178 5f63 6f6e 7365 6375 7469  ig.max_consecuti
-00014fd0: 7665 5f61 7574 6f5f 636f 7272 6563 7469  ve_auto_correcti
-00014fe0: 6f6e 203e 2030 3a0a 2020 2020 2020 2020  on > 0:.        
-00014ff0: 2020 2020 2020 2020 4361 6c6c 4c4c 4d2e          CallLLM.
-00015000: 6175 746f 436f 7272 6563 7450 7974 686f  autoCorrectPytho
-00015010: 6e43 6f64 6528 7363 7269 7074 2c20 7472  nCode(script, tr
-00015020: 6163 6529 0a0a 2020 2020 6465 6620 7374  ace)..    def st
-00015030: 6172 7443 6861 7473 2873 656c 6629 3a0a  artChats(self):.
-00015040: 2020 2020 2020 2020 746f 6b65 6e56 616c          tokenVal
-00015050: 6964 6174 6f72 203d 2054 6f6b 656e 5661  idator = TokenVa
-00015060: 6c69 6461 746f 7228 290a 2020 2020 2020  lidator().      
-00015070: 2020 6465 6620 6765 7444 796e 616d 6963    def getDynamic
-00015080: 546f 6f6c 4261 7228 293a 0a20 2020 2020  ToolBar():.     
-00015090: 2020 2020 2020 2072 6574 7572 6e20 636f         return co
-000150a0: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
-000150b0: 4261 7254 6578 740a 2020 2020 2020 2020  BarText.        
-000150c0: 6465 6620 7374 6172 7443 6861 7428 293a  def startChat():
-000150d0: 0a20 2020 2020 2020 2020 2020 2063 6c65  .            cle
-000150e0: 6172 2829 0a20 2020 2020 2020 2020 2020  ar().           
-000150f0: 2070 7269 6e74 3128 7365 6c66 2e64 6976   print1(self.div
-00015100: 6964 6572 290a 2020 2020 2020 2020 2020  ider).          
-00015110: 2020 7365 6c66 2e73 686f 774c 6f67 6f28    self.showLogo(
-00015120: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00015130: 6c66 2e73 686f 7743 7572 7265 6e74 436f  lf.showCurrentCo
-00015140: 6e74 6578 7428 290a 2020 2020 2020 2020  ntext().        
-00015150: 2020 2020 2320 676f 2074 6f20 7374 6172      # go to star
-00015160: 7475 7020 6469 7265 6374 6f72 790a 2020  tup directory.  
-00015170: 2020 2020 2020 2020 2020 7374 6f72 6167            storag
-00015180: 6564 6972 6563 746f 7279 203d 2063 6f6e  edirectory = con
-00015190: 6669 672e 6c6f 6361 6c53 746f 7261 6765  fig.localStorage
-000151a0: 0a20 2020 2020 2020 2020 2020 206f 732e  .            os.
-000151b0: 6368 6469 7228 7374 6f72 6167 6564 6972  chdir(storagedir
-000151c0: 6563 746f 7279 290a 2020 2020 2020 2020  ectory).        
-000151d0: 2020 2020 6d65 7373 6167 6573 203d 2043      messages = C
-000151e0: 616c 6c4c 4c4d 2e72 6573 6574 4d65 7373  allLLM.resetMess
-000151f0: 6167 6573 2829 0a20 2020 2020 2020 2020  ages().         
-00015200: 2020 2023 7072 696e 7431 2866 2273 7461     #print1(f"sta
-00015210: 7274 7570 2064 6972 6563 746f 7279 3a5c  rtup directory:\
-00015220: 6e7b 7374 6f72 6167 6564 6972 6563 746f  n{storagedirecto
-00015230: 7279 7d22 290a 2020 2020 2020 2020 2020  ry}").          
-00015240: 2020 7072 696e 745f 666f 726d 6174 7465    print_formatte
-00015250: 645f 7465 7874 2848 544d 4c28 6622 3c7b  d_text(HTML(f"<{
-00015260: 636f 6e66 6967 2e74 6572 6d69 6e61 6c50  config.terminalP
-00015270: 726f 6d70 7449 6e64 6963 6174 6f72 436f  romptIndicatorCo
-00015280: 6c6f 7232 7d3e 4469 7265 6374 6f72 793a  lor2}>Directory:
-00015290: 3c2f 7b63 6f6e 6669 672e 7465 726d 696e  </{config.termin
-000152a0: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
-000152b0: 7243 6f6c 6f72 327d 3e20 7b73 746f 7261  rColor2}> {stora
-000152c0: 6765 6469 7265 6374 6f72 797d 2229 290a  gedirectory}")).
-000152d0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-000152e0: 7431 2873 656c 662e 6469 7669 6465 7229  t1(self.divider)
-000152f0: 0a0a 2020 2020 2020 2020 2020 2020 636f  ..            co
-00015300: 6e66 6967 2e63 6f6e 7665 7273 6174 696f  nfig.conversatio
-00015310: 6e53 7461 7274 6564 203d 2046 616c 7365  nStarted = False
-00015320: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00015330: 7572 6e20 2873 746f 7261 6765 6469 7265  urn (storagedire
-00015340: 6374 6f72 792c 206d 6573 7361 6765 7329  ctory, messages)
-00015350: 0a20 2020 2020 2020 2073 746f 7261 6765  .        storage
-00015360: 6469 7265 6374 6f72 792c 2063 6f6e 6669  directory, confi
-00015370: 672e 6375 7272 656e 744d 6573 7361 6765  g.currentMessage
-00015380: 7320 3d20 7374 6172 7443 6861 7428 290a  s = startChat().
-00015390: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
-000153a0: 756c 7469 6c69 6e65 496e 7075 7420 3d20  ultilineInput = 
-000153b0: 4661 6c73 650a 2020 2020 2020 2020 6665  False.        fe
-000153c0: 6174 7572 6573 4c6f 7765 7220 3d20 6c69  aturesLower = li
-000153d0: 7374 2873 656c 662e 6163 7469 6f6e 732e  st(self.actions.
-000153e0: 6b65 7973 2829 2920 2b20 5b22 2e2e 2e22  keys()) + ["..."
-000153f0: 5d0a 2020 2020 2020 2020 2320 696e 7075  ].        # inpu
-00015400: 7420 7375 6767 6573 7469 6f6e 730a 2020  t suggestions.  
-00015410: 2020 2020 2020 636f 6e66 6967 2e69 6e70        config.inp
-00015420: 7574 5375 6767 6573 7469 6f6e 7320 2b3d  utSuggestions +=
-00015430: 2066 6561 7475 7265 734c 6f77 6572 0a20   featuresLower. 
-00015440: 2020 2020 2020 2063 6f6d 706c 6574 6572         completer
-00015450: 203d 2046 757a 7a79 436f 6d70 6c65 7465   = FuzzyComplete
-00015460: 7228 576f 7264 436f 6d70 6c65 7465 7228  r(WordCompleter(
-00015470: 636f 6e66 6967 2e69 6e70 7574 5375 6767  config.inputSugg
-00015480: 6573 7469 6f6e 732c 2069 676e 6f72 655f  estions, ignore_
-00015490: 6361 7365 3d54 7275 6529 2920 6966 2063  case=True)) if c
-000154a0: 6f6e 6669 672e 696e 7075 7453 7567 6765  onfig.inputSugge
-000154b0: 7374 696f 6e73 2065 6c73 6520 4e6f 6e65  stions else None
-000154c0: 0a20 2020 2020 2020 2063 6f6d 706c 6574  .        complet
-000154d0: 6572 5f64 6576 656c 6f70 6572 203d 2046  er_developer = F
-000154e0: 757a 7a79 436f 6d70 6c65 7465 7228 576f  uzzyCompleter(Wo
-000154f0: 7264 436f 6d70 6c65 7465 7228 636f 6e66  rdCompleter(conf
-00015500: 6967 2e69 6e70 7574 5375 6767 6573 7469  ig.inputSuggesti
-00015510: 6f6e 735b 3a5d 202b 205b 6622 636f 6e66  ons[:] + [f"conf
-00015520: 6967 2e7b 697d 2220 666f 7220 6920 696e  ig.{i}" for i in
-00015530: 2064 6972 2863 6f6e 6669 6729 2069 6620   dir(config) if 
-00015540: 6e6f 7420 692e 7374 6172 7473 7769 7468  not i.startswith
-00015550: 2822 5f5f 2229 5d20 2b20 7365 6c66 2e67  ("__")] + self.g
-00015560: 6574 4469 7265 6374 6f72 794c 6973 7428  etDirectoryList(
-00015570: 292c 2069 676e 6f72 655f 6361 7365 3d54  ), ignore_case=T
-00015580: 7275 6529 290a 2020 2020 2020 2020 7768  rue)).        wh
-00015590: 696c 6520 5472 7565 3a0a 2020 2020 2020  ile True:.      
-000155a0: 2020 2020 2020 2320 6465 6661 756c 7420        # default 
-000155b0: 746f 6f6c 6261 7220 7465 7874 0a20 2020  toolbar text.   
-000155c0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000155d0: 6479 6e61 6d69 6354 6f6f 6c42 6172 5465  dynamicToolBarTe
-000155e0: 7874 203d 2066 2222 2220 7b73 7472 2863  xt = f""" {str(c
-000155f0: 6f6e 6669 672e 686f 746b 6579 5f65 7869  onfig.hotkey_exi
-00015600: 7429 2e72 6570 6c61 6365 2822 2722 2c20  t).replace("'", 
-00015610: 2222 297d 2065 7869 7420 7b73 7472 2863  "")} exit {str(c
-00015620: 6f6e 6669 672e 686f 746b 6579 5f64 6973  onfig.hotkey_dis
-00015630: 706c 6179 5f6b 6579 5f63 6f6d 626f 292e  play_key_combo).
-00015640: 7265 706c 6163 6528 2227 222c 2022 2229  replace("'", "")
-00015650: 7d20 7368 6f72 7463 7574 7320 2222 220a  } shortcuts """.
-00015660: 2020 2020 2020 2020 2020 2020 2320 6469              # di
-00015670: 7370 6c61 7920 6375 7272 656e 7420 6469  splay current di
-00015680: 7265 6374 6f72 7920 6966 2063 6861 6e67  rectory if chang
-00015690: 6564 0a20 2020 2020 2020 2020 2020 2063  ed.            c
-000156a0: 7572 7265 6e74 4469 7265 6374 6f72 7920  urrentDirectory 
-000156b0: 3d20 6f73 2e67 6574 6377 6428 290a 2020  = os.getcwd().  
-000156c0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-000156d0: 2063 7572 7265 6e74 4469 7265 6374 6f72   currentDirector
-000156e0: 7920 3d3d 2073 746f 7261 6765 6469 7265  y == storagedire
-000156f0: 6374 6f72 793a 0a20 2020 2020 2020 2020  ctory:.         
-00015700: 2020 2020 2020 2023 7072 696e 7431 2873         #print1(s
-00015710: 656c 662e 6469 7669 6465 7229 0a20 2020  elf.divider).   
-00015720: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-00015730: 6e74 3328 6622 4375 7272 656e 7420 6469  nt3(f"Current di
-00015740: 7265 6374 6f72 793a 207b 6375 7272 656e  rectory: {curren
-00015750: 7444 6972 6563 746f 7279 7d22 290a 2020  tDirectory}").  
-00015760: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00015770: 696e 7431 2873 656c 662e 6469 7669 6465  int1(self.divide
-00015780: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-00015790: 2020 2073 746f 7261 6765 6469 7265 6374     storagedirect
-000157a0: 6f72 7920 3d20 6375 7272 656e 7444 6972  ory = currentDir
-000157b0: 6563 746f 7279 0a20 2020 2020 2020 2020  ectory.         
-000157c0: 2020 2023 2064 6566 6175 6c74 2069 6e70     # default inp
-000157d0: 7574 2065 6e74 7279 0a20 2020 2020 2020  ut entry.       
-000157e0: 2020 2020 2061 6363 6570 745f 6465 6661       accept_defa
-000157f0: 756c 7420 3d20 636f 6e66 6967 2e61 6363  ult = config.acc
-00015800: 6570 745f 6465 6661 756c 740a 2020 2020  ept_default.    
-00015810: 2020 2020 2020 2020 636f 6e66 6967 2e61          config.a
-00015820: 6363 6570 745f 6465 6661 756c 7420 3d20  ccept_default = 
-00015830: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
-00015840: 2020 6465 6661 756c 7445 6e74 7279 203d    defaultEntry =
-00015850: 2063 6f6e 6669 672e 6465 6661 756c 7445   config.defaultE
-00015860: 6e74 7279 0a20 2020 2020 2020 2020 2020  ntry.           
-00015870: 2069 6620 6f73 2e70 6174 682e 6973 6669   if os.path.isfi
-00015880: 6c65 2864 6566 6175 6c74 456e 7472 7929  le(defaultEntry)
-00015890: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000158a0: 2020 6465 6661 756c 7445 6e74 7279 203d    defaultEntry =
-000158b0: 2066 2746 696c 653a 2022 7b64 6566 6175   f'File: "{defau
-000158c0: 6c74 456e 7472 797d 225c 6e27 0a20 2020  ltEntry}"\n'.   
-000158d0: 2020 2020 2020 2020 2065 6c69 6620 6f73           elif os
-000158e0: 2e70 6174 682e 6973 6469 7228 6465 6661  .path.isdir(defa
-000158f0: 756c 7445 6e74 7279 293a 0a20 2020 2020  ultEntry):.     
-00015900: 2020 2020 2020 2020 2020 2064 6566 6175             defau
-00015910: 6c74 456e 7472 7920 3d20 6627 466f 6c64  ltEntry = f'Fold
-00015920: 6572 3a20 227b 6465 6661 756c 7445 6e74  er: "{defaultEnt
-00015930: 7279 7d22 5c6e 270a 2020 2020 2020 2020  ry}"\n'.        
-00015940: 2020 2020 636f 6e66 6967 2e64 6566 6175      config.defau
-00015950: 6c74 456e 7472 7920 3d20 2222 0a0a 2020  ltEntry = ""..  
-00015960: 2020 2020 2020 2020 2020 2320 7573 6572            # user
-00015970: 2069 6e70 7574 0a20 2020 2020 2020 2020   input.         
-00015980: 2020 2075 7365 7249 6e70 7574 203d 2073     userInput = s
-00015990: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
-000159a0: 6c65 5072 6f6d 7074 2870 726f 6d70 7453  lePrompt(promptS
-000159b0: 6573 7369 6f6e 3d73 656c 662e 7465 726d  ession=self.term
-000159c0: 696e 616c 5f63 6861 745f 7365 7373 696f  inal_chat_sessio
-000159d0: 6e2c 2063 6f6d 706c 6574 6572 3d63 6f6d  n, completer=com
-000159e0: 706c 6574 6572 5f64 6576 656c 6f70 6572  pleter_developer
-000159f0: 2069 6620 636f 6e66 6967 2e64 6576 656c   if config.devel
-00015a00: 6f70 6572 2065 6c73 6520 636f 6d70 6c65  oper else comple
-00015a10: 7465 722c 2064 6566 6175 6c74 3d64 6566  ter, default=def
-00015a20: 6175 6c74 456e 7472 792c 2061 6363 6570  aultEntry, accep
-00015a30: 745f 6465 6661 756c 743d 6163 6365 7074  t_default=accept
-00015a40: 5f64 6566 6175 6c74 2c20 7661 6c69 6461  _default, valida
-00015a50: 746f 723d 746f 6b65 6e56 616c 6964 6174  tor=tokenValidat
-00015a60: 6f72 2c20 626f 7474 6f6d 5f74 6f6f 6c62  or, bottom_toolb
-00015a70: 6172 3d67 6574 4479 6e61 6d69 6354 6f6f  ar=getDynamicToo
-00015a80: 6c42 6172 290a 2020 2020 2020 2020 2020  lBar).          
-00015a90: 2020 0a20 2020 2020 2020 2020 2020 2023    .            #
-00015aa0: 2075 7064 6174 6520 7379 7374 656d 206d   update system m
-00015ab0: 6573 7361 6765 2077 6865 6e20 7573 6572  essage when user
-00015ac0: 2065 6e74 6572 2061 206e 6577 2069 6e70   enter a new inp
-00015ad0: 7574 0a20 2020 2020 2020 2020 2020 2063  ut.            c
-00015ae0: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
-00015af0: 7361 6765 7320 3d20 7365 6c66 2e75 7064  sages = self.upd
-00015b00: 6174 6553 7973 7465 6d4d 6573 7361 6765  ateSystemMessage
-00015b10: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
-00015b20: 6573 7361 6765 7329 0a20 2020 2020 2020  essages).       
-00015b30: 2020 2020 200a 2020 2020 2020 2020 2020       .          
-00015b40: 2020 2320 6469 7370 6c61 7920 6f70 7469    # display opti
-00015b50: 6f6e 7320 7768 656e 2065 6d70 7479 2073  ons when empty s
-00015b60: 7472 696e 6720 6973 2065 6e74 6572 6564  tring is entered
-00015b70: 0a20 2020 2020 2020 2020 2020 2075 7365  .            use
-00015b80: 7249 6e70 7574 4c6f 7765 7220 3d20 7573  rInputLower = us
-00015b90: 6572 496e 7075 742e 6c6f 7765 7228 290a  erInput.lower().
-00015ba0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00015bb0: 6f6e 6669 672e 6164 6450 6174 6841 7420  onfig.addPathAt 
-00015bc0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00015bd0: 2020 2020 2020 2020 2020 2020 2070 7265               pre
-00015be0: 6669 7820 3d20 7573 6572 496e 7075 745b  fix = userInput[
-00015bf0: 3a63 6f6e 6669 672e 6164 6450 6174 6841  :config.addPathA
-00015c00: 745d 0a20 2020 2020 2020 2020 2020 2020  t].             
-00015c10: 2020 2070 7265 6669 7853 706c 6974 203d     prefixSplit =
-00015c20: 2070 7265 6669 782e 7273 706c 6974 2822   prefix.rsplit("
-00015c30: 2022 2c20 3129 0a20 2020 2020 2020 2020   ", 1).         
-00015c40: 2020 2020 2020 2069 6620 6c65 6e28 7072         if len(pr
-00015c50: 6566 6978 5370 6c69 7429 203e 2031 3a0a  efixSplit) > 1:.
-00015c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015c70: 2020 2020 6465 6661 756c 7420 3d20 7072      default = pr
-00015c80: 6566 6978 5370 6c69 745b 2d31 5d0a 2020  efixSplit[-1].  
-00015c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015ca0: 2020 7072 6566 6978 203d 2066 227b 7072    prefix = f"{pr
-00015cb0: 6566 6978 5370 6c69 745b 305d 7d20 220a  efixSplit[0]} ".
-00015cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015cd0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00015ce0: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00015cf0: 7420 3d20 7072 6566 6978 0a20 2020 2020  t = prefix.     
-00015d00: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00015d10: 7265 6669 7820 3d20 2222 0a20 2020 2020  refix = "".     
-00015d20: 2020 2020 2020 2020 2020 2073 7566 6669             suffi
-00015d30: 7820 3d20 7573 6572 496e 7075 745b 636f  x = userInput[co
-00015d40: 6e66 6967 2e61 6464 5061 7468 4174 3a5d  nfig.addPathAt:]
-00015d50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015d60: 2063 6f6e 6669 672e 6164 6450 6174 6841   config.addPathA
-00015d70: 7420 3d20 4e6f 6e65 0a20 2020 2020 2020  t = None.       
-00015d80: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00015d90: 6465 6661 756c 743a 0a20 2020 2020 2020  default:.       
-00015da0: 2020 2020 2020 2020 2020 2020 2064 6566               def
-00015db0: 6175 6c74 203d 206f 732e 6765 7463 7764  ault = os.getcwd
-00015dc0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-00015dd0: 2020 2075 7365 7250 6174 6820 3d20 7365     userPath = se
-00015de0: 6c66 2e67 6574 5061 7468 2e67 6574 5061  lf.getPath.getPa
-00015df0: 7468 286d 6573 7361 6765 3d66 227b 7072  th(message=f"{pr
-00015e00: 6566 6978 7d3c 7b63 6f6e 6669 672e 7465  efix}<{config.te
-00015e10: 726d 696e 616c 436f 6d6d 616e 6445 6e74  rminalCommandEnt
-00015e20: 7279 436f 6c6f 7232 7d3e 5b61 6464 2061  ryColor2}>[add a
-00015e30: 2070 6174 6820 6865 7265 5d3c 2f7b 636f   path here]</{co
-00015e40: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
-00015e50: 6d61 6e64 456e 7472 7943 6f6c 6f72 327d  mandEntryColor2}
-00015e60: 3e7b 7375 6666 6978 7d22 2c20 7072 6f6d  >{suffix}", prom
-00015e70: 7074 496e 6469 6361 746f 723d 223e 3e3e  ptIndicator=">>>
-00015e80: 2022 2c20 656d 7074 795f 746f 5f63 616e   ", empty_to_can
-00015e90: 6365 6c3d 5472 7565 2c20 6465 6661 756c  cel=True, defaul
-00015ea0: 743d 6465 6661 756c 7429 0a20 2020 2020  t=default).     
-00015eb0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00015ec0: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
-00015ed0: 2066 227b 7072 6566 6978 7d7b 7573 6572   f"{prefix}{user
-00015ee0: 5061 7468 7d7b 7375 6666 6978 7d22 0a20  Path}{suffix}". 
-00015ef0: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00015f00: 7365 7249 6e70 7574 203d 2022 220a 2020  serInput = "".  
-00015f10: 2020 2020 2020 2020 2020 656c 6966 206e            elif n
-00015f20: 6f74 2075 7365 7249 6e70 7574 4c6f 7765  ot userInputLowe
-00015f30: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00015f40: 2020 2075 7365 7249 6e70 7574 203d 2063     userInput = c
-00015f50: 6f6e 6669 672e 626c 616e 6b45 6e74 7279  onfig.blankEntry
-00015f60: 4163 7469 6f6e 0a20 2020 2020 2020 2020  Action.         
-00015f70: 2020 2069 6620 7573 6572 496e 7075 7420     if userInput 
-00015f80: 3d3d 2022 2e2e 2e22 3a0a 2020 2020 2020  == "...":.      
-00015f90: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
-00015fa0: 7075 7420 3d20 7573 6572 496e 7075 744c  put = userInputL
-00015fb0: 6f77 6572 203d 2073 656c 662e 7275 6e41  ower = self.runA
-00015fc0: 6374 696f 6e73 2875 7365 7249 6e70 7574  ctions(userInput
-00015fd0: 290a 2020 2020 2020 2020 2020 2020 2365  ).            #e
-00015fe0: 6c69 6620 7573 6572 496e 7075 744c 6f77  lif userInputLow
-00015ff0: 6572 2069 6e20 7475 706c 6528 7365 6c66  er in tuple(self
-00016000: 2e61 6374 696f 6e73 2e6b 6579 7328 2929  .actions.keys())
-00016010: 3a0a 2020 2020 2020 2020 2020 2020 656c  :.            el
-00016020: 6966 2075 7365 7249 6e70 7574 4c6f 7765  if userInputLowe
-00016030: 722e 7374 6172 7473 7769 7468 2822 2e22  r.startswith("."
-00016040: 2920 616e 6420 6e6f 7420 7573 6572 496e  ) and not userIn
-00016050: 7075 744c 6f77 6572 2069 6e20 2863 6f6e  putLower in (con
-00016060: 6669 672e 6578 6974 5f65 6e74 7279 2c20  fig.exit_entry, 
-00016070: 636f 6e66 6967 2e63 616e 6365 6c5f 656e  config.cancel_en
-00016080: 7472 792c 2022 2e6e 6577 222c 2022 2e63  try, ".new", ".c
-00016090: 6f6e 7465 7874 2229 3a0a 2020 2020 2020  ontext"):.      
-000160a0: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
-000160b0: 7075 7420 3d20 7573 6572 496e 7075 744c  put = userInputL
-000160c0: 6f77 6572 203d 2073 656c 662e 7275 6e41  ower = self.runA
-000160d0: 6374 696f 6e73 2822 2e2e 2e22 2c20 7573  ctions("...", us
-000160e0: 6572 496e 7075 7429 0a0a 2020 2020 2020  erInput)..      
-000160f0: 2020 2020 2020 6966 2073 6574 546f 6f6c        if setTool
-00016100: 4465 7065 6e64 656e 6365 2875 7365 7249  Dependence(userI
-00016110: 6e70 7574 293a 0a20 2020 2020 2020 2020  nput):.         
-00016120: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-00016130: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
-00016140: 6570 6c61 6365 2061 6c69 6173 2c20 6966  eplace alias, if
-00016150: 2061 6e79 2c20 7769 7468 2066 756c 6c20   any, with full 
-00016160: 656e 7472 790a 2020 2020 2020 2020 2020  entry.          
-00016170: 2020 666f 7220 616c 6961 732c 2066 756c    for alias, ful
-00016180: 6c45 6e74 7279 2069 6e20 636f 6e66 6967  lEntry in config
-00016190: 2e61 6c69 6173 6573 2e69 7465 6d73 2829  .aliases.items()
-000161a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000161b0: 2020 2375 7365 7249 6e70 7574 203d 2072    #userInput = r
-000161c0: 652e 7375 6228 616c 6961 732c 2066 756c  e.sub(alias, ful
-000161d0: 6c45 6e74 7279 2c20 7573 6572 496e 7075  lEntry, userInpu
-000161e0: 7429 2023 2065 7272 6f72 206f 6e20 5769  t) # error on Wi
-000161f0: 6e64 6f77 7320 636f 7a20 6f66 2057 696e  ndows coz of Win
-00016200: 646f 7773 2070 6174 680a 2020 2020 2020  dows path.      
-00016210: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
-00016220: 7075 7420 3d20 7573 6572 496e 7075 742e  put = userInput.
-00016230: 7265 706c 6163 6528 616c 6961 732c 2066  replace(alias, f
-00016240: 756c 6c45 6e74 7279 290a 0a20 2020 2020  ullEntry)..     
-00016250: 2020 2020 2020 2023 206f 7065 6e20 6669         # open fi
-00016260: 6c65 202f 2064 6972 6563 746f 7279 2064  le / directory d
-00016270: 6972 6563 746c 790a 2020 2020 2020 2020  irectly.        
-00016280: 2020 2020 646f 6373 5f70 6174 6820 3d20      docs_path = 
-00016290: 6973 4578 6973 7469 6e67 5061 7468 2875  isExistingPath(u
-000162a0: 7365 7249 6e70 7574 290a 2020 2020 2020  serInput).      
-000162b0: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
-000162c0: 2e69 7366 696c 6528 646f 6373 5f70 6174  .isfile(docs_pat
-000162d0: 6829 3a0a 2020 2020 2020 2020 2020 2020  h):.            
-000162e0: 2020 2020 6f73 2e73 7973 7465 6d28 6622      os.system(f"
-000162f0: 7b63 6f6e 6669 672e 6f70 656e 7d20 7b64  {config.open} {d
-00016300: 6f63 735f 7061 7468 7d22 290a 2020 2020  ocs_path}").    
-00016310: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
-00016320: 696e 7565 0a20 2020 2020 2020 2020 2020  inue.           
-00016330: 2065 6c69 6620 6f73 2e70 6174 682e 6973   elif os.path.is
-00016340: 6469 7228 646f 6373 5f70 6174 6829 3a0a  dir(docs_path):.
-00016350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016360: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00016370: 2020 2020 2020 2020 206f 732e 6368 6469           os.chdi
-00016380: 7228 646f 6373 5f70 6174 6829 0a20 2020  r(docs_path).   
-00016390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000163a0: 2070 7269 6e74 3328 6622 4469 7265 6374   print3(f"Direct
-000163b0: 6f72 7920 6368 616e 6765 6420 746f 3a20  ory changed to: 
-000163c0: 7b64 6f63 735f 7061 7468 7d22 290a 2020  {docs_path}").  
-000163d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000163e0: 2020 7365 6c66 2e67 6574 5061 7468 2e64    self.getPath.d
-000163f0: 6973 706c 6179 4469 7265 6374 6f72 7943  isplayDirectoryC
-00016400: 6f6e 7465 6e74 2829 0a20 2020 2020 2020  ontent().       
-00016410: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00016420: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
-00016430: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
-00016440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016450: 2020 7061 7373 0a0a 2020 2020 2020 2020    pass..        
-00016460: 2020 2020 2320 7472 7920 6576 616c 0a20      # try eval. 
-00016470: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-00016480: 6e66 6967 2e64 6576 656c 6f70 6572 2061  nfig.developer a
-00016490: 6e64 206e 6f74 2075 7365 7249 6e70 7574  nd not userInput
-000164a0: 203d 3d20 222e 2e2e 223a 0a20 2020 2020   == "...":.     
-000164b0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-000164c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000164d0: 2020 2020 7661 6c75 6520 3d20 6576 616c      value = eval
-000164e0: 2875 7365 7249 6e70 7574 2920 2320 6974  (userInput) # it
-000164f0: 2073 6f6c 7665 2073 696d 706c 6520 6d61   solve simple ma
-00016500: 7468 2c20 652e 672e 2031 2b31 2c20 6f72  th, e.g. 1+1, or
-00016510: 2072 6561 6420 7661 7269 6162 6c65 732c   read variables,
-00016520: 2065 2e67 2e20 6469 7228 636f 6e66 6967   e.g. dir(config
-00016530: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016540: 2020 2020 2020 6966 2076 616c 7565 2069        if value i
-00016550: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00016560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016570: 2020 2020 2370 7269 6e74 2876 616c 7565      #print(value
-00016580: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016590: 2020 2020 2020 2020 2020 7070 7269 6e74            pprint
-000165a0: 2e70 7072 696e 7428 7661 6c75 6529 0a20  .pprint(value). 
-000165b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165c0: 2020 2020 2020 2070 7269 6e74 2822 2229         print("")
-000165d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000165e0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
-000165f0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00016600: 2020 2020 2020 656c 6966 2072 652e 7365        elif re.se
-00016610: 6172 6368 2822 5e70 7269 6e74 5c28 5b5e  arch("^print\([^
-00016620: 5c29 5c29 5d2b 3f5c 2924 222c 2075 7365  \)\)]+?\)$", use
-00016630: 7249 6e70 7574 293a 0a20 2020 2020 2020  rInput):.       
-00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016650: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
-00016660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016670: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-00016680: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00016690: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-000166a0: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
-000166b0: 2020 2020 2020 2020 2023 2074 7279 2074           # try t
-000166c0: 6f20 7275 6e20 6173 2061 2070 7974 686f  o run as a pytho
-000166d0: 6e20 7363 7269 7074 2066 6972 7374 0a20  n script first. 
-000166e0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-000166f0: 6e66 6967 2e64 6576 656c 6f70 6572 3a0a  nfig.developer:.
-00016700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016710: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00016720: 2020 2020 2020 2020 2065 7865 6328 7573           exec(us
-00016730: 6572 496e 7075 742c 2067 6c6f 6261 6c73  erInput, globals
-00016740: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-00016750: 2020 2020 2020 2020 7072 696e 7428 2222          print(""
-00016760: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016770: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-00016780: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00016790: 7863 6570 743a 0a20 2020 2020 2020 2020  xcept:.         
-000167a0: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
-000167b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000167c0: 7573 6572 496e 7075 742e 7374 6172 7473  userInput.starts
-000167d0: 7769 7468 2822 2122 293a 0a20 2020 2020  with("!"):.     
-000167e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000167f0: 7275 6e53 7973 7465 6d43 6f6d 6d61 6e64  runSystemCommand
-00016800: 2875 7365 7249 6e70 7574 290a 2020 2020  (userInput).    
-00016810: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00016820: 7428 2222 290a 2020 2020 2020 2020 2020  t("").          
-00016830: 2020 656c 6966 2063 6f6e 6669 672e 6465    elif config.de
-00016840: 7665 6c6f 7065 7220 616e 6420 7573 6572  veloper and user
-00016850: 496e 7075 742e 7374 6172 7473 7769 7468  Input.startswith
-00016860: 2822 6060 6022 2920 616e 6420 7573 6572  ("```") and user
-00016870: 496e 7075 742e 656e 6473 7769 7468 2822  Input.endswith("
-00016880: 6060 6022 2920 616e 6420 6e6f 7420 7573  ```") and not us
-00016890: 6572 496e 7075 7420 3d3d 2022 6060 6060  erInput == "````
-000168a0: 6060 223a 0a20 2020 2020 2020 2020 2020  ``":.           
-000168b0: 2020 2020 2075 7365 7249 6e70 7574 203d       userInput =
-000168c0: 2072 652e 7375 6228 2260 6060 7079 7468   re.sub("```pyth
-000168d0: 6f6e 222c 2022 6060 6022 2c20 7573 6572  on", "```", user
-000168e0: 496e 7075 7429 0a20 2020 2020 2020 2020  Input).         
-000168f0: 2020 2020 2020 2073 656c 662e 7275 6e50         self.runP
-00016900: 7974 686f 6e53 6372 6970 7428 7573 6572  ythonScript(user
-00016910: 496e 7075 7429 0a20 2020 2020 2020 2020  Input).         
-00016920: 2020 2020 2020 2070 7269 6e74 2822 2229         print("")
-00016930: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-00016940: 6620 7573 6572 496e 7075 744c 6f77 6572  f userInputLower
-00016950: 203d 3d20 636f 6e66 6967 2e65 7869 745f   == config.exit_
-00016960: 656e 7472 793a 0a20 2020 2020 2020 2020  entry:.         
-00016970: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-00016980: 4368 6174 2863 6f6e 6669 672e 6375 7272  Chat(config.curr
-00016990: 656e 744d 6573 7361 6765 7329 0a20 2020  entMessages).   
-000169a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000169b0: 7572 6e20 7365 6c66 2e65 7869 7441 6374  urn self.exitAct
-000169c0: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
-000169d0: 2020 656c 6966 2075 7365 7249 6e70 7574    elif userInput
-000169e0: 4c6f 7765 7220 3d3d 2063 6f6e 6669 672e  Lower == config.
-000169f0: 6361 6e63 656c 5f65 6e74 7279 3a0a 2020  cancel_entry:.  
-00016a00: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-00016a10: 7373 0a20 2020 2020 2020 2020 2020 2065  ss.            e
-00016a20: 6c69 6620 7573 6572 496e 7075 744c 6f77  lif userInputLow
-00016a30: 6572 203d 3d20 222e 636f 6e74 6578 7422  er == ".context"
-00016a40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016a50: 2020 7365 6c66 2e63 6861 6e67 6543 6f6e    self.changeCon
-00016a60: 7465 7874 2829 0a20 2020 2020 2020 2020  text().         
-00016a70: 2020 2020 2020 2069 6620 6e6f 7420 636f         if not co
-00016a80: 6e66 6967 2e61 7070 6c79 5072 6564 6566  nfig.applyPredef
-00016a90: 696e 6564 436f 6e74 6578 7441 6c77 6179  inedContextAlway
-00016aa0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00016ab0: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-00016ac0: 2e63 6f6e 7665 7273 6174 696f 6e53 7461  .conversationSta
-00016ad0: 7274 6564 3a0a 2020 2020 2020 2020 2020  rted:.          
-00016ae0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00016af0: 6c66 2e73 6176 6543 6861 7428 636f 6e66  lf.saveChat(conf
-00016b00: 6967 2e63 7572 7265 6e74 4d65 7373 6167  ig.currentMessag
-00016b10: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-00016b20: 2020 2020 2020 2020 7374 6f72 6167 6564          storaged
-00016b30: 6972 6563 746f 7279 2c20 636f 6e66 6967  irectory, config
-00016b40: 2e63 7572 7265 6e74 4d65 7373 6167 6573  .currentMessages
-00016b50: 203d 2073 7461 7274 4368 6174 2829 0a20   = startChat(). 
-00016b60: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00016b70: 7573 6572 496e 7075 744c 6f77 6572 203d  userInputLower =
-00016b80: 3d20 222e 6e65 7722 3a0a 2020 2020 2020  = ".new":.      
-00016b90: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00016ba0: 6176 6543 6861 7428 636f 6e66 6967 2e63  aveChat(config.c
-00016bb0: 7572 7265 6e74 4d65 7373 6167 6573 290a  urrentMessages).
-00016bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016bd0: 7374 6f72 6167 6564 6972 6563 746f 7279  storagedirectory
-00016be0: 2c20 636f 6e66 6967 2e63 7572 7265 6e74  , config.current
-00016bf0: 4d65 7373 6167 6573 203d 2073 7461 7274  Messages = start
-00016c00: 4368 6174 2829 0a20 2020 2020 2020 2020  Chat().         
-00016c10: 2020 2065 6c69 6620 7573 6572 496e 7075     elif userInpu
-00016c20: 7420 616e 6420 6e6f 7420 7573 6572 496e  t and not userIn
-00016c30: 7075 744c 6f77 6572 2069 6e20 6665 6174  putLower in feat
-00016c40: 7572 6573 4c6f 7765 723a 0a20 2020 2020  uresLower:.     
-00016c50: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-00016c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016c70: 2020 2020 6966 2075 7365 7249 6e70 7574      if userInput
-00016c80: 2061 6e64 2063 6f6e 6669 672e 7474 7349   and config.ttsI
-00016c90: 6e70 7574 3a0a 2020 2020 2020 2020 2020  nput:.          
-00016ca0: 2020 2020 2020 2020 2020 2020 2020 5454                TT
-00016cb0: 5355 7469 6c2e 706c 6179 2875 7365 7249  SUtil.play(userI
-00016cc0: 6e70 7574 290a 2020 2020 2020 2020 2020  nput).          
-00016cd0: 2020 2020 2020 2020 2020 2320 4665 6174            # Feat
-00016ce0: 7572 653a 2069 6d70 726f 7665 2077 7269  ure: improve wri
-00016cf0: 7469 6e67 3a0a 2020 2020 2020 2020 2020  ting:.          
-00016d00: 2020 2020 2020 2020 2020 7370 6563 6961            specia
-00016d10: 6c45 6e74 7279 5061 7474 6572 6e20 3d20  lEntryPattern = 
-00016d20: 225c 5b54 4f4f 4c5f 5b5e 5c5b 5c5d 5d2a  "\[TOOL_[^\[\]]*
-00016d30: 3f5c 5d7c 5c5b 4e4f 5f54 4f4f 4c5c 5d7c  ?\]|\[NO_TOOL\]|
-00016d40: 5c5b 4e4f 5f53 4352 4545 4e49 4e47 5c5d  \[NO_SCREENING\]
-00016d50: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00016d60: 2020 2020 2020 7370 6563 6961 6c45 6e74        specialEnt
-00016d70: 7279 203d 2072 652e 7365 6172 6368 2873  ry = re.search(s
-00016d80: 7065 6369 616c 456e 7472 7950 6174 7465  pecialEntryPatte
-00016d90: 726e 2c20 7573 6572 496e 7075 7429 0a20  rn, userInput). 
-00016da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016db0: 2020 2073 7065 6369 616c 456e 7472 7920     specialEntry 
-00016dc0: 3d20 7370 6563 6961 6c45 6e74 7279 2e67  = specialEntry.g
-00016dd0: 726f 7570 2830 2920 6966 2073 7065 6369  roup(0) if speci
-00016de0: 616c 456e 7472 7920 656c 7365 2022 220a  alEntry else "".
-00016df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016e00: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
-00016e10: 7265 2e73 7562 2873 7065 6369 616c 456e  re.sub(specialEn
-00016e20: 7472 7950 6174 7465 726e 2c20 2222 2c20  tryPattern, "", 
-00016e30: 7573 6572 496e 7075 7429 2023 2072 656d  userInput) # rem
-00016e40: 6f76 6520 7370 6563 6961 6c20 656e 7472  ove special entr
-00016e50: 7920 7465 6d70 6f72 6172 696c 790a 2020  y temporarily.  
-00016e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016e70: 2020 6966 2075 7365 7249 6e70 7574 2061    if userInput a
-00016e80: 6e64 2063 6f6e 6669 672e 6469 7370 6c61  nd config.displa
-00016e90: 7949 6d70 726f 7665 6457 7269 7469 6e67  yImprovedWriting
-00016ea0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016eb0: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
-00016ec0: 7075 7420 3d20 7265 2e73 7562 2822 5c6e  put = re.sub("\n
-00016ed0: 5c5b 4375 7272 656e 7420 7469 6d65 3a20  \[Current time: 
-00016ee0: 5b5e 5c6e 5d2a 3f24 222c 2022 222c 2075  [^\n]*?$", "", u
-00016ef0: 7365 7249 6e70 7574 290a 2020 2020 2020  serInput).      
-00016f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f10: 2020 6966 2063 6f6e 6669 672e 6973 5465    if config.isTe
-00016f20: 726d 7578 3a0a 2020 2020 2020 2020 2020  rmux:.          
-00016f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f40: 2020 6461 795f 6f66 5f77 6565 6b20 3d20    day_of_week = 
-00016f50: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-00016f60: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00016f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016f80: 2020 2020 2020 2020 2020 2020 2064 6179               day
-00016f90: 5f6f 665f 7765 656b 203d 2066 2274 6f64  _of_week = f"tod
-00016fa0: 6179 2069 7320 7b67 6574 4461 794f 6657  ay is {getDayOfW
-00016fb0: 6565 6b28 297d 2061 6e64 2022 0a20 2020  eek()} and ".   
-00016fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016fd0: 2020 2020 2069 6d70 726f 7665 6456 6572       improvedVer
-00016fe0: 7369 6f6e 203d 2043 616c 6c4c 4c4d 2e67  sion = CallLLM.g
-00016ff0: 6574 5369 6e67 6c65 4368 6174 5265 7370  etSingleChatResp
-00017000: 6f6e 7365 2866 2222 2249 6d70 726f 7665  onse(f"""Improve
-00017010: 2074 6865 2066 6f6c 6c6f 7769 6e67 2077   the following w
-00017020: 7269 7469 6e67 2c20 6163 636f 7264 696e  riting, accordin
-00017030: 6720 746f 207b 636f 6e66 6967 2e69 6d70  g to {config.imp
-00017040: 726f 7665 6457 7269 7469 6e67 5379 746c  rovedWritingSytl
-00017050: 657d 0a49 6e20 6164 6469 7469 6f6e 2c20  e}.In addition, 
-00017060: 4920 776f 756c 6420 6c69 6b65 2079 6f75  I would like you
-00017070: 2074 6f20 6865 6c70 206d 6520 7769 7468   to help me with
-00017080: 2063 6f6e 7665 7274 696e 6720 7265 6c61   converting rela
-00017090: 7469 7665 2064 6174 6573 2061 6e64 2074  tive dates and t
-000170a0: 696d 6573 2c20 6966 2061 6e79 2c20 696e  imes, if any, in
-000170b0: 746f 2065 7861 6374 2064 6174 6573 2061  to exact dates a
-000170c0: 6e64 2074 696d 6573 2062 6173 6564 206f  nd times based o
-000170d0: 6e20 7468 6520 7265 6665 7265 6e63 6520  n the reference 
-000170e0: 7468 6174 207b 6461 795f 6f66 5f77 6565  that {day_of_wee
-000170f0: 6b7d 6375 7272 656e 7420 6461 7465 7469  k}current dateti
-00017100: 6d65 2069 7320 7b73 7472 2864 6174 6574  me is {str(datet
-00017110: 696d 652e 6461 7465 7469 6d65 2e6e 6f77  ime.datetime.now
-00017120: 2829 297d 2e0a 5265 6d65 6d62 6572 2c20  ())}..Remember, 
-00017130: 7072 6f76 6964 6520 6d65 2077 6974 6820  provide me with 
-00017140: 7468 6520 696d 7072 6f76 6564 2077 7269  the improved wri
-00017150: 7469 6e67 206f 6e6c 792c 2065 6e63 6c6f  ting only, enclo
-00017160: 7365 6420 696e 2074 7269 706c 6520 7175  sed in triple qu
-00017170: 6f74 6573 2060 6060 2061 6e64 2077 6974  otes ``` and wit
-00017180: 686f 7574 2061 6e79 2061 6464 6974 696f  hout any additio
-00017190: 6e61 6c20 696e 666f 726d 6174 696f 6e20  nal information 
-000171a0: 6f72 2063 6f6d 6d65 6e74 732e 0a4d 7920  or comments..My 
-000171b0: 7772 6974 696e 673a 0a7b 7573 6572 496e  writing:.{userIn
-000171c0: 7075 747d 2222 2229 0a20 2020 2020 2020  put}""").       
-000171d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000171e0: 2069 6620 696d 7072 6f76 6564 5665 7273   if improvedVers
-000171f0: 696f 6e20 616e 6420 696d 7072 6f76 6564  ion and improved
-00017200: 5665 7273 696f 6e2e 7374 6172 7473 7769  Version.startswi
-00017210: 7468 2822 6060 6022 2920 616e 6420 696d  th("```") and im
-00017220: 7072 6f76 6564 5665 7273 696f 6e2e 656e  provedVersion.en
-00017230: 6473 7769 7468 2822 6060 6022 293a 0a20  dswith("```"):. 
-00017240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017250: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00017260: 3128 696d 7072 6f76 6564 5665 7273 696f  1(improvedVersio
-00017270: 6e29 0a20 2020 2020 2020 2020 2020 2020  n).             
-00017280: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00017290: 7365 7249 6e70 7574 203d 2069 6d70 726f  serInput = impro
-000172a0: 7665 6456 6572 7369 6f6e 5b33 3a2d 335d  vedVersion[3:-3]
-000172b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000172c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000172d0: 636f 6e66 6967 2e74 7473 4f75 7470 7574  config.ttsOutput
-000172e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000172f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017300: 2020 5454 5355 7469 6c2e 706c 6179 2875    TTSUtil.play(u
-00017310: 7365 7249 6e70 7574 290a 2020 2020 2020  serInput).      
-00017320: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00017330: 2073 7065 6369 616c 456e 7472 793a 0a20   specialEntry:. 
-00017340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017350: 2020 2020 2020 2075 7365 7249 6e70 7574         userInput
-00017360: 203d 2066 227b 7573 6572 496e 7075 747d   = f"{userInput}
-00017370: 7b73 7065 6369 616c 456e 7472 797d 220a  {specialEntry}".
-00017380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017390: 2020 2020 2320 7265 6669 6e65 206d 6573      # refine mes
-000173a0: 7361 6765 7320 6265 666f 7265 2072 756e  sages before run
-000173b0: 6e69 6e67 2063 6f6d 706c 6574 696f 6e0a  ning completion.
-000173c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173d0: 2020 2020 6669 6e65 5475 6e65 6455 7365      fineTunedUse
-000173e0: 7249 6e70 7574 203d 2073 656c 662e 6669  rInput = self.fi
-000173f0: 6e65 5475 6e65 5573 6572 496e 7075 7428  neTuneUserInput(
-00017400: 7573 6572 496e 7075 7429 0a20 2020 2020  userInput).     
-00017410: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00017420: 2069 6e20 6361 7365 206f 6620 7472 616e   in case of tran
-00017430: 736c 6174 696f 6e0a 2020 2020 2020 2020  slation.        
-00017440: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00017450: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
-00017460: 436f 6e74 6578 7420 3d3d 2022 4c65 7420  Context == "Let 
-00017470: 6d65 2054 7261 6e73 6c61 7465 2220 616e  me Translate" an
-00017480: 6420 6669 6e65 5475 6e65 6455 7365 7249  d fineTunedUserI
-00017490: 6e70 7574 2e73 7461 7274 7377 6974 6828  nput.startswith(
-000174a0: 2241 7373 6973 7420 6d65 2062 7920 6163  "Assist me by ac
-000174b0: 7469 6e67 2061 7320 6120 7472 616e 736c  ting as a transl
-000174c0: 6174 6f72 2e5c 6e50 6c65 6173 6520 7472  ator.\nPlease tr
-000174d0: 616e 736c 6174 6522 293a 0a20 2020 2020  anslate"):.     
-000174e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000174f0: 2020 2070 7269 6e74 3128 2250 6c65 6173     print1("Pleas
-00017500: 6520 7370 6563 6966 7920 6265 6c6f 7720  e specify below 
-00017510: 7468 6520 6c61 6e67 7561 6765 2079 6f75  the language you
-00017520: 2077 6f75 6c64 206c 696b 6520 7468 6520   would like the 
-00017530: 636f 6e74 656e 7420 746f 2062 6520 7472  content to be tr
-00017540: 616e 736c 6174 6564 2069 6e74 6f3a 2229  anslated into:")
-00017550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017560: 2020 2020 2020 2020 206c 616e 6775 6167           languag
-00017570: 6520 3d20 7365 6c66 2e70 726f 6d70 7473  e = self.prompts
-00017580: 2e73 696d 706c 6550 726f 6d70 7428 7374  .simplePrompt(st
-00017590: 796c 653d 7365 6c66 2e70 726f 6d70 7473  yle=self.prompts
-000175a0: 2e70 726f 6d70 7453 7479 6c65 322c 2064  .promptStyle2, d
-000175b0: 6566 6175 6c74 3d63 6f6e 6669 672e 7472  efault=config.tr
-000175c0: 616e 736c 6174 6554 6f4c 616e 6775 6167  anslateToLanguag
-000175d0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-000175e0: 2020 2020 2020 2020 2020 2069 6620 6c61             if la
-000175f0: 6e67 7561 6765 2061 6e64 206e 6f74 206c  nguage and not l
-00017600: 616e 6775 6167 652e 7374 7269 7028 292e  anguage.strip().
-00017610: 6c6f 7765 7228 2920 696e 2028 636f 6e66  lower() in (conf
-00017620: 6967 2e63 616e 6365 6c5f 656e 7472 792c  ig.cancel_entry,
-00017630: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
-00017640: 7279 293a 0a20 2020 2020 2020 2020 2020  ry):.           
-00017650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017660: 2066 696e 6554 756e 6564 5573 6572 496e   fineTunedUserIn
-00017670: 7075 7420 3d20 6622 7b66 696e 6554 756e  put = f"{fineTun
-00017680: 6564 5573 6572 496e 7075 747d 5c6e 5c6e  edUserInput}\n\n
-00017690: 506c 6561 7365 2074 7261 6e73 6c61 7465  Please translate
-000176a0: 2074 6865 2063 6f6e 7465 6e74 2069 6e74   the content int
-000176b0: 6f20 3c6c 616e 6775 6167 653e 7b6c 616e  o <language>{lan
-000176c0: 6775 6167 657d 3c2f 6c61 6e67 7561 6765  guage}</language
-000176d0: 3e2e 220a 2020 2020 2020 2020 2020 2020  >.".            
-000176e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000176f0: 636f 6e66 6967 2e74 7261 6e73 6c61 7465  config.translate
-00017700: 546f 4c61 6e67 7561 6765 203d 206c 616e  ToLanguage = lan
-00017710: 6775 6167 650a 2020 2020 2020 2020 2020  guage.          
-00017720: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00017730: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00017740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017750: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
-00017760: 2020 2020 2020 2020 2020 2020 2023 2063               # c
-00017770: 6c65 6172 2063 6f6e 6669 672e 7072 6564  lear config.pred
-00017780: 6566 696e 6564 436f 6e74 6578 7454 656d  efinedContextTem
-00017790: 7020 6966 2061 6e79 0a20 2020 2020 2020  p if any.       
-000177a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000177b0: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-000177c0: 6443 6f6e 7465 7874 5465 6d70 3a0a 2020  dContextTemp:.  
-000177d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177e0: 2020 2020 2020 636f 6e66 6967 2e70 7265        config.pre
-000177f0: 6465 6669 6e65 6443 6f6e 7465 7874 203d  definedContext =
-00017800: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00017810: 6564 436f 6e74 6578 7454 656d 700a 2020  edContextTemp.  
-00017820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017830: 2020 2020 2020 636f 6e66 6967 2e70 7265        config.pre
-00017840: 6465 6669 6e65 6443 6f6e 7465 7874 5465  definedContextTe
-00017850: 6d70 203d 2022 220a 2020 2020 2020 2020  mp = "".        
-00017860: 2020 2020 2020 2020 2020 2020 2320 656d              # em
-00017870: 7074 7920 636f 6e66 6967 2e70 6167 6572  pty config.pager
-00017880: 436f 6e74 656e 740a 2020 2020 2020 2020  Content.        
-00017890: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-000178a0: 6967 2e70 6167 6572 436f 6e74 656e 7420  ig.pagerContent 
-000178b0: 3d20 2222 0a0a 2020 2020 2020 2020 2020  = ""..          
-000178c0: 2020 2020 2020 2020 2020 2320 6368 6563            # chec
-000178d0: 6b20 7370 6563 6961 6c20 656e 7472 6965  k special entrie
-000178e0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-000178f0: 2020 2020 2020 2320 6966 2075 7365 7220        # if user 
-00017900: 6361 6c6c 2061 2063 6861 7462 6f74 2077  call a chatbot w
-00017910: 6974 686f 7574 2066 756e 6374 696f 6e20  ithout function 
-00017920: 6361 6c6c 696e 670a 2020 2020 2020 2020  calling.        
-00017930: 2020 2020 2020 2020 2020 2020 6966 2022              if "
-00017940: 5b43 4841 545d 2220 696e 2066 696e 6554  [CHAT]" in fineT
-00017950: 756e 6564 5573 6572 496e 7075 743a 0a20  unedUserInput:. 
-00017960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017970: 2020 2020 2020 2063 6861 7462 6f74 203d         chatbot =
-00017980: 2063 6f6e 6669 672e 6c6c 6d49 6e74 6572   config.llmInter
-00017990: 6661 6365 0a20 2020 2020 2020 2020 2020  face.           
-000179a0: 2020 2020 2020 2020 2065 6c69 6620 6361           elif ca
-000179b0: 6c6c 4368 6174 426f 7420 3a3d 2072 652e  llChatBot := re.
-000179c0: 7365 6172 6368 2822 5c5b 4348 4154 5f28  search("\[CHAT_(
-000179d0: 5b5e 5c5b 5c5d 5d2b 3f29 5c5d 222c 2066  [^\[\]]+?)\]", f
-000179e0: 696e 6554 756e 6564 5573 6572 496e 7075  ineTunedUserInpu
-000179f0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-00017a00: 2020 2020 2020 2020 2020 2020 6368 6174              chat
-00017a10: 626f 7420 3d20 6361 6c6c 4368 6174 426f  bot = callChatBo
-00017a20: 742e 6772 6f75 7028 3129 2e6c 6f77 6572  t.group(1).lower
-00017a30: 2829 2069 6620 6361 6c6c 4368 6174 426f  () if callChatBo
-00017a40: 7420 616e 6420 6361 6c6c 4368 6174 426f  t and callChatBo
-00017a50: 742e 6772 6f75 7028 3129 2e6c 6f77 6572  t.group(1).lower
-00017a60: 2829 2069 6e20 2822 6368 6174 6770 7422  () in ("chatgpt"
-00017a70: 2c20 2267 656d 696e 6970 726f 222c 2022  , "geminipro", "
-00017a80: 7061 6c6d 3222 2c20 2263 6f64 6579 2229  palm2", "codey")
-00017a90: 2065 6c73 6520 2222 0a20 2020 2020 2020   else "".       
-00017aa0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00017ab0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00017ac0: 2020 2020 2020 2020 2020 2063 6861 7462             chatb
-00017ad0: 6f74 203d 2022 220a 2020 2020 2020 2020  ot = "".        
-00017ae0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00017af0: 6861 7462 6f74 3a0a 2020 2020 2020 2020  hatbot:.        
-00017b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b10: 2320 6361 6c6c 2074 6865 2073 7063 6966  # call the spcif
-00017b20: 6965 6420 6368 6174 626f 7420 746f 2063  ied chatbot to c
-00017b30: 6f6e 7469 6e75 6520 7468 6520 636f 6e76  ontinue the conv
-00017b40: 6572 7361 7469 6f6e 0a20 2020 2020 2020  ersation.       
-00017b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b60: 2066 696e 6554 756e 6564 5573 6572 496e   fineTunedUserIn
-00017b70: 7075 7420 3d20 7265 2e73 7562 2822 5c5b  put = re.sub("\[
-00017b80: 4348 4154 5c5d 7c5c 5b43 4841 545f 5b5e  CHAT\]|\[CHAT_[^
-00017b90: 5c5b 5c5d 5d2b 3f5c 5d22 2c20 2222 2c20  \[\]]+?\]", "", 
-00017ba0: 6669 6e65 5475 6e65 6455 7365 7249 6e70  fineTunedUserInp
-00017bb0: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
-00017bc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00017bd0: 2e6c 6175 6e63 6843 6861 7462 6f74 2863  .launchChatbot(c
-00017be0: 6861 7462 6f74 2c20 6669 6e65 5475 6e65  hatbot, fineTune
-00017bf0: 6455 7365 7249 6e70 7574 290a 2020 2020  dUserInput).    
-00017c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c10: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
-00017c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c30: 2023 2077 6865 6e20 7573 6572 2064 6f6e   # when user don
-00017c40: 2774 2077 616e 7420 6120 6675 6e63 7469  't want a functi
-00017c50: 6f6e 2063 616c 6c0a 2020 2020 2020 2020  on call.        
-00017c60: 2020 2020 2020 2020 2020 2020 6e6f 4675              noFu
-00017c70: 6e63 7469 6f6e 4361 6c6c 203d 2028 225b  nctionCall = ("[
-00017c80: 4e4f 5f54 4f4f 4c5d 2220 696e 2066 696e  NO_TOOL]" in fin
-00017c90: 6554 756e 6564 5573 6572 496e 7075 7429  eTunedUserInput)
-00017ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017cb0: 2020 2020 2023 2077 6865 6e20 7573 6572       # when user
-00017cc0: 2077 616e 7420 746f 2063 616c 6c20 6120   want to call a 
-00017cd0: 7061 7274 6963 756c 6172 2066 756e 6374  particular funct
-00017ce0: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00017cf0: 2020 2020 2020 2020 6368 6563 6b43 616c          checkCal
-00017d00: 6c53 7065 6369 6669 6346 756e 6374 696f  lSpecificFunctio
-00017d10: 6e20 3d20 7265 2e73 6561 7263 6828 225c  n = re.search("\
-00017d20: 5b54 4f4f 4c5f 285b 5e5c 5b5c 5d5d 2b3f  [TOOL_([^\[\]]+?
-00017d30: 295c 5d22 2c20 6669 6e65 5475 6e65 6455  )\]", fineTunedU
-00017d40: 7365 7249 6e70 7574 290a 2020 2020 2020  serInput).      
-00017d50: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00017d60: 6e66 6967 2e73 656c 6563 7465 6454 6f6f  nfig.selectedToo
-00017d70: 6c20 3d20 6368 6563 6b43 616c 6c53 7065  l = checkCallSpe
-00017d80: 6369 6669 6346 756e 6374 696f 6e2e 6772  cificFunction.gr
-00017d90: 6f75 7028 3129 2069 6620 6368 6563 6b43  oup(1) if checkC
-00017da0: 616c 6c53 7065 6369 6669 6346 756e 6374  allSpecificFunct
-00017db0: 696f 6e20 616e 6420 6368 6563 6b43 616c  ion and checkCal
-00017dc0: 6c53 7065 6369 6669 6346 756e 6374 696f  lSpecificFunctio
-00017dd0: 6e2e 6772 6f75 7028 3129 2069 6e20 636f  n.group(1) in co
-00017de0: 6e66 6967 2e74 6f6f 6c46 756e 6374 696f  nfig.toolFunctio
-00017df0: 6e4d 6574 686f 6473 2065 6c73 6520 2222  nMethods else ""
-00017e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017e10: 2020 2020 2069 6620 636f 6e66 6967 2e64       if config.d
-00017e20: 6576 656c 6f70 6572 2061 6e64 2063 6f6e  eveloper and con
-00017e30: 6669 672e 7365 6c65 6374 6564 546f 6f6c  fig.selectedTool
-00017e40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017e50: 2020 2020 2020 2020 2020 2370 7269 6e74            #print
-00017e60: 3128 6622 6361 6c6c 696e 6720 6675 6e63  1(f"calling func
-00017e70: 7469 6f6e 2027 7b63 6f6e 6669 672e 7365  tion '{config.se
-00017e80: 6c65 6374 6564 546f 6f6c 7d27 202e 2e2e  lectedTool}' ...
-00017e90: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00017ea0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00017eb0: 5f66 6f72 6d61 7474 6564 5f74 6578 7428  _formatted_text(
-00017ec0: 4854 4d4c 2866 223c 7b63 6f6e 6669 672e  HTML(f"<{config.
-00017ed0: 7465 726d 696e 616c 5072 6f6d 7074 496e  terminalPromptIn
-00017ee0: 6469 6361 746f 7243 6f6c 6f72 327d 3e43  dicatorColor2}>C
-00017ef0: 616c 6c69 6e67 2066 756e 6374 696f 6e3c  alling function<
-00017f00: 2f7b 636f 6e66 6967 2e74 6572 6d69 6e61  /{config.termina
-00017f10: 6c50 726f 6d70 7449 6e64 6963 6174 6f72  lPromptIndicator
-00017f20: 436f 6c6f 7232 7d3e 203c 7b63 6f6e 6669  Color2}> <{confi
-00017f30: 672e 7465 726d 696e 616c 436f 6d6d 616e  g.terminalComman
-00017f40: 6445 6e74 7279 436f 6c6f 7232 7d3e 277b  dEntryColor2}>'{
-00017f50: 636f 6e66 6967 2e73 656c 6563 7465 6454  config.selectedT
-00017f60: 6f6f 6c7d 273c 2f7b 636f 6e66 6967 2e74  ool}'</{config.t
-00017f70: 6572 6d69 6e61 6c43 6f6d 6d61 6e64 456e  erminalCommandEn
-00017f80: 7472 7943 6f6c 6f72 327d 3e20 3c7b 636f  tryColor2}> <{co
-00017f90: 6e66 6967 2e74 6572 6d69 6e61 6c50 726f  nfig.terminalPro
-00017fa0: 6d70 7449 6e64 6963 6174 6f72 436f 6c6f  mptIndicatorColo
-00017fb0: 7232 7d3e 2e2e 2e3c 2f7b 636f 6e66 6967  r2}>...</{config
-00017fc0: 2e74 6572 6d69 6e61 6c50 726f 6d70 7449  .terminalPromptI
-00017fd0: 6e64 6963 6174 6f72 436f 6c6f 7232 7d3e  ndicatorColor2}>
-00017fe0: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
-00017ff0: 2020 2020 2020 2020 6669 6e65 5475 6e65          fineTune
-00018000: 6455 7365 7249 6e70 7574 203d 2072 652e  dUserInput = re.
-00018010: 7375 6228 7370 6563 6961 6c45 6e74 7279  sub(specialEntry
-00018020: 5061 7474 6572 6e2c 2022 222c 2066 696e  Pattern, "", fin
-00018030: 6554 756e 6564 5573 6572 496e 7075 7429  eTunedUserInput)
-00018040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018050: 2020 2020 2063 6f6e 6669 672e 6375 7272       config.curr
-00018060: 656e 744d 6573 7361 6765 732e 6170 7065  entMessages.appe
-00018070: 6e64 287b 2272 6f6c 6522 3a20 2275 7365  nd({"role": "use
-00018080: 7222 2c20 2263 6f6e 7465 6e74 223a 2066  r", "content": f
-00018090: 696e 6554 756e 6564 5573 6572 496e 7075  ineTunedUserInpu
-000180a0: 747d 290a 0a20 2020 2020 2020 2020 2020  t})..           
-000180b0: 2020 2020 2020 2020 2023 2073 7461 7274           # start
-000180c0: 2073 7069 6e6e 696e 670a 2020 2020 2020   spinning.      
-000180d0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000180e0: 6e66 6967 2e73 746f 705f 6576 656e 7420  nfig.stop_event 
-000180f0: 3d20 7468 7265 6164 696e 672e 4576 656e  = threading.Even
-00018100: 7428 290a 2020 2020 2020 2020 2020 2020  t().            
-00018110: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00018120: 7069 6e6e 6572 5f74 6872 6561 6420 3d20  pinner_thread = 
-00018130: 7468 7265 6164 696e 672e 5468 7265 6164  threading.Thread
-00018140: 2874 6172 6765 743d 7370 696e 6e69 6e67  (target=spinning
-00018150: 5f61 6e69 6d61 7469 6f6e 2c20 6172 6773  _animation, args
-00018160: 3d28 636f 6e66 6967 2e73 746f 705f 6576  =(config.stop_ev
-00018170: 656e 742c 2929 0a20 2020 2020 2020 2020  ent,)).         
-00018180: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00018190: 672e 7370 696e 6e65 725f 7468 7265 6164  g.spinner_thread
-000181a0: 2e73 7461 7274 2829 0a0a 2020 2020 2020  .start()..      
-000181b0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-000181c0: 666f 7263 6520 6c6f 6164 696e 6720 696e  force loading in
-000181d0: 7465 726e 6574 2073 6561 7263 6865 730a  ternet searches.
-000181e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181f0: 2020 2020 6966 2063 6f6e 6669 672e 6c6f      if config.lo
-00018200: 6164 696e 6749 6e74 6572 6e65 7453 6561  adingInternetSea
-00018210: 7263 6865 7320 3d3d 2022 616c 7761 7973  rches == "always
-00018220: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00018230: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-00018240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018250: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00018260: 6967 2e63 7572 7265 6e74 4d65 7373 6167  ig.currentMessag
-00018270: 6573 203d 2043 616c 6c4c 4c4d 2e72 756e  es = CallLLM.run
-00018280: 5369 6e67 6c65 4675 6e63 7469 6f6e 4361  SingleFunctionCa
-00018290: 6c6c 2863 6f6e 6669 672e 6375 7272 656e  ll(config.curren
-000182a0: 744d 6573 7361 6765 732c 2022 696e 7465  tMessages, "inte
-000182b0: 6772 6174 655f 676f 6f67 6c65 5f73 6561  grate_google_sea
-000182c0: 7263 6865 7322 290a 2020 2020 2020 2020  rches").        
-000182d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182e0: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-000182f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018300: 2020 2020 7072 696e 7431 2822 556e 6162      print1("Unab
-00018310: 6c65 2074 6f20 6c6f 6164 2069 6e74 6572  le to load inter
-00018320: 6e65 7420 7265 736f 7572 6365 732e 2229  net resources.")
-00018330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018340: 2020 2020 2020 2020 2020 2020 2073 686f               sho
-00018350: 7745 7272 6f72 7328 290a 0a20 2020 2020  wErrors()..     
-00018360: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00018370: 6f6d 706c 6574 696f 6e20 3d20 4361 6c6c  ompletion = Call
-00018380: 4c4c 4d2e 7275 6e47 656e 6975 7343 616c  LLM.runGeniusCal
-00018390: 6c28 636f 6e66 6967 2e63 7572 7265 6e74  l(config.current
-000183a0: 4d65 7373 6167 6573 2c20 6e6f 4675 6e63  Messages, noFunc
-000183b0: 7469 6f6e 4361 6c6c 290a 2020 2020 2020  tionCall).      
-000183c0: 2020 2020 2020 2020 2020 2020 2020 0a20                . 
-000183d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183e0: 2020 2023 2073 746f 7020 7370 696e 6e69     # stop spinni
-000183f0: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
-00018400: 2020 2020 2020 2063 6f6e 6669 672e 7275         config.ru
-00018410: 6e50 7974 686f 6e20 3d20 5472 7565 0a20  nPython = True. 
-00018420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018430: 2020 2073 746f 7053 7069 6e6e 696e 6728     stopSpinning(
-00018440: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-00018450: 2020 2020 2020 2069 6620 636f 6d70 6c65         if comple
-00018460: 7469 6f6e 2069 7320 6e6f 7420 4e6f 6e65  tion is not None
-00018470: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00018480: 2020 2020 2020 2020 2020 2320 4372 6561            # Crea
-00018490: 7465 2061 206e 6577 2074 6872 6561 6420  te a new thread 
-000184a0: 666f 7220 7468 6520 7374 7265 616d 696e  for the streamin
-000184b0: 6720 7461 736b 0a20 2020 2020 2020 2020  g task.         
-000184c0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000184d0: 7472 6561 6d69 6e67 576f 7264 5772 6170  treamingWordWrap
-000184e0: 7065 7220 3d20 5374 7265 616d 696e 6757  per = StreamingW
-000184f0: 6f72 6457 7261 7070 6572 2829 0a20 2020  ordWrapper().   
-00018500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018510: 2020 2020 2073 7472 6561 6d69 6e67 5f65       streaming_e
-00018520: 7665 6e74 203d 2074 6872 6561 6469 6e67  vent = threading
-00018530: 2e45 7665 6e74 2829 0a20 2020 2020 2020  .Event().       
-00018540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018550: 2073 656c 662e 7374 7265 616d 696e 675f   self.streaming_
-00018560: 7468 7265 6164 203d 2074 6872 6561 6469  thread = threadi
-00018570: 6e67 2e54 6872 6561 6428 7461 7267 6574  ng.Thread(target
-00018580: 3d73 7472 6561 6d69 6e67 576f 7264 5772  =streamingWordWr
-00018590: 6170 7065 722e 7374 7265 616d 4f75 7470  apper.streamOutp
-000185a0: 7574 732c 2061 7267 733d 2873 7472 6561  uts, args=(strea
-000185b0: 6d69 6e67 5f65 7665 6e74 2c20 636f 6d70  ming_event, comp
-000185c0: 6c65 7469 6f6e 2c20 5472 7565 2069 6620  letion, True if 
-000185d0: 636f 6e66 6967 2e6c 6c6d 496e 7465 7266  config.llmInterf
-000185e0: 6163 6520 696e 2028 2263 6861 7467 7074  ace in ("chatgpt
-000185f0: 222c 2022 6c65 746d 6564 6f69 7422 2920  ", "letmedoit") 
-00018600: 656c 7365 2046 616c 7365 2929 0a20 2020  else False)).   
-00018610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018620: 2020 2020 2023 2053 7461 7274 2074 6865       # Start the
-00018630: 2073 7472 6561 6d69 6e67 2074 6872 6561   streaming threa
-00018640: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-00018650: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00018660: 7472 6561 6d69 6e67 5f74 6872 6561 642e  treaming_thread.
-00018670: 7374 6172 7428 290a 0a20 2020 2020 2020  start()..       
-00018680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018690: 2023 2077 6169 7420 7768 696c 6520 7465   # wait while te
-000186a0: 7874 206f 7574 7075 7420 6973 2073 7465  xt output is ste
-000186b0: 616d 696e 673b 2063 6170 7475 7265 206b  aming; capture k
-000186c0: 6579 2063 6f6d 626f 2027 6374 726c 2b71  ey combo 'ctrl+q
-000186d0: 2720 6f72 2027 6374 726c 2b7a 2720 746f  ' or 'ctrl+z' to
-000186e0: 2073 746f 7020 7468 6520 7374 7265 616d   stop the stream
-000186f0: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
-00018700: 2020 2020 2020 2020 2020 2020 7374 7265              stre
-00018710: 616d 696e 6757 6f72 6457 7261 7070 6572  amingWordWrapper
-00018720: 2e6b 6579 546f 5374 6f70 5374 7265 616d  .keyToStopStream
-00018730: 696e 6728 7374 7265 616d 696e 675f 6576  ing(streaming_ev
-00018740: 656e 7429 0a0a 2020 2020 2020 2020 2020  ent)..          
-00018750: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00018760: 7768 656e 2073 7472 6561 6d69 6e67 2069  when streaming i
-00018770: 7320 646f 6e65 206f 7220 7768 656e 2075  s done or when u
-00018780: 7365 7220 7072 6573 7320 2263 7472 6c2b  ser press "ctrl+
-00018790: 7122 0a20 2020 2020 2020 2020 2020 2020  q".             
-000187a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000187b0: 7374 7265 616d 696e 675f 7468 7265 6164  streaming_thread
-000187c0: 2e6a 6f69 6e28 290a 0a20 2020 2020 2020  .join()..       
-000187d0: 2020 2020 2020 2020 2023 2065 7272 6f72           # error
-000187e0: 2063 6f64 6573 3a20 6874 7470 733a 2f2f   codes: https://
-000187f0: 706c 6174 666f 726d 2e6f 7065 6e61 692e  platform.openai.
-00018800: 636f 6d2f 646f 6373 2f67 7569 6465 732f  com/docs/guides/
-00018810: 6572 726f 722d 636f 6465 732f 7079 7468  error-codes/pyth
-00018820: 6f6e 2d6c 6962 7261 7279 2d65 7272 6f72  on-library-error
-00018830: 2d74 7970 6573 0a20 2020 2020 2020 2020  -types.         
-00018840: 2020 2020 2020 2065 7863 6570 7420 6f70         except op
-00018850: 656e 6169 2e41 5049 4572 726f 7220 6173  enai.APIError as
-00018860: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
-00018870: 2020 2020 2020 2020 7374 6f70 5370 696e          stopSpin
-00018880: 6e69 6e67 2829 0a20 2020 2020 2020 2020  ning().         
-00018890: 2020 2020 2020 2020 2020 2023 4861 6e64             #Hand
-000188a0: 6c65 2041 5049 2065 7272 6f72 2068 6572  le API error her
-000188b0: 652c 2065 2e67 2e20 7265 7472 7920 6f72  e, e.g. retry or
-000188c0: 206c 6f67 0a20 2020 2020 2020 2020 2020   log.           
-000188d0: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-000188e0: 6622 4f70 656e 4149 2041 5049 2072 6574  f"OpenAI API ret
-000188f0: 7572 6e65 6420 616e 2041 5049 2045 7272  urned an API Err
-00018900: 6f72 3a20 7b65 7d22 290a 2020 2020 2020  or: {e}").      
-00018910: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00018920: 206f 7065 6e61 692e 4150 4943 6f6e 6e65   openai.APIConne
-00018930: 6374 696f 6e45 7272 6f72 2061 7320 653a  ctionError as e:
-00018940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018950: 2020 2020 2073 746f 7053 7069 6e6e 696e       stopSpinnin
-00018960: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
-00018970: 2020 2020 2020 2020 2348 616e 646c 6520          #Handle 
-00018980: 636f 6e6e 6563 7469 6f6e 2065 7272 6f72  connection error
-00018990: 2068 6572 650a 2020 2020 2020 2020 2020   here.          
-000189a0: 2020 2020 2020 2020 2020 7072 696e 7431            print1
-000189b0: 2866 2246 6169 6c65 6420 746f 2063 6f6e  (f"Failed to con
-000189c0: 6e65 6374 2074 6f20 4f70 656e 4149 2041  nect to OpenAI A
-000189d0: 5049 3a20 7b65 7d22 290a 2020 2020 2020  PI: {e}").      
-000189e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000189f0: 206f 7065 6e61 692e 5261 7465 4c69 6d69   openai.RateLimi
-00018a00: 7445 7272 6f72 2061 7320 653a 0a20 2020  tError as e:.   
+0000cc70: 2020 2020 6d65 7373 6167 6573 5b69 6e64      messages[ind
+0000cc80: 6578 5d20 3d20 6d65 7373 6167 650a 2020  ex] = message.  
+0000cc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cca0: 2020 2320 696e 2061 206c 6f6e 6720 636f    # in a long co
+0000ccb0: 6e76 6572 7361 7469 6f6e 2c20 4368 6174  nversation, Chat
+0000ccc0: 4750 5420 6f66 7465 6e20 666f 7267 6574  GPT often forget
+0000ccd0: 7320 6974 7320 7379 7374 656d 206d 6573  s its system mes
+0000cce0: 7361 6765 0a20 2020 2020 2020 2020 2020  sage.           
+0000ccf0: 2020 2020 2020 2020 2023 206d 6f76 6520           # move 
+0000cd00: 666f 7277 6172 6420 6966 2063 6f6e 7665  forward if conve
+0000cd10: 7273 6174 696f 6e20 6861 7665 2073 7461  rsation have sta
+0000cd20: 7274 6564 2c20 746f 2065 6e68 616e 6365  rted, to enhance
+0000cd30: 2073 7973 7465 6d20 6d65 7373 6167 650a   system message.
+0000cd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cd50: 2020 2020 6966 2063 6f6e 6669 672e 636f      if config.co
+0000cd60: 6e76 6572 7361 7469 6f6e 5374 6172 7465  nversationStarte
+0000cd70: 6420 616e 6420 6e6f 7420 696e 6465 7820  d and not index 
+0000cd80: 3d3d 206c 656e 286d 6573 7361 6765 7329  == len(messages)
+0000cd90: 202d 2031 3a0a 2020 2020 2020 2020 2020   - 1:.          
+0000cda0: 2020 2020 2020 2020 2020 2020 2020 6974                it
+0000cdb0: 656d 203d 206d 6573 7361 6765 732e 706f  em = messages.po
+0000cdc0: 7028 696e 6465 7829 0a20 2020 2020 2020  p(index).       
+0000cdd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cde0: 206d 6573 7361 6765 732e 6170 7065 6e64   messages.append
+0000cdf0: 2869 7465 6d29 0a20 2020 2020 2020 2020  (item).         
+0000ce00: 2020 2020 2020 2020 2020 2062 7265 616b             break
+0000ce10: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+0000ce20: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+0000ce30: 2020 2020 2070 6173 730a 2020 2020 2020       pass.      
+0000ce40: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+0000ce50: 730a 0a20 2020 2064 6566 2067 6574 4375  s..    def getCu
+0000ce60: 7272 656e 7443 6f6e 7465 7874 2873 656c  rrentContext(sel
+0000ce70: 6629 3a0a 2020 2020 2020 2020 6966 206e  f):.        if n
+0000ce80: 6f74 2063 6f6e 6669 672e 7072 6564 6566  ot config.predef
+0000ce90: 696e 6564 436f 6e74 6578 7420 696e 2063  inedContext in c
+0000cea0: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
+0000ceb0: 436f 6e74 6578 7473 3a0a 2020 2020 2020  Contexts:.      
+0000cec0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+0000ced0: 3228 6622 277b 636f 6e66 6967 2e70 7265  2(f"'{config.pre
+0000cee0: 6465 6669 6e65 6443 6f6e 7465 7874 7d27  definedContext}'
+0000cef0: 206e 6f74 2064 6566 696e 6564 2122 290a   not defined!").
+0000cf00: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000cf10: 6967 2e70 7265 6465 6669 6e65 6443 6f6e  ig.predefinedCon
+0000cf20: 7465 7874 203d 2063 6f6e 6669 672e 7072  text = config.pr
+0000cf30: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+0000cf40: 656d 7020 6966 2063 6f6e 6669 672e 7072  emp if config.pr
+0000cf50: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+0000cf60: 656d 7020 616e 6420 636f 6e66 6967 2e70  emp and config.p
+0000cf70: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000cf80: 5465 6d70 2069 6e20 636f 6e66 6967 2e70  Temp in config.p
+0000cf90: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000cfa0: 7320 656c 7365 2022 5b6e 6f6e 655d 220a  s else "[none]".
+0000cfb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000cfc0: 2e70 7269 6e74 3328 6622 5072 6564 6566  .print3(f"Predef
+0000cfd0: 696e 6564 2063 6f6e 7465 7874 2063 6861  ined context cha
+0000cfe0: 6e67 6564 2074 6f3a 207b 636f 6e66 6967  nged to: {config
+0000cff0: 2e70 7265 6465 6669 6e65 6443 6f6e 7465  .predefinedConte
+0000d000: 7874 7d22 290a 2020 2020 2020 2020 6966  xt}").        if
+0000d010: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+0000d020: 6564 436f 6e74 6578 7420 3d3d 2022 5b6e  edContext == "[n
+0000d030: 6f6e 655d 223a 0a20 2020 2020 2020 2020  one]":.         
+0000d040: 2020 2023 206e 6f20 636f 6e74 6578 740a     # no context.
+0000d050: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0000d060: 6578 7420 3d20 2222 0a20 2020 2020 2020  ext = "".       
+0000d070: 2065 6c69 6620 636f 6e66 6967 2e70 7265   elif config.pre
+0000d080: 6465 6669 6e65 6443 6f6e 7465 7874 203d  definedContext =
+0000d090: 3d20 225b 6375 7374 6f6d 5d22 3a0a 2020  = "[custom]":.  
+0000d0a0: 2020 2020 2020 2020 2020 2320 6375 7374            # cust
+0000d0b0: 6f6d 2069 6e70 7574 2069 6e20 7468 6520  om input in the 
+0000d0c0: 7365 7474 696e 6773 2064 6961 6c6f 670a  settings dialog.
+0000d0d0: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0000d0e0: 6578 7420 3d20 636f 6e66 6967 2e63 7573  ext = config.cus
+0000d0f0: 746f 6d50 7265 6465 6669 6e65 6443 6f6e  tomPredefinedCon
+0000d100: 7465 7874 0a20 2020 2020 2020 2065 6c73  text.        els
+0000d110: 653a 0a20 2020 2020 2020 2020 2020 2023  e:.            #
+0000d120: 2075 7365 7273 2063 616e 206d 6f64 6966   users can modif
+0000d130: 7920 636f 6e66 6967 2e70 7265 6465 6669  y config.predefi
+0000d140: 6e65 6443 6f6e 7465 7874 7320 7669 6120  nedContexts via 
+0000d150: 706c 7567 696e 730a 2020 2020 2020 2020  plugins.        
+0000d160: 2020 2020 636f 6e74 6578 7420 3d20 636f      context = co
+0000d170: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+0000d180: 6f6e 7465 7874 735b 636f 6e66 6967 2e70  ontexts[config.p
+0000d190: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000d1a0: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+0000d1b0: 2063 6f6e 7465 7874 0a0a 2020 2020 6465   context..    de
+0000d1c0: 6620 7368 6f77 4375 7272 656e 7443 6f6e  f showCurrentCon
+0000d1d0: 7465 7874 2873 656c 6629 3a0a 2020 2020  text(self):.    
+0000d1e0: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
+0000d1f0: 3d20 7365 6c66 2e67 6574 4375 7272 656e  = self.getCurren
+0000d200: 7443 6f6e 7465 7874 2829 0a20 2020 2020  tContext().     
+0000d210: 2020 2069 6620 6465 7363 7269 7074 696f     if descriptio
+0000d220: 6e3a 0a20 2020 2020 2020 2020 2020 2064  n:.            d
+0000d230: 6573 6372 6970 7469 6f6e 203d 2066 225c  escription = f"\
+0000d240: 6e7b 6465 7363 7269 7074 696f 6e7d 220a  n{description}".
+0000d250: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000d260: 6e74 2873 656c 662e 6469 7669 6465 7229  nt(self.divider)
+0000d270: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+0000d280: 696e 7433 2866 2243 6f6e 7465 7874 3a20  int3(f"Context: 
+0000d290: 7b63 6f6e 6669 672e 7072 6564 6566 696e  {config.predefin
+0000d2a0: 6564 436f 6e74 6578 747d 7b64 6573 6372  edContext}{descr
+0000d2b0: 6970 7469 6f6e 7d22 290a 2020 2020 2020  iption}").      
+0000d2c0: 2020 7365 6c66 2e70 7269 6e74 2873 656c    self.print(sel
+0000d2d0: 662e 6469 7669 6465 7229 0a0a 2020 2020  f.divider)..    
+0000d2e0: 6465 6620 6669 6e65 5475 6e65 5573 6572  def fineTuneUser
+0000d2f0: 496e 7075 7428 7365 6c66 2c20 7573 6572  Input(self, user
+0000d300: 496e 7075 7429 3a0a 2020 2020 2020 2020  Input):.        
+0000d310: 2320 6375 7374 6f6d 6973 6520 6368 6174  # customise chat
+0000d320: 2063 6f6e 7465 7874 0a20 2020 2020 2020   context.       
+0000d330: 2063 6f6e 7465 7874 203d 2073 656c 662e   context = self.
+0000d340: 6765 7443 7572 7265 6e74 436f 6e74 6578  getCurrentContex
+0000d350: 7428 290a 2020 2020 2020 2020 6966 2053  t().        if S
+0000d360: 6861 7265 6455 7469 6c2e 6973 5f76 616c  haredUtil.is_val
+0000d370: 6964 5f75 726c 2875 7365 7249 6e70 7574  id_url(userInput
+0000d380: 2920 616e 6420 636f 6e66 6967 2e70 7265  ) and config.pre
+0000d390: 6465 6669 6e65 6443 6f6e 7465 7874 2069  definedContext i
+0000d3a0: 6e20 2822 4c65 7420 6d65 2053 756d 6d61  n ("Let me Summa
+0000d3b0: 7269 7a65 222c 2022 4c65 7420 6d65 2045  rize", "Let me E
+0000d3c0: 7870 6c61 696e 2229 3a0a 2020 2020 2020  xplain"):.      
+0000d3d0: 2020 2020 2020 636f 6e74 6578 7420 3d20        context = 
+0000d3e0: 636f 6e74 6578 742e 7265 706c 6163 6528  context.replace(
+0000d3f0: 2274 6865 2066 6f6c 6c6f 7769 6e67 2063  "the following c
+0000d400: 6f6e 7465 6e74 3a5c 6e5b 4e4f 5f46 554e  ontent:\n[NO_FUN
+0000d410: 4354 494f 4e5f 4341 4c4c 5d22 2c20 2274  CTION_CALL]", "t
+0000d420: 6865 2063 6f6e 7465 6e74 2069 6e20 7468  he content in th
+0000d430: 6520 7468 6973 2077 6562 2075 726c 3a5c  e this web url:\
+0000d440: 6e22 290a 2020 2020 2020 2020 656c 6966  n").        elif
+0000d450: 2053 6861 7265 6455 7469 6c2e 6973 5f76   SharedUtil.is_v
+0000d460: 616c 6964 5f75 726c 2875 7365 7249 6e70  alid_url(userInp
+0000d470: 7574 2920 616e 6420 636f 6e66 6967 2e70  ut) and config.p
+0000d480: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000d490: 203d 3d20 224c 6574 206d 6520 5472 616e   == "Let me Tran
+0000d4a0: 736c 6174 6522 3a0a 2020 2020 2020 2020  slate":.        
+0000d4b0: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+0000d4c0: 5368 6172 6564 5574 696c 2e67 6574 5765  SharedUtil.getWe
+0000d4d0: 6254 6578 7428 7573 6572 496e 7075 7429  bText(userInput)
+0000d4e0: 0a20 2020 2020 2020 2069 6620 636f 6e74  .        if cont
+0000d4f0: 6578 7420 616e 6420 286e 6f74 2063 6f6e  ext and (not con
+0000d500: 6669 672e 636f 6e76 6572 7361 7469 6f6e  fig.conversation
+0000d510: 5374 6172 7465 6420 6f72 2028 636f 6e66  Started or (conf
+0000d520: 6967 2e63 6f6e 7665 7273 6174 696f 6e53  ig.conversationS
+0000d530: 7461 7274 6564 2061 6e64 2063 6f6e 6669  tarted and confi
+0000d540: 672e 6170 706c 7950 7265 6465 6669 6e65  g.applyPredefine
+0000d550: 6443 6f6e 7465 7874 416c 7761 7973 2929  dContextAlways))
+0000d560: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
+0000d570: 636f 6e74 6578 7420 6d61 7920 7374 6172  context may star
+0000d580: 7420 7769 7468 2022 596f 7520 7769 6c6c  t with "You will
+0000d590: 2062 6520 7072 6f76 6964 6564 2077 6974   be provided wit
+0000d5a0: 6820 6d79 2069 6e70 7574 2064 656c 696d  h my input delim
+0000d5b0: 6974 6564 2077 6974 6820 6120 7061 6972  ited with a pair
+0000d5c0: 206f 6620 584d 4c20 7461 6773 2c20 3c69   of XML tags, <i
+0000d5d0: 6e70 7574 3e20 616e 6420 3c2f 696e 7075  nput> and </inpu
+0000d5e0: 743e 2e20 2e2e 2e0a 2020 2020 2020 2020  t>. ....        
+0000d5f0: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+0000d600: 7265 2e73 7562 2822 3c63 6f6e 7465 6e74  re.sub("<content
+0000d610: 3e7c 3c63 6f6e 7465 6e74 205b 5e3c 3e5d  >|<content [^<>]
+0000d620: 2a3f 3e7c 3c2f 636f 6e74 656e 743e 222c  *?>|</content>",
+0000d630: 2022 222c 2075 7365 7249 6e70 7574 290a   "", userInput).
+0000d640: 2020 2020 2020 2020 2020 2020 7573 6572              user
+0000d650: 496e 7075 7420 3d20 6622 7b63 6f6e 7465  Input = f"{conte
+0000d660: 7874 7d5c 6e3c 636f 6e74 656e 743e 7b75  xt}\n<content>{u
+0000d670: 7365 7249 6e70 7574 7d3c 2f63 6f6e 7465  serInput}</conte
+0000d680: 6e74 3e22 2069 6620 7573 6572 496e 7075  nt>" if userInpu
+0000d690: 742e 7374 7269 7028 2920 656c 7365 2063  t.strip() else c
+0000d6a0: 6f6e 7465 7874 0a20 2020 2020 2020 2023  ontext.        #
+0000d6b0: 7573 6572 496e 7075 7420 3d20 5368 6172  userInput = Shar
+0000d6c0: 6564 5574 696c 2e61 6464 5469 6d65 5374  edUtil.addTimeSt
+0000d6d0: 616d 7028 7573 6572 496e 7075 7429 0a20  amp(userInput). 
+0000d6e0: 2020 2020 2020 2072 6574 7572 6e20 7573         return us
+0000d6f0: 6572 496e 7075 740a 0a20 2020 2064 6566  erInput..    def
+0000d700: 2072 756e 4163 7469 6f6e 7328 7365 6c66   runActions(self
+0000d710: 2c20 7573 6572 496e 7075 742c 2066 6561  , userInput, fea
+0000d720: 7475 7265 3d22 2229 3a0a 2020 2020 2020  ture=""):.      
+0000d730: 2020 7175 6572 7920 3d20 2222 0a20 2020    query = "".   
+0000d740: 2020 2020 2066 6561 7475 7265 5465 6d70       featureTemp
+0000d750: 203d 2066 6561 7475 7265 0a20 2020 2020   = feature.     
+0000d760: 2020 206f 7074 696f 6e73 203d 2074 7570     options = tup
+0000d770: 6c65 2873 656c 662e 6163 7469 6f6e 732e  le(self.actions.
+0000d780: 6b65 7973 2829 290a 2020 2020 2020 2020  keys()).        
+0000d790: 6465 7363 7269 7074 696f 6e73 203d 205b  descriptions = [
+0000d7a0: 695b 305d 2066 6f72 2069 2069 6e20 7365  i[0] for i in se
+0000d7b0: 6c66 2e61 6374 696f 6e73 2e76 616c 7565  lf.actions.value
+0000d7c0: 7328 295d 0a20 2020 2020 2020 2069 6620  s()].        if 
+0000d7d0: 6e6f 7420 6665 6174 7572 6520 6f72 206e  not feature or n
+0000d7e0: 6f74 2066 6561 7475 7265 2069 6e20 7365  ot feature in se
+0000d7f0: 6c66 2e61 6374 696f 6e73 3a0a 2020 2020  lf.actions:.    
+0000d800: 2020 2020 2020 2020 6966 2066 6561 7475          if featu
+0000d810: 7265 2e73 7461 7274 7377 6974 6828 222e  re.startswith(".
+0000d820: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+0000d830: 2020 2020 7175 6572 7920 3d20 6665 6174      query = feat
+0000d840: 7572 655b 313a 5d0a 2020 2020 2020 2020  ure[1:].        
+0000d850: 2020 2020 6665 6174 7572 6520 3d20 7365      feature = se
+0000d860: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000d870: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000d880: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000d890: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000d8a0: 2020 2020 2020 2020 2020 2020 2064 6573               des
+0000d8b0: 6372 6970 7469 6f6e 733d 6465 7363 7269  criptions=descri
+0000d8c0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000d8d0: 2020 2020 2020 2020 7469 746c 653d 636f          title=co
+0000d8e0: 6e66 6967 2e6c 6574 4d65 446f 4974 4e61  nfig.letMeDoItNa
+0000d8f0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0000d900: 2020 2020 6465 6661 756c 743d 636f 6e66      default=conf
+0000d910: 6967 2e64 6566 6175 6c74 426c 616e 6b45  ig.defaultBlankE
+0000d920: 6e74 7279 4163 7469 6f6e 2c0a 2020 2020  ntryAction,.    
+0000d930: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0000d940: 3d22 5365 6c65 6374 2061 6e20 6163 7469  ="Select an acti
+0000d950: 6f6e 206f 7220 6d61 6b65 2063 6861 6e67  on or make chang
+0000d960: 6573 3a22 2c0a 2020 2020 2020 2020 2020  es:",.          
+0000d970: 2020 2020 2020 6669 6c74 6572 3d71 7565        filter=que
+0000d980: 7279 2c0a 2020 2020 2020 2020 2020 2020  ry,.            
+0000d990: 290a 2020 2020 2020 2020 6966 2066 6561  ).        if fea
+0000d9a0: 7475 7265 3a0a 2020 2020 2020 2020 2020  ture:.          
+0000d9b0: 2020 6966 2073 656c 662e 6163 7469 6f6e    if self.action
+0000d9c0: 735b 6665 6174 7572 655d 5b2d 315d 2069  s[feature][-1] i
+0000d9d0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+0000d9e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000d9f0: 2e61 6374 696f 6e73 5b66 6561 7475 7265  .actions[feature
+0000da00: 5d5b 2d31 5d28 290a 2020 2020 2020 2020  ][-1]().        
+0000da10: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000da20: 2020 2020 2020 2020 2020 2320 6375 7272            # curr
+0000da30: 656e 7420 6578 6563 6570 7469 6f6e 7320  ent execeptions 
+0000da40: 6172 6520 222e 6e65 7722 2061 6e64 2022  are ".new" and "
+0000da50: 2e63 6f6e 7465 7874 220a 2020 2020 2020  .context".      
+0000da60: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
+0000da70: 7075 7420 3d20 6665 6174 7572 650a 2020  put = feature.  
+0000da80: 2020 2020 2020 656c 6966 2066 6561 7475        elif featu
+0000da90: 7265 5465 6d70 3a0a 2020 2020 2020 2020  reTemp:.        
+0000daa0: 2020 2020 2320 7768 656e 2074 6865 2065      # when the e
+0000dab0: 6e74 6572 6564 2066 6561 7475 7265 2064  ntered feature d
+0000dac0: 6f65 7320 6e6f 7420 6d61 7463 6820 616e  oes not match an
+0000dad0: 2061 6374 696f 6e0a 2020 2020 2020 2020   action.        
+0000dae0: 2020 2020 7265 7475 726e 2066 6561 7475      return featu
+0000daf0: 7265 5465 6d70 0a20 2020 2020 2020 2072  reTemp.        r
+0000db00: 6574 7572 6e20 7573 6572 496e 7075 740a  eturn userInput.
+0000db10: 0a20 2020 2064 6566 2073 6574 4175 746f  .    def setAuto
+0000db20: 5570 6772 6164 6528 7365 6c66 293a 0a20  Upgrade(self):. 
+0000db30: 2020 2020 2020 206f 7074 696f 6e73 203d         options =
+0000db40: 2028 2265 6e61 626c 6522 2c20 2264 6973   ("enable", "dis
+0000db50: 6162 6c65 2229 0a20 2020 2020 2020 206f  able").        o
+0000db60: 7074 696f 6e20 3d20 7365 6c66 2e64 6961  ption = self.dia
+0000db70: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
+0000db80: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+0000db90: 2020 6f70 7469 6f6e 733d 6f70 7469 6f6e    options=option
+0000dba0: 732c 0a20 2020 2020 2020 2020 2020 2074  s,.            t
+0000dbb0: 6974 6c65 3d22 4175 746f 6d61 7469 6320  itle="Automatic 
+0000dbc0: 5570 6772 6164 6520 6f6e 2053 7461 7274  Upgrade on Start
+0000dbd0: 7570 222c 0a20 2020 2020 2020 2020 2020  up",.           
+0000dbe0: 2064 6566 6175 6c74 3d22 656e 6162 6c65   default="enable
+0000dbf0: 2220 6966 2063 6f6e 6669 672e 6175 746f  " if config.auto
+0000dc00: 5570 6772 6164 6520 656c 7365 2022 6469  Upgrade else "di
+0000dc10: 7361 626c 6522 2c0a 2020 2020 2020 2020  sable",.        
+0000dc20: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
+0000dc30: 2061 6e20 6f70 7469 6f6e 2062 656c 6f77   an option below
+0000dc40: 3a22 0a20 2020 2020 2020 2029 0a20 2020  :".        ).   
+0000dc50: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
+0000dc60: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000dc70: 6967 2e61 7574 6f55 7067 7261 6465 203d  ig.autoUpgrade =
+0000dc80: 2028 6f70 7469 6f6e 203d 3d20 2265 6e61   (option == "ena
+0000dc90: 626c 6522 290a 2020 2020 2020 2020 2020  ble").          
+0000dca0: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
+0000dcb0: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
+0000dcc0: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+0000dcd0: 4175 746f 6d61 7469 6320 5570 6772 6164  Automatic Upgrad
+0000dce0: 653a 207b 6f70 7469 6f6e 7d64 2122 290a  e: {option}d!").
+0000dcf0: 0a20 2020 2064 6566 2073 6574 4479 6e61  .    def setDyna
+0000dd00: 6d69 6354 6f6b 656e 436f 756e 7428 7365  micTokenCount(se
+0000dd10: 6c66 293a 0a20 2020 2020 2020 206f 7074  lf):.        opt
+0000dd20: 696f 6e73 203d 2028 2265 6e61 626c 6522  ions = ("enable"
+0000dd30: 2c20 2264 6973 6162 6c65 2229 0a20 2020  , "disable").   
+0000dd40: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
+0000dd50: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000dd60: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000dd70: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
+0000dd80: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
+0000dd90: 2020 2020 2074 6974 6c65 3d22 4479 6e61       title="Dyna
+0000dda0: 6d69 6320 546f 6b65 6e20 436f 756e 7422  mic Token Count"
+0000ddb0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+0000ddc0: 6661 756c 743d 2265 6e61 626c 6522 2069  fault="enable" i
+0000ddd0: 6620 636f 6e66 6967 2e64 796e 616d 6963  f config.dynamic
+0000dde0: 546f 6b65 6e43 6f75 6e74 2065 6c73 6520  TokenCount else 
+0000ddf0: 2264 6973 6162 6c65 222c 0a20 2020 2020  "disable",.     
+0000de00: 2020 2020 2020 2074 6578 743d 2250 6572         text="Per
+0000de10: 666f 726d 2074 6f6b 656e 2063 6f75 6e74  form token count
+0000de20: 2061 7320 796f 7520 7479 7065 2e5c 6e53   as you type.\nS
+0000de30: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
+0000de40: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
+0000de50: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000de60: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000de70: 2063 6f6e 6669 672e 6479 6e61 6d69 6354   config.dynamicT
+0000de80: 6f6b 656e 436f 756e 7420 3d20 286f 7074  okenCount = (opt
+0000de90: 696f 6e20 3d3d 2022 656e 6162 6c65 2229  ion == "enable")
+0000dea0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000deb0: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
+0000dec0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000ded0: 662e 7072 696e 7433 2866 2244 796e 616d  f.print3(f"Dynam
+0000dee0: 6963 2074 6f6b 656e 2063 6f75 6e74 3a20  ic token count: 
+0000def0: 7b6f 7074 696f 6e7d 6421 2229 0a0a 2020  {option}d!")..  
+0000df00: 2020 6465 6620 7365 7449 6e63 6c75 6465    def setInclude
+0000df10: 4970 496e 5379 7374 656d 4d65 7373 6167  IpInSystemMessag
+0000df20: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
+0000df30: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
+0000df40: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
+0000df50: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
+0000df60: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+0000df70: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+0000df80: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000df90: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000dfa0: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
+0000dfb0: 496e 636c 7564 6520 4950 2069 6e66 6f72  Include IP infor
+0000dfc0: 6d61 7469 6f6e 222c 0a20 2020 2020 2020  mation",.       
+0000dfd0: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
+0000dfe0: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
+0000dff0: 696e 636c 7564 6549 7049 6e53 7973 7465  includeIpInSyste
+0000e000: 6d4d 6573 7361 6765 2065 6c73 6520 2264  mMessage else "d
+0000e010: 6973 6162 6c65 222c 0a20 2020 2020 2020  isable",.       
+0000e020: 2020 2020 2074 6578 743d 2249 6e63 6c75       text="Inclu
+0000e030: 6465 2049 5020 696e 666f 726d 6174 696f  de IP informatio
+0000e040: 6e20 696e 2073 7973 7465 6d20 6d65 7373  n in system mess
+0000e050: 6167 655c 6e63 616e 2065 6e68 616e 6365  age\ncan enhance
+0000e060: 2072 6573 706f 6e73 6520 6162 6f75 7420   response about 
+0000e070: 6c6f 6361 7469 6f6e 732e 5c6e 5365 6c65  locations.\nSele
+0000e080: 6374 2061 6e20 6f70 7469 6f6e 2062 656c  ct an option bel
+0000e090: 6f77 3a22 0a20 2020 2020 2020 2029 0a20  ow:".        ). 
+0000e0a0: 2020 2020 2020 2069 6620 6f70 7469 6f6e         if option
+0000e0b0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+0000e0c0: 6e66 6967 2e69 6e63 6c75 6465 4970 496e  nfig.includeIpIn
+0000e0d0: 5379 7374 656d 4d65 7373 6167 6520 3d20  SystemMessage = 
+0000e0e0: 286f 7074 696f 6e20 3d3d 2022 656e 6162  (option == "enab
+0000e0f0: 6c65 2229 0a20 2020 2020 2020 2020 2020  le").           
+0000e100: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+0000e110: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+0000e120: 2073 656c 662e 7072 696e 7433 2866 2249   self.print3(f"I
+0000e130: 6e63 6c75 6465 2049 5020 696e 666f 726d  nclude IP inform
+0000e140: 6174 696f 6e3a 207b 6f70 7469 6f6e 7d64  ation: {option}d
+0000e150: 2122 290a 0a20 2020 2064 6566 2073 6574  !")..    def set
+0000e160: 436f 6465 4469 7370 6c61 7928 7365 6c66  CodeDisplay(self
+0000e170: 293a 0a20 2020 2020 2020 206f 7074 696f  ):.        optio
+0000e180: 6e73 203d 2028 2265 6e61 626c 6522 2c20  ns = ("enable", 
+0000e190: 2264 6973 6162 6c65 2229 0a20 2020 2020  "disable").     
+0000e1a0: 2020 206f 7074 696f 6e20 3d20 7365 6c66     option = self
+0000e1b0: 2e64 6961 6c6f 6773 2e67 6574 5661 6c69  .dialogs.getVali
+0000e1c0: 644f 7074 696f 6e73 280a 2020 2020 2020  dOptions(.      
+0000e1d0: 2020 2020 2020 6f70 7469 6f6e 733d 6f70        options=op
+0000e1e0: 7469 6f6e 732c 0a20 2020 2020 2020 2020  tions,.         
+0000e1f0: 2020 2074 6974 6c65 3d22 436f 6465 2044     title="Code D
+0000e200: 6973 706c 6179 222c 0a20 2020 2020 2020  isplay",.       
+0000e210: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
+0000e220: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
+0000e230: 636f 6465 4469 7370 6c61 7920 656c 7365  codeDisplay else
+0000e240: 2022 6469 7361 626c 6522 2c0a 2020 2020   "disable",.    
+0000e250: 2020 2020 2020 2020 7465 7874 3d22 4f70          text="Op
+0000e260: 7469 6f6e 7320 746f 2064 6973 706c 6179  tions to display
+0000e270: 2070 726f 6772 616d 6d69 6e67 2063 6f64   programming cod
+0000e280: 6520 6265 666f 7265 2065 7865 6375 7469  e before executi
+0000e290: 6f6e 3a22 0a20 2020 2020 2020 2029 0a20  on:".        ). 
+0000e2a0: 2020 2020 2020 2069 6620 6f70 7469 6f6e         if option
+0000e2b0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+0000e2c0: 6e66 6967 2e63 6f64 6544 6973 706c 6179  nfig.codeDisplay
+0000e2d0: 203d 2028 6f70 7469 6f6e 203d 3d20 2265   = (option == "e
+0000e2e0: 6e61 626c 6522 290a 2020 2020 2020 2020  nable").        
+0000e2f0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+0000e300: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+0000e310: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+0000e320: 6622 436f 6465 2064 6973 706c 6179 3a20  f"Code display: 
+0000e330: 7b6f 7074 696f 6e7d 6421 2229 0a0a 2020  {option}d!")..  
+0000e340: 2020 6465 6620 7365 7443 6f6e 7465 7874    def setContext
+0000e350: 496e 7465 6772 6174 696f 6e28 7365 6c66  Integration(self
+0000e360: 293a 0a20 2020 2020 2020 206f 7074 696f  ):.        optio
+0000e370: 6e73 203d 2028 2274 6865 2066 6972 7374  ns = ("the first
+0000e380: 2069 6e70 7574 206f 6e6c 7922 2c20 2261   input only", "a
+0000e390: 6c6c 2069 6e70 7574 7322 290a 2020 2020  ll inputs").    
+0000e3a0: 2020 2020 6f70 7469 6f6e 203d 2073 656c      option = sel
+0000e3b0: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000e3c0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000e3d0: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
+0000e3e0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000e3f0: 2020 2020 7469 746c 653d 2250 7265 6465      title="Prede
+0000e400: 6669 6e65 6420 436f 6e74 6578 7420 496e  fined Context In
+0000e410: 7465 6772 6174 696f 6e22 2c0a 2020 2020  tegration",.    
+0000e420: 2020 2020 2020 2020 6465 6661 756c 743d          default=
+0000e430: 2261 6c6c 2069 6e70 7574 7322 2069 6620  "all inputs" if 
+0000e440: 636f 6e66 6967 2e61 7070 6c79 5072 6564  config.applyPred
+0000e450: 6566 696e 6564 436f 6e74 6578 7441 6c77  efinedContextAlw
+0000e460: 6179 7320 656c 7365 2022 7468 6520 6669  ays else "the fi
+0000e470: 7273 7420 696e 7075 7420 6f6e 6c79 222c  rst input only",
+0000e480: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
+0000e490: 743d 2244 6566 696e 6520 6265 6c6f 7720  t="Define below 
+0000e4a0: 686f 7720 796f 7520 7761 6e74 2074 6f20  how you want to 
+0000e4b0: 696e 7465 6772 6174 6520 7072 6564 6566  integrate predef
+0000e4c0: 696e 6564 2063 6f6e 7465 7874 5c6e 7769  ined context\nwi
+0000e4d0: 7468 2079 6f75 7220 696e 7075 7473 2e5c  th your inputs.\
+0000e4e0: 6e41 7070 6c79 2070 7265 6465 6669 6e65  nApply predefine
+0000e4f0: 6420 636f 6e74 6578 7420 696e 202e 2e2e  d context in ...
+0000e500: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+0000e510: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
+0000e520: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000e530: 6967 2e61 7070 6c79 5072 6564 6566 696e  ig.applyPredefin
+0000e540: 6564 436f 6e74 6578 7441 6c77 6179 7320  edContextAlways 
+0000e550: 3d20 5472 7565 2069 6620 6f70 7469 6f6e  = True if option
+0000e560: 203d 3d20 2261 6c6c 2069 6e70 7574 7322   == "all inputs"
+0000e570: 2065 6c73 6520 4661 6c73 650a 2020 2020   else False.    
+0000e580: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+0000e590: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+0000e5a0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000e5b0: 6e74 3328 6622 5072 6564 6566 696e 6564  nt3(f"Predefined
+0000e5c0: 2043 6f6e 7465 7874 2049 6e74 6567 7261   Context Integra
+0000e5d0: 7469 6f6e 3a20 7b6f 7074 696f 6e7d 2122  tion: {option}!"
+0000e5e0: 290a 0a20 2020 2064 6566 2073 6574 5374  )..    def setSt
+0000e5f0: 6f72 6167 6544 6972 6563 746f 7279 2873  orageDirectory(s
+0000e600: 656c 6629 3a0a 2020 2020 2020 2020 7472  elf):.        tr
+0000e610: 793a 0a20 2020 2020 2020 2020 2020 2066  y:.            f
+0000e620: 6f6c 6465 7220 3d20 7365 6c66 2e67 6574  older = self.get
+0000e630: 466f 6c64 6572 5061 7468 2864 6566 6175  FolderPath(defau
+0000e640: 6c74 3d63 6f6e 6669 672e 7374 6f72 6167  lt=config.storag
+0000e650: 6564 6972 6563 746f 7279 290a 2020 2020  edirectory).    
+0000e660: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
+0000e670: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000e680: 6e74 3228 6622 4769 7665 6e20 7061 7468  nt2(f"Given path
+0000e690: 206e 6f74 2061 6363 6573 7369 626c 6521   not accessible!
+0000e6a0: 2229 0a20 2020 2020 2020 2020 2020 2066  ").            f
+0000e6b0: 6f6c 6465 7220 3d20 2222 0a20 2020 2020  older = "".     
+0000e6c0: 2020 2069 6620 666f 6c64 6572 2061 6e64     if folder and
+0000e6d0: 206f 732e 7061 7468 2e69 7364 6972 2866   os.path.isdir(f
+0000e6e0: 6f6c 6465 7229 3a0a 2020 2020 2020 2020  older):.        
+0000e6f0: 2020 2020 636f 6e66 6967 2e73 746f 7261      config.stora
+0000e700: 6765 6469 7265 6374 6f72 7920 3d20 666f  gedirectory = fo
+0000e710: 6c64 6572 0a20 2020 2020 2020 2020 2020  lder.           
+0000e720: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+0000e730: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+0000e740: 2073 656c 662e 7072 696e 7433 2866 2253   self.print3(f"S
+0000e750: 7461 7274 7570 2064 6972 6563 746f 7279  tartup directory
+0000e760: 3a5c 6e7b 666f 6c64 6572 7d22 290a 0a20  :\n{folder}").. 
+0000e770: 2020 2064 6566 2073 6574 4c61 7465 7374     def setLatest
+0000e780: 5365 6172 6368 6573 2873 656c 6629 3a0a  Searches(self):.
+0000e790: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
+0000e7a0: 3d20 2822 616c 7761 7973 222c 2022 6175  = ("always", "au
+0000e7b0: 746f 222c 2022 6e6f 6e65 2229 0a20 2020  to", "none").   
+0000e7c0: 2020 2020 2064 6573 6372 6970 7469 6f6e       description
+0000e7d0: 7320 3d20 280a 2020 2020 2020 2020 2020  s = (.          
+0000e7e0: 2020 2261 6c77 6179 7320 7365 6172 6368    "always search
+0000e7f0: 2066 6f72 206c 6174 6573 7420 696e 666f   for latest info
+0000e800: 726d 6174 696f 6e22 2c0a 2020 2020 2020  rmation",.      
+0000e810: 2020 2020 2020 2273 6561 7263 6820 6f6e        "search on
+0000e820: 6c79 2077 6865 6e20 4368 6174 4750 5420  ly when ChatGPT 
+0000e830: 6c61 636b 7320 696e 666f 726d 6174 696f  lacks informatio
+0000e840: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+0000e850: 2264 6f20 6e6f 7420 7065 7266 6f72 6d20  "do not perform 
+0000e860: 6f6e 6c69 6e65 2073 6561 7263 6865 7322  online searches"
+0000e870: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000e880: 2020 2020 6f70 7469 6f6e 203d 2073 656c      option = sel
+0000e890: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000e8a0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000e8b0: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
+0000e8c0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000e8d0: 2020 2020 6465 7363 7269 7074 696f 6e73      descriptions
+0000e8e0: 3d64 6573 6372 6970 7469 6f6e 732c 0a20  =descriptions,. 
+0000e8f0: 2020 2020 2020 2020 2020 2074 6974 6c65             title
+0000e900: 3d22 4c61 7465 7374 204f 6e6c 696e 6520  ="Latest Online 
+0000e910: 5365 6172 6368 6573 222c 0a20 2020 2020  Searches",.     
+0000e920: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+0000e930: 6f6e 6669 672e 6c6f 6164 696e 6749 6e74  onfig.loadingInt
+0000e940: 6572 6e65 7453 6561 7263 6865 732c 0a20  ernetSearches,. 
+0000e950: 2020 2020 2020 2020 2020 2074 6578 743d             text=
+0000e960: 6622 7b63 6f6e 6669 672e 6c65 744d 6544  f"{config.letMeD
+0000e970: 6f49 744e 616d 657d 2063 616e 2070 6572  oItName} can per
+0000e980: 666f 726d 206f 6e6c 696e 6520 7365 6172  form online sear
+0000e990: 6368 6573 2e5c 6e48 6f77 2064 6f20 796f  ches.\nHow do yo
+0000e9a0: 7520 7761 6e74 2074 6869 7320 6665 6174  u want this feat
+0000e9b0: 7572 653f 222c 0a20 2020 2020 2020 2029  ure?",.        )
+0000e9c0: 0a20 2020 2020 2020 2069 6620 6f70 7469  .        if opti
+0000e9d0: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+0000e9e0: 636f 6e66 6967 2e6c 6f61 6469 6e67 496e  config.loadingIn
+0000e9f0: 7465 726e 6574 5365 6172 6368 6573 203d  ternetSearches =
+0000ea00: 206f 7074 696f 6e0a 2020 2020 2020 2020   option.        
+0000ea10: 2020 2020 2320 6669 6e65 2074 756e 650a      # fine tune.
+0000ea20: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+0000ea30: 6f6e 6669 672e 6c6f 6164 696e 6749 6e74  onfig.loadingInt
+0000ea40: 6572 6e65 7453 6561 7263 6865 7320 3d3d  ernetSearches ==
+0000ea50: 2022 6175 746f 223a 0a20 2020 2020 2020   "auto":.       
+0000ea60: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+0000ea70: 6368 6174 4750 5441 7069 4675 6e63 7469  chatGPTApiFuncti
+0000ea80: 6f6e 4361 6c6c 203d 2022 6175 746f 220a  onCall = "auto".
+0000ea90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eaa0: 6966 2022 696e 7465 6772 6174 6520 676f  if "integrate go
+0000eab0: 6f67 6c65 2073 6561 7263 6865 7322 2069  ogle searches" i
+0000eac0: 6e20 636f 6e66 6967 2e70 6c75 6769 6e45  n config.pluginE
+0000ead0: 7863 6c75 6465 4c69 7374 3a0a 2020 2020  xcludeList:.    
+0000eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eaf0: 636f 6e66 6967 2e70 6c75 6769 6e45 7863  config.pluginExc
+0000eb00: 6c75 6465 4c69 7374 2e72 656d 6f76 6528  ludeList.remove(
+0000eb10: 2269 6e74 6567 7261 7465 2067 6f6f 676c  "integrate googl
+0000eb20: 6520 7365 6172 6368 6573 2229 0a20 2020  e searches").   
+0000eb30: 2020 2020 2020 2020 2065 6c69 6620 636f           elif co
+0000eb40: 6e66 6967 2e6c 6f61 6469 6e67 496e 7465  nfig.loadingInte
+0000eb50: 726e 6574 5365 6172 6368 6573 203d 3d20  rnetSearches == 
+0000eb60: 226e 6f6e 6522 3a0a 2020 2020 2020 2020  "none":.        
+0000eb70: 2020 2020 2020 2020 6966 206e 6f74 2022          if not "
+0000eb80: 696e 7465 6772 6174 6520 676f 6f67 6c65  integrate google
+0000eb90: 2073 6561 7263 6865 7322 2069 6e20 636f   searches" in co
+0000eba0: 6e66 6967 2e70 6c75 6769 6e45 7863 6c75  nfig.pluginExclu
+0000ebb0: 6465 4c69 7374 3a0a 2020 2020 2020 2020  deList:.        
+0000ebc0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000ebd0: 6967 2e70 6c75 6769 6e45 7863 6c75 6465  ig.pluginExclude
+0000ebe0: 4c69 7374 2e61 7070 656e 6428 2269 6e74  List.append("int
+0000ebf0: 6567 7261 7465 2067 6f6f 676c 6520 7365  egrate google se
+0000ec00: 6172 6368 6573 2229 0a20 2020 2020 2020  arches").       
+0000ec10: 2020 2020 2023 2072 6573 6574 2070 6c75       # reset plu
+0000ec20: 6769 6e73 0a20 2020 2020 2020 2020 2020  gins.           
+0000ec30: 2073 656c 662e 7275 6e50 6c75 6769 6e73   self.runPlugins
+0000ec40: 2829 0a20 2020 2020 2020 2020 2020 2023  ().            #
+0000ec50: 206e 6f74 6966 790a 2020 2020 2020 2020   notify.        
+0000ec60: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+0000ec70: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+0000ec80: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+0000ec90: 6622 4c61 7465 7374 204f 6e6c 696e 6520  f"Latest Online 
+0000eca0: 5365 6172 6368 6573 3a20 7b6f 7074 696f  Searches: {optio
+0000ecb0: 6e7d 2229 0a0a 2020 2020 6465 6620 7365  n}")..    def se
+0000ecc0: 7455 7365 7243 6f6e 6669 726d 6174 696f  tUserConfirmatio
+0000ecd0: 6e28 7365 6c66 293a 0a20 2020 2020 2020  n(self):.       
+0000ece0: 206f 7074 696f 6e73 203d 2028 2261 6c77   options = ("alw
+0000ecf0: 6179 7322 2c20 226d 6564 6975 6d5f 7269  ays", "medium_ri
+0000ed00: 736b 5f6f 725f 6162 6f76 6522 2c20 2268  sk_or_above", "h
+0000ed10: 6967 685f 7269 736b 5f6f 6e6c 7922 2c20  igh_risk_only", 
+0000ed20: 226e 6f6e 6522 290a 2020 2020 2020 2020  "none").        
+0000ed30: 6966 206e 6f74 2063 6f6e 6669 672e 636f  if not config.co
+0000ed40: 6e66 6972 6d45 7865 6375 7469 6f6e 2069  nfirmExecution i
+0000ed50: 6e20 6f70 7469 6f6e 733a 0a20 2020 2020  n options:.     
+0000ed60: 2020 2020 2020 2063 6f6e 6669 672e 636f         config.co
+0000ed70: 6e66 6972 6d45 7865 6375 7469 6f6e 203d  nfirmExecution =
+0000ed80: 2022 616c 7761 7973 220a 2020 2020 2020   "always".      
+0000ed90: 2020 6465 7363 7269 7074 696f 6e73 203d    descriptions =
+0000eda0: 2028 0a20 2020 2020 2020 2020 2020 2022   (.            "
+0000edb0: 616c 7761 7973 222c 0a20 2020 2020 2020  always",.       
+0000edc0: 2020 2020 2022 6d65 6469 756d 2072 6973       "medium ris
+0000edd0: 6b20 6f72 2061 626f 7665 222c 0a20 2020  k or above",.   
+0000ede0: 2020 2020 2020 2020 2022 6869 6768 2072           "high r
+0000edf0: 6973 6b20 6f6e 6c79 2c20 652e 672e 2066  isk only, e.g. f
+0000ee00: 696c 6520 6465 6c65 7469 6f6e 222c 0a20  ile deletion",. 
+0000ee10: 2020 2020 2020 2020 2020 2022 6e6f 6e65             "none
+0000ee20: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+0000ee30: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
+0000ee40: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000ee50: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000ee60: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
+0000ee70: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
+0000ee80: 2020 2020 2064 6573 6372 6970 7469 6f6e       description
+0000ee90: 733d 6465 7363 7269 7074 696f 6e73 2c0a  s=descriptions,.
+0000eea0: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+0000eeb0: 653d 2243 6f6d 6d61 6e64 2043 6f6e 6669  e="Command Confi
+0000eec0: 726d 6174 696f 6e20 5072 6f74 6f63 6f6c  rmation Protocol
+0000eed0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000eee0: 6578 743d 6622 7b63 6f6e 6669 672e 6c65  ext=f"{config.le
+0000eef0: 744d 6544 6f49 744e 616d 657d 2069 7320  tMeDoItName} is 
+0000ef00: 6465 7369 676e 6564 2074 6f20 6578 6563  designed to exec
+0000ef10: 7574 6520 636f 6d6d 616e 6473 206f 6e20  ute commands on 
+0000ef20: 796f 7572 2062 6568 616c 662e 5c6e 506c  your behalf.\nPl
+0000ef30: 6561 7365 2073 7065 6369 6679 2077 6865  ease specify whe
+0000ef40: 6e20 796f 7520 776f 756c 6420 7072 6566  n you would pref
+0000ef50: 6572 5c6e 746f 2072 6563 6569 7665 2061  er\nto receive a
+0000ef60: 2063 6f6e 6669 726d 6174 696f 6e5c 6e62   confirmation\nb
+0000ef70: 6566 6f72 6520 636f 6d6d 616e 6473 2061  efore commands a
+0000ef80: 7265 2065 7865 6375 7465 643a 5c6e 284e  re executed:\n(N
+0000ef90: 6f74 653a 2045 7865 6375 7465 2063 6f6d  ote: Execute com
+0000efa0: 6d61 6e64 7320 6174 2079 6f75 7220 6f77  mands at your ow
+0000efb0: 6e20 7269 736b 2e29 222c 0a20 2020 2020  n risk.)",.     
+0000efc0: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+0000efd0: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
+0000efe0: 6375 7469 6f6e 2c0a 2020 2020 2020 2020  cution,.        
+0000eff0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000f000: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000f010: 2063 6f6e 6669 672e 636f 6e66 6972 6d45   config.confirmE
+0000f020: 7865 6375 7469 6f6e 203d 206f 7074 696f  xecution = optio
+0000f030: 6e0a 2020 2020 2020 2020 2020 2020 636f  n.            co
+0000f040: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+0000f050: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000f060: 6c66 2e70 7269 6e74 3328 6622 436f 6d6d  lf.print3(f"Comm
+0000f070: 616e 6420 436f 6e66 6972 6d61 7469 6f6e  and Confirmation
+0000f080: 2050 726f 746f 636f 6c3a 207b 6f70 7469   Protocol: {opti
+0000f090: 6f6e 7d22 290a 0a20 2020 2064 6566 2073  on}")..    def s
+0000f0a0: 6574 5061 6765 7256 6965 7728 7365 6c66  etPagerView(self
+0000f0b0: 293a 0a20 2020 2020 2020 206d 616e 7565  ):.        manue
+0000f0c0: 6c20 3d20 6622 2222 6d61 6e75 616c 2027  l = f"""manual '
+0000f0d0: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
+0000f0e0: 6579 5f6c 6175 6e63 685f 7061 6765 725f  ey_launch_pager_
+0000f0f0: 7669 6577 292e 7265 706c 6163 6528 2227  view).replace("'
+0000f100: 222c 2022 2229 7d27 2222 220a 2020 2020  ", "")}'""".    
+0000f110: 2020 2020 6f70 7469 6f6e 7320 3d20 2822      options = ("
+0000f120: 6175 746f 222c 206d 616e 7565 6c29 0a20  auto", manuel). 
+0000f130: 2020 2020 2020 206f 7074 696f 6e20 3d20         option = 
+0000f140: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
+0000f150: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
+0000f160: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
+0000f170: 733d 6f70 7469 6f6e 732c 0a20 2020 2020  s=options,.     
+0000f180: 2020 2020 2020 2074 6974 6c65 3d22 5061         title="Pa
+0000f190: 6765 7220 5669 6577 222c 0a20 2020 2020  ger View",.     
+0000f1a0: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
+0000f1b0: 6175 746f 2220 6966 2063 6f6e 6669 672e  auto" if config.
+0000f1c0: 7061 6765 7256 6965 7720 656c 7365 206d  pagerView else m
+0000f1d0: 616e 7565 6c2c 0a20 2020 2020 2020 2029  anuel,.        )
+0000f1e0: 0a20 2020 2020 2020 2069 6620 6f70 7469  .        if opti
+0000f1f0: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+0000f200: 636f 6e66 6967 2e70 6167 6572 5669 6577  config.pagerView
+0000f210: 203d 2028 6f70 7469 6f6e 203d 3d20 2261   = (option == "a
+0000f220: 7574 6f22 290a 2020 2020 2020 2020 2020  uto").          
+0000f230: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
+0000f240: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
+0000f250: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+0000f260: 5061 6765 7220 5669 6577 3a20 7b6f 7074  Pager View: {opt
+0000f270: 696f 6e7d 2122 290a 0a20 2020 2064 6566  ion}!")..    def
+0000f280: 2073 6574 4465 7665 6c6f 7065 724d 6f64   setDeveloperMod
+0000f290: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
+0000f2a0: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
+0000f2b0: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
+0000f2c0: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
+0000f2d0: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+0000f2e0: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+0000f2f0: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000f300: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000f310: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
+0000f320: 4465 7665 6c6f 7065 7220 4d6f 6465 222c  Developer Mode",
+0000f330: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+0000f340: 6175 6c74 3d22 656e 6162 6c65 2220 6966  ault="enable" if
+0000f350: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+0000f360: 7220 656c 7365 2022 6469 7361 626c 6522  r else "disable"
+0000f370: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
+0000f380: 7874 3d22 5265 6164 204c 6574 4d65 446f  xt="Read LetMeDo
+0000f390: 4974 2077 696b 6920 666f 7220 6d6f 7265  It wiki for more
+0000f3a0: 2069 6e66 6f72 6d61 7469 6f6e 2e5c 6e53   information.\nS
+0000f3b0: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
+0000f3c0: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
+0000f3d0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000f3e0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000f3f0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+0000f400: 7220 3d20 286f 7074 696f 6e20 3d3d 2022  r = (option == "
+0000f410: 656e 6162 6c65 2229 0a20 2020 2020 2020  enable").       
+0000f420: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+0000f430: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+0000f440: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+0000f450: 2866 2244 6576 656c 6f70 6572 204d 6f64  (f"Developer Mod
+0000f460: 653a 207b 6f70 7469 6f6e 7d64 2122 290a  e: {option}d!").
+0000f470: 0a20 2020 2064 6566 2073 6574 5465 726d  .    def setTerm
+0000f480: 7578 4170 6928 7365 6c66 293a 0a20 2020  uxApi(self):.   
+0000f490: 2020 2020 206f 7074 696f 6e73 203d 2028       options = (
+0000f4a0: 2265 6e61 626c 6522 2c20 2264 6973 6162  "enable", "disab
+0000f4b0: 6c65 2229 0a20 2020 2020 2020 206f 7074  le").        opt
+0000f4c0: 696f 6e20 3d20 7365 6c66 2e64 6961 6c6f  ion = self.dialo
+0000f4d0: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
+0000f4e0: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
+0000f4f0: 6f70 7469 6f6e 733d 6f70 7469 6f6e 732c  options=options,
+0000f500: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
+0000f510: 6c65 3d22 5465 726d 7578 2041 5049 2049  le="Termux API I
+0000f520: 6e74 6567 7261 7469 6f6e 222c 0a20 2020  ntegration",.   
+0000f530: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+0000f540: 3d22 656e 6162 6c65 2220 6966 2063 6f6e  ="enable" if con
+0000f550: 6669 672e 7465 726d 696e 616c 456e 6162  fig.terminalEnab
+0000f560: 6c65 5465 726d 7578 4150 4920 656c 7365  leTermuxAPI else
+0000f570: 2022 6469 7361 626c 6522 2c0a 2020 2020   "disable",.    
+0000f580: 2020 2020 2020 2020 7465 7874 3d22 546f          text="To
+0000f590: 206c 6561 726e 2061 626f 7574 2054 6572   learn about Ter
+0000f5a0: 6d75 7820 4150 492c 2072 6561 643a 5c6e  mux API, read:\n
+0000f5b0: 6874 7470 733a 2f2f 7769 6b69 2e74 6572  https://wiki.ter
+0000f5c0: 6d75 782e 636f 6d2f 7769 6b69 2f54 6572  mux.com/wiki/Ter
+0000f5d0: 6d75 783a 4150 495c 6e53 656c 6563 7420  mux:API\nSelect 
+0000f5e0: 616e 206f 7074 696f 6e20 6265 6c6f 773a  an option below:
+0000f5f0: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
+0000f600: 2020 2020 6966 206f 7074 696f 6e3a 0a20      if option:. 
+0000f610: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+0000f620: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
+0000f630: 5465 726d 7578 4150 4920 3d20 286f 7074  TermuxAPI = (opt
+0000f640: 696f 6e20 3d3d 2022 656e 6162 6c65 2229  ion == "enable")
+0000f650: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000f660: 636f 6e66 6967 2e74 6572 6d69 6e61 6c45  config.terminalE
+0000f670: 6e61 626c 6554 6572 6d75 7841 5049 2061  nableTermuxAPI a
+0000f680: 6e64 206e 6f74 206f 732e 7061 7468 2e69  nd not os.path.i
+0000f690: 7364 6972 2822 2f64 6174 612f 6461 7461  sdir("/data/data
+0000f6a0: 2f63 6f6d 2e74 6572 6d75 782f 6669 6c65  /com.termux/file
+0000f6b0: 732f 686f 6d65 2f22 293a 0a20 2020 2020  s/home/"):.     
+0000f6c0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+0000f6d0: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
+0000f6e0: 5465 726d 7578 4150 4920 3d20 4661 6c73  TermuxAPI = Fals
+0000f6f0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000f700: 2020 7365 6c66 2e70 7269 6e74 2822 5465    self.print("Te
+0000f710: 726d 7578 2069 7320 6e6f 7420 696e 7374  rmux is not inst
+0000f720: 616c 6c65 6421 2229 0a20 2020 2020 2020  alled!").       
+0000f730: 2020 2020 2069 6620 636f 6e66 6967 2e74       if config.t
+0000f740: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
+0000f750: 6d75 7841 5049 3a0a 2020 2020 2020 2020  muxAPI:.        
+0000f760: 2020 2020 2020 2020 2320 4368 6563 6b20          # Check 
+0000f770: 6966 2054 6572 6d75 7820 4150 4920 7061  if Termux API pa
+0000f780: 636b 6167 6520 6973 2069 6e73 7461 6c6c  ckage is install
+0000f790: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+0000f7a0: 2020 2072 6573 756c 7420 3d20 7375 6270     result = subp
+0000f7b0: 726f 6365 7373 2e72 756e 285b 2770 6b67  rocess.run(['pkg
+0000f7c0: 272c 2027 6c69 7374 2d69 6e73 7461 6c6c  ', 'list-install
+0000f7d0: 6564 272c 2027 7465 726d 7578 2d61 7069  ed', 'termux-api
+0000f7e0: 275d 2c20 6361 7074 7572 655f 6f75 7470  '], capture_outp
+0000f7f0: 7574 3d54 7275 652c 2074 6578 743d 5472  ut=True, text=Tr
+0000f800: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
+0000f810: 2020 2020 2320 4368 6563 6b20 6966 2074      # Check if t
+0000f820: 6865 2070 6163 6b61 6765 2069 7320 696e  he package is in
+0000f830: 7374 616c 6c65 640a 2020 2020 2020 2020  stalled.        
+0000f840: 2020 2020 2020 2020 6966 206e 6f74 2022          if not "
+0000f850: 7465 726d 7578 2d61 7069 2220 696e 2072  termux-api" in r
+0000f860: 6573 756c 742e 7374 646f 7574 3a0a 2020  esult.stdout:.  
+0000f870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f880: 2020 7365 6c66 2e70 7269 6e74 2822 5465    self.print("Te
+0000f890: 726d 7578 3a41 5049 2069 7320 6e6f 7420  rmux:API is not 
+0000f8a0: 696e 7374 616c 6c65 6421 2229 0a20 2020  installed!").   
+0000f8b0: 2020 2020 2020 2020 2023 2072 6573 6574           # reset
+0000f8c0: 2070 6c75 6769 6e73 0a20 2020 2020 2020   plugins.       
+0000f8d0: 2020 2020 2073 656c 662e 7275 6e50 6c75       self.runPlu
+0000f8e0: 6769 6e73 2829 0a20 2020 2020 2020 2020  gins().         
+0000f8f0: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+0000f900: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
+0000f910: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+0000f920: 2222 2254 6572 6d75 7820 4150 4920 496e  """Termux API In
+0000f930: 7465 6772 6174 696f 6e3a 207b 2265 6e61  tegration: {"ena
+0000f940: 626c 6522 2069 6620 636f 6e66 6967 2e74  ble" if config.t
+0000f950: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
+0000f960: 6d75 7841 5049 2065 6c73 6520 2264 6973  muxAPI else "dis
+0000f970: 6162 6c65 227d 6421 2222 2229 0a0a 2020  able"}d!""")..  
+0000f980: 2020 6465 6620 7365 7446 756e 6374 696f    def setFunctio
+0000f990: 6e43 616c 6c28 7365 6c66 293a 0a20 2020  nCall(self):.   
+0000f9a0: 2020 2020 2063 616c 6c73 203d 2028 2261       calls = ("a
+0000f9b0: 7574 6f22 2c20 226e 6f6e 6522 290a 2020  uto", "none").  
+0000f9c0: 2020 2020 2020 6361 6c6c 203d 2073 656c        call = sel
+0000f9d0: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000f9e0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000f9f0: 2020 2020 2020 206f 7074 696f 6e73 3d63         options=c
+0000fa00: 616c 6c73 2c0a 2020 2020 2020 2020 2020  alls,.          
+0000fa10: 2020 7469 746c 653d 2243 6861 7447 5054    title="ChatGPT
+0000fa20: 2046 756e 6374 696f 6e20 4361 6c6c 222c   Function Call",
+0000fa30: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+0000fa40: 6175 6c74 3d63 6f6e 6669 672e 6368 6174  ault=config.chat
+0000fa50: 4750 5441 7069 4675 6e63 7469 6f6e 4361  GPTApiFunctionCa
+0000fa60: 6c6c 2c0a 2020 2020 2020 2020 2020 2020  ll,.            
+0000fa70: 7465 7874 3d22 456e 6162 6c69 6e67 2066  text="Enabling f
+0000fa80: 756e 6374 696f 6e20 6361 6c6c 5c6e 746f  unction call\nto
+0000fa90: 2065 7874 656e 6420 4368 6174 4750 5420   extend ChatGPT 
+0000faa0: 6361 7061 6269 6c69 7469 6573 2e5c 6e45  capabilities.\nE
+0000fab0: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
+0000fac0: 7468 6973 2066 6561 7475 7265 2062 656c  this feature bel
+0000fad0: 6f77 3a22 2c0a 2020 2020 2020 2020 290a  ow:",.        ).
+0000fae0: 2020 2020 2020 2020 6966 2063 616c 6c3a          if call:
+0000faf0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000fb00: 6669 672e 6368 6174 4750 5441 7069 4675  fig.chatGPTApiFu
+0000fb10: 6e63 7469 6f6e 4361 6c6c 203d 2063 616c  nctionCall = cal
+0000fb20: 6c0a 2020 2020 2020 2020 2020 2020 636f  l.            co
+0000fb30: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+0000fb40: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000fb50: 6c66 2e70 7269 6e74 3328 6622 4368 6170  lf.print3(f"Chap
+0000fb60: 7447 5054 2066 756e 6374 696f 6e20 6361  tGPT function ca
+0000fb70: 6c6c 3a20 7b27 656e 6162 6c65 6427 2069  ll: {'enabled' i
+0000fb80: 6620 636f 6e66 6967 2e63 6861 7447 5054  f config.chatGPT
+0000fb90: 4170 6946 756e 6374 696f 6e43 616c 6c20  ApiFunctionCall 
+0000fba0: 3d3d 2027 6175 746f 2720 656c 7365 2027  == 'auto' else '
+0000fbb0: 6469 7361 626c 6564 277d 2122 290a 0a20  disabled'}!").. 
+0000fbc0: 2020 2064 6566 2073 6574 4675 6e63 7469     def setFuncti
+0000fbd0: 6f6e 5265 7370 6f6e 7365 2873 656c 6629  onResponse(self)
+0000fbe0: 3a0a 2020 2020 2020 2020 6361 6c6c 7320  :.        calls 
+0000fbf0: 3d20 2822 656e 6162 6c65 222c 2022 6469  = ("enable", "di
+0000fc00: 7361 626c 6522 290a 2020 2020 2020 2020  sable").        
+0000fc10: 6361 6c6c 203d 2073 656c 662e 6469 616c  call = self.dial
+0000fc20: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
+0000fc30: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
+0000fc40: 206f 7074 696f 6e73 3d63 616c 6c73 2c0a   options=calls,.
+0000fc50: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+0000fc60: 653d 2250 6173 7320 4675 6e63 7469 6f6e  e="Pass Function
+0000fc70: 2043 616c 6c20 5265 7370 6f6e 7365 2074   Call Response t
+0000fc80: 6f20 4368 6174 4750 5422 2c0a 2020 2020  o ChatGPT",.    
+0000fc90: 2020 2020 2020 2020 6465 6661 756c 743d          default=
+0000fca0: 2265 6e61 626c 6522 2069 6620 636f 6e66  "enable" if conf
+0000fcb0: 6967 2e70 6173 7346 756e 6374 696f 6e43  ig.passFunctionC
+0000fcc0: 616c 6c52 6574 7572 6e54 6f43 6861 7447  allReturnToChatG
+0000fcd0: 5054 2065 6c73 6520 2264 6973 6162 6c65  PT else "disable
+0000fce0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000fcf0: 6578 743d 2245 6e61 626c 696e 6720 7468  ext="Enabling th
+0000fd00: 6973 2066 6561 7475 7265 2061 6c6c 6f77  is feature allow
+0000fd10: 735c 6e70 6173 7369 6e67 2066 756e 6374  s\npassing funct
+0000fd20: 696f 6e20 6361 6c6c 2072 6573 706f 6e73  ion call respons
+0000fd30: 6573 2c20 6966 2061 6e79 2c5c 6e74 6f20  es, if any,\nto 
+0000fd40: 6578 7465 6e64 2063 6f6e 7665 7273 6174  extend conversat
+0000fd50: 696f 6e20 7769 7468 2043 6861 7447 5054  ion with ChatGPT
+0000fd60: 2e5c 6e44 6973 6162 6c69 6e67 2074 6869  .\nDisabling thi
+0000fd70: 7320 6665 6174 7572 6520 616c 6c6f 7773  s feature allows
+0000fd80: 5c6e 7275 6e6e 696e 6720 6675 6e63 7469  \nrunning functi
+0000fd90: 6f6e 2063 616c 6c73 5c6e 7769 7468 6f75  on calls\nwithou
+0000fda0: 7420 6765 6e65 7261 7469 6e67 2066 7572  t generating fur
+0000fdb0: 7468 6572 2072 6573 706f 6e73 6573 2e22  ther responses."
+0000fdc0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0000fdd0: 2020 2069 6620 6361 6c6c 3a0a 2020 2020     if call:.    
+0000fde0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+0000fdf0: 6173 7346 756e 6374 696f 6e43 616c 6c52  assFunctionCallR
+0000fe00: 6574 7572 6e54 6f43 6861 7447 5054 203d  eturnToChatGPT =
+0000fe10: 2028 6361 6c6c 203d 3d20 2265 6e61 626c   (call == "enabl
+0000fe20: 6522 290a 2020 2020 2020 2020 2020 2020  e").            
+0000fe30: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
+0000fe40: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
+0000fe50: 7365 6c66 2e70 7269 6e74 3328 6622 5061  self.print3(f"Pa
+0000fe60: 7373 2046 756e 6374 696f 6e20 4361 6c6c  ss Function Call
+0000fe70: 2052 6573 706f 6e73 6520 746f 2043 6861   Response to Cha
+0000fe80: 7447 5054 3a20 7b27 656e 6162 6c65 6427  tGPT: {'enabled'
+0000fe90: 2069 6620 636f 6e66 6967 2e70 6173 7346   if config.passF
+0000fea0: 756e 6374 696f 6e43 616c 6c52 6574 7572  unctionCallRetur
+0000feb0: 6e54 6f43 6861 7447 5054 2065 6c73 6520  nToChatGPT else 
+0000fec0: 2764 6973 6162 6c65 6427 7d21 2229 0a0a  'disabled'}!")..
+0000fed0: 2020 2020 6465 6620 6564 6974 4c61 7374      def editLast
+0000fee0: 5265 7370 6f6e 7365 2873 656c 6629 3a0a  Response(self):.
+0000fef0: 2020 2020 2020 2020 6375 7374 6f6d 5465          customTe
+0000ff00: 7874 4564 6974 6f72 203d 2063 6f6e 6669  xtEditor = confi
+0000ff10: 672e 6375 7374 6f6d 5465 7874 4564 6974  g.customTextEdit
+0000ff20: 6f72 2069 6620 636f 6e66 6967 2e63 7573  or if config.cus
+0000ff30: 746f 6d54 6578 7445 6469 746f 7220 656c  tomTextEditor el
+0000ff40: 7365 2066 227b 7379 732e 6578 6563 7574  se f"{sys.execut
+0000ff50: 6162 6c65 7d20 7b6f 732e 7061 7468 2e6a  able} {os.path.j
+0000ff60: 6f69 6e28 636f 6e66 6967 2e6c 6574 4d65  oin(config.letMe
+0000ff70: 446f 4974 4149 466f 6c64 6572 2c20 2765  DoItAIFolder, 'e
+0000ff80: 5465 7874 4564 6974 2e70 7927 297d 220a  TextEdit.py')}".
+0000ff90: 2020 2020 2020 2020 7079 646f 632e 7069          pydoc.pi
+0000ffa0: 7065 7061 6765 7228 636f 6e66 6967 2e70  pepager(config.p
+0000ffb0: 6167 6572 436f 6e74 656e 742c 2063 6d64  agerContent, cmd
+0000ffc0: 3d63 7573 746f 6d54 6578 7445 6469 746f  =customTextEdito
+0000ffd0: 7229 0a20 2020 2020 2020 2073 6574 5f74  r).        set_t
+0000ffe0: 6974 6c65 2863 6f6e 6669 672e 6c65 744d  itle(config.letM
+0000fff0: 6544 6f49 744e 616d 6529 0a0a 2020 2020  eDoItName)..    
+00010000: 2320 6368 616e 6765 2063 6f6e 6669 6773  # change configs
+00010010: 0a20 2020 2064 6566 2065 6469 7443 6f6e  .    def editCon
+00010020: 6669 6773 2873 656c 6629 3a0a 2020 2020  figs(self):.    
+00010030: 2020 2020 2320 6669 6c65 2070 6174 6873      # file paths
+00010040: 0a20 2020 2020 2020 2063 6f6e 6669 6746  .        configF
+00010050: 696c 6520 3d20 6f73 2e70 6174 682e 6a6f  ile = os.path.jo
+00010060: 696e 2863 6f6e 6669 672e 6c65 744d 6544  in(config.letMeD
+00010070: 6f49 7441 4946 6f6c 6465 722c 2022 636f  oItAIFolder, "co
+00010080: 6e66 6967 2e70 7922 290a 2020 2020 2020  nfig.py").      
+00010090: 2020 6261 636b 7570 4669 6c65 203d 206f    backupFile = o
+000100a0: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
+000100b0: 6967 2e67 6574 4669 6c65 7328 292c 2022  ig.getFiles(), "
+000100c0: 636f 6e66 6967 5f62 6163 6b75 702e 7079  config_backup.py
+000100d0: 2229 0a20 2020 2020 2020 2023 2062 6163  ").        # bac
+000100e0: 6b75 7020 636f 6e66 6967 730a 2020 2020  kup configs.    
+000100f0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00010100: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00010110: 7368 7574 696c 2e63 6f70 7928 636f 6e66  shutil.copy(conf
+00010120: 6967 4669 6c65 2c20 6261 636b 7570 4669  igFile, backupFi
+00010130: 6c65 290a 2020 2020 2020 2020 2320 6f70  le).        # op
+00010140: 656e 2063 7572 7265 6e74 2063 6f6e 6669  en current confi
+00010150: 6773 2077 6974 6820 6275 696c 742d 696e  gs with built-in
+00010160: 2074 6578 7420 6564 6974 6f72 0a20 2020   text editor.   
+00010170: 2020 2020 2063 7573 746f 6d54 6578 7445       customTextE
+00010180: 6469 746f 7220 3d20 636f 6e66 6967 2e63  ditor = config.c
+00010190: 7573 746f 6d54 6578 7445 6469 746f 7220  ustomTextEditor 
+000101a0: 6966 2063 6f6e 6669 672e 6375 7374 6f6d  if config.custom
+000101b0: 5465 7874 4564 6974 6f72 2065 6c73 6520  TextEditor else 
+000101c0: 6622 7b73 7973 2e65 7865 6375 7461 626c  f"{sys.executabl
+000101d0: 657d 207b 6f73 2e70 6174 682e 6a6f 696e  e} {os.path.join
+000101e0: 2863 6f6e 6669 672e 6c65 744d 6544 6f49  (config.letMeDoI
+000101f0: 7441 4946 6f6c 6465 722c 2027 6554 6578  tAIFolder, 'eTex
+00010200: 7445 6469 742e 7079 2729 7d22 0a20 2020  tEdit.py')}".   
+00010210: 2020 2020 206f 732e 7379 7374 656d 2866       os.system(f
+00010220: 227b 6375 7374 6f6d 5465 7874 4564 6974  "{customTextEdit
+00010230: 6f72 7d20 7b63 6f6e 6669 6746 696c 657d  or} {configFile}
+00010240: 2229 0a20 2020 2020 2020 2073 6574 5f74  ").        set_t
+00010250: 6974 6c65 2863 6f6e 6669 672e 6c65 744d  itle(config.letM
+00010260: 6544 6f49 744e 616d 6529 0a20 2020 2020  eDoItName).     
+00010270: 2020 2023 2072 652d 6c6f 6164 2063 6f6e     # re-load con
+00010280: 6669 6773 0a20 2020 2020 2020 2074 7279  figs.        try
+00010290: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+000102a0: 6e66 6967 2e6c 6f61 6443 6f6e 6669 6728  nfig.loadConfig(
+000102b0: 636f 6e66 6967 4669 6c65 290a 2020 2020  configFile).    
+000102c0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+000102d0: 6e74 3228 2243 6861 6e67 6573 206c 6f61  nt2("Changes loa
+000102e0: 6465 6421 2229 0a20 2020 2020 2020 2065  ded!").        e
+000102f0: 7863 6570 743a 0a20 2020 2020 2020 2020  xcept:.         
+00010300: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00010310: 4661 696c 6564 2074 6f20 6c6f 6164 2079  Failed to load y
+00010320: 6f75 7220 6368 616e 6765 7321 2229 0a20  our changes!"). 
+00010330: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00010340: 2874 7261 6365 6261 636b 2e66 6f72 6d61  (traceback.forma
+00010350: 745f 6578 6328 2929 0a20 2020 2020 2020  t_exc()).       
+00010360: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00010370: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00010380: 7269 6e74 3228 2252 6573 746f 7269 6e67  rint2("Restoring
+00010390: 2062 6163 6b75 7020 2e2e 2e22 290a 2020   backup ...").  
+000103a0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000103b0: 6e66 6967 2e6c 6f61 6443 6f6e 6669 6728  nfig.loadConfig(
+000103c0: 6261 636b 7570 4669 6c65 290a 2020 2020  backupFile).    
+000103d0: 2020 2020 2020 2020 2020 2020 7368 7574              shut
+000103e0: 696c 2e63 6f70 7928 6261 636b 7570 4669  il.copy(backupFi
+000103f0: 6c65 2c20 636f 6e66 6967 4669 6c65 290a  le, configFile).
+00010400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010410: 7365 6c66 2e70 7269 6e74 3228 2252 6573  self.print2("Res
+00010420: 746f 7265 6421 2229 0a20 2020 2020 2020  tored!").       
+00010430: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+00010440: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00010450: 662e 7072 696e 7432 2822 4661 696c 6564  f.print2("Failed
+00010460: 2074 6f20 7265 7374 6f72 6520 6261 636b   to restore back
+00010470: 7570 2122 290a 0a20 2020 2064 6566 2069  up!")..    def i
+00010480: 6e73 7461 6c6c 5079 7468 6f6e 5061 636b  nstallPythonPack
+00010490: 6167 6528 7365 6c66 293a 0a20 2020 2020  age(self):.     
+000104a0: 2020 2073 656c 662e 7072 696e 7428 2245     self.print("E
+000104b0: 6e74 6572 2061 2070 7974 686f 6e20 7061  nter a python pa
+000104c0: 636b 6167 6520 6e61 6d65 3a22 290a 2020  ckage name:").  
+000104d0: 2020 2020 2020 7061 636b 6167 6520 3d20        package = 
+000104e0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+000104f0: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+00010500: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+00010510: 6d70 7453 7479 6c65 3229 0a20 2020 2020  mptStyle2).     
+00010520: 2020 2069 6620 7061 636b 6167 653a 0a20     if package:. 
+00010530: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010540: 7072 696e 7428 6622 496e 7374 616c 6c69  print(f"Installi
+00010550: 6e67 2027 7b70 6163 6b61 6765 7d27 202e  ng '{package}' .
+00010560: 2e2e 2229 0a20 2020 2020 2020 2020 2020  ..").           
+00010570: 2069 6e73 7461 6c6c 6d6f 6475 6c65 2866   installmodule(f
+00010580: 222d 2d75 7067 7261 6465 207b 7061 636b  "--upgrade {pack
+00010590: 6167 657d 2229 0a0a 2020 2020 6465 6620  age}")..    def 
+000105a0: 7365 7454 656d 7065 7261 7475 7265 2873  setTemperature(s
+000105b0: 656c 6629 3a0a 2020 2020 2020 2020 7365  elf):.        se
+000105c0: 6c66 2e70 7269 6e74 2822 456e 7465 7220  lf.print("Enter 
+000105d0: 6120 7661 6c75 6520 6265 7477 6565 6e20  a value between 
+000105e0: 302e 3020 616e 6420 322e 303a 2229 0a20  0.0 and 2.0:"). 
+000105f0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00010600: 7428 2228 4c6f 7765 7220 7661 6c75 6573  t("(Lower values
+00010610: 2066 6f72 2074 656d 7065 7261 7475 7265   for temperature
+00010620: 2072 6573 756c 7420 696e 206d 6f72 6520   result in more 
+00010630: 636f 6e73 6973 7465 6e74 206f 7574 7075  consistent outpu
+00010640: 7473 2c20 7768 696c 6520 6869 6768 6572  ts, while higher
+00010650: 2076 616c 7565 7320 6765 6e65 7261 7465   values generate
+00010660: 206d 6f72 6520 6469 7665 7273 6520 616e   more diverse an
+00010670: 6420 6372 6561 7469 7665 2072 6573 756c  d creative resul
+00010680: 7473 2e20 5365 6c65 6374 2061 2074 656d  ts. Select a tem
+00010690: 7065 7261 7475 7265 2076 616c 7565 2062  perature value b
+000106a0: 6173 6564 206f 6e20 7468 6520 6465 7369  ased on the desi
+000106b0: 7265 6420 7472 6164 652d 6f66 6620 6265  red trade-off be
+000106c0: 7477 6565 6e20 636f 6865 7265 6e63 6520  tween coherence 
+000106d0: 616e 6420 6372 6561 7469 7669 7479 2066  and creativity f
+000106e0: 6f72 2079 6f75 7220 7370 6563 6966 6963  or your specific
+000106f0: 2061 7070 6c69 6361 7469 6f6e 2e29 2229   application.)")
+00010700: 0a20 2020 2020 2020 2074 656d 7065 7261  .        tempera
+00010710: 7475 7265 203d 2073 656c 662e 7072 6f6d  ture = self.prom
+00010720: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
+00010730: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
+00010740: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
+00010750: 2c20 7661 6c69 6461 746f 723d 466c 6f61  , validator=Floa
+00010760: 7456 616c 6964 6174 6f72 2829 2c20 6465  tValidator(), de
+00010770: 6661 756c 743d 7374 7228 636f 6e66 6967  fault=str(config
+00010780: 2e6c 6c6d 5465 6d70 6572 6174 7572 6529  .llmTemperature)
+00010790: 290a 2020 2020 2020 2020 6966 2074 656d  ).        if tem
+000107a0: 7065 7261 7475 7265 2061 6e64 206e 6f74  perature and not
+000107b0: 2074 656d 7065 7261 7475 7265 2e73 7472   temperature.str
+000107c0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+000107d0: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+000107e0: 793a 0a20 2020 2020 2020 2020 2020 2074  y:.            t
+000107f0: 656d 7065 7261 7475 7265 203d 2066 6c6f  emperature = flo
+00010800: 6174 2874 656d 7065 7261 7475 7265 290a  at(temperature).
+00010810: 2020 2020 2020 2020 2020 2020 6966 2074              if t
+00010820: 656d 7065 7261 7475 7265 203c 2030 3a0a  emperature < 0:.
+00010830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010840: 7465 6d70 6572 6174 7572 6520 3d20 300a  temperature = 0.
+00010850: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00010860: 2074 656d 7065 7261 7475 7265 203e 2032   temperature > 2
+00010870: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010880: 2020 7465 6d70 6572 6174 7572 6520 3d20    temperature = 
+00010890: 320a 2020 2020 2020 2020 2020 2020 636f  2.            co
+000108a0: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+000108b0: 7572 6520 3d20 726f 756e 6428 7465 6d70  ure = round(temp
+000108c0: 6572 6174 7572 652c 2031 290a 2020 2020  erature, 1).    
+000108d0: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+000108e0: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+000108f0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00010900: 6e74 3328 6622 4c4c 4d20 5465 6d70 6572  nt3(f"LLM Temper
+00010910: 6174 7572 653a 207b 7465 6d70 6572 6174  ature: {temperat
+00010920: 7572 657d 2229 0a0a 2020 2020 6465 6620  ure}")..    def 
+00010930: 7365 744c 6c6d 4d6f 6465 6c28 7365 6c66  setLlmModel(self
+00010940: 293a 0a20 2020 2020 2020 206d 6f64 656c  ):.        model
+00010950: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00010960: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00010970: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00010980: 696f 6e73 3d73 656c 662e 6d6f 6465 6c73  ions=self.models
+00010990: 2c0a 2020 2020 2020 2020 2020 2020 7469  ,.            ti
+000109a0: 746c 653d 2246 756e 6374 696f 6e20 4361  tle="Function Ca
+000109b0: 6c6c 696e 6720 4d6f 6465 6c22 2c0a 2020  lling Model",.  
+000109c0: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+000109d0: 743d 636f 6e66 6967 2e63 6861 7447 5054  t=config.chatGPT
+000109e0: 4170 694d 6f64 656c 2069 6620 636f 6e66  ApiModel if conf
+000109f0: 6967 2e63 6861 7447 5054 4170 694d 6f64  ig.chatGPTApiMod
+00010a00: 656c 2069 6e20 7365 6c66 2e6d 6f64 656c  el in self.model
+00010a10: 7320 656c 7365 2073 656c 662e 6d6f 6465  s else self.mode
+00010a20: 6c73 5b30 5d2c 0a20 2020 2020 2020 2020  ls[0],.         
+00010a30: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
+00010a40: 6120 6675 6e63 7469 6f6e 2063 616c 6c20  a function call 
+00010a50: 6d6f 6465 6c3a 5c6e 2866 6f72 2062 6f74  model:\n(for bot
+00010a60: 6820 6368 6174 2061 6e64 2074 6173 6b20  h chat and task 
+00010a70: 6578 6563 7574 696f 6e29 222c 0a20 2020  execution)",.   
+00010a80: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00010a90: 6620 6d6f 6465 6c3a 0a20 2020 2020 2020  f model:.       
+00010aa0: 2020 2020 2063 6f6e 6669 672e 6368 6174       config.chat
+00010ab0: 4750 5441 7069 4d6f 6465 6c20 3d20 6d6f  GPTApiModel = mo
+00010ac0: 6465 6c0a 2020 2020 2020 2020 2020 2020  del.            
+00010ad0: 7365 6c66 2e70 7269 6e74 3328 6622 4368  self.print3(f"Ch
+00010ae0: 6174 4750 5420 6d6f 6465 6c3a 207b 6d6f  atGPT model: {mo
+00010af0: 6465 6c7d 2229 0a20 2020 2020 2020 2020  del}").         
+00010b00: 2020 2023 2073 6574 206d 6178 2074 6f6b     # set max tok
+00010b10: 656e 730a 2020 2020 2020 2020 2020 2020  ens.            
+00010b20: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+00010b30: 694d 6178 546f 6b65 6e73 203d 2073 656c  iMaxTokens = sel
+00010b40: 662e 6765 744d 6178 546f 6b65 6e73 2829  f.getMaxTokens()
+00010b50: 5b2d 315d 0a20 2020 2020 2020 2020 2020  [-1].           
+00010b60: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00010b70: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+00010b80: 2073 656c 662e 7072 696e 7433 2866 224d   self.print3(f"M
+00010b90: 6178 696d 756d 2072 6573 706f 6e73 6520  aximum response 
+00010ba0: 746f 6b65 6e73 3a20 7b63 6f6e 6669 672e  tokens: {config.
+00010bb0: 6368 6174 4750 5441 7069 4d61 7854 6f6b  chatGPTApiMaxTok
+00010bc0: 656e 737d 2229 0a0a 2020 2020 6465 6620  ens}")..    def 
+00010bd0: 7365 7443 6861 7462 6f74 2873 656c 6629  setChatbot(self)
+00010be0: 3a0a 2020 2020 2020 2020 6d6f 6465 6c20  :.        model 
+00010bf0: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+00010c00: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+00010c10: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+00010c20: 6f6e 733d 2822 6368 6174 6770 7422 2c20  ons=("chatgpt", 
+00010c30: 2267 656d 696e 6970 726f 222c 2022 7061  "geminipro", "pa
+00010c40: 6c6d 3222 2c20 2263 6f64 6579 2229 2c0a  lm2", "codey"),.
+00010c50: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+00010c60: 653d 2243 6861 742d 6f6e 6c79 206d 6f64  e="Chat-only mod
+00010c70: 656c 222c 0a20 2020 2020 2020 2020 2020  el",.           
+00010c80: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
+00010c90: 6368 6174 626f 742c 0a20 2020 2020 2020  chatbot,.       
+00010ca0: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+00010cb0: 7420 6465 6661 756c 7420 6368 6174 2d6f  t default chat-o
+00010cc0: 6e6c 7920 6d6f 6465 6c3a 5c6e 2844 6566  nly model:\n(Def
+00010cd0: 6175 6c74 206d 6f64 656c 2069 7320 6c6f  ault model is lo
+00010ce0: 6164 6564 2077 6865 6e20 796f 7520 696e  aded when you in
+00010cf0: 636c 7564 6520 275b 4348 4154 5d27 2069  clude '[CHAT]' i
+00010d00: 6e20 796f 7572 2069 6e70 7574 2922 2c0a  n your input)",.
+00010d10: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00010d20: 2020 6966 206d 6f64 656c 3a0a 2020 2020    if model:.    
+00010d30: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+00010d40: 6861 7462 6f74 203d 206d 6f64 656c 0a20  hatbot = model. 
+00010d50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010d60: 7072 696e 7433 2866 2243 6861 742d 6f6e  print3(f"Chat-on
+00010d70: 6c79 206d 6f64 656c 3a20 7b6d 6f64 656c  ly model: {model
+00010d80: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
+00010d90: 456d 6265 6464 696e 674d 6f64 656c 2873  EmbeddingModel(s
+00010da0: 656c 6629 3a0a 2020 2020 2020 2020 6f6c  elf):.        ol
+00010db0: 6445 6d62 6564 6469 6e67 4d6f 6465 6c20  dEmbeddingModel 
+00010dc0: 3d20 636f 6e66 6967 2e65 6d62 6564 6469  = config.embeddi
+00010dd0: 6e67 4d6f 6465 6c0a 2020 2020 2020 2020  ngModel.        
+00010de0: 6d6f 6465 6c20 3d20 7365 6c66 2e64 6961  model = self.dia
+00010df0: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
+00010e00: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+00010e10: 2020 6f70 7469 6f6e 733d 2822 7465 7874    options=("text
+00010e20: 2d65 6d62 6564 6469 6e67 2d33 2d6c 6172  -embedding-3-lar
+00010e30: 6765 222c 2022 7465 7874 2d65 6d62 6564  ge", "text-embed
+00010e40: 6469 6e67 2d33 2d73 6d61 6c6c 222c 2022  ding-3-small", "
+00010e50: 7465 7874 2d65 6d62 6564 6469 6e67 2d61  text-embedding-a
+00010e60: 6461 2d30 3032 222c 2022 7061 7261 7068  da-002", "paraph
+00010e70: 7261 7365 2d6d 756c 7469 6c69 6e67 7561  rase-multilingua
+00010e80: 6c2d 6d70 6e65 742d 6261 7365 2d76 3222  l-mpnet-base-v2"
+00010e90: 2c20 2261 6c6c 2d6d 706e 6574 2d62 6173  , "all-mpnet-bas
+00010ea0: 652d 7632 222c 2022 616c 6c2d 4d69 6e69  e-v2", "all-Mini
+00010eb0: 4c4d 2d4c 362d 7632 222c 2022 6375 7374  LM-L6-v2", "cust
+00010ec0: 6f6d 2229 2c0a 2020 2020 2020 2020 2020  om"),.          
+00010ed0: 2020 7469 746c 653d 2245 6d62 6564 6469    title="Embeddi
+00010ee0: 6e67 206d 6f64 656c 222c 0a20 2020 2020  ng model",.     
+00010ef0: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+00010f00: 6f6e 6669 672e 656d 6265 6464 696e 674d  onfig.embeddingM
+00010f10: 6f64 656c 2c0a 2020 2020 2020 2020 2020  odel,.          
+00010f20: 2020 7465 7874 3d22 5365 6c65 6374 2061    text="Select a
+00010f30: 6e20 656d 6265 6464 696e 6720 6d6f 6465  n embedding mode
+00010f40: 6c3a 222c 0a20 2020 2020 2020 2029 0a20  l:",.        ). 
+00010f50: 2020 2020 2020 2069 6620 6d6f 6465 6c3a         if model:
+00010f60: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00010f70: 6d6f 6465 6c20 3d3d 2022 6375 7374 6f6d  model == "custom
+00010f80: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+00010f90: 2020 2073 656c 662e 7072 696e 7428 2245     self.print("E
+00010fa0: 6e74 6572 204f 7065 6e41 4920 6f72 2053  nter OpenAI or S
+00010fb0: 656e 7465 6e63 6520 5472 616e 7366 6f72  entence Transfor
+00010fc0: 6d65 7220 456d 6265 6464 696e 6720 6d6f  mer Embedding mo
+00010fd0: 6465 6c3a 2229 0a20 2020 2020 2020 2020  del:").         
+00010fe0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00010ff0: 7428 2252 6561 6420 6d6f 7265 2061 743a  t("Read more at:
+00011000: 2068 7474 7073 3a2f 2f77 7777 2e73 6265   https://www.sbe
+00011010: 7274 2e6e 6574 2f64 6f63 732f 7072 6574  rt.net/docs/pret
+00011020: 7261 696e 6564 5f6d 6f64 656c 732e 6874  rained_models.ht
+00011030: 6d6c 2229 0a20 2020 2020 2020 2020 2020  ml").           
+00011040: 2020 2020 2063 7573 746f 6d4d 6f64 656c       customModel
+00011050: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00011060: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00011070: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00011080: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+00011090: 6661 756c 743d 636f 6e66 6967 2e65 6d62  fault=config.emb
+000110a0: 6564 6469 6e67 4d6f 6465 6c29 0a20 2020  eddingModel).   
+000110b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000110c0: 6375 7374 6f6d 4d6f 6465 6c20 616e 6420  customModel and 
+000110d0: 6e6f 7420 6375 7374 6f6d 4d6f 6465 6c2e  not customModel.
+000110e0: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
+000110f0: 3d3d 2063 6f6e 6669 672e 6578 6974 5f65  == config.exit_e
+00011100: 6e74 7279 3a0a 2020 2020 2020 2020 2020  ntry:.          
+00011110: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00011120: 2e65 6d62 6564 6469 6e67 4d6f 6465 6c20  .embeddingModel 
+00011130: 3d20 6375 7374 6f6d 4d6f 6465 6c20 0a20  = customModel . 
+00011140: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00011150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011160: 2063 6f6e 6669 672e 656d 6265 6464 696e   config.embeddin
+00011170: 674d 6f64 656c 203d 206d 6f64 656c 0a20  gModel = model. 
+00011180: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011190: 7072 696e 7433 2866 2245 6d62 6564 6469  print3(f"Embeddi
+000111a0: 6e67 206d 6f64 656c 3a20 7b6d 6f64 656c  ng model: {model
+000111b0: 7d22 290a 2020 2020 2020 2020 6966 206e  }").        if n
+000111c0: 6f74 206f 6c64 456d 6265 6464 696e 674d  ot oldEmbeddingM
+000111d0: 6f64 656c 203d 3d20 636f 6e66 6967 2e65  odel == config.e
+000111e0: 6d62 6564 6469 6e67 4d6f 6465 6c3a 0a20  mbeddingModel:. 
+000111f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011200: 7072 696e 7428 6622 596f 7527 7665 2063  print(f"You've c
+00011210: 6861 6e67 6520 7468 6520 656d 6265 6464  hange the embedd
+00011220: 696e 6720 6d6f 6465 6c20 6672 6f6d 2027  ing model from '
+00011230: 7b6f 6c64 456d 6265 6464 696e 674d 6f64  {oldEmbeddingMod
+00011240: 656c 7d27 2074 6f20 277b 636f 6e66 6967  el}' to '{config
+00011250: 2e65 6d62 6564 6469 6e67 4d6f 6465 6c7d  .embeddingModel}
+00011260: 272e 2229 0a20 2020 2020 2020 2020 2020  '.").           
+00011270: 2073 656c 662e 7072 696e 7428 2254 6f20   self.print("To 
+00011280: 776f 726b 2077 6974 6820 7468 6520 6e65  work with the ne
+00011290: 776c 7920 7365 6c65 6374 6564 206d 6f64  wly selected mod
+000112a0: 656c 2c20 7072 6576 696f 7573 206d 656d  el, previous mem
+000112b0: 6f72 7920 7374 6f72 6520 616e 6420 7265  ory store and re
+000112c0: 7472 6965 7665 6420 636f 6c6c 6563 7469  trieved collecti
+000112d0: 6f6e 7320 6e65 6564 2074 6f20 6265 2064  ons need to be d
+000112e0: 656c 6574 6564 2e22 290a 2020 2020 2020  eleted.").      
+000112f0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00011300: 2822 446f 2079 6f75 2077 616e 7420 746f  ("Do you want to
+00011310: 2064 656c 6574 6520 7468 656d 206e 6f77   delete them now
+00011320: 3f20 5b79 5d65 7320 2f20 5b4e 5d6f 2229  ? [y]es / [N]o")
+00011330: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00011340: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+00011350: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00011360: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00011370: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00011380: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+00011390: 7965 7322 290a 2020 2020 2020 2020 2020  yes").          
+000113a0: 2020 6966 2063 6f6e 6669 726d 6174 696f    if confirmatio
+000113b0: 6e2e 6c6f 7765 7228 2920 696e 2028 2279  n.lower() in ("y
+000113c0: 222c 2022 7965 7322 293a 0a20 2020 2020  ", "yes"):.     
+000113d0: 2020 2020 2020 2020 2020 206d 656d 6f72             memor
+000113e0: 795f 7374 6f72 6520 3d20 6f73 2e70 6174  y_store = os.pat
+000113f0: 682e 6a6f 696e 2863 6f6e 6669 672e 6765  h.join(config.ge
+00011400: 7446 696c 6573 2829 2c20 226d 656d 6f72  tFiles(), "memor
+00011410: 7922 290a 2020 2020 2020 2020 2020 2020  y").            
+00011420: 2020 2020 7265 7472 6965 7665 645f 636f      retrieved_co
+00011430: 6c6c 6563 7469 6f6e 7320 3d20 6f73 2e70  llections = os.p
+00011440: 6174 682e 6a6f 696e 2863 6f6e 6669 672e  ath.join(config.
+00011450: 6765 7446 696c 6573 2829 2c20 2261 7574  getFiles(), "aut
+00011460: 6f67 656e 222c 2022 7265 7472 6965 7665  ogen", "retrieve
+00011470: 7222 290a 2020 2020 2020 2020 2020 2020  r").            
+00011480: 2020 2020 666f 7220 666f 6c64 6572 2069      for folder i
+00011490: 6e20 286d 656d 6f72 795f 7374 6f72 652c  n (memory_store,
+000114a0: 2072 6574 7269 6576 6564 5f63 6f6c 6c65   retrieved_colle
+000114b0: 6374 696f 6e73 293a 0a20 2020 2020 2020  ctions):.       
+000114c0: 2020 2020 2020 2020 2020 2020 2073 6875               shu
+000114d0: 7469 6c2e 726d 7472 6565 2866 6f6c 6465  til.rmtree(folde
+000114e0: 722c 2069 676e 6f72 655f 6572 726f 7273  r, ignore_errors
+000114f0: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+00011500: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00011510: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00011520: 696e 7428 6622 446f 2079 6f75 2077 616e  int(f"Do you wan
+00011530: 7420 746f 2063 6861 6e67 6520 6261 636b  t to change back
+00011540: 2074 6865 2065 6d62 6564 6469 6e67 206d   the embedding m
+00011550: 6f64 656c 2066 726f 6d20 277b 636f 6e66  odel from '{conf
+00011560: 6967 2e65 6d62 6564 6469 6e67 4d6f 6465  ig.embeddingMode
+00011570: 6c7d 2720 746f 2027 7b6f 6c64 456d 6265  l}' to '{oldEmbe
+00011580: 6464 696e 674d 6f64 656c 7d27 3f20 5b79  ddingModel}'? [y
+00011590: 5d65 7320 2f20 5b4e 5d6f 2229 0a20 2020  ]es / [N]o").   
+000115a0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+000115b0: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+000115c0: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+000115d0: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+000115e0: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+000115f0: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+00011600: 7965 7322 290a 2020 2020 2020 2020 2020  yes").          
+00011610: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
+00011620: 6669 726d 6174 696f 6e2e 6c6f 7765 7228  firmation.lower(
+00011630: 2920 696e 2028 2279 222c 2022 7965 7322  ) in ("y", "yes"
+00011640: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011650: 2020 2020 2020 2063 6f6e 6669 672e 656d         config.em
+00011660: 6265 6464 696e 674d 6f64 656c 203d 206f  beddingModel = o
+00011670: 6c64 456d 6265 6464 696e 674d 6f64 656c  ldEmbeddingModel
+00011680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011690: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+000116a0: 2866 2245 6d62 6564 6469 6e67 206d 6f64  (f"Embedding mod
+000116b0: 656c 3a20 7b6f 6c64 456d 6265 6464 696e  el: {oldEmbeddin
+000116c0: 674d 6f64 656c 7d22 290a 2020 2020 2020  gModel}").      
+000116d0: 2020 6966 206e 6f74 206f 6c64 456d 6265    if not oldEmbe
+000116e0: 6464 696e 674d 6f64 656c 203d 3d20 636f  ddingModel == co
+000116f0: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
+00011700: 6465 6c3a 0a20 2020 2020 2020 2020 2020  del:.           
+00011710: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00011720: 6967 2829 0a0a 2020 2020 6465 6620 7365  ig()..    def se
+00011730: 7441 7574 6f47 656e 4275 696c 6465 7243  tAutoGenBuilderC
+00011740: 6f6e 6669 6728 7365 6c66 293a 0a20 2020  onfig(self):.   
+00011750: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+00011760: 6967 2e69 7354 6572 6d75 783a 0a20 2020  ig.isTermux:.   
+00011770: 2020 2020 2020 2020 2041 7574 6f47 656e           AutoGen
+00011780: 4275 696c 6465 7228 292e 7072 6f6d 7074  Builder().prompt
+00011790: 436f 6e66 6967 2829 0a0a 2020 2020 6465  Config()..    de
+000117a0: 6620 7365 7441 7373 6973 7461 6e74 4e61  f setAssistantNa
+000117b0: 6d65 2873 656c 6629 3a0a 2020 2020 2020  me(self):.      
+000117c0: 2020 7365 6c66 2e70 7269 6e74 2822 596f    self.print("Yo
+000117d0: 7520 6d61 7920 6d6f 6469 6679 206d 7920  u may modify my 
+000117e0: 6e61 6d65 2062 656c 6f77 3a22 290a 2020  name below:").  
+000117f0: 2020 2020 2020 6c65 744d 6544 6f49 744e        letMeDoItN
+00011800: 616d 6520 3d20 7365 6c66 2e70 726f 6d70  ame = self.promp
+00011810: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
+00011820: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
+00011830: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
+00011840: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
+00011850: 6c65 744d 6544 6f49 744e 616d 6529 0a20  letMeDoItName). 
+00011860: 2020 2020 2020 2069 6620 6c65 744d 6544         if letMeD
+00011870: 6f49 744e 616d 6520 616e 6420 6e6f 7420  oItName and not 
+00011880: 6c65 744d 6544 6f49 744e 616d 652e 7374  letMeDoItName.st
+00011890: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+000118a0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+000118b0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+000118c0: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+000118d0: 4e61 6d65 203d 206c 6574 4d65 446f 4974  Name = letMeDoIt
+000118e0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+000118f0: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00011900: 203d 2073 656c 662e 6765 7453 746f 7261   = self.getStora
+00011910: 6765 4469 7228 290a 2020 2020 2020 2020  geDir().        
+00011920: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00011930: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00011940: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+00011950: 6622 596f 7520 6861 7665 2063 6861 6e67  f"You have chang
+00011960: 6564 206d 7920 6e61 6d65 2074 6f3a 207b  ed my name to: {
+00011970: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00011980: 4e61 6d65 7d22 290a 0a20 2020 2064 6566  Name}")..    def
+00011990: 2073 6574 4375 7374 6f6d 5379 7374 656d   setCustomSystem
+000119a0: 4d65 7373 6167 6528 7365 6c66 293a 0a20  Message(self):. 
+000119b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000119c0: 7428 2259 6f75 2063 616e 206d 6f64 6966  t("You can modif
+000119d0: 7920 7468 6520 7379 7374 656d 206d 6573  y the system mes
+000119e0: 7361 6765 2074 6f20 6675 726e 6973 6820  sage to furnish 
+000119f0: 6d65 2077 6974 6820 6465 7461 696c 7320  me with details 
+00011a00: 6162 6f75 7420 6d79 2063 6170 6162 696c  about my capabil
+00011a10: 6974 6965 732c 2063 6f6e 7374 7261 696e  ities, constrain
+00011a20: 7473 2c20 6f72 2061 6e79 2070 6572 7469  ts, or any perti
+00011a30: 6e65 6e74 2063 6f6e 7465 7874 2074 6861  nent context tha
+00011a40: 7420 6d61 7920 696e 666f 726d 206f 7572  t may inform our
+00011a50: 2069 6e74 6572 6163 7469 6f6e 732e 2054   interactions. T
+00011a60: 6869 7320 7769 6c6c 2067 7569 6465 206d  his will guide m
+00011a70: 6520 696e 206d 616e 6167 696e 6720 616e  e in managing an
+00011a80: 6420 7265 7370 6f6e 6469 6e67 2074 6f20  d responding to 
+00011a90: 796f 7572 2072 6571 7565 7374 7320 6170  your requests ap
+00011aa0: 7072 6f70 7269 6174 656c 792e 2229 0a20  propriately."). 
+00011ab0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00011ac0: 7428 2250 6c65 6173 6520 6e6f 7465 2074  t("Please note t
+00011ad0: 6861 7420 616c 7465 7269 6e67 206d 7920  hat altering my 
+00011ae0: 7379 7374 656d 206d 6573 7361 6765 2064  system message d
+00011af0: 6972 6563 746c 7920 6166 6665 6374 7320  irectly affects 
+00011b00: 6d79 2066 756e 6374 696f 6e61 6c69 7479  my functionality
+00011b10: 2e20 4861 6e64 6c65 2077 6974 6820 6361  . Handle with ca
+00011b20: 7265 2e22 290a 2020 2020 2020 2020 7365  re.").        se
+00011b30: 6c66 2e70 7269 6e74 2822 456e 7465 7220  lf.print("Enter 
+00011b40: 6375 7374 6f6d 2073 7973 7465 6d20 6d65  custom system me
+00011b50: 7373 6167 6520 6265 6c6f 773a 2229 0a20  ssage below:"). 
+00011b60: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00011b70: 7428 6622 284b 6565 7020 6974 2062 6c61  t(f"(Keep it bla
+00011b80: 6e6b 2074 6f20 7573 6520 7b63 6f6e 6669  nk to use {confi
+00011b90: 672e 6c65 744d 6544 6f49 744e 616d 657d  g.letMeDoItName}
+00011ba0: 2064 6566 6175 6c74 2073 7973 7465 6d20   default system 
+00011bb0: 6d65 7373 6167 652e 2922 290a 2020 2020  message.)").    
+00011bc0: 2020 2020 6d65 7373 6167 6520 3d20 7365      message = se
+00011bd0: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
+00011be0: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
+00011bf0: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
+00011c00: 7453 7479 6c65 322c 2064 6566 6175 6c74  tStyle2, default
+00011c10: 3d63 6f6e 6669 672e 7379 7374 656d 4d65  =config.systemMe
+00011c20: 7373 6167 655f 6c65 746d 6564 6f69 7429  ssage_letmedoit)
+00011c30: 0a20 2020 2020 2020 2069 6620 6d65 7373  .        if mess
+00011c40: 6167 6520 616e 6420 6e6f 7420 6d65 7373  age and not mess
+00011c50: 6167 652e 7374 7269 7028 292e 6c6f 7765  age.strip().lowe
+00011c60: 7228 2920 3d3d 2063 6f6e 6669 672e 6578  r() == config.ex
+00011c70: 6974 5f65 6e74 7279 3a0a 2020 2020 2020  it_entry:.      
+00011c80: 2020 2020 2020 636f 6e66 6967 2e73 7973        config.sys
+00011c90: 7465 6d4d 6573 7361 6765 5f6c 6574 6d65  temMessage_letme
+00011ca0: 646f 6974 203d 206d 6573 7361 6765 0a20  doit = message. 
+00011cb0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00011cc0: 672e 7361 7665 436f 6e66 6967 2829 0a20  g.saveConfig(). 
+00011cd0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011ce0: 7072 696e 7433 2866 2243 7573 746f 6d20  print3(f"Custom 
+00011cf0: 7379 7374 656d 206d 6573 7361 6765 3a20  system message: 
+00011d00: 7b63 6f6e 6669 672e 6c65 744d 6544 6f49  {config.letMeDoI
+00011d10: 744e 616d 657d 2229 0a0a 2020 2020 6465  tName}")..    de
+00011d20: 6620 7365 7443 7573 746f 6d54 6578 7445  f setCustomTextE
+00011d30: 6469 746f 7228 7365 6c66 293a 0a20 2020  ditor(self):.   
+00011d40: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00011d50: 2250 6c65 6173 6520 7370 6563 6966 7920  "Please specify 
+00011d60: 6375 7374 6f6d 2074 6578 7420 6564 6974  custom text edit
+00011d70: 6f72 2063 6f6d 6d61 6e64 2062 656c 6f77  or command below
+00011d80: 3a22 290a 2020 2020 2020 2020 7365 6c66  :").        self
+00011d90: 2e70 7269 6e74 2822 652e 672e 2027 6d69  .print("e.g. 'mi
+00011da0: 6372 6f20 2d73 6f66 7477 7261 7020 7472  cro -softwrap tr
+00011db0: 7565 202d 776f 7264 7772 6170 2074 7275  ue -wordwrap tru
+00011dc0: 6527 2229 0a20 2020 2020 2020 2073 656c  e'").        sel
+00011dd0: 662e 7072 696e 7428 224c 6561 7665 2069  f.print("Leave i
+00011de0: 7420 626c 616e 6b20 746f 2075 7365 206f  t blank to use o
+00011df0: 7572 2062 7569 6c74 2d69 6e20 7465 7874  ur built-in text
+00011e00: 2065 6469 746f 7220 2765 5465 7874 4564   editor 'eTextEd
+00011e10: 6974 2720 6279 2064 6566 6175 6c74 2e22  it' by default."
+00011e20: 290a 2020 2020 2020 2020 6375 7374 6f6d  ).        custom
+00011e30: 5465 7874 4564 6974 6f72 203d 2073 656c  TextEditor = sel
+00011e40: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00011e50: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00011e60: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00011e70: 5374 796c 6532 2c20 6465 6661 756c 743d  Style2, default=
+00011e80: 636f 6e66 6967 2e63 7573 746f 6d54 6578  config.customTex
+00011e90: 7445 6469 746f 7229 0a20 2020 2020 2020  tEditor).       
+00011ea0: 2069 6620 6375 7374 6f6d 5465 7874 4564   if customTextEd
+00011eb0: 6974 6f72 2061 6e64 206e 6f74 2063 7573  itor and not cus
+00011ec0: 746f 6d54 6578 7445 6469 746f 722e 7374  tomTextEditor.st
+00011ed0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00011ee0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00011ef0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00011f00: 7465 7874 4564 6974 6f72 203d 2072 652e  textEditor = re.
+00011f10: 7375 6228 2220 2e2a 3f24 222c 2022 222c  sub(" .*?$", "",
+00011f20: 2063 7573 746f 6d54 6578 7445 6469 746f   customTextEdito
+00011f30: 7229 0a20 2020 2020 2020 2020 2020 2069  r).            i
+00011f40: 6620 6e6f 7420 7465 7874 4564 6974 6f72  f not textEditor
+00011f50: 206f 7220 6e6f 7420 5368 6172 6564 5574   or not SharedUt
+00011f60: 696c 2e69 7350 6163 6b61 6765 496e 7374  il.isPackageInst
+00011f70: 616c 6c65 6428 7465 7874 4564 6974 6f72  alled(textEditor
+00011f80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011f90: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00011fa0: 436f 6d6d 616e 6420 6e6f 7420 666f 756e  Command not foun
+00011fb0: 6420 6f6e 2079 6f75 7220 6465 7669 6365  d on your device
+00011fc0: 2122 290a 2020 2020 2020 2020 2020 2020  !").            
+00011fd0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00011fe0: 2020 2020 2020 636f 6e66 6967 2e63 7573        config.cus
+00011ff0: 746f 6d54 6578 7445 6469 746f 7220 3d20  tomTextEditor = 
+00012000: 6375 7374 6f6d 5465 7874 4564 6974 6f72  customTextEditor
+00012010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012020: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00012030: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+00012040: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00012050: 2866 2243 7573 746f 6d20 7465 7874 2065  (f"Custom text e
+00012060: 6469 746f 723a 207b 636f 6e66 6967 2e63  ditor: {config.c
+00012070: 7573 746f 6d54 6578 7445 6469 746f 727d  ustomTextEditor}
+00012080: 2229 0a0a 2020 2020 6465 6620 7365 7443  ")..    def setC
+00012090: 6861 7452 6563 6f72 6443 6c6f 7365 7374  hatRecordClosest
+000120a0: 4d61 7463 6865 7328 7365 6c66 293a 0a20  Matches(self):. 
+000120b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000120c0: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+000120d0: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
+000120e0: 636c 6f73 6573 7420 6d61 7463 6865 7320  closest matches 
+000120f0: 696e 2065 6163 6820 6d65 6d6f 7279 2072  in each memory r
+00012100: 6574 7269 6576 616c 3a22 290a 2020 2020  etrieval:").    
+00012110: 2020 2020 6368 6174 5265 636f 7264 436c      chatRecordCl
+00012120: 6f73 6573 744d 6174 6368 6573 203d 2073  osestMatches = s
+00012130: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00012140: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00012150: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00012160: 7074 5374 796c 6532 2c20 6e75 6d62 6572  ptStyle2, number
+00012170: 4f6e 6c79 3d54 7275 652c 2064 6566 6175  Only=True, defau
+00012180: 6c74 3d73 7472 2863 6f6e 6669 672e 6368  lt=str(config.ch
+00012190: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
+000121a0: 6174 6368 6573 2929 0a20 2020 2020 2020  atches)).       
+000121b0: 2069 6620 6368 6174 5265 636f 7264 436c   if chatRecordCl
+000121c0: 6f73 6573 744d 6174 6368 6573 2061 6e64  osestMatches and
+000121d0: 206e 6f74 2063 6861 7452 6563 6f72 6443   not chatRecordC
+000121e0: 6c6f 7365 7374 4d61 7463 6865 732e 7374  losestMatches.st
+000121f0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00012200: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00012210: 7279 2061 6e64 2069 6e74 2863 6861 7452  ry and int(chatR
+00012220: 6563 6f72 6443 6c6f 7365 7374 4d61 7463  ecordClosestMatc
+00012230: 6865 7329 203e 3d20 303a 0a20 2020 2020  hes) >= 0:.     
+00012240: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
+00012250: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
+00012260: 6174 6368 6573 203d 2069 6e74 2863 6861  atches = int(cha
+00012270: 7452 6563 6f72 6443 6c6f 7365 7374 4d61  tRecordClosestMa
+00012280: 7463 6865 7329 0a20 2020 2020 2020 2020  tches).         
+00012290: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+000122a0: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
+000122b0: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+000122c0: 224e 756d 6265 7220 6f66 206d 656d 6f72  "Number of memor
+000122d0: 7920 636c 6f73 6573 7420 6d61 7463 6865  y closest matche
+000122e0: 733a 207b 636f 6e66 6967 2e63 6861 7452  s: {config.chatR
+000122f0: 6563 6f72 6443 6c6f 7365 7374 4d61 7463  ecordClosestMatc
+00012300: 6865 737d 2229 0a0a 2020 2020 6465 6620  hes}")..    def 
+00012310: 7365 744d 656d 6f72 7943 6c6f 7365 7374  setMemoryClosest
+00012320: 4d61 7463 6865 7328 7365 6c66 293a 0a20  Matches(self):. 
+00012330: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012340: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+00012350: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
+00012360: 636c 6f73 6573 7420 6d61 7463 6865 7320  closest matches 
+00012370: 696e 2065 6163 6820 6d65 6d6f 7279 2072  in each memory r
+00012380: 6574 7269 6576 616c 3a22 290a 2020 2020  etrieval:").    
+00012390: 2020 2020 6d65 6d6f 7279 436c 6f73 6573      memoryCloses
+000123a0: 744d 6174 6368 6573 203d 2073 656c 662e  tMatches = self.
+000123b0: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+000123c0: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+000123d0: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+000123e0: 796c 6532 2c20 6e75 6d62 6572 4f6e 6c79  yle2, numberOnly
+000123f0: 3d54 7275 652c 2064 6566 6175 6c74 3d73  =True, default=s
+00012400: 7472 2863 6f6e 6669 672e 6d65 6d6f 7279  tr(config.memory
+00012410: 436c 6f73 6573 744d 6174 6368 6573 2929  ClosestMatches))
+00012420: 0a20 2020 2020 2020 2069 6620 6d65 6d6f  .        if memo
+00012430: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
+00012440: 2061 6e64 206e 6f74 206d 656d 6f72 7943   and not memoryC
+00012450: 6c6f 7365 7374 4d61 7463 6865 732e 7374  losestMatches.st
+00012460: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00012470: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00012480: 7279 2061 6e64 2069 6e74 286d 656d 6f72  ry and int(memor
+00012490: 7943 6c6f 7365 7374 4d61 7463 6865 7329  yClosestMatches)
+000124a0: 203e 3d20 303a 0a20 2020 2020 2020 2020   >= 0:.         
+000124b0: 2020 2063 6f6e 6669 672e 6d65 6d6f 7279     config.memory
+000124c0: 436c 6f73 6573 744d 6174 6368 6573 203d  ClosestMatches =
+000124d0: 2069 6e74 286d 656d 6f72 7943 6c6f 7365   int(memoryClose
+000124e0: 7374 4d61 7463 6865 7329 0a20 2020 2020  stMatches).     
+000124f0: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
+00012500: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
+00012510: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012520: 7433 2866 224e 756d 6265 7220 6f66 206d  t3(f"Number of m
+00012530: 656d 6f72 7920 636c 6f73 6573 7420 6d61  emory closest ma
+00012540: 7463 6865 733a 207b 636f 6e66 6967 2e6d  tches: {config.m
+00012550: 656d 6f72 7943 6c6f 7365 7374 4d61 7463  emoryClosestMatc
+00012560: 6865 737d 2229 0a0a 2020 2020 6465 6620  hes}")..    def 
+00012570: 7365 744d 6178 4175 746f 4865 616c 2873  setMaxAutoHeal(s
+00012580: 656c 6629 3a0a 2020 2020 2020 2020 7365  elf):.        se
+00012590: 6c66 2e70 7269 6e74 2866 2254 6865 2061  lf.print(f"The a
+000125a0: 7574 6f2d 6865 616c 2066 6561 7475 7265  uto-heal feature
+000125b0: 2065 6e61 626c 6573 207b 636f 6e66 6967   enables {config
+000125c0: 2e6c 6574 4d65 446f 4974 4e61 6d65 7d20  .letMeDoItName} 
+000125d0: 746f 2061 7574 6f6d 6174 6963 616c 6c79  to automatically
+000125e0: 2066 6978 2062 726f 6b65 6e20 5079 7468   fix broken Pyth
+000125f0: 6f6e 2063 6f64 6520 6966 2069 7420 7761  on code if it wa
+00012600: 7320 6e6f 7420 6578 6563 7574 6564 2070  s not executed p
+00012610: 726f 7065 726c 792e 2229 0a20 2020 2020  roperly.").     
+00012620: 2020 2073 656c 662e 7072 696e 7428 2250     self.print("P
+00012630: 6c65 6173 6520 7370 6563 6966 7920 6d61  lease specify ma
+00012640: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
+00012650: 6175 746f 2d68 6561 6c20 6174 7465 6d70  auto-heal attemp
+00012660: 7473 2062 656c 6f77 3a22 290a 2020 2020  ts below:").    
+00012670: 2020 2020 7365 6c66 2e70 7269 6e74 2822      self.print("
+00012680: 2852 656d 6172 6b73 3a20 456e 7465 7220  (Remarks: Enter 
+00012690: 2730 2720 6966 2079 6f75 2077 616e 7420  '0' if you want 
+000126a0: 746f 2064 6973 6162 6c65 2061 7574 6f2d  to disable auto-
+000126b0: 6865 616c 2066 6561 7475 7265 2922 290a  heal feature)").
+000126c0: 2020 2020 2020 2020 6d61 7841 7574 6f48          maxAutoH
+000126d0: 6561 6c20 3d20 7365 6c66 2e70 726f 6d70  eal = self.promp
+000126e0: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
+000126f0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
+00012700: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
+00012710: 206e 756d 6265 724f 6e6c 793d 5472 7565   numberOnly=True
+00012720: 2c20 6465 6661 756c 743d 7374 7228 636f  , default=str(co
+00012730: 6e66 6967 2e6d 6178 5f63 6f6e 7365 6375  nfig.max_consecu
+00012740: 7469 7665 5f61 7574 6f5f 6865 616c 2929  tive_auto_heal))
+00012750: 0a20 2020 2020 2020 2069 6620 6d61 7841  .        if maxA
+00012760: 7574 6f48 6561 6c20 616e 6420 6e6f 7420  utoHeal and not 
+00012770: 6d61 7841 7574 6f48 6561 6c2e 7374 7269  maxAutoHeal.stri
+00012780: 7028 292e 6c6f 7765 7228 2920 3d3d 2063  p().lower() == c
+00012790: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
+000127a0: 2061 6e64 2069 6e74 286d 6178 4175 746f   and int(maxAuto
+000127b0: 4865 616c 2920 3e3d 2030 3a0a 2020 2020  Heal) >= 0:.    
+000127c0: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
+000127d0: 6178 5f63 6f6e 7365 6375 7469 7665 5f61  ax_consecutive_a
+000127e0: 7574 6f5f 6865 616c 203d 2069 6e74 286d  uto_heal = int(m
+000127f0: 6178 4175 746f 4865 616c 290a 2020 2020  axAutoHeal).    
+00012800: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+00012810: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+00012820: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00012830: 6e74 3328 6622 4d61 7869 6d75 6d20 636f  nt3(f"Maximum co
+00012840: 6e73 6563 7574 6976 6520 6175 746f 2d68  nsecutive auto-h
+00012850: 6561 6c3a 207b 636f 6e66 6967 2e6d 6178  eal: {config.max
+00012860: 5f63 6f6e 7365 6375 7469 7665 5f61 7574  _consecutive_aut
+00012870: 6f5f 6865 616c 7d22 290a 0a20 2020 2064  o_heal}")..    d
+00012880: 6566 2073 6574 4d69 6e54 6f6b 656e 7328  ef setMinTokens(
+00012890: 7365 6c66 293a 0a20 2020 2020 2020 2073  self):.        s
+000128a0: 656c 662e 7072 696e 7428 2250 6c65 6173  elf.print("Pleas
+000128b0: 6520 7370 6563 6966 7920 6d69 6e69 6d75  e specify minimu
+000128c0: 6d20 7265 7370 6f6e 7365 2074 6f6b 656e  m response token
+000128d0: 7320 6265 6c6f 773a 2229 0a20 2020 2020  s below:").     
+000128e0: 2020 206d 696e 746f 6b65 6e73 203d 2073     mintokens = s
+000128f0: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00012900: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00012910: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00012920: 7074 5374 796c 6532 2c20 6e75 6d62 6572  ptStyle2, number
+00012930: 4f6e 6c79 3d54 7275 652c 2064 6566 6175  Only=True, defau
+00012940: 6c74 3d73 7472 2863 6f6e 6669 672e 6368  lt=str(config.ch
+00012950: 6174 4750 5441 7069 4d69 6e54 6f6b 656e  atGPTApiMinToken
+00012960: 7329 290a 2020 2020 2020 2020 6966 206d  s)).        if m
+00012970: 696e 746f 6b65 6e73 2061 6e64 206e 6f74  intokens and not
+00012980: 206d 696e 746f 6b65 6e73 2e73 7472 6970   mintokens.strip
+00012990: 2829 2e6c 6f77 6572 2829 203d 3d20 636f  ().lower() == co
+000129a0: 6e66 6967 2e65 7869 745f 656e 7472 7920  nfig.exit_entry 
+000129b0: 616e 6420 696e 7428 6d69 6e74 6f6b 656e  and int(mintoken
+000129c0: 7329 203e 2030 3a0a 2020 2020 2020 2020  s) > 0:.        
+000129d0: 2020 2020 636f 6e66 6967 2e63 6861 7447      config.chatG
+000129e0: 5054 4170 694d 696e 546f 6b65 6e73 203d  PTApiMinTokens =
+000129f0: 2069 6e74 286d 696e 746f 6b65 6e73 290a   int(mintokens).
+00012a00: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00012a10: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
+00012a20: 4d69 6e54 6f6b 656e 7320 3e20 636f 6e66  MinTokens > conf
+00012a30: 6967 2e63 6861 7447 5054 4170 694d 6178  ig.chatGPTApiMax
+00012a40: 546f 6b65 6e73 3a0a 2020 2020 2020 2020  Tokens:.        
+00012a50: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+00012a60: 6861 7447 5054 4170 694d 696e 546f 6b65  hatGPTApiMinToke
+00012a70: 6e73 203d 2063 6f6e 6669 672e 6368 6174  ns = config.chat
+00012a80: 4750 5441 7069 4d61 7854 6f6b 656e 730a  GPTApiMaxTokens.
+00012a90: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00012aa0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
+00012ab0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012ac0: 2e70 7269 6e74 3328 6622 4d69 6e69 6d75  .print3(f"Minimu
+00012ad0: 6d20 746f 6b65 6e73 3a20 7b63 6f6e 6669  m tokens: {confi
+00012ae0: 672e 6368 6174 4750 5441 7069 4d69 6e54  g.chatGPTApiMinT
+00012af0: 6f6b 656e 737d 2229 0a0a 2020 2020 6465  okens}")..    de
+00012b00: 6620 6765 744d 6178 546f 6b65 6e73 2873  f getMaxTokens(s
+00012b10: 656c 6629 3a0a 2020 2020 2020 2020 636f  elf):.        co
+00012b20: 6e74 6578 7457 696e 646f 774c 696d 6974  ntextWindowLimit
+00012b30: 203d 2053 6861 7265 6455 7469 6c2e 746f   = SharedUtil.to
+00012b40: 6b65 6e4c 696d 6974 735b 636f 6e66 6967  kenLimits[config
+00012b50: 2e63 6861 7447 5054 4170 694d 6f64 656c  .chatGPTApiModel
+00012b60: 5d0a 2020 2020 2020 2020 6675 6e63 7469  ].        functi
+00012b70: 6f6e 546f 6b65 6e73 203d 2053 6861 7265  onTokens = Share
+00012b80: 6455 7469 6c2e 636f 756e 745f 746f 6b65  dUtil.count_toke
+00012b90: 6e73 5f66 726f 6d5f 6675 6e63 7469 6f6e  ns_from_function
+00012ba0: 7328 636f 6e66 6967 2e63 6861 7447 5054  s(config.chatGPT
+00012bb0: 4170 6946 756e 6374 696f 6e53 6967 6e61  ApiFunctionSigna
+00012bc0: 7475 7265 732e 7661 6c75 6573 2829 290a  tures.values()).
+00012bd0: 2020 2020 2020 2020 6d61 7854 6f6b 656e          maxToken
+00012be0: 203d 2063 6f6e 7465 7874 5769 6e64 6f77   = contextWindow
+00012bf0: 4c69 6d69 7420 2d20 6675 6e63 7469 6f6e  Limit - function
+00012c00: 546f 6b65 6e73 202d 2063 6f6e 6669 672e  Tokens - config.
+00012c10: 6368 6174 4750 5441 7069 4d69 6e54 6f6b  chatGPTApiMinTok
+00012c20: 656e 730a 2020 2020 2020 2020 6966 206d  ens.        if m
+00012c30: 6178 546f 6b65 6e20 3e20 3430 3936 2061  axToken > 4096 a
+00012c40: 6e64 2063 6f6e 6669 672e 6368 6174 4750  nd config.chatGP
+00012c50: 5441 7069 4d6f 6465 6c20 696e 2028 0a20  TApiModel in (. 
+00012c60: 2020 2020 2020 2020 2020 2022 6770 742d             "gpt-
+00012c70: 342d 7475 7262 6f2d 7072 6576 6965 7722  4-turbo-preview"
+00012c80: 2c0a 2020 2020 2020 2020 2020 2020 2267  ,.            "g
+00012c90: 7074 2d34 2d30 3132 352d 7072 6576 6965  pt-4-0125-previe
+00012ca0: 7722 2c0a 2020 2020 2020 2020 2020 2020  w",.            
+00012cb0: 2267 7074 2d34 2d31 3130 362d 7072 6576  "gpt-4-1106-prev
+00012cc0: 6965 7722 2c0a 2020 2020 2020 2020 2020  iew",.          
+00012cd0: 2020 2267 7074 2d33 2e35 2d74 7572 626f    "gpt-3.5-turbo
+00012ce0: 222c 0a20 2020 2020 2020 2029 3a0a 2020  ",.        ):.  
+00012cf0: 2020 2020 2020 2020 2020 6d61 7854 6f6b            maxTok
+00012d00: 656e 203d 2034 3039 360a 2020 2020 2020  en = 4096.      
+00012d10: 2020 7265 7475 726e 2063 6f6e 7465 7874    return context
+00012d20: 5769 6e64 6f77 4c69 6d69 742c 2066 756e  WindowLimit, fun
+00012d30: 6374 696f 6e54 6f6b 656e 732c 206d 6178  ctionTokens, max
+00012d40: 546f 6b65 6e0a 0a20 2020 2064 6566 2073  Token..    def s
+00012d50: 6574 4d61 7854 6f6b 656e 7328 7365 6c66  etMaxTokens(self
+00012d60: 293a 0a20 2020 2020 2020 2063 6f6e 7465  ):.        conte
+00012d70: 7874 5769 6e64 6f77 4c69 6d69 742c 2066  xtWindowLimit, f
+00012d80: 756e 6374 696f 6e54 6f6b 656e 732c 2074  unctionTokens, t
+00012d90: 6f6b 656e 4c69 6d69 7420 3d20 7365 6c66  okenLimit = self
+00012da0: 2e67 6574 4d61 7854 6f6b 656e 7328 290a  .getMaxTokens().
+00012db0: 2020 2020 2020 2020 6966 2074 6f6b 656e          if token
+00012dc0: 4c69 6d69 7420 3c20 636f 6e66 6967 2e63  Limit < config.c
+00012dd0: 6861 7447 5054 4170 694d 696e 546f 6b65  hatGPTApiMinToke
+00012de0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00012df0: 7365 6c66 2e70 7269 6e74 3228 6622 4675  self.print2(f"Fu
+00012e00: 6e63 7469 6f6e 2074 6f6b 656e 7320 5b7b  nction tokens [{
+00012e10: 6675 6e63 7469 6f6e 546f 6b65 6e73 7d5d  functionTokens}]
+00012e20: 2065 7863 6565 6420 7b63 6f6e 6669 672e   exceed {config.
+00012e30: 6368 6174 4750 5441 7069 4d6f 6465 6c7d  chatGPTApiModel}
+00012e40: 2072 6573 706f 6e73 6520 746f 6b65 6e20   response token 
+00012e50: 6c69 6d69 742e 2229 0a20 2020 2020 2020  limit.").       
+00012e60: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00012e70: 2245 6974 6865 7220 6368 616e 6765 2074  "Either change t
+00012e80: 6f20 6120 6d6f 6465 6c20 7769 7468 2068  o a model with h
+00012e90: 6967 6865 7220 746f 6b65 6e20 6c69 6d69  igher token limi
+00012ea0: 7420 6f72 2064 6973 6162 6c65 2075 6e75  t or disable unu
+00012eb0: 7365 6420 6675 6e63 7469 6f6e 2d63 616c  sed function-cal
+00012ec0: 6c20 706c 6775 696e 732e 2229 0a20 2020  l plguins.").   
+00012ed0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00012ee0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012ef0: 7428 7365 6c66 2e64 6976 6964 6572 290a  t(self.divider).
+00012f00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012f10: 2e70 7269 6e74 2822 4750 5420 616e 6420  .print("GPT and 
+00012f20: 656d 6265 6464 696e 6773 206d 6f64 656c  embeddings model
+00012f30: 7320 7072 6f63 6573 7320 7465 7874 2069  s process text i
+00012f40: 6e20 6368 756e 6b73 2063 616c 6c65 6420  n chunks called 
+00012f50: 746f 6b65 6e73 2e20 4173 2061 2072 6f75  tokens. As a rou
+00012f60: 6768 2072 756c 6520 6f66 2074 6875 6d62  gh rule of thumb
+00012f70: 2c20 3120 746f 6b65 6e20 6973 2061 7070  , 1 token is app
+00012f80: 726f 7869 6d61 7465 6c79 2034 2063 6861  roximately 4 cha
+00012f90: 7261 6374 6572 7320 6f72 2030 2e37 3520  racters or 0.75 
+00012fa0: 776f 7264 7320 666f 7220 456e 676c 6973  words for Englis
+00012fb0: 6820 7465 7874 2e20 4f6e 6520 6c69 6d69  h text. One limi
+00012fc0: 7461 7469 6f6e 2074 6f20 6b65 6570 2069  tation to keep i
+00012fd0: 6e20 6d69 6e64 2069 7320 7468 6174 2066  n mind is that f
+00012fe0: 6f72 2061 2047 5054 206d 6f64 656c 2074  or a GPT model t
+00012ff0: 6865 2070 726f 6d70 7420 616e 6420 7468  he prompt and th
+00013000: 6520 6765 6e65 7261 7465 6420 6f75 7470  e generated outp
+00013010: 7574 2063 6f6d 6269 6e65 6420 6d75 7374  ut combined must
+00013020: 2062 6520 6e6f 206d 6f72 6520 7468 616e   be no more than
+00013030: 2074 6865 206d 6f64 656c 2773 206d 6178   the model's max
+00013040: 696d 756d 2063 6f6e 7465 7874 206c 656e  imum context len
+00013050: 6774 682e 2229 0a20 2020 2020 2020 2020  gth.").         
+00013060: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+00013070: 2243 7572 7265 6e74 2047 5054 206d 6f64  "Current GPT mod
+00013080: 656c 3a20 7b63 6f6e 6669 672e 6368 6174  el: {config.chat
+00013090: 4750 5441 7069 4d6f 6465 6c7d 2229 0a20  GPTApiModel}"). 
+000130a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000130b0: 7072 696e 7433 2866 224d 6178 696d 756d  print3(f"Maximum
+000130c0: 2063 6f6e 7465 7874 206c 656e 6774 683a   context length:
+000130d0: 207b 636f 6e74 6578 7457 696e 646f 774c   {contextWindowL
+000130e0: 696d 6974 7d22 290a 2020 2020 2020 2020  imit}").        
+000130f0: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+00013100: 6622 4375 7272 656e 7420 6675 6e63 7469  f"Current functi
+00013110: 6f6e 2074 6f6b 656e 733a 207b 6675 6e63  on tokens: {func
+00013120: 7469 6f6e 546f 6b65 6e73 7d22 290a 2020  tionTokens}").  
+00013130: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00013140: 7269 6e74 3328 6622 4d61 7869 6d75 6d20  rint3(f"Maximum 
+00013150: 7265 7370 6f6e 7365 2074 6f6b 656e 2061  response token a
+00013160: 6c6c 6f77 6564 2028 6578 636c 2e20 6675  llowed (excl. fu
+00013170: 6e63 7469 6f6e 7329 3a20 7b74 6f6b 656e  nctions): {token
+00013180: 4c69 6d69 747d 2229 0a20 2020 2020 2020  Limit}").       
+00013190: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+000131a0: 7365 6c66 2e64 6976 6964 6572 290a 2020  self.divider).  
+000131b0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+000131c0: 7269 6e74 2822 506c 6561 7365 2073 7065  rint("Please spe
+000131d0: 6369 6679 206d 6178 696d 756d 2072 6573  cify maximum res
+000131e0: 706f 6e73 6520 746f 6b65 6e73 2062 656c  ponse tokens bel
+000131f0: 6f77 3a22 290a 2020 2020 2020 2020 2020  ow:").          
+00013200: 2020 6d61 7874 6f6b 656e 7320 3d20 7365    maxtokens = se
+00013210: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
+00013220: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
+00013230: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
+00013240: 7453 7479 6c65 322c 206e 756d 6265 724f  tStyle2, numberO
+00013250: 6e6c 793d 5472 7565 2c20 6465 6661 756c  nly=True, defaul
+00013260: 743d 7374 7228 636f 6e66 6967 2e63 6861  t=str(config.cha
+00013270: 7447 5054 4170 694d 6178 546f 6b65 6e73  tGPTApiMaxTokens
+00013280: 2929 0a20 2020 2020 2020 2020 2020 2069  )).            i
+00013290: 6620 6d61 7874 6f6b 656e 7320 616e 6420  f maxtokens and 
+000132a0: 6e6f 7420 6d61 7874 6f6b 656e 732e 7374  not maxtokens.st
+000132b0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+000132c0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+000132d0: 7279 2061 6e64 2069 6e74 286d 6178 746f  ry and int(maxto
+000132e0: 6b65 6e73 2920 3e20 303a 0a20 2020 2020  kens) > 0:.     
+000132f0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00013300: 672e 6368 6174 4750 5441 7069 4d61 7854  g.chatGPTApiMaxT
+00013310: 6f6b 656e 7320 3d20 696e 7428 6d61 7874  okens = int(maxt
+00013320: 6f6b 656e 7329 0a20 2020 2020 2020 2020  okens).         
+00013330: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+00013340: 2e63 6861 7447 5054 4170 694d 6178 546f  .chatGPTApiMaxTo
+00013350: 6b65 6e73 203e 2074 6f6b 656e 4c69 6d69  kens > tokenLimi
+00013360: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+00013370: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
+00013380: 6174 4750 5441 7069 4d61 7854 6f6b 656e  atGPTApiMaxToken
+00013390: 7320 3d20 746f 6b65 6e4c 696d 6974 0a20  s = tokenLimit. 
+000133a0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000133b0: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
+000133c0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000133d0: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+000133e0: 224d 6178 696d 756d 2074 6f6b 656e 733a  "Maximum tokens:
+000133f0: 207b 636f 6e66 6967 2e63 6861 7447 5054   {config.chatGPT
+00013400: 4170 694d 6178 546f 6b65 6e73 7d22 290a  ApiMaxTokens}").
+00013410: 0a20 2020 2064 6566 2072 756e 5079 7468  .    def runPyth
+00013420: 6f6e 5363 7269 7074 2873 656c 662c 2073  onScript(self, s
+00013430: 6372 6970 7429 3a0a 2020 2020 2020 2020  cript):.        
+00013440: 7363 7269 7074 203d 2073 6372 6970 742e  script = script.
+00013450: 7374 7269 7028 295b 333a 2d33 5d0a 2020  strip()[3:-3].  
+00013460: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00013470: 2020 2020 2020 2065 7865 6328 7363 7269         exec(scri
+00013480: 7074 2c20 676c 6f62 616c 7328 2929 0a20  pt, globals()). 
+00013490: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
+000134a0: 2020 2020 2020 2020 2020 2074 7261 6365             trace
+000134b0: 203d 2074 7261 6365 6261 636b 2e66 6f72   = traceback.for
+000134c0: 6d61 745f 6578 6328 290a 2020 2020 2020  mat_exc().      
+000134d0: 2020 2020 2020 7072 696e 7428 7472 6163        print(trac
+000134e0: 6520 6966 2063 6f6e 6669 672e 6465 7665  e if config.deve
+000134f0: 6c6f 7065 7220 656c 7365 2022 4572 726f  loper else "Erro
+00013500: 7220 656e 636f 756e 7465 7265 6421 2229  r encountered!")
+00013510: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00013520: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+00013530: 6964 6572 290a 2020 2020 2020 2020 2020  ider).          
+00013540: 2020 6966 2063 6f6e 6669 672e 6d61 785f    if config.max_
+00013550: 636f 6e73 6563 7574 6976 655f 6175 746f  consecutive_auto
+00013560: 5f68 6561 6c20 3e20 303a 0a20 2020 2020  _heal > 0:.     
+00013570: 2020 2020 2020 2020 2020 2053 6861 7265             Share
+00013580: 6455 7469 6c2e 6175 746f 4865 616c 5079  dUtil.autoHealPy
+00013590: 7468 6f6e 436f 6465 2873 6372 6970 742c  thonCode(script,
+000135a0: 2074 7261 6365 290a 0a20 2020 2064 6566   trace)..    def
+000135b0: 2072 756e 5379 7374 656d 436f 6d6d 616e   runSystemComman
+000135c0: 6428 7365 6c66 2c20 636f 6d6d 616e 6429  d(self, command)
+000135d0: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
+000135e0: 6420 3d20 636f 6d6d 616e 642e 7374 7269  d = command.stri
+000135f0: 7028 295b 313a 5d0a 2020 2020 2020 2020  p()[1:].        
+00013600: 6966 2022 5c6e 2220 696e 2063 6f6d 6d61  if "\n" in comma
+00013610: 6e64 3a0a 2020 2020 2020 2020 2020 2020  nd:.            
+00013620: 636f 6d6d 616e 6420 3d20 223b 222e 6a6f  command = ";".jo
+00013630: 696e 2863 6f6d 6d61 6e64 2e73 706c 6974  in(command.split
+00013640: 2822 5c6e 2229 290a 2020 2020 2020 2020  ("\n")).        
+00013650: 6966 2063 6f6e 6669 672e 7468 6973 506c  if config.thisPl
+00013660: 6174 666f 726d 203d 3d20 2257 696e 646f  atform == "Windo
+00013670: 7773 223a 0a20 2020 2020 2020 2020 2020  ws":.           
+00013680: 206f 732e 7379 7374 656d 2863 6f6d 6d61   os.system(comma
+00013690: 6e64 290a 2020 2020 2020 2020 656c 7365  nd).        else
+000136a0: 3a0a 2020 2020 2020 2020 2020 2020 6f73  :.            os
+000136b0: 2e73 7973 7465 6d28 6622 656e 7620 5154  .system(f"env QT
+000136c0: 5f51 5041 5f50 4c41 5446 4f52 4d5f 504c  _QPA_PLATFORM_PL
+000136d0: 5547 494e 5f50 4154 483d 277b 636f 6e66  UGIN_PATH='{conf
+000136e0: 6967 2e65 6e76 5f51 545f 5150 415f 504c  ig.env_QT_QPA_PL
+000136f0: 4154 464f 524d 5f50 4c55 4749 4e5f 5041  ATFORM_PLUGIN_PA
+00013700: 5448 7d27 207b 636f 6d6d 616e 647d 2229  TH}' {command}")
+00013710: 0a0a 2020 2020 6465 6620 746f 6767 6c65  ..    def toggle
+00013720: 4d75 6c74 696c 696e 6528 7365 6c66 293a  Multiline(self):
+00013730: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00013740: 6d75 6c74 696c 696e 6549 6e70 7574 203d  multilineInput =
+00013750: 206e 6f74 2063 6f6e 6669 672e 6d75 6c74   not config.mult
+00013760: 696c 696e 6549 6e70 7574 0a20 2020 2020  ilineInput.     
+00013770: 2020 2072 756e 5f69 6e5f 7465 726d 696e     run_in_termin
+00013780: 616c 286c 616d 6264 613a 2073 656c 662e  al(lambda: self.
+00013790: 7072 696e 7428 6622 4d75 6c74 692d 6c69  print(f"Multi-li
+000137a0: 6e65 2069 6e70 7574 207b 2765 6e61 626c  ne input {'enabl
+000137b0: 6564 2720 6966 2063 6f6e 6669 672e 6d75  ed' if config.mu
+000137c0: 6c74 696c 696e 6549 6e70 7574 2065 6c73  ltilineInput els
+000137d0: 6520 2764 6973 6162 6c65 6427 7d21 2229  e 'disabled'}!")
+000137e0: 290a 2020 2020 2020 2020 6966 2063 6f6e  ).        if con
+000137f0: 6669 672e 6d75 6c74 696c 696e 6549 6e70  fig.multilineInp
+00013800: 7574 3a0a 2020 2020 2020 2020 2020 2020  ut:.            
+00013810: 7275 6e5f 696e 5f74 6572 6d69 6e61 6c28  run_in_terminal(
+00013820: 6c61 6d62 6461 3a20 7365 6c66 2e70 7269  lambda: self.pri
+00013830: 6e74 2822 5573 6520 2765 7363 6170 6520  nt("Use 'escape 
+00013840: 2b20 656e 7465 7227 2074 6f20 636f 6d70  + enter' to comp
+00013850: 6c65 7465 2079 6f75 7220 656e 7472 792e  lete your entry.
+00013860: 2229 290a 0a20 2020 2064 6566 2069 7354  "))..    def isT
+00013870: 7473 4176 6169 6c61 626c 6528 7365 6c66  tsAvailable(self
+00013880: 293a 0a20 2020 2020 2020 2069 6620 6e6f  ):.        if no
+00013890: 7420 636f 6e66 6967 2e69 7356 6c63 506c  t config.isVlcPl
+000138a0: 6179 6572 496e 7374 616c 6c65 6420 616e  ayerInstalled an
+000138b0: 6420 6e6f 7420 636f 6e66 6967 2e69 7350  d not config.isP
+000138c0: 7967 616d 6549 6e73 7461 6c6c 6564 2061  ygameInstalled a
+000138d0: 6e64 206e 6f74 2063 6f6e 6669 672e 7474  nd not config.tt
+000138e0: 7343 6f6d 6d61 6e64 2061 6e64 206e 6f74  sCommand and not
+000138f0: 2063 6f6e 6669 672e 656c 6576 656e 6c61   config.elevenla
+00013900: 6273 4170 693a 0a20 2020 2020 2020 2020  bsApi:.         
+00013910: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00013920: 5465 7874 2d74 6f2d 7370 6565 6368 2066  Text-to-speech f
+00013930: 6561 7475 7265 2069 7320 6e6f 7420 656e  eature is not en
+00013940: 6162 6c65 6421 2229 0a20 2020 2020 2020  abled!").       
+00013950: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00013960: 2822 5265 6164 3a20 6874 7470 733a 2f2f  ("Read: https://
+00013970: 6769 7468 7562 2e63 6f6d 2f65 6c69 7261  github.com/elira
+00013980: 6e77 6f6e 672f 6c65 746d 6564 6f69 742f  nwong/letmedoit/
+00013990: 7769 6b69 2f6c 6574 4d65 446f 4974 2d53  wiki/letMeDoIt-S
+000139a0: 7065 616b 7322 290a 2020 2020 2020 2020  peaks").        
+000139b0: 2020 2020 636f 6e66 6967 2e74 7473 203d      config.tts =
+000139c0: 2046 616c 7365 0a20 2020 2020 2020 2065   False.        e
+000139d0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000139e0: 2063 6f6e 6669 672e 7474 7320 3d20 5472   config.tts = Tr
+000139f0: 7565 0a20 2020 2020 2020 2072 6574 7572  ue.        retur
+00013a00: 6e20 636f 6e66 6967 2e74 7473 0a0a 2020  n config.tts..  
+00013a10: 2020 6465 6620 746f 6767 6c65 696e 7075    def toggleinpu
+00013a20: 7461 7564 696f 2873 656c 6629 3a0a 2020  taudio(self):.  
+00013a30: 2020 2020 2020 6966 2073 656c 662e 6973        if self.is
+00013a40: 5474 7341 7661 696c 6162 6c65 3a0a 2020  TtsAvailable:.  
+00013a50: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00013a60: 2e74 7473 496e 7075 7420 3d20 6e6f 7420  .ttsInput = not 
+00013a70: 636f 6e66 6967 2e74 7473 496e 7075 740a  config.ttsInput.
+00013a80: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00013a90: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
+00013aa0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00013ab0: 2e70 7269 6e74 3328 6622 496e 7075 7420  .print3(f"Input 
+00013ac0: 4175 6469 6f3a 2027 7b27 656e 6162 6c65  Audio: '{'enable
+00013ad0: 6427 2069 6620 636f 6e66 6967 2e74 7473  d' if config.tts
+00013ae0: 496e 7075 7420 656c 7365 2027 6469 7361  Input else 'disa
+00013af0: 626c 6564 277d 2721 2229 0a0a 2020 2020  bled'}'!")..    
+00013b00: 6465 6620 746f 6767 6c65 7265 7370 6f6e  def togglerespon
+00013b10: 7365 6175 6469 6f28 7365 6c66 293a 0a20  seaudio(self):. 
+00013b20: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
+00013b30: 7354 7473 4176 6169 6c61 626c 653a 0a20  sTtsAvailable:. 
+00013b40: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00013b50: 672e 7474 734f 7574 7075 7420 3d20 6e6f  g.ttsOutput = no
+00013b60: 7420 636f 6e66 6967 2e74 7473 4f75 7470  t config.ttsOutp
+00013b70: 7574 0a20 2020 2020 2020 2020 2020 2063  ut.            c
+00013b80: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
+00013b90: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+00013ba0: 656c 662e 7072 696e 7433 2866 2252 6573  elf.print3(f"Res
+00013bb0: 706f 6e73 6520 4175 6469 6f3a 2027 7b27  ponse Audio: '{'
+00013bc0: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00013bd0: 6967 2e74 7473 4f75 7470 7574 2065 6c73  ig.ttsOutput els
+00013be0: 6520 2764 6973 6162 6c65 6427 7d27 2122  e 'disabled'}'!"
+00013bf0: 290a 0a20 2020 2064 6566 2064 6566 696e  )..    def defin
+00013c00: 6554 7473 436f 6d6d 616e 6428 7365 6c66  eTtsCommand(self
+00013c10: 293a 0a20 2020 2020 2020 2073 656c 662e  ):.        self.
+00013c20: 7072 696e 7428 2244 6566 696e 6520 6375  print("Define cu
+00013c30: 7374 6f6d 2074 6578 742d 746f 2d73 7065  stom text-to-spe
+00013c40: 6563 6820 636f 6d6d 616e 6420 6265 6c6f  ech command belo
+00013c50: 773a 2229 0a20 2020 2020 2020 2073 656c  w:").        sel
+00013c60: 662e 7072 696e 7428 2222 222a 206f 6e20  f.print("""* on 
+00013c70: 6d61 634f 5320 5b27 7361 7920 2d76 2022  macOS ['say -v "
+00013c80: 3f22 2720 746f 2063 6865 636b 2076 6f69  ?"' to check voi
+00013c90: 6365 735d 2c20 652e 672e 3a5c 6e27 7361  ces], e.g.:\n'sa
+00013ca0: 7927 206f 7220 2773 6179 202d 7220 3230  y' or 'say -r 20
+00013cb0: 3020 2d76 2044 616e 6965 6c27 2222 2229  0 -v Daniel'""")
+00013cc0: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+00013cd0: 696e 7428 222a 206f 6e20 5562 756e 7475  int("* on Ubuntu
+00013ce0: 205b 2765 7370 6561 6b20 2d2d 766f 6963   ['espeak --voic
+00013cf0: 6573 2720 746f 2063 6865 636b 2076 6f69  es' to check voi
+00013d00: 6365 735d 2c20 652e 672e 3a5c 6e27 6573  ces], e.g.:\n'es
+00013d10: 7065 616b 2720 6f72 2027 6573 7065 616b  peak' or 'espeak
+00013d20: 202d 7320 3137 3520 2d76 2065 6e2d 6762   -s 175 -v en-gb
+00013d30: 2722 290a 2020 2020 2020 2020 7365 6c66  '").        self
+00013d40: 2e70 7269 6e74 2822 2a20 6f6e 2057 696e  .print("* on Win
+00013d50: 646f 7773 2c20 7369 6d70 6c79 2065 6e74  dows, simply ent
+00013d60: 6572 2027 7769 6e64 6f77 7327 2068 6572  er 'windows' her
+00013d70: 6520 746f 2075 7365 2057 696e 646f 7773  e to use Windows
+00013d80: 2062 7569 6c74 2d69 6e20 7370 6565 6368   built-in speech
+00013d90: 2065 6e67 696e 6522 2920 2320 6c65 746d   engine") # letm
+00013da0: 6564 6f69 742e 6169 2077 696c 6c20 6861  edoit.ai will ha
+00013db0: 6e64 6c65 2074 6865 2063 6f6d 6d61 6e64  ndle the command
+00013dc0: 2066 6f72 2057 696e 646f 7773 2075 7365   for Windows use
+00013dd0: 7273 0a20 2020 2020 2020 2073 656c 662e  rs.        self.
+00013de0: 7072 696e 7428 2272 656d 6172 6b73 3a20  print("remarks: 
+00013df0: 616c 7761 7973 2070 6c61 6365 2074 6865  always place the
+00013e00: 2076 6f69 6365 206f 7074 696f 6e2c 2069   voice option, i
+00013e10: 6620 616e 792c 2061 7420 7468 6520 656e  f any, at the en
+00013e20: 6422 290a 2020 2020 2020 2020 7474 7343  d").        ttsC
+00013e30: 6f6d 6d61 6e64 203d 2073 656c 662e 7072  ommand = self.pr
+00013e40: 6f6d 7074 732e 7369 6d70 6c65 5072 6f6d  ompts.simpleProm
+00013e50: 7074 2873 7479 6c65 3d73 656c 662e 7072  pt(style=self.pr
+00013e60: 6f6d 7074 732e 7072 6f6d 7074 5374 796c  ompts.promptStyl
+00013e70: 6532 2c20 6465 6661 756c 743d 636f 6e66  e2, default=conf
+00013e80: 6967 2e74 7473 436f 6d6d 616e 6429 0a20  ig.ttsCommand). 
+00013e90: 2020 2020 2020 2069 6620 7474 7343 6f6d         if ttsCom
+00013ea0: 6d61 6e64 3a0a 2020 2020 2020 2020 2020  mand:.          
+00013eb0: 2020 7365 6c66 2e70 7269 6e74 2822 5370    self.print("Sp
+00013ec0: 6563 6966 7920 636f 6d6d 616e 6420 7375  ecify command su
+00013ed0: 6666 6978 2062 656c 6f77 2c20 6966 2061  ffix below, if a
+00013ee0: 6e79 205b 6c65 6176 6520 6974 2062 6c61  ny [leave it bla
+00013ef0: 6e6b 2069 6620 4e2f 415d 3a22 290a 2020  nk if N/A]:").  
+00013f00: 2020 2020 2020 2020 2020 7474 7343 6f6d            ttsCom
+00013f10: 6d61 6e64 5375 6666 6978 203d 2073 656c  mandSuffix = sel
+00013f20: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00013f30: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00013f40: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00013f50: 5374 796c 6532 2c20 6465 6661 756c 743d  Style2, default=
+00013f60: 636f 6e66 6967 2e74 7473 436f 6d6d 616e  config.ttsComman
+00013f70: 6453 7566 6669 7829 0a20 2020 2020 2020  dSuffix).       
+00013f80: 2020 2020 2069 6620 7474 7343 6f6d 6d61       if ttsComma
+00013f90: 6e64 2e6c 6f77 6572 2829 203d 3d20 2277  nd.lower() == "w
+00013fa0: 696e 646f 7773 223a 0a20 2020 2020 2020  indows":.       
+00013fb0: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
+00013fc0: 203d 2066 2727 2750 6f77 6572 5368 656c   = f'''PowerShel
+00013fd0: 6c20 2d43 6f6d 6d61 6e64 2022 4164 642d  l -Command "Add-
+00013fe0: 5479 7065 20e2 8093 4173 7365 6d62 6c79  Type ...Assembly
+00013ff0: 4e61 6d65 2053 7973 7465 6d2e 5370 6565  Name System.Spee
+00014000: 6368 3b20 284e 6577 2d4f 626a 6563 7420  ch; (New-Object 
+00014010: 5379 7374 656d 2e53 7065 6563 682e 5379  System.Speech.Sy
+00014020: 6e74 6865 7369 732e 5370 6565 6368 5379  nthesis.SpeechSy
+00014030: 6e74 6865 7369 7a65 7229 2e53 7065 616b  nthesizer).Speak
+00014040: 2827 7465 7374 696e 6727 293b 2227 2727  ('testing');"'''
+00014050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014060: 2074 7473 436f 6d6d 616e 6453 7566 6669   ttsCommandSuffi
+00014070: 7820 3d20 2222 0a20 2020 2020 2020 2020  x = "".         
+00014080: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014090: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
+000140a0: 203d 2066 2727 277b 7474 7343 6f6d 6d61   = f'''{ttsComma
+000140b0: 6e64 7d20 2274 6573 7469 6e67 227b 7474  nd} "testing"{tt
+000140c0: 7343 6f6d 6d61 6e64 5375 6666 6978 7d27  sCommandSuffix}'
+000140d0: 2727 0a20 2020 2020 2020 2020 2020 205f  ''.            _
+000140e0: 2c20 7374 6445 7272 203d 2073 7562 7072  , stdErr = subpr
+000140f0: 6f63 6573 732e 506f 7065 6e28 636f 6d6d  ocess.Popen(comm
+00014100: 616e 642c 2073 6865 6c6c 3d54 7275 652c  and, shell=True,
+00014110: 2073 7464 6f75 743d 7375 6270 726f 6365   stdout=subproce
+00014120: 7373 2e50 4950 452c 2073 7464 6572 723d  ss.PIPE, stderr=
+00014130: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
+00014140: 2e63 6f6d 6d75 6e69 6361 7465 2829 0a20  .communicate(). 
+00014150: 2020 2020 2020 2020 2020 2069 6620 7374             if st
+00014160: 6445 7272 3a0a 2020 2020 2020 2020 2020  dErr:.          
+00014170: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+00014180: 2e73 686f 7745 7272 6f72 7328 2920 6966  .showErrors() if
+00014190: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+000141a0: 7220 656c 7365 2073 656c 662e 7072 696e  r else self.prin
+000141b0: 7428 2245 6e74 6572 6564 2063 6f6d 6d61  t("Entered comma
+000141c0: 6e64 2069 6e76 616c 6964 2122 290a 2020  nd invalid!").  
+000141d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000141e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000141f0: 636f 6e66 6967 2e74 7473 436f 6d6d 616e  config.ttsComman
+00014200: 642c 2063 6f6e 6669 672e 7474 7343 6f6d  d, config.ttsCom
+00014210: 6d61 6e64 5375 6666 6978 203d 2074 7473  mandSuffix = tts
+00014220: 436f 6d6d 616e 642c 2074 7473 436f 6d6d  Command, ttsComm
+00014230: 616e 6453 7566 6669 780a 2020 2020 2020  andSuffix.      
+00014240: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00014250: 2e73 6176 6543 6f6e 6669 6728 290a 2020  .saveConfig().  
+00014260: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00014270: 2020 2020 2020 2020 636f 6e66 6967 2e74          config.t
+00014280: 7473 436f 6d6d 616e 642c 2063 6f6e 6669  tsCommand, confi
+00014290: 672e 7474 7343 6f6d 6d61 6e64 5375 6666  g.ttsCommandSuff
+000142a0: 6978 203d 2022 222c 2022 220a 0a20 2020  ix = "", ""..   
+000142b0: 2064 6566 2074 6f67 676c 6557 6f72 6457   def toggleWordW
+000142c0: 7261 7028 7365 6c66 293a 0a20 2020 2020  rap(self):.     
+000142d0: 2020 2063 6f6e 6669 672e 7772 6170 576f     config.wrapWo
+000142e0: 7264 7320 3d20 6e6f 7420 636f 6e66 6967  rds = not config
+000142f0: 2e77 7261 7057 6f72 6473 0a20 2020 2020  .wrapWords.     
+00014300: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+00014310: 6e66 6967 2829 0a20 2020 2020 2020 2073  nfig().        s
+00014320: 656c 662e 7072 696e 7433 2866 2257 6f72  elf.print3(f"Wor
+00014330: 6420 5772 6170 3a20 277b 2765 6e61 626c  d Wrap: '{'enabl
+00014340: 6564 2720 6966 2063 6f6e 6669 672e 7772  ed' if config.wr
+00014350: 6170 576f 7264 7320 656c 7365 2027 6469  apWords else 'di
+00014360: 7361 626c 6564 277d 2721 2229 0a0a 2020  sabled'}'!")..  
+00014370: 2020 6465 6620 746f 6767 6c65 4d6f 7573    def toggleMous
+00014380: 6553 7570 706f 7274 2873 656c 6629 3a0a  eSupport(self):.
+00014390: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
+000143a0: 6f75 7365 5375 7070 6f72 7420 3d20 6e6f  ouseSupport = no
+000143b0: 7420 636f 6e66 6967 2e6d 6f75 7365 5375  t config.mouseSu
+000143c0: 7070 6f72 740a 2020 2020 2020 2020 636f  pport.        co
+000143d0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+000143e0: 290a 2020 2020 2020 2020 7365 6c66 2e70  ).        self.p
+000143f0: 7269 6e74 3328 6622 456e 7472 7920 4d6f  rint3(f"Entry Mo
+00014400: 7573 6520 5375 7070 6f72 743a 2027 7b27  use Support: '{'
+00014410: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00014420: 6967 2e6d 6f75 7365 5375 7070 6f72 7420  ig.mouseSupport 
+00014430: 656c 7365 2027 6469 7361 626c 6564 277d  else 'disabled'}
+00014440: 2721 2229 0a0a 2020 2020 6465 6620 746f  '!")..    def to
+00014450: 6767 6c65 496d 7072 6f76 6564 5772 6974  ggleImprovedWrit
+00014460: 696e 6728 7365 6c66 293a 0a20 2020 2020  ing(self):.     
+00014470: 2020 2063 6f6e 6669 672e 6469 7370 6c61     config.displa
+00014480: 7949 6d70 726f 7665 6457 7269 7469 6e67  yImprovedWriting
+00014490: 203d 206e 6f74 2063 6f6e 6669 672e 6469   = not config.di
+000144a0: 7370 6c61 7949 6d70 726f 7665 6457 7269  splayImprovedWri
+000144b0: 7469 6e67 0a20 2020 2020 2020 2069 6620  ting.        if 
+000144c0: 636f 6e66 6967 2e64 6973 706c 6179 496d  config.displayIm
+000144d0: 7072 6f76 6564 5772 6974 696e 673a 0a20  provedWriting:. 
+000144e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000144f0: 7072 696e 7428 2250 6c65 6173 6520 7370  print("Please sp
+00014500: 6563 6966 7920 7468 6520 7772 6974 696e  ecify the writin
+00014510: 6720 7374 796c 6520 6265 6c6f 773a 2229  g style below:")
+00014520: 0a20 2020 2020 2020 2020 2020 2073 7479  .            sty
+00014530: 6c65 203d 2073 656c 662e 7072 6f6d 7074  le = self.prompt
+00014540: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
+00014550: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
+00014560: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
+00014570: 6465 6661 756c 743d 636f 6e66 6967 2e69  default=config.i
+00014580: 6d70 726f 7665 6457 7269 7469 6e67 5379  mprovedWritingSy
+00014590: 746c 6529 0a20 2020 2020 2020 2020 2020  tle).           
+000145a0: 2069 6620 7374 796c 6520 616e 6420 6e6f   if style and no
+000145b0: 7420 7374 796c 6520 696e 2028 636f 6e66  t style in (conf
+000145c0: 6967 2e65 7869 745f 656e 7472 792c 2063  ig.exit_entry, c
+000145d0: 6f6e 6669 672e 6361 6e63 656c 5f65 6e74  onfig.cancel_ent
+000145e0: 7279 293a 0a20 2020 2020 2020 2020 2020  ry):.           
+000145f0: 2020 2020 2063 6f6e 6669 672e 696d 7072       config.impr
+00014600: 6f76 6564 5772 6974 696e 6753 7974 6c65  ovedWritingSytle
+00014610: 203d 2073 7479 6c65 0a20 2020 2020 2020   = style.       
+00014620: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014630: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
+00014640: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00014650: 2866 2249 6d70 726f 7665 6420 5772 6974  (f"Improved Writ
+00014660: 696e 6720 4469 7370 6c61 793a 2027 7b27  ing Display: '{'
+00014670: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00014680: 6967 2e64 6973 706c 6179 496d 7072 6f76  ig.displayImprov
+00014690: 6564 5772 6974 696e 6720 656c 7365 2027  edWriting else '
+000146a0: 6469 7361 626c 6564 277d 2721 2229 0a0a  disabled'}'!")..
+000146b0: 2020 2020 6465 6620 7365 7441 7564 696f      def setAudio
+000146c0: 506c 6179 6261 636b 546f 6f6c 2873 656c  PlaybackTool(sel
+000146d0: 6629 3a0a 2020 2020 2020 2020 706c 6179  f):.        play
+000146e0: 6261 636b 203d 2073 656c 662e 6469 616c  back = self.dial
+000146f0: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
+00014700: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
+00014710: 206f 7074 696f 6e73 3d28 2270 7967 616d   options=("pygam
+00014720: 6522 2c20 2276 6c63 2229 2c0a 2020 2020  e", "vlc"),.    
+00014730: 2020 2020 2020 2020 6465 7363 7269 7074          descript
+00014740: 696f 6e73 3d28 2250 7947 616d 6522 2c20  ions=("PyGame", 
+00014750: 6622 564c 4320 506c 6179 6572 2028 772f  f"VLC Player (w/
+00014760: 2073 7065 6564 2063 6f6e 7472 6f6c 297b   speed control){
+00014770: 2720 5b69 6e73 7461 6c6c 6174 696f 6e20  ' [installation 
+00014780: 7265 7175 6972 6564 5d27 2069 6620 6e6f  required]' if no
+00014790: 7420 636f 6e66 6967 2e69 7356 6c63 506c  t config.isVlcPl
+000147a0: 6179 6572 496e 7374 616c 6c65 6420 656c  ayerInstalled el
+000147b0: 7365 2027 277d 2229 2c0a 2020 2020 2020  se ''}"),.      
+000147c0: 2020 2020 2020 7469 746c 653d 2254 6578        title="Tex
+000147d0: 742d 746f 2d53 7065 6563 6820 506c 6179  t-to-Speech Play
+000147e0: 6261 636b 222c 0a20 2020 2020 2020 2020  back",.         
+000147f0: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
+00014800: 6120 7465 7874 2d74 6f2d 7370 6565 6368  a text-to-speech
+00014810: 2070 6c61 636b 6261 636b 2074 6f6f 6c3a   plackback tool:
+00014820: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
+00014830: 6566 6175 6c74 3d22 766c 6322 2069 6620  efault="vlc" if 
+00014840: 636f 6e66 6967 2e69 7356 6c63 506c 6179  config.isVlcPlay
+00014850: 6572 496e 7374 616c 6c65 6420 616e 6420  erInstalled and 
+00014860: 6e6f 7420 636f 6e66 6967 2e75 7365 5079  not config.usePy
+00014870: 6761 6d65 2065 6c73 6520 2270 7967 616d  game else "pygam
+00014880: 6522 2c0a 2020 2020 2020 2020 290a 2020  e",.        ).  
+00014890: 2020 2020 2020 6966 2070 6c61 7962 6163        if playbac
+000148a0: 6b3a 0a20 2020 2020 2020 2020 2020 2069  k:.            i
+000148b0: 6620 706c 6179 6261 636b 203d 3d20 2276  f playback == "v
+000148c0: 6c63 223a 0a20 2020 2020 2020 2020 2020  lc":.           
+000148d0: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+000148e0: 6967 2e69 7356 6c63 506c 6179 6572 496e  ig.isVlcPlayerIn
+000148f0: 7374 616c 6c65 643a 0a20 2020 2020 2020  stalled:.       
+00014900: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00014910: 662e 7072 696e 7428 2256 4c43 2070 6c61  f.print("VLC pla
+00014920: 7965 7220 6e6f 7420 666f 756e 6421 2049  yer not found! I
+00014930: 6e73 7461 6c6c 2069 7420 6669 7273 7421  nstall it first!
+00014940: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00014950: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00014960: 7433 2822 5465 7874 2d74 6f2d 5370 6565  t3("Text-to-Spee
+00014970: 6368 2050 6c61 7962 6163 6b20 6368 616e  ch Playback chan
+00014980: 6765 6420 746f 3a20 5079 4761 6d65 2229  ged to: PyGame")
+00014990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000149a0: 2020 2020 2063 6f6e 6669 672e 7573 6550       config.useP
+000149b0: 7967 616d 6520 3d20 5472 7565 0a20 2020  ygame = True.   
+000149c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000149d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000149e0: 2020 2020 2020 2063 6f6e 6669 672e 7573         config.us
+000149f0: 6550 7967 616d 6520 3d20 4661 6c73 650a  ePygame = False.
+00014a00: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00014a10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014a20: 2020 636f 6e66 6967 2e75 7365 5079 6761    config.usePyga
+00014a30: 6d65 203d 2054 7275 650a 0a20 2020 2064  me = True..    d
+00014a40: 6566 2073 6574 5465 7874 546f 5370 6565  ef setTextToSpee
+00014a50: 6368 436f 6e66 6967 2873 656c 6629 3a0a  chConfig(self):.
+00014a60: 2020 2020 2020 2020 7474 7350 6c61 7466          ttsPlatf
+00014a70: 6f72 6d20 3d20 7365 6c66 2e64 6961 6c6f  orm = self.dialo
+00014a80: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
+00014a90: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
+00014aa0: 6f70 7469 6f6e 733d 2822 676f 6f67 6c65  options=("google
+00014ab0: 222c 2022 676f 6f67 6c65 636c 6f75 6422  ", "googlecloud"
+00014ac0: 2c20 2265 6c65 7665 6e6c 6162 7322 2c20  , "elevenlabs", 
+00014ad0: 2263 7573 746f 6d22 292c 0a20 2020 2020  "custom"),.     
+00014ae0: 2020 2020 2020 2064 6573 6372 6970 7469         descripti
+00014af0: 6f6e 733d 2822 476f 6f67 6c65 2054 6578  ons=("Google Tex
+00014b00: 742d 746f 2d53 7065 6563 6820 2847 656e  t-to-Speech (Gen
+00014b10: 6572 6963 2922 2c20 2247 6f6f 676c 6520  eric)", "Google 
+00014b20: 5465 7874 2d74 6f2d 5370 6565 6368 2028  Text-to-Speech (
+00014b30: 4150 4929 222c 2022 456c 6576 656e 4c61  API)", "ElevenLa
+00014b40: 6273 2028 4150 4929 222c 2022 4375 7374  bs (API)", "Cust
+00014b50: 6f6d 2054 6578 742d 746f 2d53 7065 6563  om Text-to-Speec
+00014b60: 6820 436f 6d6d 616e 6420 5b61 6476 616e  h Command [advan
+00014b70: 6365 645d 2229 2c0a 2020 2020 2020 2020  ced]"),.        
+00014b80: 2020 2020 7469 746c 653d 2254 6578 742d      title="Text-
+00014b90: 746f 2d53 7065 6563 6820 436f 6e66 6967  to-Speech Config
+00014ba0: 7572 6174 696f 6e73 222c 0a20 2020 2020  urations",.     
+00014bb0: 2020 2020 2020 2074 6578 743d 2253 656c         text="Sel
+00014bc0: 6563 7420 6120 7465 7874 2d74 6f2d 7370  ect a text-to-sp
+00014bd0: 6565 6368 2070 6c61 7466 6f72 6d3a 222c  eech platform:",
+00014be0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00014bf0: 6175 6c74 3d63 6f6e 6669 672e 7474 7350  ault=config.ttsP
+00014c00: 6c61 7466 6f72 6d2c 0a20 2020 2020 2020  latform,.       
+00014c10: 2029 0a20 2020 2020 2020 2069 6620 7474   ).        if tt
+00014c20: 7350 6c61 7466 6f72 6d3a 0a20 2020 2020  sPlatform:.     
+00014c30: 2020 2020 2020 2069 6620 7474 7350 6c61         if ttsPla
+00014c40: 7466 6f72 6d20 3d3d 2022 676f 6f67 6c65  tform == "google
+00014c50: 636c 6f75 6422 2061 6e64 206e 6f74 2028  cloud" and not (
+00014c60: 6f73 2e65 6e76 6972 6f6e 5b22 474f 4f47  os.environ["GOOG
+00014c70: 4c45 5f41 5050 4c49 4341 5449 4f4e 5f43  LE_APPLICATION_C
+00014c80: 5245 4445 4e54 4941 4c53 225d 2061 6e64  REDENTIALS"] and
+00014c90: 2022 5465 7874 2d74 6f2d 5370 6565 6368   "Text-to-Speech
+00014ca0: 2220 696e 2063 6f6e 6669 672e 656e 6162  " in config.enab
+00014cb0: 6c65 6447 6f6f 676c 6541 5049 7329 3a0a  ledGoogleAPIs):.
+00014cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014cd0: 7365 6c66 2e70 7269 6e74 3228 2247 6f6f  self.print2("Goo
+00014ce0: 676c 6520 436c 6f75 6420 5465 7874 2d74  gle Cloud Text-t
+00014cf0: 6f2d 5370 6565 6368 2066 6561 7475 7265  o-Speech feature
+00014d00: 2069 7320 6e6f 7420 656e 6162 6c65 6421   is not enabled!
+00014d10: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00014d20: 2020 2073 656c 662e 7072 696e 7433 2822     self.print3("
+00014d30: 5265 6164 3a20 6874 7470 733a 2f2f 6769  Read: https://gi
+00014d40: 7468 7562 2e63 6f6d 2f65 6c69 7261 6e77  thub.com/eliranw
+00014d50: 6f6e 672f 6c65 746d 6564 6f69 742f 7769  ong/letmedoit/wi
+00014d60: 6b69 2f47 6f6f 676c 652d 4150 492d 5365  ki/Google-API-Se
+00014d70: 7475 7022 290a 2020 2020 2020 2020 2020  tup").          
+00014d80: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00014d90: 3328 2254 6578 742d 746f 2d53 7065 6563  3("Text-to-Speec
+00014da0: 6820 706c 6174 666f 726d 2063 6861 6e67  h platform chang
+00014db0: 6564 2074 6f3a 2047 6f6f 676c 6520 5465  ed to: Google Te
+00014dc0: 7874 2d74 6f2d 5370 6565 6368 2028 4765  xt-to-Speech (Ge
+00014dd0: 6e65 7269 6329 2229 0a20 2020 2020 2020  neric)").       
+00014de0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014df0: 7474 7350 6c61 7466 6f72 6d20 3d20 2267  ttsPlatform = "g
+00014e00: 6f6f 676c 6522 0a20 2020 2020 2020 2020  oogle".         
+00014e10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014e20: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014e30: 7474 7350 6c61 7466 6f72 6d20 3d20 7474  ttsPlatform = tt
+00014e40: 7350 6c61 7466 6f72 6d0a 2020 2020 2020  sPlatform.      
+00014e50: 2020 2320 6675 7274 6865 7220 6f70 7469    # further opti
+00014e60: 6f6e 730a 2020 2020 2020 2020 6966 2063  ons.        if c
+00014e70: 6f6e 6669 672e 7474 7350 6c61 7466 6f72  onfig.ttsPlatfor
+00014e80: 6d20 3d3d 2022 676f 6f67 6c65 223a 0a20  m == "google":. 
+00014e90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014ea0: 7365 7447 7474 734c 616e 6775 6167 6528  setGttsLanguage(
+00014eb0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00014ec0: 6c66 2e73 6574 4175 6469 6f50 6c61 7962  lf.setAudioPlayb
+00014ed0: 6163 6b54 6f6f 6c28 290a 2020 2020 2020  ackTool().      
+00014ee0: 2020 2020 2020 7365 6c66 2e73 6574 566c        self.setVl
+00014ef0: 6353 7065 6564 2829 0a20 2020 2020 2020  cSpeed().       
+00014f00: 2065 6c69 6620 636f 6e66 6967 2e74 7473   elif config.tts
+00014f10: 506c 6174 666f 726d 203d 3d20 2267 6f6f  Platform == "goo
+00014f20: 676c 6563 6c6f 7564 223a 0a20 2020 2020  glecloud":.     
+00014f30: 2020 2020 2020 2073 656c 662e 7365 7447         self.setG
+00014f40: 6374 7473 4c61 6e67 7561 6765 2829 0a20  cttsLanguage(). 
+00014f50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014f60: 7365 7447 6374 7473 5370 6565 6428 290a  setGcttsSpeed().
+00014f70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00014f80: 2e73 6574 4175 6469 6f50 6c61 7962 6163  .setAudioPlaybac
+00014f90: 6b54 6f6f 6c28 290a 2020 2020 2020 2020  kTool().        
+00014fa0: 2020 2020 7365 6c66 2e73 6574 566c 6353      self.setVlcS
+00014fb0: 7065 6564 2829 0a20 2020 2020 2020 2065  peed().        e
+00014fc0: 6c69 6620 636f 6e66 6967 2e74 7473 506c  lif config.ttsPl
+00014fd0: 6174 666f 726d 203d 3d20 2265 6c65 7665  atform == "eleve
+00014fe0: 6e6c 6162 7322 3a0a 2020 2020 2020 2020  nlabs":.        
+00014ff0: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
+00015000: 672e 656c 6576 656e 6c61 6273 4170 693a  g.elevenlabsApi:
+00015010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015020: 2073 656c 662e 6368 616e 6765 456c 6576   self.changeElev
+00015030: 656e 6c61 6273 4170 6928 290a 2020 2020  enlabsApi().    
+00015040: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00015050: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
+00015060: 4170 693a 0a20 2020 2020 2020 2020 2020  Api:.           
+00015070: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00015080: 2245 6c65 7665 6e4c 6162 7320 4150 4920  "ElevenLabs API 
+00015090: 6b65 7920 6e6f 7420 666f 756e 6421 2229  key not found!")
+000150a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000150b0: 2073 656c 662e 7072 696e 7433 2822 5465   self.print3("Te
+000150c0: 7874 2d74 6f2d 5370 6565 6368 2070 6c61  xt-to-Speech pla
+000150d0: 7466 6f72 6d20 6368 616e 6765 6420 746f  tform changed to
+000150e0: 3a20 476f 6f67 6c65 2054 6578 742d 746f  : Google Text-to
+000150f0: 2d53 7065 6563 6820 2847 656e 6572 6963  -Speech (Generic
+00015100: 2922 290a 2020 2020 2020 2020 2020 2020  )").            
+00015110: 2020 2020 636f 6e66 6967 2e74 7473 506c      config.ttsPl
+00015120: 6174 666f 726d 203d 2022 676f 6f67 6c65  atform = "google
+00015130: 220a 2020 2020 2020 2020 2020 2020 656c  ".            el
+00015140: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00015150: 2020 2020 7365 6c66 2e73 6574 456c 6576      self.setElev
+00015160: 656e 6c61 6273 566f 6963 6528 290a 2020  enlabsVoice().  
+00015170: 2020 2020 2020 656c 6966 2063 6f6e 6669        elif confi
+00015180: 672e 7474 7350 6c61 7466 6f72 6d20 3d3d  g.ttsPlatform ==
+00015190: 2022 6375 7374 6f6d 223a 0a20 2020 2020   "custom":.     
+000151a0: 2020 2020 2020 2073 656c 662e 6465 6669         self.defi
+000151b0: 6e65 5474 7343 6f6d 6d61 6e64 2829 0a20  neTtsCommand(). 
+000151c0: 2020 2020 2020 2023 2073 6176 6520 636f         # save co
+000151d0: 6e66 6967 730a 2020 2020 2020 2020 636f  nfigs.        co
+000151e0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+000151f0: 290a 0a20 2020 2064 6566 2073 6574 566f  )..    def setVo
+00015200: 6963 6554 7970 696e 6743 6f6e 6669 6728  iceTypingConfig(
+00015210: 7365 6c66 293a 0a20 2020 2020 2020 2076  self):.        v
+00015220: 6f69 6365 5479 7069 6e67 506c 6174 666f  oiceTypingPlatfo
+00015230: 726d 203d 2073 656c 662e 6469 616c 6f67  rm = self.dialog
+00015240: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
+00015250: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
+00015260: 7074 696f 6e73 3d28 2267 6f6f 676c 6522  ptions=("google"
+00015270: 2c20 2267 6f6f 676c 6563 6c6f 7564 222c  , "googlecloud",
+00015280: 2022 7768 6973 7065 7222 292c 0a20 2020   "whisper"),.   
+00015290: 2020 2020 2020 2020 2064 6573 6372 6970           descrip
+000152a0: 7469 6f6e 733d 2822 476f 6f67 6c65 2053  tions=("Google S
+000152b0: 7065 6563 682d 746f 2d54 6578 7420 2847  peech-to-Text (G
+000152c0: 656e 6572 6963 2920 5b6f 6e6c 696e 655d  eneric) [online]
+000152d0: 222c 2022 476f 6f67 6c65 2053 7065 6563  ", "Google Speec
+000152e0: 682d 746f 2d54 6578 7420 2841 5049 2920  h-to-Text (API) 
+000152f0: 5b6f 6e6c 696e 655d 222c 2022 4f70 656e  [online]", "Open
+00015300: 4149 2057 6869 7370 6572 205b 6f66 666c  AI Whisper [offl
+00015310: 696e 653b 2073 6c6f 7765 7220 7769 7468  ine; slower with
+00015320: 206e 6f6e 2d45 6e67 6c69 7368 2076 6f69   non-English voi
+00015330: 6365 735d 2229 2c0a 2020 2020 2020 2020  ces]"),.        
+00015340: 2020 2020 7469 746c 653d 2256 6f69 6365      title="Voice
+00015350: 2054 7970 696e 6720 436f 6e66 6967 7572   Typing Configur
+00015360: 6174 696f 6e73 222c 0a20 2020 2020 2020  ations",.       
+00015370: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+00015380: 7420 6120 766f 6963 6520 7479 7069 6e67  t a voice typing
+00015390: 2070 6c61 7466 6f72 6d3a 222c 0a20 2020   platform:",.   
+000153a0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+000153b0: 3d63 6f6e 6669 672e 766f 6963 6554 7970  =config.voiceTyp
+000153c0: 696e 6750 6c61 7466 6f72 6d2c 0a20 2020  ingPlatform,.   
+000153d0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+000153e0: 6620 766f 6963 6554 7970 696e 6750 6c61  f voiceTypingPla
+000153f0: 7466 6f72 6d3a 0a20 2020 2020 2020 2020  tform:.         
+00015400: 2020 2069 6620 766f 6963 6554 7970 696e     if voiceTypin
+00015410: 6750 6c61 7466 6f72 6d20 3d3d 2022 676f  gPlatform == "go
+00015420: 6f67 6c65 636c 6f75 6422 2061 6e64 206e  oglecloud" and n
+00015430: 6f74 2028 6f73 2e65 6e76 6972 6f6e 5b22  ot (os.environ["
+00015440: 474f 4f47 4c45 5f41 5050 4c49 4341 5449  GOOGLE_APPLICATI
+00015450: 4f4e 5f43 5245 4445 4e54 4941 4c53 225d  ON_CREDENTIALS"]
+00015460: 2061 6e64 2022 5370 6565 6368 2d74 6f2d   and "Speech-to-
+00015470: 5465 7874 2220 696e 2063 6f6e 6669 672e  Text" in config.
+00015480: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
+00015490: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+000154a0: 2020 2020 7365 6c66 2e70 7269 6e74 3228      self.print2(
+000154b0: 2247 6f6f 676c 6520 436c 6f75 6420 5370  "Google Cloud Sp
+000154c0: 6565 6368 2d74 6f2d 5465 7874 2066 6561  eech-to-Text fea
+000154d0: 7475 7265 2069 7320 6e6f 7420 656e 6162  ture is not enab
+000154e0: 6c65 6421 2229 0a20 2020 2020 2020 2020  led!").         
+000154f0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00015500: 7433 2822 5265 6164 3a20 6874 7470 733a  t3("Read: https:
+00015510: 2f2f 6769 7468 7562 2e63 6f6d 2f65 6c69  //github.com/eli
+00015520: 7261 6e77 6f6e 672f 6c65 746d 6564 6f69  ranwong/letmedoi
+00015530: 742f 7769 6b69 2f47 6f6f 676c 652d 4150  t/wiki/Google-AP
+00015540: 492d 5365 7475 7022 290a 2020 2020 2020  I-Setup").      
+00015550: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00015560: 7269 6e74 3328 2256 6f69 6365 2074 7970  rint3("Voice typ
+00015570: 696e 6720 706c 6174 666f 726d 2063 6861  ing platform cha
+00015580: 6e67 6564 2074 6f3a 2047 6f6f 676c 6520  nged to: Google 
+00015590: 5370 6565 6368 2d74 6f2d 5465 7874 2028  Speech-to-Text (
+000155a0: 4765 6e65 7269 6329 2229 0a20 2020 2020  Generic)").     
+000155b0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+000155c0: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
+000155d0: 7466 6f72 6d20 3d20 2267 6f6f 676c 6522  tform = "google"
+000155e0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+000155f0: 6620 766f 6963 6554 7970 696e 6750 6c61  f voiceTypingPla
+00015600: 7466 6f72 6d20 3d3d 2022 7768 6973 7065  tform == "whispe
+00015610: 7222 2061 6e64 206e 6f74 2053 6861 7265  r" and not Share
+00015620: 6455 7469 6c2e 6973 5061 636b 6167 6549  dUtil.isPackageI
+00015630: 6e73 7461 6c6c 6564 2822 6666 6d70 6567  nstalled("ffmpeg
+00015640: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+00015650: 2020 2020 7365 6c66 2e70 7269 6e74 3228      self.print2(
+00015660: 2249 6e73 7461 6c6c 2027 6666 6d70 6567  "Install 'ffmpeg
+00015670: 2720 6669 7273 7420 746f 2075 7365 206f  ' first to use o
+00015680: 6666 6c69 6e65 206f 7065 6e61 6920 7768  ffline openai wh
+00015690: 6973 7065 7220 6d6f 6465 6c21 2229 0a20  isper model!"). 
+000156a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000156b0: 656c 662e 7072 696e 7433 2822 5265 6164  elf.print3("Read
+000156c0: 3a20 6874 7470 733a 2f2f 6769 7468 7562  : https://github
+000156d0: 2e63 6f6d 2f6f 7065 6e61 692f 7768 6973  .com/openai/whis
+000156e0: 7065 7223 7365 7475 7022 290a 2020 2020  per#setup").    
+000156f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00015700: 2e70 7269 6e74 3328 2256 6f69 6365 2074  .print3("Voice t
+00015710: 7970 696e 6720 706c 6174 666f 726d 2063  yping platform c
+00015720: 6861 6e67 6564 2074 6f3a 2047 6f6f 676c  hanged to: Googl
+00015730: 6520 5370 6565 6368 2d74 6f2d 5465 7874  e Speech-to-Text
+00015740: 2028 4765 6e65 7269 6329 2229 0a20 2020   (Generic)").   
+00015750: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00015760: 6669 672e 766f 6963 6554 7970 696e 6750  fig.voiceTypingP
+00015770: 6c61 7466 6f72 6d20 3d20 2267 6f6f 676c  latform = "googl
+00015780: 6522 0a20 2020 2020 2020 2020 2020 2065  e".            e
+00015790: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000157a0: 2020 2020 2063 6f6e 6669 672e 766f 6963       config.voic
+000157b0: 6554 7970 696e 6750 6c61 7466 6f72 6d20  eTypingPlatform 
+000157c0: 3d20 766f 6963 6554 7970 696e 6750 6c61  = voiceTypingPla
+000157d0: 7466 6f72 6d0a 2020 2020 2020 2020 2320  tform.        # 
+000157e0: 6c61 6e67 7561 6765 0a20 2020 2020 2020  language.       
+000157f0: 2073 656c 662e 7365 7453 7065 6563 6854   self.setSpeechT
+00015800: 6f54 6578 744c 616e 6775 6167 6528 290a  oTextLanguage().
+00015810: 2020 2020 2020 2020 2320 636f 6e66 6967          # config
+00015820: 7572 6520 636f 6e66 6967 2e76 6f69 6365  ure config.voice
+00015830: 5479 7069 6e67 4164 6a75 7374 416d 6269  TypingAdjustAmbi
+00015840: 656e 744e 6f69 7365 0a20 2020 2020 2020  entNoise.       
+00015850: 2076 6f69 6365 5479 7069 6e67 4164 6a75   voiceTypingAdju
+00015860: 7374 416d 6269 656e 744e 6f69 7365 203d  stAmbientNoise =
+00015870: 2073 656c 662e 6469 616c 6f67 732e 6765   self.dialogs.ge
+00015880: 7456 616c 6964 4f70 7469 6f6e 7328 0a20  tValidOptions(. 
+00015890: 2020 2020 2020 2020 2020 206f 7074 696f             optio
+000158a0: 6e73 3d28 2259 6573 222c 2022 4e6f 2229  ns=("Yes", "No")
+000158b0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+000158c0: 7363 7269 7074 696f 6e73 3d28 2259 6573  scriptions=("Yes
+000158d0: 205b 736c 6f77 6572 5d22 2c20 224e 6f22   [slower]", "No"
+000158e0: 292c 0a20 2020 2020 2020 2020 2020 2074  ),.            t
+000158f0: 6974 6c65 3d22 4164 6a75 7374 2041 6d62  itle="Adjust Amb
+00015900: 6965 6e74 204e 6f69 7365 222c 0a20 2020  ient Noise",.   
+00015910: 2020 2020 2020 2020 2074 6578 743d 2244           text="D
+00015920: 6f20 796f 7520 7761 6e74 2074 6f20 6164  o you want to ad
+00015930: 6a75 7374 2061 6d62 6965 6e74 206e 6f69  just ambient noi
+00015940: 7365 3f22 2c0a 2020 2020 2020 2020 2020  se?",.          
+00015950: 2020 6465 6661 756c 743d 2259 6573 2220    default="Yes" 
+00015960: 6966 2063 6f6e 6669 672e 766f 6963 6554  if config.voiceT
+00015970: 7970 696e 6741 646a 7573 7441 6d62 6965  ypingAdjustAmbie
+00015980: 6e74 4e6f 6973 6520 656c 7365 2022 4e6f  ntNoise else "No
+00015990: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+000159a0: 2020 2020 2069 6620 766f 6963 6554 7970       if voiceTyp
+000159b0: 696e 6741 646a 7573 7441 6d62 6965 6e74  ingAdjustAmbient
+000159c0: 4e6f 6973 653a 0a20 2020 2020 2020 2020  Noise:.         
+000159d0: 2020 2063 6f6e 6669 672e 766f 6963 6554     config.voiceT
+000159e0: 7970 696e 6741 646a 7573 7441 6d62 6965  ypingAdjustAmbie
+000159f0: 6e74 4e6f 6973 6520 3d20 5472 7565 2069  ntNoise = True i
+00015a00: 6620 766f 6963 6554 7970 696e 6741 646a  f voiceTypingAdj
+00015a10: 7573 7441 6d62 6965 6e74 4e6f 6973 6520  ustAmbientNoise 
+00015a20: 3d3d 2022 5965 7322 2065 6c73 6520 4661  == "Yes" else Fa
+00015a30: 6c73 650a 2020 2020 2020 2020 2320 6175  lse.        # au
+00015a40: 6469 6f20 6e6f 7469 6669 6361 7469 6f6e  dio notification
+00015a50: 0a20 2020 2020 2020 2076 6f69 6365 5479  .        voiceTy
+00015a60: 7069 6e67 4e6f 7469 6669 6361 7469 6f6e  pingNotification
+00015a70: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00015a80: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00015a90: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00015aa0: 696f 6e73 3d28 2259 6573 222c 2022 4e6f  ions=("Yes", "No
+00015ab0: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
+00015ac0: 7469 746c 653d 2241 7564 696f 204e 6f74  title="Audio Not
+00015ad0: 6966 6963 6174 696f 6e22 2c0a 2020 2020  ification",.    
+00015ae0: 2020 2020 2020 2020 7465 7874 3d22 446f          text="Do
+00015af0: 2079 6f75 2077 616e 7420 6175 6469 6f20   you want audio 
+00015b00: 6e6f 7469 6669 6361 7469 6f6e 2077 6865  notification whe
+00015b10: 6e20 796f 7520 7573 6520 6d69 6372 6f70  n you use microp
+00015b20: 686f 6e65 3f22 2c0a 2020 2020 2020 2020  hone?",.        
+00015b30: 2020 2020 6465 6661 756c 743d 2259 6573      default="Yes
+00015b40: 2220 6966 2063 6f6e 6669 672e 766f 6963  " if config.voic
+00015b50: 6554 7970 696e 674e 6f74 6966 6963 6174  eTypingNotificat
+00015b60: 696f 6e20 656c 7365 2022 4e6f 222c 0a20  ion else "No",. 
+00015b70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00015b80: 2069 6620 766f 6963 6554 7970 696e 674e   if voiceTypingN
+00015b90: 6f74 6966 6963 6174 696f 6e3a 0a20 2020  otification:.   
+00015ba0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00015bb0: 766f 6963 6554 7970 696e 674e 6f74 6966  voiceTypingNotif
+00015bc0: 6963 6174 696f 6e20 3d20 5472 7565 2069  ication = True i
+00015bd0: 6620 766f 6963 6554 7970 696e 674e 6f74  f voiceTypingNot
+00015be0: 6966 6963 6174 696f 6e20 3d3d 2022 5965  ification == "Ye
+00015bf0: 7322 2065 6c73 6520 4661 6c73 650a 2020  s" else False.  
+00015c00: 2020 2020 2020 2320 6175 746f 2063 6f6d        # auto com
+00015c10: 706c 6574 696f 6e3a 2076 6f69 6365 5479  pletion: voiceTy
+00015c20: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015c30: 0a20 2020 2020 2020 2076 6f69 6365 5479  .        voiceTy
+00015c40: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015c50: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00015c60: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00015c70: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00015c80: 696f 6e73 3d28 2259 6573 222c 2022 4e6f  ions=("Yes", "No
+00015c90: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
+00015ca0: 7469 746c 653d 2241 7564 696f 2045 6e74  title="Audio Ent
+00015cb0: 7279 2041 7574 6f20 436f 6d70 6c65 7469  ry Auto Completi
+00015cc0: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+00015cd0: 2074 6578 743d 2244 6f20 796f 7520 7761   text="Do you wa
+00015ce0: 6e74 2074 6f20 6175 746f 6d61 7469 6361  nt to automatica
+00015cf0: 6c6c 7920 636f 6d70 6c65 7465 2079 6f75  lly complete you
+00015d00: 7220 656e 7472 7920 7768 656e 206d 6963  r entry when mic
+00015d10: 726f 7068 6f6e 6520 7374 6f70 733f 222c  rophone stops?",
+00015d20: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00015d30: 6175 6c74 3d22 5965 7322 2069 6620 636f  ault="Yes" if co
+00015d40: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
+00015d50: 4175 746f 436f 6d70 6c65 7465 2065 6c73  AutoComplete els
+00015d60: 6520 224e 6f22 2c0a 2020 2020 2020 2020  e "No",.        
+00015d70: 290a 2020 2020 2020 2020 6966 2076 6f69  ).        if voi
+00015d80: 6365 5479 7069 6e67 4175 746f 436f 6d70  ceTypingAutoComp
+00015d90: 6c65 7465 3a0a 2020 2020 2020 2020 2020  lete:.          
+00015da0: 2020 636f 6e66 6967 2e76 6f69 6365 5479    config.voiceTy
+00015db0: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015dc0: 203d 2054 7275 6520 6966 2076 6f69 6365   = True if voice
+00015dd0: 5479 7069 6e67 4175 746f 436f 6d70 6c65  TypingAutoComple
+00015de0: 7465 203d 3d20 2259 6573 2220 656c 7365  te == "Yes" else
+00015df0: 2046 616c 7365 0a20 2020 2020 2020 2023   False.        #
+00015e00: 206e 6f74 6966 790a 2020 2020 2020 2020   notify.        
+00015e10: 7072 696e 7428 2222 290a 2020 2020 2020  print("").      
+00015e20: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+00015e30: 566f 6963 6520 5479 7069 6e67 204d 6f64  Voice Typing Mod
+00015e40: 656c 3a20 7b63 6f6e 6669 672e 766f 6963  el: {config.voic
+00015e50: 6554 7970 696e 6750 6c61 7466 6f72 6d7d  eTypingPlatform}
+00015e60: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00015e70: 7072 696e 7433 2866 2256 6f69 6365 2054  print3(f"Voice T
+00015e80: 7970 696e 6720 4c61 6e67 7561 6765 3a20  yping Language: 
+00015e90: 7b63 6f6e 6669 672e 766f 6963 6554 7970  {config.voiceTyp
+00015ea0: 696e 674c 616e 6775 6167 657d 2229 0a20  ingLanguage}"). 
+00015eb0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00015ec0: 7433 2866 2241 6d62 6965 6e74 204e 6f69  t3(f"Ambient Noi
+00015ed0: 7365 2041 646a 7573 746d 656e 743a 207b  se Adjustment: {
+00015ee0: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
+00015ef0: 6e67 4164 6a75 7374 416d 6269 656e 744e  ngAdjustAmbientN
+00015f00: 6f69 7365 7d22 290a 2020 2020 2020 2020  oise}").        
+00015f10: 7365 6c66 2e70 7269 6e74 3328 6622 4175  self.print3(f"Au
+00015f20: 6469 6f20 4e6f 7469 6669 6361 7469 6f6e  dio Notification
+00015f30: 3a20 7b63 6f6e 6669 672e 766f 6963 6554  : {config.voiceT
+00015f40: 7970 696e 674e 6f74 6966 6963 6174 696f  ypingNotificatio
+00015f50: 6e7d 2229 0a20 2020 2020 2020 2073 656c  n}").        sel
+00015f60: 662e 7072 696e 7433 2866 2241 7574 6f20  f.print3(f"Auto 
+00015f70: 436f 6d70 6c65 7469 6f6e 3a20 7b63 6f6e  Completion: {con
+00015f80: 6669 672e 766f 6963 6554 7970 696e 6741  fig.voiceTypingA
+00015f90: 7574 6f43 6f6d 706c 6574 657d 2229 0a20  utoComplete}"). 
+00015fa0: 2020 2020 2020 2023 2073 6176 6520 636f         # save co
+00015fb0: 6e66 6967 730a 2020 2020 2020 2020 636f  nfigs.        co
+00015fc0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+00015fd0: 290a 0a20 2020 2064 6566 2073 6176 6543  )..    def saveC
+00015fe0: 6861 7428 7365 6c66 2c20 6d65 7373 6167  hat(self, messag
+00015ff0: 6573 293a 0a20 2020 2020 2020 2069 6620  es):.        if 
+00016000: 636f 6e66 6967 2e63 6f6e 7665 7273 6174  config.conversat
+00016010: 696f 6e53 7461 7274 6564 3a0a 2020 2020  ionStarted:.    
+00016020: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
+00016030: 7020 3d20 5368 6172 6564 5574 696c 2e67  p = SharedUtil.g
+00016040: 6574 4375 7272 656e 7444 6174 6554 696d  etCurrentDateTim
+00016050: 6528 290a 0a20 2020 2020 2020 2020 2020  e()..           
+00016060: 2069 6620 6861 7361 7474 7228 636f 6e66   if hasattr(conf
+00016070: 6967 2c20 2273 6176 655f 6368 6174 5f72  ig, "save_chat_r
+00016080: 6563 6f72 6422 293a 0a20 2020 2020 2020  ecord"):.       
+00016090: 2020 2020 2020 2020 2023 2077 6865 6e20           # when 
+000160a0: 706c 7567 696e 2022 7361 7665 2063 6861  plugin "save cha
+000160b0: 7420 7265 636f 7264 7322 2069 7320 656e  t records" is en
+000160c0: 6162 6c65 640a 2020 2020 2020 2020 2020  abled.          
+000160d0: 2020 2020 2020 666f 7220 6f72 6465 722c        for order,
+000160e0: 2069 2069 6e20 656e 756d 6572 6174 6528   i in enumerate(
+000160f0: 6d65 7373 6167 6573 293a 0a20 2020 2020  messages):.     
+00016100: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016110: 6f6e 6669 672e 7361 7665 5f63 6861 745f  onfig.save_chat_
+00016120: 7265 636f 7264 2874 696d 6573 7461 6d70  record(timestamp
+00016130: 2c20 6f72 6465 722c 2069 290a 0a20 2020  , order, i)..   
+00016140: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+00016150: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00016160: 6c64 6572 5061 7468 203d 206f 732e 7061  lderPath = os.pa
+00016170: 7468 2e6a 6f69 6e28 7365 6c66 2e67 6574  th.join(self.get
+00016180: 4669 6c65 7328 292c 2022 6368 6174 7322  Files(), "chats"
+00016190: 2c20 7265 2e73 7562 2822 5e28 5b30 2d39  , re.sub("^([0-9
+000161a0: 5d2b 3f5c 2d5b 302d 395d 2b3f 295c 2d2e  ]+?\-[0-9]+?)\-.
+000161b0: 2a3f 2422 2c20 7222 5c31 222c 2074 696d  *?$", r"\1", tim
+000161c0: 6573 7461 6d70 2929 0a20 2020 2020 2020  estamp)).       
+000161d0: 2020 2020 2020 2020 2050 6174 6828 666f           Path(fo
+000161e0: 6c64 6572 5061 7468 292e 6d6b 6469 7228  lderPath).mkdir(
+000161f0: 7061 7265 6e74 733d 5472 7565 2c20 6578  parents=True, ex
+00016200: 6973 745f 6f6b 3d54 7275 6529 0a20 2020  ist_ok=True).   
+00016210: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00016220: 6f73 2e70 6174 682e 6973 6469 7228 666f  os.path.isdir(fo
+00016230: 6c64 6572 5061 7468 293a 0a20 2020 2020  lderPath):.     
+00016240: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016250: 6861 7446 696c 6520 3d20 6f73 2e70 6174  hatFile = os.pat
+00016260: 682e 6a6f 696e 2866 6f6c 6465 7250 6174  h.join(folderPat
+00016270: 682c 2066 227b 7469 6d65 7374 616d 707d  h, f"{timestamp}
+00016280: 2e74 7874 2229 0a20 2020 2020 2020 2020  .txt").         
+00016290: 2020 2020 2020 2020 2020 2077 6974 6820             with 
+000162a0: 6f70 656e 2863 6861 7446 696c 652c 2022  open(chatFile, "
+000162b0: 7722 2c20 656e 636f 6469 6e67 3d22 7574  w", encoding="ut
+000162c0: 662d 3822 2920 6173 2066 696c 654f 626a  f-8") as fileObj
+000162d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000162e0: 2020 2020 2020 2020 2020 6669 6c65 4f62            fileOb
+000162f0: 6a2e 7772 6974 6528 7070 7269 6e74 2e70  j.write(pprint.p
+00016300: 666f 726d 6174 286d 6573 7361 6765 7329  format(messages)
+00016310: 290a 2020 2020 2020 2020 2020 2020 6578  ).            ex
+00016320: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00016330: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00016340: 3228 2246 6169 6c65 6420 746f 2073 6176  2("Failed to sav
+00016350: 6520 6368 6174 215c 6e22 290a 2020 2020  e chat!\n").    
+00016360: 2020 2020 2020 2020 2020 2020 5368 6172              Shar
+00016370: 6564 5574 696c 2e73 686f 7745 7272 6f72  edUtil.showError
+00016380: 7328 290a 0a20 2020 2064 6566 2065 7870  s()..    def exp
+00016390: 6f72 7443 6861 7428 7365 6c66 2c20 6d65  ortChat(self, me
+000163a0: 7373 6167 6573 2c20 6f70 656e 4669 6c65  ssages, openFile
+000163b0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+000163c0: 6966 2063 6f6e 6669 672e 636f 6e76 6572  if config.conver
+000163d0: 7361 7469 6f6e 5374 6172 7465 643a 0a20  sationStarted:. 
+000163e0: 2020 2020 2020 2020 2020 2070 6c61 696e             plain
+000163f0: 5465 7874 203d 2022 220a 2020 2020 2020  Text = "".      
+00016400: 2020 2020 2020 7469 6d65 7374 616d 7020        timestamp 
+00016410: 3d20 5368 6172 6564 5574 696c 2e67 6574  = SharedUtil.get
+00016420: 4375 7272 656e 7444 6174 6554 696d 6528  CurrentDateTime(
+00016430: 290a 0a20 2020 2020 2020 2020 2020 2066  )..            f
+00016440: 6f72 2069 2069 6e20 6d65 7373 6167 6573  or i in messages
+00016450: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00016460: 2020 6966 2069 5b22 726f 6c65 225d 203d    if i["role"] =
+00016470: 3d20 2275 7365 7222 3a0a 2020 2020 2020  = "user":.      
+00016480: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00016490: 6e74 656e 7420 3d20 695b 2263 6f6e 7465  ntent = i["conte
+000164a0: 6e74 225d 0a20 2020 2020 2020 2020 2020  nt"].           
+000164b0: 2020 2020 2020 2020 2070 6c61 696e 5465           plainTe
+000164c0: 7874 202b 3d20 6622 3e3e 3e20 7b63 6f6e  xt += f">>> {con
+000164d0: 7465 6e74 7d22 0a20 2020 2020 2020 2020  tent}".         
+000164e0: 2020 2020 2020 2069 6620 695b 2272 6f6c         if i["rol
+000164f0: 6522 5d20 3d3d 2022 6675 6e63 7469 6f6e  e"] == "function
+00016500: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+00016510: 2020 2020 2020 2069 6620 706c 6169 6e54         if plainT
+00016520: 6578 743a 0a20 2020 2020 2020 2020 2020  ext:.           
+00016530: 2020 2020 2020 2020 2020 2020 2070 6c61               pla
+00016540: 696e 5465 7874 202b 3d20 225c 6e5c 6e22  inText += "\n\n"
+00016550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016560: 2020 2020 206e 616d 6520 3d20 695b 226e       name = i["n
+00016570: 616d 6522 5d0a 2020 2020 2020 2020 2020  ame"].          
+00016580: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+00016590: 6578 7420 2b3d 2066 2260 6060 5c6e 7b6e  ext += f"```\n{n
+000165a0: 616d 657d 5c6e 6060 6022 0a20 2020 2020  ame}\n```".     
+000165b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000165c0: 6f6e 7465 6e74 203d 2069 5b22 636f 6e74  ontent = i["cont
+000165d0: 656e 7422 5d0a 2020 2020 2020 2020 2020  ent"].          
+000165e0: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+000165f0: 6578 7420 2b3d 2066 225c 6e5c 6e7b 636f  ext += f"\n\n{co
+00016600: 6e74 656e 747d 5c6e 5c6e 220a 2020 2020  ntent}\n\n".    
+00016610: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00016620: 2069 5b22 726f 6c65 225d 203d 3d20 2261   i["role"] == "a
+00016630: 7373 6973 7461 6e74 223a 0a20 2020 2020  ssistant":.     
+00016640: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016650: 6f6e 7465 6e74 203d 2069 5b22 636f 6e74  ontent = i["cont
+00016660: 656e 7422 5d0a 2020 2020 2020 2020 2020  ent"].          
+00016670: 2020 2020 2020 2020 2020 6966 2063 6f6e            if con
+00016680: 7465 6e74 2069 7320 6e6f 7420 4e6f 6e65  tent is not None
+00016690: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000166a0: 2020 2020 2020 2020 2020 6966 2070 6c61            if pla
+000166b0: 696e 5465 7874 3a0a 2020 2020 2020 2020  inText:.        
+000166c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166d0: 2020 2020 706c 6169 6e54 6578 7420 2b3d      plainText +=
+000166e0: 2022 5c6e 5c6e 220a 2020 2020 2020 2020   "\n\n".        
+000166f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016700: 706c 6169 6e54 6578 7420 2b3d 2066 227b  plainText += f"{
+00016710: 636f 6e74 656e 747d 5c6e 5c6e 220a 2020  content}\n\n".  
+00016720: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+00016730: 6578 7420 3d20 706c 6169 6e54 6578 742e  ext = plainText.
+00016740: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
+00016750: 2020 2020 6966 2063 6f6e 6669 672e 7465      if config.te
+00016760: 726d 696e 616c 456e 6162 6c65 5465 726d  rminalEnableTerm
+00016770: 7578 4150 493a 0a20 2020 2020 2020 2020  uxAPI:.         
+00016780: 2020 2020 2020 2070 7964 6f63 2e70 6970         pydoc.pip
+00016790: 6570 6167 6572 2870 6c61 696e 5465 7874  epager(plainText
+000167a0: 2c20 636d 643d 2274 6572 6d75 782d 7368  , cmd="termux-sh
+000167b0: 6172 6520 2d61 2073 656e 6422 290a 2020  are -a send").  
+000167c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000167d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000167e0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+000167f0: 2020 2020 2020 2020 2066 6f6c 6465 7250           folderP
+00016800: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+00016810: 696e 2873 656c 662e 6765 7446 696c 6573  in(self.getFiles
+00016820: 2829 2c20 2263 6861 7473 222c 2022 6578  (), "chats", "ex
+00016830: 706f 7274 2229 0a20 2020 2020 2020 2020  port").         
+00016840: 2020 2020 2020 2020 2020 2050 6174 6828             Path(
+00016850: 666f 6c64 6572 5061 7468 292e 6d6b 6469  folderPath).mkdi
+00016860: 7228 7061 7265 6e74 733d 5472 7565 2c20  r(parents=True, 
+00016870: 6578 6973 745f 6f6b 3d54 7275 6529 0a20  exist_ok=True). 
+00016880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016890: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
+000168a0: 6469 7228 666f 6c64 6572 5061 7468 293a  dir(folderPath):
+000168b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000168c0: 2020 2020 2020 2020 2063 6861 7446 696c           chatFil
+000168d0: 6520 3d20 6f73 2e70 6174 682e 6a6f 696e  e = os.path.join
+000168e0: 2866 6f6c 6465 7250 6174 682c 2066 227b  (folderPath, f"{
+000168f0: 7469 6d65 7374 616d 707d 2e74 7874 2229  timestamp}.txt")
+00016900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016910: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
+00016920: 656e 2863 6861 7446 696c 652c 2022 7722  en(chatFile, "w"
+00016930: 2c20 656e 636f 6469 6e67 3d22 7574 662d  , encoding="utf-
+00016940: 3822 2920 6173 2066 696c 654f 626a 3a0a  8") as fileObj:.
+00016950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016960: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+00016970: 4f62 6a2e 7772 6974 6528 706c 6169 6e54  Obj.write(plainT
+00016980: 6578 7429 0a20 2020 2020 2020 2020 2020  ext).           
+00016990: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000169a0: 6f70 656e 4669 6c65 2061 6e64 206f 732e  openFile and os.
+000169b0: 7061 7468 2e69 7366 696c 6528 6368 6174  path.isfile(chat
+000169c0: 4669 6c65 293a 0a20 2020 2020 2020 2020  File):.         
+000169d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000169e0: 2020 206f 732e 7379 7374 656d 2866 2727     os.system(f''
+000169f0: 277b 636f 6e66 6967 2e6f 7065 6e7d 2022  '{config.open} "
+00016a00: 7b63 6861 7446 696c 657d 2227 2727 290a  {chatFile}"''').
+00016a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016a20: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
+00016a30: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00016a40: 2e70 7269 6e74 3228 2246 6169 6c65 6420  .print2("Failed 
+00016a50: 746f 2073 6176 6520 6368 6174 215c 6e22  to save chat!\n"
+00016a60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00016a70: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+00016a80: 2e73 686f 7745 7272 6f72 7328 290a 0a20  .showErrors().. 
+00016a90: 2020 2064 6566 2072 756e 496e 7374 7275     def runInstru
+00016aa0: 6374 696f 6e28 7365 6c66 293a 0a20 2020  ction(self):.   
+00016ab0: 2020 2020 2069 6e73 7472 7563 7469 6f6e       instruction
+00016ac0: 7320 3d20 6c69 7374 2863 6f6e 6669 672e  s = list(config.
+00016ad0: 7072 6564 6566 696e 6564 496e 7374 7275  predefinedInstru
+00016ae0: 6374 696f 6e73 2e6b 6579 7328 2929 0a20  ctions.keys()). 
+00016af0: 2020 2020 2020 2069 6e73 7472 7563 7469         instructi
+00016b00: 6f6e 203d 2073 656c 662e 6469 616c 6f67  on = self.dialog
+00016b10: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
+00016b20: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
+00016b30: 7074 696f 6e73 3d69 6e73 7472 7563 7469  ptions=instructi
+00016b40: 6f6e 732c 0a20 2020 2020 2020 2020 2020  ons,.           
+00016b50: 2074 6974 6c65 3d22 5072 6564 6566 696e   title="Predefin
+00016b60: 6564 2049 6e73 7472 7563 7469 6f6e 7322  ed Instructions"
+00016b70: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
+00016b80: 7874 3d22 5365 6c65 6374 2061 6e20 696e  xt="Select an in
+00016b90: 7374 7275 6374 696f 6e3a 222c 0a20 2020  struction:",.   
+00016ba0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00016bb0: 6620 696e 7374 7275 6374 696f 6e3a 0a20  f instruction:. 
+00016bc0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00016bd0: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
+00016be0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+00016bf0: 6564 496e 7374 7275 6374 696f 6e73 5b69  edInstructions[i
+00016c00: 6e73 7472 7563 7469 6f6e 5d0a 2020 2020  nstruction].    
+00016c10: 2020 2020 2020 2020 636f 6e66 6967 2e61          config.a
+00016c20: 6363 6570 745f 6465 6661 756c 7420 3d20  ccept_default = 
+00016c30: 5472 7565 0a0a 2020 2020 6465 6620 6368  True..    def ch
+00016c40: 616e 6765 436f 6e74 6578 7428 7365 6c66  angeContext(self
+00016c50: 293a 0a20 2020 2020 2020 2063 6f6e 7465  ):.        conte
+00016c60: 7874 7320 3d20 6c69 7374 2863 6f6e 6669  xts = list(confi
+00016c70: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
+00016c80: 6578 7473 2e6b 6579 7328 2929 0a20 2020  exts.keys()).   
+00016c90: 2020 2020 2070 7265 6465 6669 6e65 6443       predefinedC
+00016ca0: 6f6e 7465 7874 203d 2073 656c 662e 6469  ontext = self.di
+00016cb0: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
+00016cc0: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
+00016cd0: 2020 206f 7074 696f 6e73 3d63 6f6e 7465     options=conte
+00016ce0: 7874 732c 0a20 2020 2020 2020 2020 2020  xts,.           
+00016cf0: 2074 6974 6c65 3d22 5072 6564 6566 696e   title="Predefin
+00016d00: 6564 2043 6f6e 7465 7874 7322 2c0a 2020  ed Contexts",.  
+00016d10: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+00016d20: 743d 636f 6e66 6967 2e70 7265 6465 6669  t=config.predefi
+00016d30: 6e65 6443 6f6e 7465 7874 2c0a 2020 2020  nedContext,.    
+00016d40: 2020 2020 2020 2020 7465 7874 3d22 5365          text="Se
+00016d50: 6c65 6374 2061 2063 6f6e 7465 7874 3a22  lect a context:"
+00016d60: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00016d70: 2020 2020 6966 2070 7265 6465 6669 6e65      if predefine
+00016d80: 6443 6f6e 7465 7874 3a0a 2020 2020 2020  dContext:.      
+00016d90: 2020 2020 2020 636f 6e66 6967 2e70 7265        config.pre
+00016da0: 6465 6669 6e65 6443 6f6e 7465 7874 203d  definedContext =
+00016db0: 2070 7265 6465 6669 6e65 6443 6f6e 7465   predefinedConte
+00016dc0: 7874 0a20 2020 2020 2020 2020 2020 2069  xt.            i
+00016dd0: 6620 636f 6e66 6967 2e70 7265 6465 6669  f config.predefi
+00016de0: 6e65 6443 6f6e 7465 7874 203d 3d20 225b  nedContext == "[
+00016df0: 6375 7374 6f6d 5d22 3a0a 2020 2020 2020  custom]":.      
+00016e00: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00016e10: 7269 6e74 2822 4564 6974 2063 7573 746f  rint("Edit custo
+00016e20: 6d20 636f 6e74 6578 7420 6265 6c6f 773a  m context below:
+00016e30: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00016e40: 2020 2063 7573 746f 6d43 6f6e 7465 7874     customContext
+00016e50: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00016e60: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00016e70: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00016e80: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+00016e90: 6661 756c 743d 636f 6e66 6967 2e63 7573  fault=config.cus
+00016ea0: 746f 6d50 7265 6465 6669 6e65 6443 6f6e  tomPredefinedCon
+00016eb0: 7465 7874 290a 2020 2020 2020 2020 2020  text).          
+00016ec0: 2020 2020 2020 6966 2063 7573 746f 6d43        if customC
+00016ed0: 6f6e 7465 7874 2061 6e64 206e 6f74 2063  ontext and not c
+00016ee0: 7573 746f 6d43 6f6e 7465 7874 2e73 7472  ustomContext.str
+00016ef0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+00016f00: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+00016f10: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00016f20: 2020 2020 2020 2063 6f6e 6669 672e 6375         config.cu
+00016f30: 7374 6f6d 5072 6564 6566 696e 6564 436f  stomPredefinedCo
+00016f40: 6e74 6578 7420 3d20 6375 7374 6f6d 436f  ntext = customCo
+00016f50: 6e74 6578 742e 7374 7269 7028 290a 2020  ntext.strip().  
+00016f60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00016f70: 2020 2020 2020 2020 2320 6120 7761 7920          # a way 
+00016f80: 746f 2071 7569 636b 6c79 2063 6c65 616e  to quickly clean
+00016f90: 2075 7020 636f 6e74 6578 740a 2020 2020   up context.    
+00016fa0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+00016fb0: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+00016fc0: 203d 2022 5b6e 6f6e 655d 220a 2020 2020   = "[none]".    
+00016fd0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00016fe0: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00016ff0: 7365 6c66 2e73 686f 7743 7572 7265 6e74  self.showCurrent
+00017000: 436f 6e74 6578 7428 290a 0a20 2020 2064  Context()..    d
+00017010: 6566 2067 6574 4469 7265 6374 6f72 794c  ef getDirectoryL
+00017020: 6973 7428 7365 6c66 293a 0a20 2020 2020  ist(self):.     
+00017030: 2020 2064 6972 6563 746f 7279 4c69 7374     directoryList
+00017040: 203d 205b 5d0a 2020 2020 2020 2020 666f   = [].        fo
+00017050: 7220 6620 696e 206f 732e 6c69 7374 6469  r f in os.listdi
+00017060: 7228 272e 2729 3a0a 2020 2020 2020 2020  r('.'):.        
+00017070: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
+00017080: 7364 6972 2866 293a 0a20 2020 2020 2020  sdir(f):.       
+00017090: 2020 2020 2020 2020 2073 6570 6172 6174           separat
+000170a0: 6f72 203d 2022 5c5c 2220 6966 2063 6f6e  or = "\\" if con
+000170b0: 6669 672e 7468 6973 506c 6174 666f 726d  fig.thisPlatform
+000170c0: 203d 3d20 2257 696e 646f 7773 2220 656c   == "Windows" el
+000170d0: 7365 2022 2f22 0a20 2020 2020 2020 2020  se "/".         
+000170e0: 2020 2020 2020 2064 6972 6563 746f 7279         directory
+000170f0: 4c69 7374 2e61 7070 656e 6428 6622 7b66  List.append(f"{f
+00017100: 7d7b 7365 7061 7261 746f 727d 2229 0a20  }{separator}"). 
+00017110: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00017120: 6f73 2e70 6174 682e 6973 6669 6c65 2866  os.path.isfile(f
+00017130: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00017140: 2020 2064 6972 6563 746f 7279 4c69 7374     directoryList
+00017150: 2e61 7070 656e 6428 6629 0a20 2020 2020  .append(f).     
+00017160: 2020 2072 6574 7572 6e20 6469 7265 6374     return direct
+00017170: 6f72 794c 6973 740a 0a20 2020 2064 6566  oryList..    def
+00017180: 2073 746f 7053 7069 6e6e 696e 6728 7365   stopSpinning(se
+00017190: 6c66 293a 0a20 2020 2020 2020 2074 7279  lf):.        try
+000171a0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+000171b0: 6e66 6967 2e73 746f 705f 6576 656e 742e  nfig.stop_event.
+000171c0: 7365 7428 290a 2020 2020 2020 2020 2020  set().          
+000171d0: 2020 636f 6e66 6967 2e73 7069 6e6e 6572    config.spinner
+000171e0: 5f74 6872 6561 642e 6a6f 696e 2829 0a20  _thread.join(). 
+000171f0: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
+00017200: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+00017210: 0a20 2020 2064 6566 2073 686f 774c 6f67  .    def showLog
+00017220: 6f28 7365 6c66 293a 0a20 2020 2020 2020  o(self):.       
+00017230: 2061 7070 4e61 6d65 203d 2063 6f6e 6669   appName = confi
+00017240: 672e 6c65 744d 6544 6f49 744e 616d 652e  g.letMeDoItName.
+00017250: 7370 6c69 7428 295b 305d 2e75 7070 6572  split()[0].upper
+00017260: 2829 0a20 2020 2020 2020 2074 6572 6d69  ().        termi
+00017270: 6e61 6c5f 7769 6474 6820 3d20 7368 7574  nal_width = shut
+00017280: 696c 2e67 6574 5f74 6572 6d69 6e61 6c5f  il.get_terminal_
+00017290: 7369 7a65 2829 2e63 6f6c 756d 6e73 0a20  size().columns. 
+000172a0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+000172b0: 2020 2020 2020 2020 6672 6f6d 2061 7274          from art
+000172c0: 2069 6d70 6f72 7420 7465 7874 3261 7274   import text2art
+000172d0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000172e0: 7465 726d 696e 616c 5f77 6964 7468 203e  terminal_width >
+000172f0: 3d20 3332 3a0a 2020 2020 2020 2020 2020  = 32:.          
+00017300: 2020 2020 2020 6c6f 676f 203d 2074 6578        logo = tex
+00017310: 7432 6172 7428 6170 704e 616d 652c 2066  t2art(appName, f
+00017320: 6f6e 743d 2263 7962 6572 6d65 6475 6d22  ont="cybermedum"
+00017330: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00017340: 6966 2074 6572 6d69 6e61 6c5f 7769 6474  if terminal_widt
+00017350: 6820 3e3d 2032 303a 0a20 2020 2020 2020  h >= 20:.       
+00017360: 2020 2020 2020 2020 206c 6f67 6f20 3d20           logo = 
+00017370: 7465 7874 3261 7274 2822 2022 2e6a 6f69  text2art(" ".joi
+00017380: 6e28 6170 704e 616d 6529 202b 2022 2022  n(appName) + " "
+00017390: 2c20 666f 6e74 3d22 7768 6974 655f 6275  , font="white_bu
+000173a0: 6262 6c65 2229 0a20 2020 2020 2020 2020  bble").         
+000173b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000173c0: 2020 2020 2020 2020 206c 6f67 6f20 3d20           logo = 
+000173d0: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+000173e0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+000173f0: 206c 6f67 6f20 3d20 6c6f 676f 5b3a 2d31   logo = logo[:-1
+00017400: 5d20 2320 7265 6d6f 7665 2074 6865 206c  ] # remove the l
+00017410: 696e 6562 7265 616b 2061 7420 7468 6520  inebreak at the 
+00017420: 656e 640a 2020 2020 2020 2020 6578 6365  end.        exce
+00017430: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+00017440: 6c6f 676f 203d 2063 6f6e 6669 672e 6c65  logo = config.le
+00017450: 744d 6544 6f49 744e 616d 650a 2020 2020  tMeDoItName.    
+00017460: 2020 2020 7072 696e 745f 666f 726d 6174      print_format
+00017470: 7465 645f 7465 7874 2848 544d 4c28 6622  ted_text(HTML(f"
+00017480: 3c7b 636f 6e66 6967 2e74 6572 6d69 6e61  <{config.termina
+00017490: 6c43 6f6d 6d61 6e64 456e 7472 7943 6f6c  lCommandEntryCol
+000174a0: 6f72 327d 3e7b 6c6f 676f 7d3c 2f7b 636f  or2}>{logo}</{co
+000174b0: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+000174c0: 6d61 6e64 456e 7472 7943 6f6c 6f72 327d  mandEntryColor2}
+000174d0: 3e22 2929 0a0a 2020 2020 6465 6620 7374  >"))..    def st
+000174e0: 6172 7443 6861 7473 2873 656c 6629 3a0a  artChats(self):.
+000174f0: 2020 2020 2020 2020 746f 6b65 6e56 616c          tokenVal
+00017500: 6964 6174 6f72 203d 2054 6f6b 656e 5661  idator = TokenVa
+00017510: 6c69 6461 746f 7228 290a 2020 2020 2020  lidator().      
+00017520: 2020 6465 6620 6765 7444 796e 616d 6963    def getDynamic
+00017530: 546f 6f6c 4261 7228 293a 0a20 2020 2020  ToolBar():.     
+00017540: 2020 2020 2020 2072 6574 7572 6e20 636f         return co
+00017550: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
+00017560: 4261 7254 6578 740a 2020 2020 2020 2020  BarText.        
+00017570: 6465 6620 7374 6172 7443 6861 7428 293a  def startChat():
+00017580: 0a20 2020 2020 2020 2020 2020 2063 6c65  .            cle
+00017590: 6172 2829 0a20 2020 2020 2020 2020 2020  ar().           
+000175a0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+000175b0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+000175c0: 2020 2020 2020 7365 6c66 2e73 686f 774c        self.showL
+000175d0: 6f67 6f28 290a 2020 2020 2020 2020 2020  ogo().          
+000175e0: 2020 7365 6c66 2e73 686f 7743 7572 7265    self.showCurre
+000175f0: 6e74 436f 6e74 6578 7428 290a 2020 2020  ntContext().    
+00017600: 2020 2020 2020 2020 2320 676f 2074 6f20          # go to 
+00017610: 7374 6172 7475 7020 6469 7265 6374 6f72  startup director
+00017620: 790a 2020 2020 2020 2020 2020 2020 7374  y.            st
+00017630: 6f72 6167 6564 6972 6563 746f 7279 203d  oragedirectory =
+00017640: 2073 656c 662e 6765 7446 696c 6573 2829   self.getFiles()
+00017650: 0a20 2020 2020 2020 2020 2020 206f 732e  .            os.
+00017660: 6368 6469 7228 7374 6f72 6167 6564 6972  chdir(storagedir
+00017670: 6563 746f 7279 290a 2020 2020 2020 2020  ectory).        
+00017680: 2020 2020 6d65 7373 6167 6573 203d 2073      messages = s
+00017690: 656c 662e 7265 7365 744d 6573 7361 6765  elf.resetMessage
+000176a0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+000176b0: 2373 656c 662e 7072 696e 7428 6622 7374  #self.print(f"st
+000176c0: 6172 7475 7020 6469 7265 6374 6f72 793a  artup directory:
+000176d0: 5c6e 7b73 746f 7261 6765 6469 7265 6374  \n{storagedirect
+000176e0: 6f72 797d 2229 0a20 2020 2020 2020 2020  ory}").         
+000176f0: 2020 2070 7269 6e74 5f66 6f72 6d61 7474     print_formatt
+00017700: 6564 5f74 6578 7428 4854 4d4c 2866 223c  ed_text(HTML(f"<
+00017710: 7b63 6f6e 6669 672e 7465 726d 696e 616c  {config.terminal
+00017720: 5072 6f6d 7074 496e 6469 6361 746f 7243  PromptIndicatorC
+00017730: 6f6c 6f72 327d 3e44 6972 6563 746f 7279  olor2}>Directory
+00017740: 3a3c 2f7b 636f 6e66 6967 2e74 6572 6d69  :</{config.termi
+00017750: 6e61 6c50 726f 6d70 7449 6e64 6963 6174  nalPromptIndicat
+00017760: 6f72 436f 6c6f 7232 7d3e 207b 7374 6f72  orColor2}> {stor
+00017770: 6167 6564 6972 6563 746f 7279 7d22 2929  agedirectory}"))
+00017780: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00017790: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+000177a0: 6964 6572 290a 0a20 2020 2020 2020 2020  ider)..         
+000177b0: 2020 2063 6f6e 6669 672e 636f 6e76 6572     config.conver
+000177c0: 7361 7469 6f6e 5374 6172 7465 6420 3d20  sationStarted = 
+000177d0: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
+000177e0: 2020 7265 7475 726e 2028 7374 6f72 6167    return (storag
+000177f0: 6564 6972 6563 746f 7279 2c20 6d65 7373  edirectory, mess
+00017800: 6167 6573 290a 2020 2020 2020 2020 7374  ages).        st
+00017810: 6f72 6167 6564 6972 6563 746f 7279 2c20  oragedirectory, 
+00017820: 636f 6e66 6967 2e63 7572 7265 6e74 4d65  config.currentMe
+00017830: 7373 6167 6573 203d 2073 7461 7274 4368  ssages = startCh
+00017840: 6174 2829 0a20 2020 2020 2020 2063 6f6e  at().        con
+00017850: 6669 672e 6d75 6c74 696c 696e 6549 6e70  fig.multilineInp
+00017860: 7574 203d 2046 616c 7365 0a20 2020 2020  ut = False.     
+00017870: 2020 2066 6561 7475 7265 734c 6f77 6572     featuresLower
+00017880: 203d 206c 6973 7428 7365 6c66 2e61 6374   = list(self.act
+00017890: 696f 6e73 2e6b 6579 7328 2929 202b 205b  ions.keys()) + [
+000178a0: 222e 2e2e 225d 0a20 2020 2020 2020 2023  "..."].        #
+000178b0: 2069 6e70 7574 2073 7567 6765 7374 696f   input suggestio
+000178c0: 6e73 0a20 2020 2020 2020 2063 6f6e 6669  ns.        confi
+000178d0: 672e 696e 7075 7453 7567 6765 7374 696f  g.inputSuggestio
+000178e0: 6e73 202b 3d20 6665 6174 7572 6573 4c6f  ns += featuresLo
+000178f0: 7765 720a 2020 2020 2020 2020 636f 6d70  wer.        comp
+00017900: 6c65 7465 7220 3d20 4675 7a7a 7943 6f6d  leter = FuzzyCom
+00017910: 706c 6574 6572 2857 6f72 6443 6f6d 706c  pleter(WordCompl
+00017920: 6574 6572 2863 6f6e 6669 672e 696e 7075  eter(config.inpu
+00017930: 7453 7567 6765 7374 696f 6e73 2c20 6967  tSuggestions, ig
+00017940: 6e6f 7265 5f63 6173 653d 5472 7565 2929  nore_case=True))
+00017950: 2069 6620 636f 6e66 6967 2e69 6e70 7574   if config.input
+00017960: 5375 6767 6573 7469 6f6e 7320 656c 7365  Suggestions else
+00017970: 204e 6f6e 650a 2020 2020 2020 2020 636f   None.        co
+00017980: 6d70 6c65 7465 725f 6465 7665 6c6f 7065  mpleter_develope
+00017990: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
+000179a0: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
+000179b0: 2863 6f6e 6669 672e 696e 7075 7453 7567  (config.inputSug
+000179c0: 6765 7374 696f 6e73 5b3a 5d20 2b20 5b66  gestions[:] + [f
+000179d0: 2263 6f6e 6669 672e 7b69 7d22 2066 6f72  "config.{i}" for
+000179e0: 2069 2069 6e20 6469 7228 636f 6e66 6967   i in dir(config
+000179f0: 2920 6966 206e 6f74 2069 2e73 7461 7274  ) if not i.start
+00017a00: 7377 6974 6828 225f 5f22 295d 202b 2073  swith("__")] + s
+00017a10: 656c 662e 6765 7444 6972 6563 746f 7279  elf.getDirectory
+00017a20: 4c69 7374 2829 2c20 6967 6e6f 7265 5f63  List(), ignore_c
+00017a30: 6173 653d 5472 7565 2929 0a20 2020 2020  ase=True)).     
+00017a40: 2020 2077 6869 6c65 2054 7275 653a 0a20     while True:. 
+00017a50: 2020 2020 2020 2020 2020 2023 2064 6566             # def
+00017a60: 6175 6c74 2074 6f6f 6c62 6172 2074 6578  ault toolbar tex
+00017a70: 740a 2020 2020 2020 2020 2020 2020 636f  t.            co
+00017a80: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
+00017a90: 4261 7254 6578 7420 3d20 6622 2222 207b  BarText = f""" {
+00017aa0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
+00017ab0: 795f 6578 6974 292e 7265 706c 6163 6528  y_exit).replace(
+00017ac0: 2227 222c 2022 2229 7d20 6578 6974 207b  "'", "")} exit {
+00017ad0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
+00017ae0: 795f 6469 7370 6c61 795f 6b65 795f 636f  y_display_key_co
+00017af0: 6d62 6f29 2e72 6570 6c61 6365 2822 2722  mbo).replace("'"
+00017b00: 2c20 2222 297d 2073 686f 7274 6375 7473  , "")} shortcuts
+00017b10: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
+00017b20: 2023 2064 6973 706c 6179 2063 7572 7265   # display curre
+00017b30: 6e74 2064 6972 6563 746f 7279 2069 6620  nt directory if 
+00017b40: 6368 616e 6765 640a 2020 2020 2020 2020  changed.        
+00017b50: 2020 2020 6375 7272 656e 7444 6972 6563      currentDirec
+00017b60: 746f 7279 203d 206f 732e 6765 7463 7764  tory = os.getcwd
+00017b70: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+00017b80: 6620 6e6f 7420 6375 7272 656e 7444 6972  f not currentDir
+00017b90: 6563 746f 7279 203d 3d20 7374 6f72 6167  ectory == storag
+00017ba0: 6564 6972 6563 746f 7279 3a0a 2020 2020  edirectory:.    
+00017bb0: 2020 2020 2020 2020 2020 2020 2373 656c              #sel
+00017bc0: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+00017bd0: 6964 6572 290a 2020 2020 2020 2020 2020  ider).          
+00017be0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00017bf0: 3328 6622 4375 7272 656e 7420 6469 7265  3(f"Current dire
+00017c00: 6374 6f72 793a 207b 6375 7272 656e 7444  ctory: {currentD
+00017c10: 6972 6563 746f 7279 7d22 290a 2020 2020  irectory}").    
+00017c20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00017c30: 2e70 7269 6e74 2873 656c 662e 6469 7669  .print(self.divi
+00017c40: 6465 7229 0a20 2020 2020 2020 2020 2020  der).           
+00017c50: 2020 2020 2073 746f 7261 6765 6469 7265       storagedire
+00017c60: 6374 6f72 7920 3d20 6375 7272 656e 7444  ctory = currentD
+00017c70: 6972 6563 746f 7279 0a20 2020 2020 2020  irectory.       
+00017c80: 2020 2020 2023 2064 6566 6175 6c74 2069       # default i
+00017c90: 6e70 7574 2065 6e74 7279 0a20 2020 2020  nput entry.     
+00017ca0: 2020 2020 2020 2061 6363 6570 745f 6465         accept_de
+00017cb0: 6661 756c 7420 3d20 636f 6e66 6967 2e61  fault = config.a
+00017cc0: 6363 6570 745f 6465 6661 756c 740a 2020  ccept_default.  
+00017cd0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00017ce0: 2e61 6363 6570 745f 6465 6661 756c 7420  .accept_default 
+00017cf0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00017d00: 2020 2020 6465 6661 756c 7445 6e74 7279      defaultEntry
+00017d10: 203d 2063 6f6e 6669 672e 6465 6661 756c   = config.defaul
+00017d20: 7445 6e74 7279 0a20 2020 2020 2020 2020  tEntry.         
+00017d30: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
+00017d40: 6669 6c65 2864 6566 6175 6c74 456e 7472  file(defaultEntr
+00017d50: 7929 3a0a 2020 2020 2020 2020 2020 2020  y):.            
+00017d60: 2020 2020 6465 6661 756c 7445 6e74 7279      defaultEntry
+00017d70: 203d 2066 2746 696c 653a 2022 7b64 6566   = f'File: "{def
+00017d80: 6175 6c74 456e 7472 797d 225c 6e27 0a20  aultEntry}"\n'. 
+00017d90: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00017da0: 6f73 2e70 6174 682e 6973 6469 7228 6465  os.path.isdir(de
+00017db0: 6661 756c 7445 6e74 7279 293a 0a20 2020  faultEntry):.   
+00017dc0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00017dd0: 6175 6c74 456e 7472 7920 3d20 6627 466f  aultEntry = f'Fo
+00017de0: 6c64 6572 3a20 227b 6465 6661 756c 7445  lder: "{defaultE
+00017df0: 6e74 7279 7d22 5c6e 270a 2020 2020 2020  ntry}"\n'.      
+00017e00: 2020 2020 2020 636f 6e66 6967 2e64 6566        config.def
+00017e10: 6175 6c74 456e 7472 7920 3d20 2222 0a0a  aultEntry = ""..
+00017e20: 2020 2020 2020 2020 2020 2020 2320 7573              # us
+00017e30: 6572 2069 6e70 7574 0a20 2020 2020 2020  er input.       
+00017e40: 2020 2020 2075 7365 7249 6e70 7574 203d       userInput =
+00017e50: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
+00017e60: 6d70 6c65 5072 6f6d 7074 2870 726f 6d70  mplePrompt(promp
+00017e70: 7453 6573 7369 6f6e 3d73 656c 662e 7465  tSession=self.te
+00017e80: 726d 696e 616c 5f63 6861 745f 7365 7373  rminal_chat_sess
+00017e90: 696f 6e2c 2063 6f6d 706c 6574 6572 3d63  ion, completer=c
+00017ea0: 6f6d 706c 6574 6572 5f64 6576 656c 6f70  ompleter_develop
+00017eb0: 6572 2069 6620 636f 6e66 6967 2e64 6576  er if config.dev
+00017ec0: 656c 6f70 6572 2065 6c73 6520 636f 6d70  eloper else comp
+00017ed0: 6c65 7465 722c 2064 6566 6175 6c74 3d64  leter, default=d
+00017ee0: 6566 6175 6c74 456e 7472 792c 2061 6363  efaultEntry, acc
+00017ef0: 6570 745f 6465 6661 756c 743d 6163 6365  ept_default=acce
+00017f00: 7074 5f64 6566 6175 6c74 2c20 7661 6c69  pt_default, vali
+00017f10: 6461 746f 723d 746f 6b65 6e56 616c 6964  dator=tokenValid
+00017f20: 6174 6f72 2c20 626f 7474 6f6d 5f74 6f6f  ator, bottom_too
+00017f30: 6c62 6172 3d67 6574 4479 6e61 6d69 6354  lbar=getDynamicT
+00017f40: 6f6f 6c42 6172 290a 2020 2020 2020 2020  oolBar).        
+00017f50: 2020 2020 0a20 2020 2020 2020 2020 2020      .           
+00017f60: 2023 2075 7064 6174 6520 7379 7374 656d   # update system
+00017f70: 206d 6573 7361 6765 2077 6865 6e20 7573   message when us
+00017f80: 6572 2065 6e74 6572 2061 206e 6577 2069  er enter a new i
+00017f90: 6e70 7574 0a20 2020 2020 2020 2020 2020  nput.           
+00017fa0: 2063 6f6e 6669 672e 6375 7272 656e 744d   config.currentM
+00017fb0: 6573 7361 6765 7320 3d20 7365 6c66 2e75  essages = self.u
+00017fc0: 7064 6174 6553 7973 7465 6d4d 6573 7361  pdateSystemMessa
+00017fd0: 6765 2863 6f6e 6669 672e 6375 7272 656e  ge(config.curren
+00017fe0: 744d 6573 7361 6765 7329 0a20 2020 2020  tMessages).     
+00017ff0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
+00018000: 2020 2020 2320 6469 7370 6c61 7920 6f70      # display op
+00018010: 7469 6f6e 7320 7768 656e 2065 6d70 7479  tions when empty
+00018020: 2073 7472 696e 6720 6973 2065 6e74 6572   string is enter
+00018030: 6564 0a20 2020 2020 2020 2020 2020 2075  ed.            u
+00018040: 7365 7249 6e70 7574 4c6f 7765 7220 3d20  serInputLower = 
+00018050: 7573 6572 496e 7075 742e 6c6f 7765 7228  userInput.lower(
+00018060: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00018070: 2063 6f6e 6669 672e 6164 6450 6174 6841   config.addPathA
+00018080: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
+00018090: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000180a0: 7265 6669 7820 3d20 7573 6572 496e 7075  refix = userInpu
+000180b0: 745b 3a63 6f6e 6669 672e 6164 6450 6174  t[:config.addPat
+000180c0: 6841 745d 0a20 2020 2020 2020 2020 2020  hAt].           
+000180d0: 2020 2020 2070 7265 6669 7853 706c 6974       prefixSplit
+000180e0: 203d 2070 7265 6669 782e 7273 706c 6974   = prefix.rsplit
+000180f0: 2822 2022 2c20 3129 0a20 2020 2020 2020  (" ", 1).       
+00018100: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+00018110: 7072 6566 6978 5370 6c69 7429 203e 2031  prefixSplit) > 1
+00018120: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00018130: 2020 2020 2020 6465 6661 756c 7420 3d20        default = 
+00018140: 7072 6566 6978 5370 6c69 745b 2d31 5d0a  prefixSplit[-1].
+00018150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018160: 2020 2020 7072 6566 6978 203d 2066 227b      prefix = f"{
+00018170: 7072 6566 6978 5370 6c69 745b 305d 7d20  prefixSplit[0]} 
+00018180: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00018190: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000181a0: 2020 2020 2020 2020 2020 2020 6465 6661              defa
+000181b0: 756c 7420 3d20 7072 6566 6978 0a20 2020  ult = prefix.   
+000181c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000181d0: 2070 7265 6669 7820 3d20 2222 0a20 2020   prefix = "".   
+000181e0: 2020 2020 2020 2020 2020 2020 2073 7566               suf
+000181f0: 6669 7820 3d20 7573 6572 496e 7075 745b  fix = userInput[
+00018200: 636f 6e66 6967 2e61 6464 5061 7468 4174  config.addPathAt
+00018210: 3a5d 0a20 2020 2020 2020 2020 2020 2020  :].             
+00018220: 2020 2063 6f6e 6669 672e 6164 6450 6174     config.addPat
+00018230: 6841 7420 3d20 4e6f 6e65 0a20 2020 2020  hAt = None.     
+00018240: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00018250: 7420 6465 6661 756c 743a 0a20 2020 2020  t default:.     
+00018260: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00018270: 6566 6175 6c74 203d 206f 732e 6765 7463  efault = os.getc
+00018280: 7764 2829 0a20 2020 2020 2020 2020 2020  wd().           
+00018290: 2020 2020 2075 7365 7250 6174 6820 3d20       userPath = 
+000182a0: 7365 6c66 2e67 6574 5061 7468 2e67 6574  self.getPath.get
+000182b0: 5061 7468 286d 6573 7361 6765 3d66 227b  Path(message=f"{
+000182c0: 7072 6566 6978 7d3c 7b63 6f6e 6669 672e  prefix}<{config.
+000182d0: 7465 726d 696e 616c 436f 6d6d 616e 6445  terminalCommandE
+000182e0: 6e74 7279 436f 6c6f 7232 7d3e 5b61 6464  ntryColor2}>[add
+000182f0: 2061 2070 6174 6820 6865 7265 5d3c 2f7b   a path here]</{
+00018300: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
+00018310: 6f6d 6d61 6e64 456e 7472 7943 6f6c 6f72  ommandEntryColor
+00018320: 327d 3e7b 7375 6666 6978 7d22 2c20 7072  2}>{suffix}", pr
+00018330: 6f6d 7074 496e 6469 6361 746f 723d 223e  omptIndicator=">
+00018340: 3e3e 2022 2c20 656d 7074 795f 746f 5f63  >> ", empty_to_c
+00018350: 616e 6365 6c3d 5472 7565 2c20 6465 6661  ancel=True, defa
+00018360: 756c 743d 6465 6661 756c 7429 0a20 2020  ult=default).   
+00018370: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018380: 6669 672e 6465 6661 756c 7445 6e74 7279  fig.defaultEntry
+00018390: 203d 2066 227b 7072 6566 6978 7d7b 7573   = f"{prefix}{us
+000183a0: 6572 5061 7468 7d7b 7375 6666 6978 7d22  erPath}{suffix}"
+000183b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000183c0: 2075 7365 7249 6e70 7574 203d 2022 220a   userInput = "".
+000183d0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000183e0: 206e 6f74 2075 7365 7249 6e70 7574 4c6f   not userInputLo
+000183f0: 7765 723a 0a20 2020 2020 2020 2020 2020  wer:.           
+00018400: 2020 2020 2075 7365 7249 6e70 7574 203d       userInput =
+00018410: 2063 6f6e 6669 672e 626c 616e 6b45 6e74   config.blankEnt
+00018420: 7279 4163 7469 6f6e 0a20 2020 2020 2020  ryAction.       
+00018430: 2020 2020 2069 6620 7573 6572 496e 7075       if userInpu
+00018440: 7420 3d3d 2022 2e2e 2e22 3a0a 2020 2020  t == "...":.    
+00018450: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00018460: 496e 7075 7420 3d20 7573 6572 496e 7075  Input = userInpu
+00018470: 744c 6f77 6572 203d 2073 656c 662e 7275  tLower = self.ru
+00018480: 6e41 6374 696f 6e73 2875 7365 7249 6e70  nActions(userInp
+00018490: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
+000184a0: 2365 6c69 6620 7573 6572 496e 7075 744c  #elif userInputL
+000184b0: 6f77 6572 2069 6e20 7475 706c 6528 7365  ower in tuple(se
+000184c0: 6c66 2e61 6374 696f 6e73 2e6b 6579 7328  lf.actions.keys(
+000184d0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+000184e0: 656c 6966 2075 7365 7249 6e70 7574 4c6f  elif userInputLo
+000184f0: 7765 722e 7374 6172 7473 7769 7468 2822  wer.startswith("
+00018500: 2e22 2920 616e 6420 6e6f 7420 7573 6572  .") and not user
+00018510: 496e 7075 744c 6f77 6572 2069 6e20 2863  InputLower in (c
+00018520: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
+00018530: 2c20 636f 6e66 6967 2e63 616e 6365 6c5f  , config.cancel_
+00018540: 656e 7472 792c 2022 2e6e 6577 222c 2022  entry, ".new", "
+00018550: 2e63 6f6e 7465 7874 2229 3a0a 2020 2020  .context"):.    
+00018560: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00018570: 496e 7075 7420 3d20 7573 6572 496e 7075  Input = userInpu
+00018580: 744c 6f77 6572 203d 2073 656c 662e 7275  tLower = self.ru
+00018590: 6e41 6374 696f 6e73 2822 2e2e 2e22 2c20  nActions("...", 
+000185a0: 7573 6572 496e 7075 7429 0a0a 2020 2020  userInput)..    
+000185b0: 2020 2020 2020 2020 2320 7265 706c 6163          # replac
+000185c0: 6520 616c 6961 732c 2069 6620 616e 7920  e alias, if any 
+000185d0: 7769 7468 2066 756c 6c20 656e 7472 790a  with full entry.
+000185e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000185f0: 616c 6961 732c 2066 756c 6c45 6e74 7279  alias, fullEntry
+00018600: 2069 6e20 636f 6e66 6967 2e61 6c69 6173   in config.alias
+00018610: 6573 2e69 7465 6d73 2829 3a0a 2020 2020  es.items():.    
+00018620: 2020 2020 2020 2020 2020 2020 2375 7365              #use
+00018630: 7249 6e70 7574 203d 2072 652e 7375 6228  rInput = re.sub(
+00018640: 616c 6961 732c 2066 756c 6c45 6e74 7279  alias, fullEntry
+00018650: 2c20 7573 6572 496e 7075 7429 2023 2065  , userInput) # e
+00018660: 7272 6f72 206f 6e20 5769 6e64 6f77 7320  rror on Windows 
+00018670: 636f 7a20 6f66 2057 696e 646f 7773 2070  coz of Windows p
+00018680: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
+00018690: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+000186a0: 7573 6572 496e 7075 742e 7265 706c 6163  userInput.replac
+000186b0: 6528 616c 6961 732c 2066 756c 6c45 6e74  e(alias, fullEnt
+000186c0: 7279 290a 0a20 2020 2020 2020 2020 2020  ry)..           
+000186d0: 2023 206f 7065 6e20 6669 6c65 202f 2064   # open file / d
+000186e0: 6972 6563 746f 7279 2064 6972 6563 746c  irectory directl
+000186f0: 790a 2020 2020 2020 2020 2020 2020 646f  y.            do
+00018700: 6373 5f70 6174 6820 3d20 5368 6172 6564  cs_path = Shared
+00018710: 5574 696c 2e69 7345 7869 7374 696e 6750  Util.isExistingP
+00018720: 6174 6828 7573 6572 496e 7075 7429 0a20  ath(userInput). 
+00018730: 2020 2020 2020 2020 2020 2069 6620 6f73             if os
+00018740: 2e70 6174 682e 6973 6669 6c65 2864 6f63  .path.isfile(doc
+00018750: 735f 7061 7468 293a 0a20 2020 2020 2020  s_path):.       
+00018760: 2020 2020 2020 2020 206f 732e 7379 7374           os.syst
+00018770: 656d 2866 227b 636f 6e66 6967 2e6f 7065  em(f"{config.ope
+00018780: 6e7d 207b 646f 6373 5f70 6174 687d 2229  n} {docs_path}")
+00018790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000187a0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+000187b0: 2020 2020 2020 656c 6966 206f 732e 7061        elif os.pa
+000187c0: 7468 2e69 7364 6972 2864 6f63 735f 7061  th.isdir(docs_pa
+000187d0: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
+000187e0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+000187f0: 2020 2020 2020 2020 2020 2020 2020 6f73                os
+00018800: 2e63 6864 6972 2864 6f63 735f 7061 7468  .chdir(docs_path
+00018810: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00018820: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00018830: 3328 6622 4469 7265 6374 6f72 7920 6368  3(f"Directory ch
+00018840: 616e 6765 6420 746f 3a20 7b64 6f63 735f  anged to: {docs_
+00018850: 7061 7468 7d22 290a 2020 2020 2020 2020  path}").        
+00018860: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00018870: 2e67 6574 5061 7468 2e64 6973 706c 6179  .getPath.display
+00018880: 4469 7265 6374 6f72 7943 6f6e 7465 6e74  DirectoryContent
+00018890: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000188a0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+000188b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000188c0: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
+000188d0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+000188e0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+000188f0: 7472 7920 6576 616c 0a20 2020 2020 2020  try eval.       
+00018900: 2020 2020 2069 6620 636f 6e66 6967 2e64       if config.d
+00018910: 6576 656c 6f70 6572 2061 6e64 206e 6f74  eveloper and not
+00018920: 2075 7365 7249 6e70 7574 203d 3d20 222e   userInput == ".
+00018930: 2e2e 223a 0a20 2020 2020 2020 2020 2020  ..":.           
+00018940: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00018950: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00018960: 6c75 6520 3d20 6576 616c 2875 7365 7249  lue = eval(userI
+00018970: 6e70 7574 2920 2320 6974 2073 6f6c 7665  nput) # it solve
+00018980: 2073 696d 706c 6520 6d61 7468 2c20 652e   simple math, e.
+00018990: 672e 2031 2b31 2c20 6f72 2072 6561 6420  g. 1+1, or read 
+000189a0: 7661 7269 6162 6c65 732c 2065 2e67 2e20  variables, e.g. 
+000189b0: 6469 7228 636f 6e66 6967 290a 2020 2020  dir(config).    
+000189c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000189d0: 6966 2076 616c 7565 2069 7320 6e6f 7420  if value is not 
+000189e0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+000189f0: 2020 2020 2020 2020 2020 2020 2020 2370                #p
+00018a00: 7269 6e74 2876 616c 7565 290a 2020 2020  rint(value).    
 00018a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018a20: 2073 746f 7053 7069 6e6e 696e 6728 290a   stopSpinning().
-00018a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018a40: 2020 2020 2348 616e 646c 6520 7261 7465      #Handle rate
-00018a50: 206c 696d 6974 2065 7272 6f72 2028 7765   limit error (we
-00018a60: 2072 6563 6f6d 6d65 6e64 2075 7369 6e67   recommend using
-00018a70: 2065 7870 6f6e 656e 7469 616c 2062 6163   exponential bac
-00018a80: 6b6f 6666 290a 2020 2020 2020 2020 2020  koff).          
-00018a90: 2020 2020 2020 2020 2020 7072 696e 7431            print1
-00018aa0: 2866 224f 7065 6e41 4920 4150 4920 7265  (f"OpenAI API re
-00018ab0: 7175 6573 7420 6578 6365 6564 6564 2072  quest exceeded r
-00018ac0: 6174 6520 6c69 6d69 743a 207b 657d 2229  ate limit: {e}")
-00018ad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018ae0: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00018af0: 2020 2020 2020 2020 2020 2020 2073 746f               sto
-00018b00: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
-00018b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018b20: 7472 6163 6520 3d20 7472 6163 6562 6163  trace = tracebac
-00018b30: 6b2e 666f 726d 6174 5f65 7863 2829 0a20  k.format_exc(). 
-00018b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018b50: 2020 2069 6620 2250 6c65 6173 6520 7265     if "Please re
-00018b60: 6475 6365 2074 6865 206c 656e 6774 6820  duce the length 
-00018b70: 6f66 2074 6865 206d 6573 7361 6765 7320  of the messages 
-00018b80: 6f72 2063 6f6d 706c 6574 696f 6e22 2069  or completion" i
-00018b90: 6e20 7472 6163 653a 0a20 2020 2020 2020  n trace:.       
+00018a20: 2020 2020 7070 7269 6e74 2e70 7072 696e      pprint.pprin
+00018a30: 7428 7661 6c75 6529 0a20 2020 2020 2020  t(value).       
+00018a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a50: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
+00018a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a70: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
+00018a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a90: 656c 6966 2072 652e 7365 6172 6368 2822  elif re.search("
+00018aa0: 5e70 7269 6e74 5c28 5b5e 5c29 5c29 5d2b  ^print\([^\)\)]+
+00018ab0: 3f5c 2924 222c 2075 7365 7249 6e70 7574  ?\)$", userInput
+00018ac0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00018ad0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00018ae0: 2822 2229 0a20 2020 2020 2020 2020 2020  ("").           
+00018af0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018b00: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
+00018b10: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
+00018b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018b30: 2020 7061 7373 0a20 2020 2020 2020 2020    pass.         
+00018b40: 2020 2023 2074 7279 2074 6f20 7275 6e20     # try to run 
+00018b50: 6173 2061 2070 7974 686f 6e20 7363 7269  as a python scri
+00018b60: 7074 2066 6972 7374 0a20 2020 2020 2020  pt first.       
+00018b70: 2020 2020 2069 6620 636f 6e66 6967 2e64       if config.d
+00018b80: 6576 656c 6f70 6572 3a0a 2020 2020 2020  eveloper:.      
+00018b90: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
 00018ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018bb0: 2070 7269 6e74 3128 224d 6178 696d 756d   print1("Maximum
-00018bc0: 2074 6f6b 656e 7320 7265 6163 6865 6421   tokens reached!
-00018bd0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00018be0: 2020 2020 2020 2065 6c69 6620 636f 6e66         elif conf
-00018bf0: 6967 2e64 6576 656c 6f70 6572 3a0a 2020  ig.developer:.  
-00018c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c10: 2020 2020 2020 7072 696e 7431 2873 656c        print1(sel
-00018c20: 662e 6469 7669 6465 7229 0a20 2020 2020  f.divider).     
-00018c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c40: 2020 2070 7269 6e74 3128 7472 6163 6529     print1(trace)
-00018c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018c60: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-00018c70: 7365 6c66 2e64 6976 6964 6572 290a 2020  self.divider).  
-00018c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c90: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00018ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018cb0: 7072 696e 7431 2822 4572 726f 7220 656e  print1("Error en
-00018cc0: 636f 756e 7465 7265 6421 2229 0a0a 2020  countered!")..  
-00018cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018ce0: 2020 636f 6e66 6967 2e64 6566 6175 6c74    config.default
-00018cf0: 456e 7472 7920 3d20 7573 6572 496e 7075  Entry = userInpu
-00018d00: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-00018d10: 2020 2020 2020 7072 696e 7431 2822 7374        print1("st
-00018d20: 6172 7469 6e67 2061 206e 6577 2063 6861  arting a new cha
-00018d30: 7421 2229 0a20 2020 2020 2020 2020 2020  t!").           
-00018d40: 2020 2020 2020 2020 2073 656c 662e 7361           self.sa
-00018d50: 7665 4368 6174 2863 6f6e 6669 672e 6375  veChat(config.cu
-00018d60: 7272 656e 744d 6573 7361 6765 7329 0a20  rrentMessages). 
-00018d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018d80: 2020 2073 746f 7261 6765 6469 7265 6374     storagedirect
-00018d90: 6f72 792c 2063 6f6e 6669 672e 6375 7272  ory, config.curr
-00018da0: 656e 744d 6573 7361 6765 7320 3d20 7374  entMessages = st
-00018db0: 6172 7443 6861 7428 290a 0a20 2020 2064  artChat()..    d
-00018dc0: 6566 206c 6175 6e63 6843 6861 7462 6f74  ef launchChatbot
-00018dd0: 2873 656c 662c 2063 6861 7462 6f74 2c20  (self, chatbot, 
-00018de0: 6669 6e65 5475 6e65 6455 7365 7249 6e70  fineTunedUserInp
-00018df0: 7574 293a 0a20 2020 2020 2020 2069 6620  ut):.        if 
-00018e00: 6e6f 7420 6368 6174 626f 743a 0a20 2020  not chatbot:.   
-00018e10: 2020 2020 2020 2020 2063 6861 7462 6f74           chatbot
-00018e20: 203d 2063 6f6e 6669 672e 6c6c 6d49 6e74   = config.llmInt
-00018e30: 6572 6661 6365 0a20 2020 2020 2020 2069  erface.        i
-00018e40: 6620 636f 6e66 6967 2e69 7354 6572 6d75  f config.isTermu
-00018e50: 783a 0a20 2020 2020 2020 2020 2020 2023  x:.            #
-00018e60: 6368 6174 626f 7420 3d20 2263 6861 7467  chatbot = "chatg
-00018e70: 7074 220a 2020 2020 2020 2020 2020 2020  pt".            
-00018e80: 2e2e 2e0a 2020 2020 2020 2020 6368 6174  ....        chat
-00018e90: 626f 7473 203d 207b 0a20 2020 2020 2020  bots = {.       
-00018ea0: 2020 2020 2022 6c6c 616d 6163 7070 223a       "llamacpp":
-00018eb0: 206c 616d 6264 613a 204c 6c61 6d61 6370   lambda: Llamacp
-00018ec0: 7043 6861 7428 6d6f 6465 6c3d 4e6f 6e65  pChat(model=None
-00018ed0: 2069 6620 636f 6e66 6967 2e75 7365 4164   if config.useAd
-00018ee0: 6469 7469 6f6e 616c 4368 6174 4d6f 6465  ditionalChatMode
-00018ef0: 6c20 656c 7365 2063 6f6e 6669 672e 6c6c  l else config.ll
-00018f00: 616d 6163 7070 4d61 696e 4d6f 6465 6c29  amacppMainModel)
-00018f10: 2e72 756e 2866 696e 6554 756e 6564 5573  .run(fineTunedUs
-00018f20: 6572 496e 7075 7429 2c0a 2020 2020 2020  erInput),.      
-00018f30: 2020 2020 2020 226f 6c6c 616d 6122 3a20        "ollama": 
-00018f40: 6c61 6d62 6461 3a20 4f6c 6c61 6d61 4368  lambda: OllamaCh
-00018f50: 6174 2829 2e72 756e 2866 696e 6554 756e  at().run(fineTun
-00018f60: 6564 5573 6572 496e 7075 742c 206d 6f64  edUserInput, mod
-00018f70: 656c 3d63 6f6e 6669 672e 6f6c 6c61 6d61  el=config.ollama
-00018f80: 4368 6174 4d6f 6465 6c20 6966 2063 6f6e  ChatModel if con
-00018f90: 6669 672e 7573 6541 6464 6974 696f 6e61  fig.useAdditiona
-00018fa0: 6c43 6861 744d 6f64 656c 2065 6c73 6520  lChatModel else 
-00018fb0: 636f 6e66 6967 2e6f 6c6c 616d 614d 6169  config.ollamaMai
-00018fc0: 6e4d 6f64 656c 292c 0a20 2020 2020 2020  nModel),.       
-00018fd0: 2020 2020 2022 6368 6174 6770 7422 3a20       "chatgpt": 
-00018fe0: 6c61 6d62 6461 3a20 4368 6174 4750 5428  lambda: ChatGPT(
-00018ff0: 292e 7275 6e28 6669 6e65 5475 6e65 6455  ).run(fineTunedU
-00019000: 7365 7249 6e70 7574 292c 0a20 2020 2020  serInput),.     
-00019010: 2020 2020 2020 2022 6c65 746d 6564 6f69         "letmedoi
-00019020: 7422 3a20 6c61 6d62 6461 3a20 4368 6174  t": lambda: Chat
-00019030: 4750 5428 292e 7275 6e28 6669 6e65 5475  GPT().run(fineTu
-00019040: 6e65 6455 7365 7249 6e70 7574 292c 0a20  nedUserInput),. 
-00019050: 2020 2020 2020 2020 2020 2022 6765 6d69             "gemi
-00019060: 6e69 223a 206c 616d 6264 613a 2047 656d  ni": lambda: Gem
-00019070: 696e 6950 726f 2874 656d 7065 7261 7475  iniPro(temperatu
-00019080: 7265 3d63 6f6e 6669 672e 6c6c 6d54 656d  re=config.llmTem
-00019090: 7065 7261 7475 7265 292e 7275 6e28 6669  perature).run(fi
-000190a0: 6e65 5475 6e65 6455 7365 7249 6e70 7574  neTunedUserInput
-000190b0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-000190c0: 6765 6d69 6e69 7072 6f22 3a20 6c61 6d62  geminipro": lamb
-000190d0: 6461 3a20 4765 6d69 6e69 5072 6f28 7465  da: GeminiPro(te
-000190e0: 6d70 6572 6174 7572 653d 636f 6e66 6967  mperature=config
-000190f0: 2e6c 6c6d 5465 6d70 6572 6174 7572 6529  .llmTemperature)
-00019100: 2e72 756e 2866 696e 6554 756e 6564 5573  .run(fineTunedUs
-00019110: 6572 496e 7075 7429 2c0a 2020 2020 2020  erInput),.      
-00019120: 2020 2020 2020 2270 616c 6d32 223a 206c        "palm2": l
-00019130: 616d 6264 613a 2050 616c 6d32 2829 2e72  ambda: Palm2().r
-00019140: 756e 2866 696e 6554 756e 6564 5573 6572  un(fineTunedUser
-00019150: 496e 7075 742c 2074 656d 7065 7261 7475  Input, temperatu
-00019160: 7265 3d63 6f6e 6669 672e 6c6c 6d54 656d  re=config.llmTem
-00019170: 7065 7261 7475 7265 292c 0a20 2020 2020  perature),.     
-00019180: 2020 2020 2020 2022 636f 6465 7922 3a20         "codey": 
-00019190: 6c61 6d62 6461 3a20 436f 6465 7928 292e  lambda: Codey().
-000191a0: 7275 6e28 6669 6e65 5475 6e65 6455 7365  run(fineTunedUse
-000191b0: 7249 6e70 7574 2c20 7465 6d70 6572 6174  rInput, temperat
-000191c0: 7572 653d 636f 6e66 6967 2e6c 6c6d 5465  ure=config.llmTe
-000191d0: 6d70 6572 6174 7572 6529 2c0a 2020 2020  mperature),.    
-000191e0: 2020 2020 7d0a 2020 2020 2020 2020 6966      }.        if
-000191f0: 2063 6861 7462 6f74 2069 6e20 6368 6174   chatbot in chat
-00019200: 626f 7473 3a0a 2020 2020 2020 2020 2020  bots:.          
-00019210: 2020 6368 6174 626f 7473 5b63 6861 7462    chatbots[chatb
-00019220: 6f74 5d28 290a 0a20 2020 2064 6566 2061  ot]()..    def a
-00019230: 6464 5061 6765 7254 6578 7428 7365 6c66  ddPagerText(self
-00019240: 2c20 7465 7874 2c20 7772 6170 576f 7264  , text, wrapWord
-00019250: 733d 4661 6c73 6529 3a0a 2020 2020 2020  s=False):.      
-00019260: 2020 6966 2077 7261 7057 6f72 6473 3a0a    if wrapWords:.
-00019270: 2020 2020 2020 2020 2020 2020 7465 7874              text
-00019280: 203d 2073 656c 662e 6765 7457 7261 7070   = self.getWrapp
-00019290: 6564 4854 4d4c 5465 7874 2874 6578 7429  edHTMLText(text)
-000192a0: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
-000192b0: 7061 6765 7243 6f6e 7465 6e74 202b 3d20  pagerContent += 
-000192c0: 6622 7b74 6578 747d 5c6e 220a 0a20 2020  f"{text}\n"..   
-000192d0: 2064 6566 206c 6175 6e63 6850 6167 6572   def launchPager
-000192e0: 2873 656c 662c 2070 6167 6572 436f 6e74  (self, pagerCont
-000192f0: 656e 743d 4e6f 6e65 293a 0a20 2020 2020  ent=None):.     
-00019300: 2020 2069 6620 7061 6765 7243 6f6e 7465     if pagerConte
-00019310: 6e74 2069 7320 4e6f 6e65 3a0a 2020 2020  nt is None:.    
-00019320: 2020 2020 2020 2020 7061 6765 7243 6f6e          pagerCon
-00019330: 7465 6e74 203d 2063 6f6e 6669 672e 7061  tent = config.pa
-00019340: 6765 7243 6f6e 7465 6e74 0a20 2020 2020  gerContent.     
-00019350: 2020 2069 6620 7061 6765 7243 6f6e 7465     if pagerConte
-00019360: 6e74 3a0a 2020 2020 2020 2020 2020 2020  nt:.            
-00019370: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00019380: 2020 2020 2069 6620 7368 7574 696c 2e77       if shutil.w
-00019390: 6869 6368 2822 6261 7422 293a 0a20 2020  hich("bat"):.   
-000193a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000193b0: 2023 2057 696e 646f 7773 2075 7365 7273   # Windows users
-000193c0: 2063 616e 2069 6e73 7461 6c6c 2062 6174   can install bat
-000193d0: 2063 6f6d 6d61 6e64 2077 6974 6820 7363   command with sc
-000193e0: 6f6f 700a 2020 2020 2020 2020 2020 2020  oop.            
-000193f0: 2020 2020 2020 2020 2320 7265 6164 3a20          # read: 
-00019400: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00019410: 6f6d 2f53 636f 6f70 496e 7374 616c 6c65  om/ScoopInstalle
-00019420: 722f 5363 6f6f 700a 2020 2020 2020 2020  r/Scoop.        
-00019430: 2020 2020 2020 2020 2020 2020 2320 3e20              # > 
-00019440: 6977 7220 2d75 7365 6220 6765 742e 7363  iwr -useb get.sc
-00019450: 6f6f 702e 7368 207c 2069 6578 0a20 2020  oop.sh | iex.   
-00019460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019470: 2023 203e 2073 636f 6f70 2069 6e73 7461   # > scoop insta
-00019480: 6c6c 2061 7269 6132 2062 6174 0a20 2020  ll aria2 bat.   
-00019490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000194a0: 2069 6620 7265 2e73 6561 7263 6828 223c   if re.search("<
-000194b0: 5b5e 3c3e 5d2b 3f3e 222c 2070 6167 6572  [^<>]+?>", pager
-000194c0: 436f 6e74 656e 7429 3a0a 2020 2020 2020  Content):.      
-000194d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000194e0: 2020 7061 6765 7243 6f6e 7465 6e74 203d    pagerContent =
-000194f0: 2054 6578 7455 7469 6c2e 636f 6e76 6572   TextUtil.conver
-00019500: 7448 746d 6c54 6167 546f 436f 6c6f 7261  tHtmlTagToColora
-00019510: 6d61 2870 6167 6572 436f 6e74 656e 7429  ma(pagerContent)
-00019520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019530: 2020 2020 206c 616e 6775 6167 6520 3d20       language = 
-00019540: 2250 7974 686f 6e22 2069 6620 2260 6060  "Python" if "```
-00019550: 7079 7468 6f6e 2220 696e 2070 6167 6572  python" in pager
-00019560: 436f 6e74 656e 7420 656c 7365 2022 4d61  Content else "Ma
-00019570: 726b 646f 776e 220a 2020 2020 2020 2020  rkdown".        
-00019580: 2020 2020 2020 2020 2020 2020 7079 646f              pydo
-00019590: 632e 7069 7065 7061 6765 7228 7061 6765  c.pipepager(page
-000195a0: 7243 6f6e 7465 6e74 2c20 636d 643d 6622  rContent, cmd=f"
-000195b0: 6261 7420 2d6c 207b 6c61 6e67 7561 6765  bat -l {language
-000195c0: 7d20 2d2d 7061 6769 6e67 2061 6c77 6179  } --paging alway
-000195d0: 7322 290a 2020 2020 2020 2020 2020 2020  s").            
-000195e0: 2020 2020 656c 6966 2073 6875 7469 6c2e      elif shutil.
-000195f0: 7768 6963 6828 226c 6573 7322 293a 0a20  which("less"):. 
-00019600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019610: 2020 2023 2057 696e 646f 7773 2075 7365     # Windows use
-00019620: 7273 2063 616e 2069 6e73 7461 6c6c 206c  rs can install l
-00019630: 6573 7320 636f 6d6d 616e 6420 7769 7468  ess command with
-00019640: 2073 636f 6f70 0a20 2020 2020 2020 2020   scoop.         
-00019650: 2020 2020 2020 2020 2020 2023 2072 6561             # rea
-00019660: 643a 2068 7474 7073 3a2f 2f67 6974 6875  d: https://githu
-00019670: 622e 636f 6d2f 5363 6f6f 7049 6e73 7461  b.com/ScoopInsta
-00019680: 6c6c 6572 2f53 636f 6f70 0a20 2020 2020  ller/Scoop.     
-00019690: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000196a0: 203e 2069 7772 202d 7573 6562 2067 6574   > iwr -useb get
-000196b0: 2e73 636f 6f70 2e73 6820 7c20 6965 780a  .scoop.sh | iex.
-000196c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000196d0: 2020 2020 2320 3e20 7363 6f6f 7020 696e      # > scoop in
-000196e0: 7374 616c 6c20 6172 6961 3220 6c65 7373  stall aria2 less
-000196f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019700: 2020 2020 2069 6620 7265 2e73 6561 7263       if re.searc
-00019710: 6828 223c 5b5e 3c3e 5d2b 3f3e 222c 2070  h("<[^<>]+?>", p
-00019720: 6167 6572 436f 6e74 656e 7429 3a0a 2020  agerContent):.  
-00019730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019740: 2020 2020 2020 7061 6765 7243 6f6e 7465        pagerConte
-00019750: 6e74 203d 2054 6578 7455 7469 6c2e 636f  nt = TextUtil.co
-00019760: 6e76 6572 7448 746d 6c54 6167 546f 436f  nvertHtmlTagToCo
-00019770: 6c6f 7261 6d61 2870 6167 6572 436f 6e74  lorama(pagerCont
-00019780: 656e 7429 0a20 2020 2020 2020 2020 2020  ent).           
-00019790: 2020 2020 2020 2020 2070 7964 6f63 2e70           pydoc.p
-000197a0: 6970 6570 6167 6572 2870 6167 6572 436f  ipepager(pagerCo
-000197b0: 6e74 656e 742c 2063 6d64 3d27 6c65 7373  ntent, cmd='less
-000197c0: 202d 5227 290a 2020 2020 2020 2020 2020   -R').          
-000197d0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00018bb0: 2020 2065 7865 6328 7573 6572 496e 7075     exec(userInpu
+00018bc0: 742c 2067 6c6f 6261 6c73 2829 290a 2020  t, globals()).  
+00018bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018be0: 2020 7072 696e 7428 2222 290a 2020 2020    print("").    
+00018bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c00: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00018c10: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+00018c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018c30: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
+00018c40: 2020 2020 2020 2069 6620 7573 6572 496e         if userIn
+00018c50: 7075 742e 7374 6172 7473 7769 7468 2822  put.startswith("
+00018c60: 2122 293a 0a20 2020 2020 2020 2020 2020  !"):.           
+00018c70: 2020 2020 2073 656c 662e 7275 6e53 7973       self.runSys
+00018c80: 7465 6d43 6f6d 6d61 6e64 2875 7365 7249  temCommand(userI
+00018c90: 6e70 7574 290a 2020 2020 2020 2020 2020  nput).          
+00018ca0: 2020 2020 2020 7072 696e 7428 2222 290a        print("").
+00018cb0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00018cc0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00018cd0: 7220 616e 6420 7573 6572 496e 7075 742e  r and userInput.
+00018ce0: 7374 6172 7473 7769 7468 2822 6060 6022  startswith("```"
+00018cf0: 2920 616e 6420 7573 6572 496e 7075 742e  ) and userInput.
+00018d00: 656e 6473 7769 7468 2822 6060 6022 2920  endswith("```") 
+00018d10: 616e 6420 6e6f 7420 7573 6572 496e 7075  and not userInpu
+00018d20: 7420 3d3d 2022 6060 6060 6060 223a 0a20  t == "``````":. 
+00018d30: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+00018d40: 7365 7249 6e70 7574 203d 2072 652e 7375  serInput = re.su
+00018d50: 6228 2260 6060 7079 7468 6f6e 222c 2022  b("```python", "
+00018d60: 6060 6022 2c20 7573 6572 496e 7075 7429  ```", userInput)
+00018d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018d80: 2073 656c 662e 7275 6e50 7974 686f 6e53   self.runPythonS
+00018d90: 6372 6970 7428 7573 6572 496e 7075 7429  cript(userInput)
+00018da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018db0: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
+00018dc0: 2020 2020 2020 2065 6c69 6620 7573 6572         elif user
+00018dd0: 496e 7075 744c 6f77 6572 203d 3d20 636f  InputLower == co
+00018de0: 6e66 6967 2e65 7869 745f 656e 7472 793a  nfig.exit_entry:
+00018df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018e00: 2073 656c 662e 7361 7665 4368 6174 2863   self.saveChat(c
+00018e10: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
+00018e20: 7361 6765 7329 0a20 2020 2020 2020 2020  sages).         
+00018e30: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00018e40: 6c66 2e65 7869 7441 6374 696f 6e28 290a  lf.exitAction().
+00018e50: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00018e60: 2075 7365 7249 6e70 7574 4c6f 7765 7220   userInputLower 
+00018e70: 3d3d 2063 6f6e 6669 672e 6361 6e63 656c  == config.cancel
+00018e80: 5f65 6e74 7279 3a0a 2020 2020 2020 2020  _entry:.        
+00018e90: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+00018ea0: 2020 2020 2020 2020 2065 6c69 6620 7573           elif us
+00018eb0: 6572 496e 7075 744c 6f77 6572 203d 3d20  erInputLower == 
+00018ec0: 222e 636f 6e74 6578 7422 3a0a 2020 2020  ".context":.    
+00018ed0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00018ee0: 2e63 6861 6e67 6543 6f6e 7465 7874 2829  .changeContext()
+00018ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018f00: 2069 6620 6e6f 7420 636f 6e66 6967 2e61   if not config.a
+00018f10: 7070 6c79 5072 6564 6566 696e 6564 436f  pplyPredefinedCo
+00018f20: 6e74 6578 7441 6c77 6179 733a 0a20 2020  ntextAlways:.   
+00018f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f40: 2069 6620 636f 6e66 6967 2e63 6f6e 7665   if config.conve
+00018f50: 7273 6174 696f 6e53 7461 7274 6564 3a0a  rsationStarted:.
+00018f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f70: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
+00018f80: 6543 6861 7428 636f 6e66 6967 2e63 7572  eChat(config.cur
+00018f90: 7265 6e74 4d65 7373 6167 6573 290a 2020  rentMessages).  
+00018fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018fb0: 2020 7374 6f72 6167 6564 6972 6563 746f    storagedirecto
+00018fc0: 7279 2c20 636f 6e66 6967 2e63 7572 7265  ry, config.curre
+00018fd0: 6e74 4d65 7373 6167 6573 203d 2073 7461  ntMessages = sta
+00018fe0: 7274 4368 6174 2829 0a20 2020 2020 2020  rtChat().       
+00018ff0: 2020 2020 2065 6c69 6620 7573 6572 496e       elif userIn
+00019000: 7075 744c 6f77 6572 203d 3d20 222e 6e65  putLower == ".ne
+00019010: 7722 2061 6e64 2063 6f6e 6669 672e 636f  w" and config.co
+00019020: 6e76 6572 7361 7469 6f6e 5374 6172 7465  nversationStarte
+00019030: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
+00019040: 2020 2073 656c 662e 7361 7665 4368 6174     self.saveChat
+00019050: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
+00019060: 6573 7361 6765 7329 0a20 2020 2020 2020  essages).       
+00019070: 2020 2020 2020 2020 2073 746f 7261 6765           storage
+00019080: 6469 7265 6374 6f72 792c 2063 6f6e 6669  directory, confi
+00019090: 672e 6375 7272 656e 744d 6573 7361 6765  g.currentMessage
+000190a0: 7320 3d20 7374 6172 7443 6861 7428 290a  s = startChat().
+000190b0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000190c0: 2075 7365 7249 6e70 7574 2061 6e64 206e   userInput and n
+000190d0: 6f74 2075 7365 7249 6e70 7574 4c6f 7765  ot userInputLowe
+000190e0: 7220 696e 2066 6561 7475 7265 734c 6f77  r in featuresLow
+000190f0: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
+00019100: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00019110: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00019120: 7573 6572 496e 7075 7420 616e 6420 636f  userInput and co
+00019130: 6e66 6967 2e74 7473 496e 7075 743a 0a20  nfig.ttsInput:. 
+00019140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019150: 2020 2020 2020 2054 5453 5574 696c 2e70         TTSUtil.p
+00019160: 6c61 7928 7573 6572 496e 7075 7429 0a20  lay(userInput). 
+00019170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019180: 2020 2023 2046 6561 7475 7265 3a20 696d     # Feature: im
+00019190: 7072 6f76 6520 7772 6974 696e 673a 0a20  prove writing:. 
+000191a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000191b0: 2020 2073 7065 6369 616c 456e 7472 7950     specialEntryP
+000191c0: 6174 7465 726e 203d 2022 5c5b 4341 4c4c  attern = "\[CALL
+000191d0: 5f5b 5e5c 5b5c 5d5d 2a3f 5c5d 7c5c 5b4e  _[^\[\]]*?\]|\[N
+000191e0: 4f5f 4655 4e43 5449 4f4e 5f43 414c 4c5c  O_FUNCTION_CALL\
+000191f0: 5d7c 5c5b 4e4f 5f53 4352 4545 4e49 4e47  ]|\[NO_SCREENING
+00019200: 5c5d 220a 2020 2020 2020 2020 2020 2020  \]".            
+00019210: 2020 2020 2020 2020 7370 6563 6961 6c45          specialE
+00019220: 6e74 7279 203d 2072 652e 7365 6172 6368  ntry = re.search
+00019230: 2873 7065 6369 616c 456e 7472 7950 6174  (specialEntryPat
+00019240: 7465 726e 2c20 7573 6572 496e 7075 7429  tern, userInput)
+00019250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019260: 2020 2020 2073 7065 6369 616c 456e 7472       specialEntr
+00019270: 7920 3d20 7370 6563 6961 6c45 6e74 7279  y = specialEntry
+00019280: 2e67 726f 7570 2830 2920 6966 2073 7065  .group(0) if spe
+00019290: 6369 616c 456e 7472 7920 656c 7365 2022  cialEntry else "
+000192a0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000192b0: 2020 2020 2020 7573 6572 496e 7075 7420        userInput 
+000192c0: 3d20 7265 2e73 7562 2873 7065 6369 616c  = re.sub(special
+000192d0: 456e 7472 7950 6174 7465 726e 2c20 2222  EntryPattern, ""
+000192e0: 2c20 7573 6572 496e 7075 7429 2023 2072  , userInput) # r
+000192f0: 656d 6f76 6520 7370 6563 6961 6c20 656e  emove special en
+00019300: 7472 7920 7465 6d70 6f72 6172 696c 790a  try temporarily.
+00019310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019320: 2020 2020 6966 2075 7365 7249 6e70 7574      if userInput
+00019330: 2061 6e64 2063 6f6e 6669 672e 6469 7370   and config.disp
+00019340: 6c61 7949 6d70 726f 7665 6457 7269 7469  layImprovedWriti
+00019350: 6e67 3a0a 2020 2020 2020 2020 2020 2020  ng:.            
+00019360: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00019370: 496e 7075 7420 3d20 7265 2e73 7562 2822  Input = re.sub("
+00019380: 5c6e 5c5b 4375 7272 656e 7420 7469 6d65  \n\[Current time
+00019390: 3a20 5b5e 5c6e 5d2a 3f24 222c 2022 222c  : [^\n]*?$", "",
+000193a0: 2075 7365 7249 6e70 7574 290a 2020 2020   userInput).    
+000193b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000193c0: 2020 2020 6966 2063 6f6e 6669 672e 6973      if config.is
+000193d0: 5465 726d 7578 3a0a 2020 2020 2020 2020  Termux:.        
+000193e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000193f0: 2020 2020 6461 795f 6f66 5f77 6565 6b20      day_of_week 
+00019400: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
+00019410: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00019420: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00019430: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00019440: 6179 5f6f 665f 7765 656b 203d 2066 2274  ay_of_week = f"t
+00019450: 6f64 6179 2069 7320 7b53 6861 7265 6455  oday is {SharedU
+00019460: 7469 6c2e 6765 7444 6179 4f66 5765 656b  til.getDayOfWeek
+00019470: 2829 7d20 616e 6420 220a 2020 2020 2020  ()} and ".      
+00019480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019490: 2020 696d 7072 6f76 6564 5665 7273 696f    improvedVersio
+000194a0: 6e20 3d20 5368 6172 6564 5574 696c 2e67  n = SharedUtil.g
+000194b0: 6574 5369 6e67 6c65 4368 6174 5265 7370  etSingleChatResp
+000194c0: 6f6e 7365 2866 2222 2249 6d70 726f 7665  onse(f"""Improve
+000194d0: 2074 6865 2066 6f6c 6c6f 7769 6e67 2077   the following w
+000194e0: 7269 7469 6e67 2c20 6163 636f 7264 696e  riting, accordin
+000194f0: 6720 746f 207b 636f 6e66 6967 2e69 6d70  g to {config.imp
+00019500: 726f 7665 6457 7269 7469 6e67 5379 746c  rovedWritingSytl
+00019510: 657d 0a49 6e20 6164 6469 7469 6f6e 2c20  e}.In addition, 
+00019520: 4920 776f 756c 6420 6c69 6b65 2079 6f75  I would like you
+00019530: 2074 6f20 6865 6c70 206d 6520 7769 7468   to help me with
+00019540: 2063 6f6e 7665 7274 696e 6720 7265 6c61   converting rela
+00019550: 7469 7665 2064 6174 6573 2061 6e64 2074  tive dates and t
+00019560: 696d 6573 2c20 6966 2061 6e79 2c20 696e  imes, if any, in
+00019570: 746f 2065 7861 6374 2064 6174 6573 2061  to exact dates a
+00019580: 6e64 2074 696d 6573 2062 6173 6564 206f  nd times based o
+00019590: 6e20 7468 6520 7265 6665 7265 6e63 6520  n the reference 
+000195a0: 7468 6174 207b 6461 795f 6f66 5f77 6565  that {day_of_wee
+000195b0: 6b7d 6375 7272 656e 7420 6461 7465 7469  k}current dateti
+000195c0: 6d65 2069 7320 7b73 7472 2864 6174 6574  me is {str(datet
+000195d0: 696d 652e 6461 7465 7469 6d65 2e6e 6f77  ime.datetime.now
+000195e0: 2829 297d 2e0a 5265 6d65 6d62 6572 2c20  ())}..Remember, 
+000195f0: 7072 6f76 6964 6520 6d65 2077 6974 6820  provide me with 
+00019600: 7468 6520 696d 7072 6f76 6564 2077 7269  the improved wri
+00019610: 7469 6e67 206f 6e6c 792c 2065 6e63 6c6f  ting only, enclo
+00019620: 7365 6420 696e 2074 7269 706c 6520 7175  sed in triple qu
+00019630: 6f74 6573 2060 6060 2061 6e64 2077 6974  otes ``` and wit
+00019640: 686f 7574 2061 6e79 2061 6464 6974 696f  hout any additio
+00019650: 6e61 6c20 696e 666f 726d 6174 696f 6e20  nal information 
+00019660: 6f72 2063 6f6d 6d65 6e74 732e 0a4d 7920  or comments..My 
+00019670: 7772 6974 696e 673a 0a7b 7573 6572 496e  writing:.{userIn
+00019680: 7075 747d 2222 2229 0a20 2020 2020 2020  put}""").       
+00019690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000196a0: 2069 6620 696d 7072 6f76 6564 5665 7273   if improvedVers
+000196b0: 696f 6e20 616e 6420 696d 7072 6f76 6564  ion and improved
+000196c0: 5665 7273 696f 6e2e 7374 6172 7473 7769  Version.startswi
+000196d0: 7468 2822 6060 6022 2920 616e 6420 696d  th("```") and im
+000196e0: 7072 6f76 6564 5665 7273 696f 6e2e 656e  provedVersion.en
+000196f0: 6473 7769 7468 2822 6060 6022 293a 0a20  dswith("```"):. 
+00019700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019710: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019720: 7072 696e 7428 696d 7072 6f76 6564 5665  print(improvedVe
+00019730: 7273 696f 6e29 0a20 2020 2020 2020 2020  rsion).         
+00019740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019750: 2020 2075 7365 7249 6e70 7574 203d 2069     userInput = i
+00019760: 6d70 726f 7665 6456 6572 7369 6f6e 5b33  mprovedVersion[3
+00019770: 3a2d 335d 0a20 2020 2020 2020 2020 2020  :-3].           
+00019780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019790: 2069 6620 636f 6e66 6967 2e74 7473 4f75   if config.ttsOu
+000197a0: 7470 7574 3a0a 2020 2020 2020 2020 2020  tput:.          
+000197b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000197c0: 2020 2020 2020 5454 5355 7469 6c2e 706c        TTSUtil.pl
+000197d0: 6179 2875 7365 7249 6e70 7574 290a 2020  ay(userInput).  
 000197e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197f0: 7079 646f 632e 7061 6765 7228 7061 6765  pydoc.pager(page
-00019800: 7243 6f6e 7465 6e74 290a 2020 2020 2020  rContent).      
-00019810: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
-00019820: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00019830: 6e66 6967 2e70 6167 6572 5669 6577 203d  nfig.pagerView =
-00019840: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-00019850: 2020 2020 2020 2073 686f 7745 7272 6f72         showError
-00019860: 7328 290a 0a20 2020 2023 2077 7261 7020  s()..    # wrap 
-00019870: 6874 6d6c 2074 6578 7420 6174 2073 7061  html text at spa
-00019880: 6365 730a 2020 2020 6465 6620 6765 7457  ces.    def getW
-00019890: 7261 7070 6564 4854 4d4c 5465 7874 2873  rappedHTMLText(s
-000198a0: 656c 662c 2074 6578 742c 2074 6572 6d69  elf, text, termi
-000198b0: 6e61 6c5f 7769 6474 683d 4e6f 6e65 293a  nal_width=None):
-000198c0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000198d0: 2220 2220 696e 2074 6578 743a 0a20 2020  " " in text:.   
-000198e0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000198f0: 7465 7874 0a20 2020 2020 2020 2069 6620  text.        if 
-00019900: 7465 726d 696e 616c 5f77 6964 7468 2069  terminal_width i
-00019910: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00019920: 2020 2020 7465 726d 696e 616c 5f77 6964      terminal_wid
-00019930: 7468 203d 2073 6875 7469 6c2e 6765 745f  th = shutil.get_
-00019940: 7465 726d 696e 616c 5f73 697a 6528 292e  terminal_size().
-00019950: 636f 6c75 6d6e 730a 2020 2020 2020 2020  columns.        
-00019960: 7365 6c66 2e77 7261 7070 6564 5465 7874  self.wrappedText
-00019970: 203d 2022 220a 2020 2020 2020 2020 7365   = "".        se
-00019980: 6c66 2e6c 696e 6557 6964 7468 203d 2030  lf.lineWidth = 0
-00019990: 0a0a 2020 2020 2020 2020 6465 6620 6164  ..        def ad
-000199a0: 6457 6f72 6473 2877 6f72 6473 293a 0a20  dWords(words):. 
-000199b0: 2020 2020 2020 2020 2020 2077 6f72 6473             words
-000199c0: 203d 2077 6f72 6473 2e73 706c 6974 2822   = words.split("
-000199d0: 2022 290a 2020 2020 2020 2020 2020 2020   ").            
-000199e0: 666f 7220 696e 6465 782c 2069 7465 6d20  for index, item 
-000199f0: 696e 2065 6e75 6d65 7261 7465 2877 6f72  in enumerate(wor
-00019a00: 6473 293a 0a20 2020 2020 2020 2020 2020  ds):.           
-00019a10: 2020 2020 2069 734c 6173 7449 7465 6d20       isLastItem 
-00019a20: 3d20 286c 656e 2877 6f72 6473 2920 2d20  = (len(words) - 
-00019a30: 696e 6465 7820 3d3d 2031 290a 2020 2020  index == 1).    
-00019a40: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-00019a50: 735f 434a 4b28 6974 656d 293a 0a20 2020  s_CJK(item):.   
-00019a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019a70: 2066 6f72 2069 496e 6465 782c 2069 2069   for iIndex, i i
-00019a80: 6e20 656e 756d 6572 6174 6528 6974 656d  n enumerate(item
-00019a90: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00019aa0: 2020 2020 2020 2020 2020 2069 7353 7061             isSpa
-00019ab0: 6365 4974 656d 203d 2028 6e6f 7420 6973  ceItem = (not is
-00019ac0: 4c61 7374 4974 656d 2061 6e64 2028 6c65  LastItem and (le
-00019ad0: 6e28 6974 656d 2920 2d20 6949 6e64 6578  n(item) - iIndex
-00019ae0: 203d 3d20 3129 290a 2020 2020 2020 2020   == 1)).        
-00019af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019b00: 6957 6964 7468 203d 2067 6574 5374 7269  iWidth = getStri
-00019b10: 6e67 5769 6474 6828 6929 0a20 2020 2020  ngWidth(i).     
-00019b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019b30: 2020 2069 6620 6973 5370 6163 6549 7465     if isSpaceIte
-00019b40: 6d3a 0a20 2020 2020 2020 2020 2020 2020  m:.             
-00019b50: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00019b60: 6577 4c69 6e65 5769 6474 6820 3d20 7365  ewLineWidth = se
-00019b70: 6c66 2e6c 696e 6557 6964 7468 202b 2069  lf.lineWidth + i
-00019b80: 5769 6474 6820 2b20 310a 2020 2020 2020  Width + 1.      
-00019b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ba0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00019bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019bc0: 2020 2020 6e65 774c 696e 6557 6964 7468      newLineWidth
-00019bd0: 203d 2073 656c 662e 6c69 6e65 5769 6474   = self.lineWidt
-00019be0: 6820 2b20 6957 6964 7468 0a20 2020 2020  h + iWidth.     
-00019bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c00: 2020 2069 6620 6e65 774c 696e 6557 6964     if newLineWid
-00019c10: 7468 203e 2074 6572 6d69 6e61 6c5f 7769  th > terminal_wi
-00019c20: 6474 683a 0a20 2020 2020 2020 2020 2020  dth:.           
-00019c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c40: 2073 656c 662e 7772 6170 7065 6454 6578   self.wrappedTex
-00019c50: 7420 2b3d 2066 225c 6e7b 697d 2022 2069  t += f"\n{i} " i
-00019c60: 6620 6973 5370 6163 6549 7465 6d20 656c  f isSpaceItem el
-00019c70: 7365 2066 225c 6e7b 697d 220a 2020 2020  se f"\n{i}".    
-00019c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c90: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
-00019ca0: 6557 6964 7468 203d 2069 5769 6474 6820  eWidth = iWidth 
-00019cb0: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
-00019cc0: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
-00019cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ce0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00019cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d00: 2020 2020 2020 2020 2073 656c 662e 7772           self.wr
-00019d10: 6170 7065 6454 6578 7420 2b3d 2066 227b  appedText += f"{
-00019d20: 697d 2022 2069 6620 6973 5370 6163 6549  i} " if isSpaceI
-00019d30: 7465 6d20 656c 7365 2069 0a20 2020 2020  tem else i.     
-00019d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d50: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
-00019d60: 5769 6474 6820 2b3d 2069 5769 6474 6820  Width += iWidth 
-00019d70: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
-00019d80: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
-00019d90: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00019da0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00019db0: 2020 2020 2020 2020 2069 7465 6d57 6964           itemWid
-00019dc0: 7468 203d 2067 6574 5374 7269 6e67 5769  th = getStringWi
-00019dd0: 6474 6828 6974 656d 290a 2020 2020 2020  dth(item).      
-00019de0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00019df0: 2069 734c 6173 7449 7465 6d3a 0a20 2020   isLastItem:.   
-00019e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e10: 2020 2020 206e 6577 4c69 6e65 5769 6474       newLineWidt
-00019e20: 6820 3d20 7365 6c66 2e6c 696e 6557 6964  h = self.lineWid
-00019e30: 7468 202b 2069 7465 6d57 6964 7468 0a20  th + itemWidth. 
-00019e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e50: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00019e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e70: 206e 6577 4c69 6e65 5769 6474 6820 3d20   newLineWidth = 
-00019e80: 7365 6c66 2e6c 696e 6557 6964 7468 202b  self.lineWidth +
-00019e90: 2069 7465 6d57 6964 7468 202b 2031 0a20   itemWidth + 1. 
-00019ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019eb0: 2020 2069 6620 6e65 774c 696e 6557 6964     if newLineWid
-00019ec0: 7468 203e 2074 6572 6d69 6e61 6c5f 7769  th > terminal_wi
-00019ed0: 6474 683a 0a20 2020 2020 2020 2020 2020  dth:.           
-00019ee0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00019ef0: 662e 7772 6170 7065 6454 6578 7420 2b3d  f.wrappedText +=
-00019f00: 2066 225c 6e7b 6974 656d 7d22 2069 6620   f"\n{item}" if 
-00019f10: 6973 4c61 7374 4974 656d 2065 6c73 6520  isLastItem else 
-00019f20: 6622 5c6e 7b69 7465 6d7d 2022 0a20 2020  f"\n{item} ".   
-00019f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019f40: 2020 2020 2073 656c 662e 6c69 6e65 5769       self.lineWi
-00019f50: 6474 6820 3d20 6974 656d 5769 6474 6820  dth = itemWidth 
-00019f60: 6966 2069 734c 6173 7449 7465 6d20 656c  if isLastItem el
-00019f70: 7365 2069 7465 6d57 6964 7468 202b 2031  se itemWidth + 1
-00019f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019f90: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00019fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019fb0: 2020 2073 656c 662e 7772 6170 7065 6454     self.wrappedT
-00019fc0: 6578 7420 2b3d 2069 7465 6d20 6966 2069  ext += item if i
-00019fd0: 734c 6173 7449 7465 6d20 656c 7365 2066  sLastItem else f
-00019fe0: 227b 6974 656d 7d20 220a 2020 2020 2020  "{item} ".      
-00019ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a000: 2020 7365 6c66 2e6c 696e 6557 6964 7468    self.lineWidth
-0001a010: 202b 3d20 6974 656d 5769 6474 6820 6966   += itemWidth if
-0001a020: 2069 734c 6173 7449 7465 6d20 656c 7365   isLastItem else
-0001a030: 2069 7465 6d57 6964 7468 202b 2031 0a0a   itemWidth + 1..
-0001a040: 2020 2020 2020 2020 6465 6620 7072 6f63          def proc
-0001a050: 6573 734c 696e 6528 6c69 6e65 5465 7874  essLine(lineText
-0001a060: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-0001a070: 6620 7265 2e73 6561 7263 6828 223c 5b5e  f re.search("<[^
-0001a080: 3c3e 5d2b 3f3e 222c 206c 696e 6554 6578  <>]+?>", lineTex
-0001a090: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-0001a0a0: 2020 2020 2320 6861 6e64 6c65 2068 746d      # handle htm
-0001a0b0: 6c2f 786d 6c20 7461 6773 0a20 2020 2020  l/xml tags.     
-0001a0c0: 2020 2020 2020 2020 2020 2063 6875 6e6b             chunk
-0001a0d0: 7320 3d20 6c69 6e65 5465 7874 2e73 706c  s = lineText.spl
-0001a0e0: 6974 2822 3e22 290a 2020 2020 2020 2020  it(">").        
-0001a0f0: 2020 2020 2020 2020 746f 7461 6c43 6875          totalChu
-0001a100: 6e6b 7320 3d20 6c65 6e28 6368 756e 6b73  nks = len(chunks
-0001a110: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001a120: 2020 666f 7220 696e 6465 782c 2063 6875    for index, chu
-0001a130: 6e6b 2069 6e20 656e 756d 6572 6174 6528  nk in enumerate(
-0001a140: 6368 756e 6b73 293a 0a20 2020 2020 2020  chunks):.       
-0001a150: 2020 2020 2020 2020 2020 2020 2069 734c               isL
-0001a160: 6173 7443 6875 6e6b 203d 2028 746f 7461  astChunk = (tota
-0001a170: 6c43 6875 6e6b 7320 2d20 696e 6465 7820  lChunks - index 
-0001a180: 3d3d 2031 290a 2020 2020 2020 2020 2020  == 1).          
-0001a190: 2020 2020 2020 2020 2020 6966 2069 734c            if isL
-0001a1a0: 6173 7443 6875 6e6b 3a0a 2020 2020 2020  astChunk:.      
-0001a1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a1c0: 2020 6164 6457 6f72 6473 2863 6875 6e6b    addWords(chunk
-0001a1d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001a1e0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000197f0: 2020 6966 2073 7065 6369 616c 456e 7472    if specialEntr
+00019800: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00019810: 2020 2020 2020 2020 2020 2075 7365 7249             userI
+00019820: 6e70 7574 203d 2066 227b 7573 6572 496e  nput = f"{userIn
+00019830: 7075 747d 7b73 7065 6369 616c 456e 7472  put}{specialEntr
+00019840: 797d 220a 2020 2020 2020 2020 2020 2020  y}".            
+00019850: 2020 2020 2020 2020 2320 7265 6669 6e65          # refine
+00019860: 206d 6573 7361 6765 7320 6265 666f 7265   messages before
+00019870: 2072 756e 6e69 6e67 2063 6f6d 706c 6574   running complet
+00019880: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+00019890: 2020 2020 2020 2020 6669 6e65 5475 6e65          fineTune
+000198a0: 6455 7365 7249 6e70 7574 203d 2073 656c  dUserInput = sel
+000198b0: 662e 6669 6e65 5475 6e65 5573 6572 496e  f.fineTuneUserIn
+000198c0: 7075 7428 7573 6572 496e 7075 7429 0a20  put(userInput). 
+000198d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000198e0: 2020 2023 2069 6e20 6361 7365 206f 6620     # in case of 
+000198f0: 7472 616e 736c 6174 696f 6e0a 2020 2020  translation.    
+00019900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019910: 6966 2063 6f6e 6669 672e 7072 6564 6566  if config.predef
+00019920: 696e 6564 436f 6e74 6578 7420 3d3d 2022  inedContext == "
+00019930: 4c65 7420 6d65 2054 7261 6e73 6c61 7465  Let me Translate
+00019940: 2220 616e 6420 6669 6e65 5475 6e65 6455  " and fineTunedU
+00019950: 7365 7249 6e70 7574 2e73 7461 7274 7377  serInput.startsw
+00019960: 6974 6828 2241 7373 6973 7420 6d65 2062  ith("Assist me b
+00019970: 7920 6163 7469 6e67 2061 7320 6120 7472  y acting as a tr
+00019980: 616e 736c 6174 6f72 2e5c 6e50 6c65 6173  anslator.\nPleas
+00019990: 6520 7472 616e 736c 6174 6522 293a 0a20  e translate"):. 
+000199a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000199b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000199c0: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+000199d0: 7920 6265 6c6f 7720 7468 6520 6c61 6e67  y below the lang
+000199e0: 7561 6765 2079 6f75 2077 6f75 6c64 206c  uage you would l
+000199f0: 696b 6520 7468 6520 636f 6e74 656e 7420  ike the content 
+00019a00: 746f 2062 6520 7472 616e 736c 6174 6564  to be translated
+00019a10: 2069 6e74 6f3a 2229 0a20 2020 2020 2020   into:").       
+00019a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019a30: 206c 616e 6775 6167 6520 3d20 7365 6c66   language = self
+00019a40: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00019a50: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00019a60: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00019a70: 7479 6c65 322c 2064 6566 6175 6c74 3d63  tyle2, default=c
+00019a80: 6f6e 6669 672e 7472 616e 736c 6174 6554  onfig.translateT
+00019a90: 6f4c 616e 6775 6167 6529 0a20 2020 2020  oLanguage).     
+00019aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ab0: 2020 2069 6620 6c61 6e67 7561 6765 2061     if language a
+00019ac0: 6e64 206e 6f74 206c 616e 6775 6167 652e  nd not language.
+00019ad0: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
+00019ae0: 696e 2028 636f 6e66 6967 2e63 616e 6365  in (config.cance
+00019af0: 6c5f 656e 7472 792c 2063 6f6e 6669 672e  l_entry, config.
+00019b00: 6578 6974 5f65 6e74 7279 293a 0a20 2020  exit_entry):.   
+00019b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019b20: 2020 2020 2020 2020 2066 696e 6554 756e           fineTun
+00019b30: 6564 5573 6572 496e 7075 7420 3d20 6622  edUserInput = f"
+00019b40: 7b66 696e 6554 756e 6564 5573 6572 496e  {fineTunedUserIn
+00019b50: 7075 747d 5c6e 5c6e 506c 6561 7365 2074  put}\n\nPlease t
+00019b60: 7261 6e73 6c61 7465 2074 6865 2063 6f6e  ranslate the con
+00019b70: 7465 6e74 2069 6e74 6f20 3c6c 616e 6775  tent into <langu
+00019b80: 6167 653e 7b6c 616e 6775 6167 657d 3c2f  age>{language}</
+00019b90: 6c61 6e67 7561 6765 3e2e 220a 2020 2020  language>.".    
+00019ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bb0: 2020 2020 2020 2020 636f 6e66 6967 2e74          config.t
+00019bc0: 7261 6e73 6c61 7465 546f 4c61 6e67 7561  ranslateToLangua
+00019bd0: 6765 203d 206c 616e 6775 6167 650a 2020  ge = language.  
+00019be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bf0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00019c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019c10: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+00019c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019c30: 2020 2020 2023 2063 6c65 6172 2063 6f6e       # clear con
+00019c40: 6669 672e 7072 6564 6566 696e 6564 436f  fig.predefinedCo
+00019c50: 6e74 6578 7454 656d 7020 6966 2061 6e79  ntextTemp if any
+00019c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019c70: 2020 2020 2069 6620 636f 6e66 6967 2e70       if config.p
+00019c80: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+00019c90: 5465 6d70 3a0a 2020 2020 2020 2020 2020  Temp:.          
+00019ca0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00019cb0: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+00019cc0: 6f6e 7465 7874 203d 2063 6f6e 6669 672e  ontext = config.
+00019cd0: 7072 6564 6566 696e 6564 436f 6e74 6578  predefinedContex
+00019ce0: 7454 656d 700a 2020 2020 2020 2020 2020  tTemp.          
+00019cf0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00019d00: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+00019d10: 6f6e 7465 7874 5465 6d70 203d 2022 220a  ontextTemp = "".
+00019d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019d30: 2020 2020 2320 656d 7074 7920 636f 6e66      # empty conf
+00019d40: 6967 2e70 6167 6572 436f 6e74 656e 740a  ig.pagerContent.
+00019d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019d60: 2020 2020 636f 6e66 6967 2e70 6167 6572      config.pager
+00019d70: 436f 6e74 656e 7420 3d20 2222 0a0a 2020  Content = ""..  
+00019d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019d90: 2020 2320 6368 6563 6b20 7370 6563 6961    # check specia
+00019da0: 6c20 656e 7472 6965 730a 2020 2020 2020  l entries.      
+00019db0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00019dc0: 6966 2075 7365 7220 6361 6c6c 2061 2063  if user call a c
+00019dd0: 6861 7462 6f74 2077 6974 686f 7574 2066  hatbot without f
+00019de0: 756e 6374 696f 6e20 6361 6c6c 696e 670a  unction calling.
+00019df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019e00: 2020 2020 6966 2022 5b43 4841 545d 2220      if "[CHAT]" 
+00019e10: 696e 2066 696e 6554 756e 6564 5573 6572  in fineTunedUser
+00019e20: 496e 7075 743a 0a20 2020 2020 2020 2020  Input:.         
+00019e30: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00019e40: 6861 7462 6f74 203d 2063 6f6e 6669 672e  hatbot = config.
+00019e50: 6368 6174 626f 740a 2020 2020 2020 2020  chatbot.        
+00019e60: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00019e70: 2063 616c 6c43 6861 7442 6f74 203a 3d20   callChatBot := 
+00019e80: 7265 2e73 6561 7263 6828 225c 5b43 4841  re.search("\[CHA
+00019e90: 545f 285b 5e5c 5b5c 5d5d 2b3f 295c 5d22  T_([^\[\]]+?)\]"
+00019ea0: 2c20 6669 6e65 5475 6e65 6455 7365 7249  , fineTunedUserI
+00019eb0: 6e70 7574 293a 0a20 2020 2020 2020 2020  nput):.         
+00019ec0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00019ed0: 6861 7462 6f74 203d 2063 616c 6c43 6861  hatbot = callCha
+00019ee0: 7442 6f74 2e67 726f 7570 2831 292e 6c6f  tBot.group(1).lo
+00019ef0: 7765 7228 2920 6966 2063 616c 6c43 6861  wer() if callCha
+00019f00: 7442 6f74 2061 6e64 2063 616c 6c43 6861  tBot and callCha
+00019f10: 7442 6f74 2e67 726f 7570 2831 292e 6c6f  tBot.group(1).lo
+00019f20: 7765 7228 2920 696e 2028 2263 6861 7467  wer() in ("chatg
+00019f30: 7074 222c 2022 6765 6d69 6e69 7072 6f22  pt", "geminipro"
+00019f40: 2c20 2270 616c 6d32 222c 2022 636f 6465  , "palm2", "code
+00019f50: 7922 2920 656c 7365 2022 220a 2020 2020  y") else "".    
+00019f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019f70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00019f80: 2020 2020 2020 2020 2020 2020 2020 6368                ch
+00019f90: 6174 626f 7420 3d20 2222 0a20 2020 2020  atbot = "".     
+00019fa0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00019fb0: 6620 6368 6174 626f 743a 0a20 2020 2020  f chatbot:.     
+00019fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019fd0: 2020 2023 2063 616c 6c20 7468 6520 7370     # call the sp
+00019fe0: 6369 6669 6564 2063 6861 7462 6f74 2074  cified chatbot t
+00019ff0: 6f20 636f 6e74 696e 7565 2074 6865 2063  o continue the c
+0001a000: 6f6e 7665 7273 6174 696f 6e0a 2020 2020  onversation.    
+0001a010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a020: 2020 2020 6669 6e65 5475 6e65 6455 7365      fineTunedUse
+0001a030: 7249 6e70 7574 203d 2072 652e 7375 6228  rInput = re.sub(
+0001a040: 225c 5b43 4841 545c 5d7c 5c5b 4348 4154  "\[CHAT\]|\[CHAT
+0001a050: 5f5b 5e5c 5b5c 5d5d 2b3f 5c5d 222c 2022  _[^\[\]]+?\]", "
+0001a060: 222c 2066 696e 6554 756e 6564 5573 6572  ", fineTunedUser
+0001a070: 496e 7075 7429 0a20 2020 2020 2020 2020  Input).         
+0001a080: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001a090: 656c 662e 6c61 756e 6368 4368 6174 626f  elf.launchChatbo
+0001a0a0: 7428 6368 6174 626f 742c 2066 696e 6554  t(chatbot, fineT
+0001a0b0: 756e 6564 5573 6572 496e 7075 7429 0a20  unedUserInput). 
+0001a0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a0d0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+0001a0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a0f0: 2020 2020 2320 6966 2075 7365 7220 646f      # if user do
+0001a100: 6e27 7420 7761 6e74 2066 756e 6374 696f  n't want functio
+0001a110: 6e20 6361 6c6c 206f 7220 6120 7061 7274  n call or a part
+0001a120: 6963 756c 6172 2066 756e 6374 696f 6e20  icular function 
+0001a130: 6361 6c6c 0a20 2020 2020 2020 2020 2020  call.           
+0001a140: 2020 2020 2020 2020 2023 6e6f 4675 6e63           #noFunc
+0001a150: 7469 6f6e 4361 6c6c 203d 2028 225b 4e4f  tionCall = ("[NO
+0001a160: 5f46 554e 4354 494f 4e5f 4341 4c4c 5d22  _FUNCTION_CALL]"
+0001a170: 2069 6e20 6669 6e65 5475 6e65 6455 7365   in fineTunedUse
+0001a180: 7249 6e70 7574 290a 2020 2020 2020 2020  rInput).        
+0001a190: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+0001a1a0: 6b43 616c 6c53 7065 6369 6669 6346 756e  kCallSpecificFun
+0001a1b0: 6374 696f 6e20 3d20 7265 2e73 6561 7263  ction = re.searc
+0001a1c0: 6828 225c 5b43 414c 4c5f 285b 5e5c 5b5c  h("\[CALL_([^\[\
+0001a1d0: 5d5d 2b3f 295c 5d22 2c20 6669 6e65 5475  ]]+?)\]", fineTu
+0001a1e0: 6e65 6455 7365 7249 6e70 7574 290a 2020  nedUserInput).  
 0001a1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a200: 2020 2020 7461 6720 3d20 5472 7565 2069      tag = True i
-0001a210: 6620 223c 2220 696e 2063 6875 6e6b 2065  f "<" in chunk e
-0001a220: 6c73 6520 4661 6c73 650a 2020 2020 2020  lse False.      
-0001a230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a240: 2020 6966 2074 6167 3a0a 2020 2020 2020    if tag:.      
-0001a250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a260: 2020 2020 2020 6e6f 6e54 6167 2c20 7461        nonTag, ta
-0001a270: 6743 6f6e 7465 6e74 203d 2063 6875 6e6b  gContent = chunk
-0001a280: 2e72 7370 6c69 7428 223c 222c 2031 290a  .rsplit("<", 1).
-0001a290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a2a0: 2020 2020 2020 2020 2020 2020 6164 6457              addW
-0001a2b0: 6f72 6473 286e 6f6e 5461 6729 0a20 2020  ords(nonTag).   
-0001a2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a2d0: 2020 2020 2020 2020 2073 656c 662e 7772           self.wr
-0001a2e0: 6170 7065 6454 6578 7420 2b3d 2066 223c  appedText += f"<
-0001a2f0: 7b74 6167 436f 6e74 656e 747d 3e22 0a20  {tagContent}>". 
+0001a200: 2020 636f 6e66 6967 2e72 756e 5370 6563    config.runSpec
+0001a210: 6966 6963 4675 6e74 696f 6e20 3d20 6368  ificFuntion = ch
+0001a220: 6563 6b43 616c 6c53 7065 6369 6669 6346  eckCallSpecificF
+0001a230: 756e 6374 696f 6e2e 6772 6f75 7028 3129  unction.group(1)
+0001a240: 2069 6620 6368 6563 6b43 616c 6c53 7065   if checkCallSpe
+0001a250: 6369 6669 6346 756e 6374 696f 6e20 616e  cificFunction an
+0001a260: 6420 6368 6563 6b43 616c 6c53 7065 6369  d checkCallSpeci
+0001a270: 6669 6346 756e 6374 696f 6e2e 6772 6f75  ficFunction.grou
+0001a280: 7028 3129 2069 6e20 636f 6e66 6967 2e63  p(1) in config.c
+0001a290: 6861 7447 5054 4170 6941 7661 696c 6162  hatGPTApiAvailab
+0001a2a0: 6c65 4675 6e63 7469 6f6e 7320 656c 7365  leFunctions else
+0001a2b0: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
+0001a2c0: 2020 2020 2020 2020 6966 2063 6f6e 6669          if confi
+0001a2d0: 672e 6465 7665 6c6f 7065 7220 616e 6420  g.developer and 
+0001a2e0: 636f 6e66 6967 2e72 756e 5370 6563 6966  config.runSpecif
+0001a2f0: 6963 4675 6e74 696f 6e3a 0a20 2020 2020  icFuntion:.     
 0001a300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a310: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001a320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a330: 2020 2020 2020 2020 2061 6464 576f 7264           addWord
-0001a340: 7328 6622 7b63 6875 6e6b 7d3e 2229 0a20  s(f"{chunk}>"). 
-0001a350: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001a360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a370: 2061 6464 576f 7264 7328 6c69 6e65 5465   addWords(lineTe
-0001a380: 7874 290a 0a20 2020 2020 2020 206c 696e  xt)..        lin
-0001a390: 6573 203d 2074 6578 742e 7370 6c69 7428  es = text.split(
-0001a3a0: 225c 6e22 290a 2020 2020 2020 2020 746f  "\n").        to
-0001a3b0: 7461 6c4c 696e 6573 203d 206c 656e 286c  talLines = len(l
-0001a3c0: 696e 6573 290a 2020 2020 2020 2020 666f  ines).        fo
-0001a3d0: 7220 696e 6465 782c 206c 696e 6520 696e  r index, line in
-0001a3e0: 2065 6e75 6d65 7261 7465 286c 696e 6573   enumerate(lines
-0001a3f0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-0001a400: 734c 6173 744c 696e 6520 3d20 2874 6f74  sLastLine = (tot
-0001a410: 616c 4c69 6e65 7320 2d20 696e 6465 7820  alLines - index 
-0001a420: 3d3d 2031 290a 2020 2020 2020 2020 2020  == 1).          
-0001a430: 2020 7072 6f63 6573 734c 696e 6528 6c69    processLine(li
-0001a440: 6e65 290a 2020 2020 2020 2020 2020 2020  ne).            
-0001a450: 6966 206e 6f74 2069 734c 6173 744c 696e  if not isLastLin
-0001a460: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001a470: 2020 2073 656c 662e 7772 6170 7065 6454     self.wrappedT
-0001a480: 6578 7420 2b3d 2022 5c6e 220a 2020 2020  ext += "\n".    
-0001a490: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a4a0: 2e6c 696e 6557 6964 7468 203d 2030 0a0a  .lineWidth = 0..
-0001a4b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001a4c0: 656c 662e 7772 6170 7065 6454 6578 740a  elf.wrappedText.
+0001a310: 2020 2023 7365 6c66 2e70 7269 6e74 2866     #self.print(f
+0001a320: 2263 616c 6c69 6e67 2066 756e 6374 696f  "calling functio
+0001a330: 6e20 277b 636f 6e66 6967 2e72 756e 5370  n '{config.runSp
+0001a340: 6563 6966 6963 4675 6e74 696f 6e7d 2720  ecificFuntion}' 
+0001a350: 2e2e 2e22 290a 2020 2020 2020 2020 2020  ...").          
+0001a360: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+0001a370: 696e 745f 666f 726d 6174 7465 645f 7465  int_formatted_te
+0001a380: 7874 2848 544d 4c28 6622 3c7b 636f 6e66  xt(HTML(f"<{conf
+0001a390: 6967 2e74 6572 6d69 6e61 6c50 726f 6d70  ig.terminalPromp
+0001a3a0: 7449 6e64 6963 6174 6f72 436f 6c6f 7232  tIndicatorColor2
+0001a3b0: 7d3e 4361 6c6c 696e 6720 6675 6e63 7469  }>Calling functi
+0001a3c0: 6f6e 3c2f 7b63 6f6e 6669 672e 7465 726d  on</{config.term
+0001a3d0: 696e 616c 5072 6f6d 7074 496e 6469 6361  inalPromptIndica
+0001a3e0: 746f 7243 6f6c 6f72 327d 3e20 3c7b 636f  torColor2}> <{co
+0001a3f0: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+0001a400: 6d61 6e64 456e 7472 7943 6f6c 6f72 327d  mandEntryColor2}
+0001a410: 3e27 7b63 6f6e 6669 672e 7275 6e53 7065  >'{config.runSpe
+0001a420: 6369 6669 6346 756e 7469 6f6e 7d27 3c2f  cificFuntion}'</
+0001a430: 7b63 6f6e 6669 672e 7465 726d 696e 616c  {config.terminal
+0001a440: 436f 6d6d 616e 6445 6e74 7279 436f 6c6f  CommandEntryColo
+0001a450: 7232 7d3e 203c 7b63 6f6e 6669 672e 7465  r2}> <{config.te
+0001a460: 726d 696e 616c 5072 6f6d 7074 496e 6469  rminalPromptIndi
+0001a470: 6361 746f 7243 6f6c 6f72 327d 3e2e 2e2e  catorColor2}>...
+0001a480: 3c2f 7b63 6f6e 6669 672e 7465 726d 696e  </{config.termin
+0001a490: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
+0001a4a0: 7243 6f6c 6f72 327d 3e22 2929 0a20 2020  rColor2}>")).   
+0001a4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a4c0: 2066 696e 6554 756e 6564 5573 6572 496e   fineTunedUserIn
+0001a4d0: 7075 7420 3d20 7265 2e73 7562 2873 7065  put = re.sub(spe
+0001a4e0: 6369 616c 456e 7472 7950 6174 7465 726e  cialEntryPattern
+0001a4f0: 2c20 2222 2c20 6669 6e65 5475 6e65 6455  , "", fineTunedU
+0001a500: 7365 7249 6e70 7574 290a 0a20 2020 2020  serInput)..     
+0001a510: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001a520: 2066 6f72 6365 206c 6f61 6469 6e67 2069   force loading i
+0001a530: 6e74 6572 6e65 7420 7365 6172 6368 6573  nternet searches
+0001a540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a550: 2020 2020 2069 6620 636f 6e66 6967 2e6c       if config.l
+0001a560: 6f61 6469 6e67 496e 7465 726e 6574 5365  oadingInternetSe
+0001a570: 6172 6368 6573 203d 3d20 2261 6c77 6179  arches == "alway
+0001a580: 7322 3a0a 2020 2020 2020 2020 2020 2020  s":.            
+0001a590: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0001a5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a5b0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0001a5c0: 6669 672e 6375 7272 656e 744d 6573 7361  fig.currentMessa
+0001a5d0: 6765 7320 3d20 7365 6c66 2e72 756e 4675  ges = self.runFu
+0001a5e0: 6e63 7469 6f6e 2863 6f6e 6669 672e 6375  nction(config.cu
+0001a5f0: 7272 656e 744d 6573 7361 6765 732c 205b  rrentMessages, [
+0001a600: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+0001a610: 6946 756e 6374 696f 6e53 6967 6e61 7475  iFunctionSignatu
+0001a620: 7265 735b 2269 6e74 6567 7261 7465 5f67  res["integrate_g
+0001a630: 6f6f 676c 655f 7365 6172 6368 6573 225d  oogle_searches"]
+0001a640: 5d2c 2022 696e 7465 6772 6174 655f 676f  ], "integrate_go
+0001a650: 6f67 6c65 5f73 6561 7263 6865 7322 290a  ogle_searches").
+0001a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a670: 2020 2020 2020 2020 6578 6365 7074 3a0a          except:.
+0001a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a690: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a6a0: 2e70 7269 6e74 2822 556e 6162 6c65 2074  .print("Unable t
+0001a6b0: 6f20 6c6f 6164 2069 6e74 6572 6e65 7420  o load internet 
+0001a6c0: 7265 736f 7572 6365 732e 2229 0a20 2020  resources.").   
+0001a6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a6e0: 2020 2020 2020 2020 2053 6861 7265 6455           SharedU
+0001a6f0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+0001a700: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a710: 2020 2020 2020 2320 6f70 656e 6169 0a20        # openai. 
+0001a720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a730: 2020 2023 636f 6d70 6c65 7469 6f6e 203d     #completion =
+0001a740: 2073 656c 662e 7275 6e43 6f6d 706c 6574   self.runComplet
+0001a750: 696f 6e28 636f 6e66 6967 2e63 7572 7265  ion(config.curre
+0001a760: 6e74 4d65 7373 6167 6573 2c20 6e6f 4675  ntMessages, noFu
+0001a770: 6e63 7469 6f6e 4361 6c6c 290a 2020 2020  nctionCall).    
+0001a780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a790: 2320 6f6c 6c61 6d61 0a20 2020 2020 2020  # ollama.       
+0001a7a0: 2020 2020 2020 2020 2020 2020 2023 2063               # c
+0001a7b0: 6865 636b 2066 6f72 2069 6e74 656e 6465  heck for intende
+0001a7c0: 6420 6163 7469 6f6e 730a 2020 2020 2020  d actions.      
+0001a7d0: 2020 2020 2020 2020 2020 2020 2020 6163                ac
+0001a7e0: 7469 6f6e 203d 2073 656c 662e 6765 7452  tion = self.getR
+0001a7f0: 6573 706f 6e73 6544 6963 7428 7072 6f6d  esponseDict(prom
+0001a800: 7074 3d66 696e 6554 756e 6564 5573 6572  pt=fineTunedUser
+0001a810: 496e 7075 742c 2073 7973 7465 6d3d 7365  Input, system=se
+0001a820: 6c66 2e61 6374 696f 6e53 6372 6565 6e69  lf.actionScreeni
+0001a830: 6e67 5072 6f6d 7074 295b 2261 6374 696f  ngPrompt)["actio
+0001a840: 6e22 5d0a 2020 2020 2020 2020 2020 2020  n"].            
+0001a850: 2020 2020 2020 2020 6966 206e 6f74 2061          if not a
+0001a860: 6374 696f 6e3a 0a20 2020 2020 2020 2020  ction:.         
+0001a870: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0001a880: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
+0001a890: 2020 2020 2020 2020 2020 2020 0a20 2020              .   
+0001a8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a8b0: 2023 2074 616b 6520 6163 7469 6f6e 0a20   # take action. 
+0001a8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a8d0: 2020 2069 6620 6163 7469 6f6e 2069 6e20     if action in 
+0001a8e0: 2822 7079 7468 6f6e 5f71 6122 2c20 226f  ("python_qa", "o
+0001a8f0: 7468 6572 5f72 6571 7565 7374 2229 2061  ther_request") a
+0001a900: 6e64 206e 6f74 2061 6374 696f 6e20 696e  nd not action in
+0001a910: 2063 6f6e 6669 672e 6672 6565 4765 6e69   config.freeGeni
+0001a920: 7573 4163 7469 6f6e 4d65 7468 6f64 733a  usActionMethods:
+0001a930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a940: 2020 2020 2020 2020 2023 2075 7064 6174           # updat
+0001a950: 6520 6d65 7373 6167 6520 6368 6169 6e0a  e message chain.
+0001a960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a970: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+0001a980: 7572 7265 6e74 4d65 7373 6167 6573 2e61  urrentMessages.a
+0001a990: 7070 656e 6428 7b22 726f 6c65 223a 2022  ppend({"role": "
+0001a9a0: 7573 6572 222c 2022 636f 6e74 656e 7422  user", "content"
+0001a9b0: 3a20 6669 6e65 5475 6e65 6455 7365 7249  : fineTunedUserI
+0001a9c0: 6e70 7574 7d29 0a20 2020 2020 2020 2020  nput}).         
+0001a9d0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001a9e0: 2073 7461 7274 2073 7069 6e6e 696e 670a   start spinning.
+0001a9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa00: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+0001aa10: 746f 705f 6576 656e 7420 3d20 7468 7265  top_event = thre
+0001aa20: 6164 696e 672e 4576 656e 7428 290a 2020  ading.Event().  
+0001aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa40: 2020 2020 2020 636f 6e66 6967 2e73 7069        config.spi
+0001aa50: 6e6e 6572 5f74 6872 6561 6420 3d20 7468  nner_thread = th
+0001aa60: 7265 6164 696e 672e 5468 7265 6164 2874  reading.Thread(t
+0001aa70: 6172 6765 743d 7365 6c66 2e73 7069 6e6e  arget=self.spinn
+0001aa80: 696e 675f 616e 696d 6174 696f 6e2c 2061  ing_animation, a
+0001aa90: 7267 733d 2863 6f6e 6669 672e 7374 6f70  rgs=(config.stop
+0001aaa0: 5f65 7665 6e74 2c29 290a 2020 2020 2020  _event,)).      
+0001aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aac0: 2020 636f 6e66 6967 2e73 7069 6e6e 6572    config.spinner
+0001aad0: 5f74 6872 6561 642e 7374 6172 7428 290a  _thread.start().
+0001aae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001aaf0: 2020 2020 2020 2020 2063 6f6d 706c 6574           complet
+0001ab00: 696f 6e20 3d20 6f6c 6c61 6d61 2e63 6861  ion = ollama.cha
+0001ab10: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+0001ab20: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0001ab30: 6f64 656c 3d63 6f6e 6669 672e 6f6c 6c61  odel=config.olla
+0001ab40: 6d61 4465 6661 756c 744d 6f64 656c 2c0a  maDefaultModel,.
+0001ab50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab60: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
+0001ab70: 6167 6573 3d63 6f6e 6669 672e 6375 7272  ages=config.curr
+0001ab80: 656e 744d 6573 7361 6765 732c 0a20 2020  entMessages,.   
+0001ab90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aba0: 2020 2020 2020 2020 2073 7472 6561 6d3d           stream=
+0001abb0: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
+0001abc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001abd0: 2020 6f70 7469 6f6e 733d 4f70 7469 6f6e    options=Option
+0001abe0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
+0001abf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac00: 2020 2074 656d 7065 7261 7475 7265 3d63     temperature=c
+0001ac10: 6f6e 6669 672e 6c6c 6d54 656d 7065 7261  onfig.llmTempera
+0001ac20: 7475 7265 2c0a 2020 2020 2020 2020 2020  ture,.          
+0001ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac40: 2020 292c 0a20 2020 2020 2020 2020 2020    ),.           
+0001ac50: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+0001ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac70: 2020 2020 2020 2023 2073 746f 7020 7370         # stop sp
+0001ac80: 696e 6e69 6e67 0a20 2020 2020 2020 2020  inning.         
+0001ac90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001aca0: 656c 662e 7275 6e50 7974 686f 6e20 3d20  elf.runPython = 
+0001acb0: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
+0001acc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001acd0: 662e 7374 6f70 5370 696e 6e69 6e67 2829  f.stopSpinning()
+0001ace0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001acf0: 2020 2020 2020 2020 2020 2320 4372 6561            # Crea
+0001ad00: 7465 2061 206e 6577 2074 6872 6561 6420  te a new thread 
+0001ad10: 666f 7220 7468 6520 7374 7265 616d 696e  for the streamin
+0001ad20: 6720 7461 736b 0a20 2020 2020 2020 2020  g task.         
+0001ad30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001ad40: 7472 6561 6d69 6e67 576f 7264 5772 6170  treamingWordWrap
+0001ad50: 7065 7220 3d20 5374 7265 616d 696e 6757  per = StreamingW
+0001ad60: 6f72 6457 7261 7070 6572 2829 0a20 2020  ordWrapper().   
+0001ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad80: 2020 2020 2073 7472 6561 6d69 6e67 5f65       streaming_e
+0001ad90: 7665 6e74 203d 2074 6872 6561 6469 6e67  vent = threading
+0001ada0: 2e45 7665 6e74 2829 0a20 2020 2020 2020  .Event().       
+0001adb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001adc0: 2073 656c 662e 7374 7265 616d 696e 675f   self.streaming_
+0001add0: 7468 7265 6164 203d 2074 6872 6561 6469  thread = threadi
+0001ade0: 6e67 2e54 6872 6561 6428 7461 7267 6574  ng.Thread(target
+0001adf0: 3d73 7472 6561 6d69 6e67 576f 7264 5772  =streamingWordWr
+0001ae00: 6170 7065 722e 7374 7265 616d 4f75 7470  apper.streamOutp
+0001ae10: 7574 732c 2061 7267 733d 2873 7472 6561  uts, args=(strea
+0001ae20: 6d69 6e67 5f65 7665 6e74 2c20 636f 6d70  ming_event, comp
+0001ae30: 6c65 7469 6f6e 2929 0a20 2020 2020 2020  letion)).       
+0001ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae50: 2023 2053 7461 7274 2074 6865 2073 7472   # Start the str
+0001ae60: 6561 6d69 6e67 2074 6872 6561 640a 2020  eaming thread.  
+0001ae70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae80: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
+0001ae90: 6d69 6e67 5f74 6872 6561 642e 7374 6172  ming_thread.star
+0001aea0: 7428 290a 0a20 2020 2020 2020 2020 2020  t()..           
+0001aeb0: 2020 2020 2020 2020 2020 2020 2023 2077               # w
+0001aec0: 6169 7420 7768 696c 6520 7465 7874 206f  ait while text o
+0001aed0: 7574 7075 7420 6973 2073 7465 616d 696e  utput is steamin
+0001aee0: 673b 2063 6170 7475 7265 206b 6579 2063  g; capture key c
+0001aef0: 6f6d 626f 2027 6374 726c 2b71 2720 6f72  ombo 'ctrl+q' or
+0001af00: 2027 6374 726c 2b7a 2720 746f 2073 746f   'ctrl+z' to sto
+0001af10: 7020 7468 6520 7374 7265 616d 696e 670a  p the streaming.
+0001af20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af30: 2020 2020 2020 2020 7374 7265 616d 696e          streamin
+0001af40: 6757 6f72 6457 7261 7070 6572 2e6b 6579  gWordWrapper.key
+0001af50: 546f 5374 6f70 5374 7265 616d 696e 6728  ToStopStreaming(
+0001af60: 7374 7265 616d 696e 675f 6576 656e 7429  streaming_event)
+0001af70: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001af80: 2020 2020 2020 2020 2020 2320 7768 656e            # when
+0001af90: 2073 7472 6561 6d69 6e67 2069 7320 646f   streaming is do
+0001afa0: 6e65 206f 7220 7768 656e 2075 7365 7220  ne or when user 
+0001afb0: 7072 6573 7320 2263 7472 6c2b 7122 0a20  press "ctrl+q". 
+0001afc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001afd0: 2020 2020 2020 2073 656c 662e 7374 7265         self.stre
+0001afe0: 616d 696e 675f 7468 7265 6164 2e6a 6f69  aming_thread.joi
+0001aff0: 6e28 290a 2020 2020 2020 2020 2020 2020  n().            
+0001b000: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001b010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b020: 2020 2020 2020 2320 6163 7469 6f6e 2069        # action i
+0001b030: 6e20 636f 6e66 6967 2e66 7265 6547 656e  n config.freeGen
+0001b040: 6975 7341 6374 696f 6e4d 6574 686f 6473  iusActionMethods
+0001b050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b060: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
+0001b070: 6967 2e64 6576 656c 6f70 6572 3a0a 2020  ig.developer:.  
+0001b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b090: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001b0a0: 7269 6e74 3328 6622 4361 6c6c 696e 6720  rint3(f"Calling 
+0001b0b0: 6163 7469 6f6e 3a20 7b61 6374 696f 6e7d  action: {action}
+0001b0c0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001b0d0: 2020 2020 2020 2020 2020 2070 6172 616d             param
+0001b0e0: 6574 6572 7320 3d20 7365 6c66 2e65 7874  eters = self.ext
+0001b0f0: 7261 6374 4163 7469 6f6e 5061 7261 6d65  ractActionParame
+0001b100: 7465 7273 2863 6f6e 6669 672e 6375 7272  ters(config.curr
+0001b110: 656e 744d 6573 7361 6765 732c 2066 696e  entMessages, fin
+0001b120: 6554 756e 6564 5573 6572 496e 7075 742c  eTunedUserInput,
+0001b130: 2061 6374 696f 6e29 0a20 2020 2020 2020   action).       
+0001b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b150: 2069 6620 636f 6e66 6967 2e64 6576 656c   if config.devel
+0001b160: 6f70 6572 3a0a 2020 2020 2020 2020 2020  oper:.          
+0001b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b180: 2020 7365 6c66 2e70 7269 6e74 3228 2241    self.print2("A
+0001b190: 6374 696f 6e20 5061 7261 6d65 7465 7273  ction Parameters
+0001b1a0: 3a22 290a 2020 2020 2020 2020 2020 2020  :").            
+0001b1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1c0: 7070 7269 6e74 2e70 7072 696e 7428 7061  pprint.pprint(pa
+0001b1d0: 7261 6d65 7465 7273 290a 2020 2020 2020  rameters).      
+0001b1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1f0: 2020 6966 2070 6172 616d 6574 6572 733a    if parameters:
+0001b200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b210: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001b220: 662e 7072 696e 7433 2866 2252 756e 6e69  f.print3(f"Runni
+0001b230: 6e67 2061 6374 696f 6e3a 207b 6163 7469  ng action: {acti
+0001b240: 6f6e 7d22 290a 2020 2020 2020 2020 2020  on}").          
+0001b250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b260: 2020 2320 626c 6f63 6b20 7265 7370 6f6e    # block respon
+0001b270: 7365 2066 6f72 206e 6f77 2066 6f72 2074  se for now for t
+0001b280: 6573 7469 6e67 0a20 2020 2020 2020 2020  esting.         
+0001b290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b2a0: 2020 2072 6573 706f 6e73 6520 3d20 2222     response = ""
+0001b2b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b2c0: 2020 2020 2020 2020 2020 2020 2023 2072               # r
+0001b2d0: 6573 706f 6e73 6520 3d20 636f 6e66 6967  esponse = config
+0001b2e0: 2e66 7265 6547 656e 6975 7341 6374 696f  .freeGeniusActio
+0001b2f0: 6e4d 6574 686f 6473 5b61 6374 696f 6e5d  nMethods[action]
+0001b300: 2870 6172 616d 6574 6572 7329 0a20 2020  (parameters).   
+0001b310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b320: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+0001b330: 6f6e 7365 3a0a 2020 2020 2020 2020 2020  onse:.          
+0001b340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b350: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
+0001b360: 6520 3d3d 2022 5b49 4e56 414c 4944 5d22  e == "[INVALID]"
+0001b370: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001b380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b390: 2020 2020 2020 2320 6765 6e65 7261 7465        # generate
+0001b3a0: 2063 6861 7420 636f 6e74 656e 740a 2020   chat content.  
+0001b3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3d0: 2020 2e2e 2e0a 2020 2020 2020 2020 2020    ....          
+0001b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3f0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b420: 2320 7570 6461 7465 206d 6573 7361 6765  # update message
+0001b430: 2063 6861 696e 0a20 2020 2020 2020 2020   chain.         
+0001b440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b450: 2020 2020 2020 2020 2020 2023 2066 7572             # fur
+0001b460: 7468 6572 2063 6f6e 7665 7273 6174 696f  ther conversatio
+0001b470: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+0001b480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b490: 2020 2020 2020 2e2e 2e0a 2020 2020 2020        ....      
+0001b4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b4b0: 2020 2020 2020 656c 6966 2063 6f6e 6669        elif confi
+0001b4c0: 672e 6465 7665 6c6f 7065 723a 0a20 2020  g.developer:.   
+0001b4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b4e0: 2020 2020 2020 2020 2020 2020 2023 2061               # a
+0001b4f0: 2073 696d 706c 6520 6e6f 7469 6669 6361   simple notifica
+0001b500: 7469 6f6e 2077 6974 686f 7574 2066 7572  tion without fur
+0001b510: 7468 6572 2063 6861 7420 6765 6e65 7261  ther chat genera
+0001b520: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+0001b530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b540: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+0001b550: 2822 4163 7469 6f6e 2063 6f6d 706c 6574  ("Action complet
+0001b560: 6564 2122 290a 2020 2020 2020 2020 2020  ed!").          
+0001b570: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001b580: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001b590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b5a0: 2320 6765 6e65 7261 7465 2063 6861 7420  # generate chat 
+0001b5b0: 636f 6e74 656e 740a 2020 2020 2020 2020  content.        
+0001b5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b5d0: 2020 2020 2e2e 2e0a 0a20 2020 2020 2020      .....       
+0001b5e0: 2020 2020 2020 2020 2023 2065 7272 6f72           # error
+0001b5f0: 2063 6f64 6573 3a20 6874 7470 733a 2f2f   codes: https://
+0001b600: 706c 6174 666f 726d 2e6f 7065 6e61 692e  platform.openai.
+0001b610: 636f 6d2f 646f 6373 2f67 7569 6465 732f  com/docs/guides/
+0001b620: 6572 726f 722d 636f 6465 732f 7079 7468  error-codes/pyth
+0001b630: 6f6e 2d6c 6962 7261 7279 2d65 7272 6f72  on-library-error
+0001b640: 2d74 7970 6573 0a20 2020 2020 2020 2020  -types.         
+0001b650: 2020 2020 2020 2065 7863 6570 7420 6f70         except op
+0001b660: 656e 6169 2e41 5049 4572 726f 7220 6173  enai.APIError as
+0001b670: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
+0001b680: 2020 2020 2020 2020 7365 6c66 2e73 746f          self.sto
+0001b690: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
+0001b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b6b0: 2348 616e 646c 6520 4150 4920 6572 726f  #Handle API erro
+0001b6c0: 7220 6865 7265 2c20 652e 672e 2072 6574  r here, e.g. ret
+0001b6d0: 7279 206f 7220 6c6f 670a 2020 2020 2020  ry or log.      
+0001b6e0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001b6f0: 6c66 2e70 7269 6e74 2866 224f 7065 6e41  lf.print(f"OpenA
+0001b700: 4920 4150 4920 7265 7475 726e 6564 2061  I API returned a
+0001b710: 6e20 4150 4920 4572 726f 723a 207b 657d  n API Error: {e}
+0001b720: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001b730: 2020 2065 7863 6570 7420 6f70 656e 6169     except openai
+0001b740: 2e41 5049 436f 6e6e 6563 7469 6f6e 4572  .APIConnectionEr
+0001b750: 726f 7220 6173 2065 3a0a 2020 2020 2020  ror as e:.      
+0001b760: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001b770: 6c66 2e73 746f 7053 7069 6e6e 696e 6728  lf.stopSpinning(
+0001b780: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001b790: 2020 2020 2020 2348 616e 646c 6520 636f        #Handle co
+0001b7a0: 6e6e 6563 7469 6f6e 2065 7272 6f72 2068  nnection error h
+0001b7b0: 6572 650a 2020 2020 2020 2020 2020 2020  ere.            
+0001b7c0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0001b7d0: 6e74 2866 2246 6169 6c65 6420 746f 2063  nt(f"Failed to c
+0001b7e0: 6f6e 6e65 6374 2074 6f20 4f70 656e 4149  onnect to OpenAI
+0001b7f0: 2041 5049 3a20 7b65 7d22 290a 2020 2020   API: {e}").    
+0001b800: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0001b810: 7074 206f 7065 6e61 692e 5261 7465 4c69  pt openai.RateLi
+0001b820: 6d69 7445 7272 6f72 2061 7320 653a 0a20  mitError as e:. 
+0001b830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b840: 2020 2073 656c 662e 7374 6f70 5370 696e     self.stopSpin
+0001b850: 6e69 6e67 2829 0a20 2020 2020 2020 2020  ning().         
+0001b860: 2020 2020 2020 2020 2020 2023 4861 6e64             #Hand
+0001b870: 6c65 2072 6174 6520 6c69 6d69 7420 6572  le rate limit er
+0001b880: 726f 7220 2877 6520 7265 636f 6d6d 656e  ror (we recommen
+0001b890: 6420 7573 696e 6720 6578 706f 6e65 6e74  d using exponent
+0001b8a0: 6961 6c20 6261 636b 6f66 6629 0a20 2020  ial backoff).   
+0001b8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b8c0: 2073 656c 662e 7072 696e 7428 6622 4f70   self.print(f"Op
+0001b8d0: 656e 4149 2041 5049 2072 6571 7565 7374  enAI API request
+0001b8e0: 2065 7863 6565 6465 6420 7261 7465 206c   exceeded rate l
+0001b8f0: 696d 6974 3a20 7b65 7d22 290a 2020 2020  imit: {e}").    
+0001b900: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0001b910: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+0001b920: 2020 2020 2020 2020 7365 6c66 2e73 746f          self.sto
+0001b930: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
+0001b940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b950: 7472 6163 6520 3d20 7472 6163 6562 6163  trace = tracebac
+0001b960: 6b2e 666f 726d 6174 5f65 7863 2829 0a20  k.format_exc(). 
+0001b970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b980: 2020 2069 6620 2250 6c65 6173 6520 7265     if "Please re
+0001b990: 6475 6365 2074 6865 206c 656e 6774 6820  duce the length 
+0001b9a0: 6f66 2074 6865 206d 6573 7361 6765 7320  of the messages 
+0001b9b0: 6f72 2063 6f6d 706c 6574 696f 6e22 2069  or completion" i
+0001b9c0: 6e20 7472 6163 653a 0a20 2020 2020 2020  n trace:.       
+0001b9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b9e0: 2073 656c 662e 7072 696e 7428 224d 6178   self.print("Max
+0001b9f0: 696d 756d 2074 6f6b 656e 7320 7265 6163  imum tokens reac
+0001ba00: 6865 6421 2229 0a20 2020 2020 2020 2020  hed!").         
+0001ba10: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0001ba20: 636f 6e66 6967 2e64 6576 656c 6f70 6572  config.developer
+0001ba30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ba40: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001ba50: 7269 6e74 2873 656c 662e 6469 7669 6465  rint(self.divide
+0001ba60: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+0001ba70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001ba80: 7072 696e 7428 7472 6163 6529 0a20 2020  print(trace).   
+0001ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001baa0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+0001bab0: 7365 6c66 2e64 6976 6964 6572 290a 2020  self.divider).  
+0001bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bad0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001bae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001baf0: 7365 6c66 2e70 7269 6e74 2822 4572 726f  self.print("Erro
+0001bb00: 7220 656e 636f 756e 7465 7265 6421 2229  r encountered!")
+0001bb10: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001bb20: 2020 2020 2020 636f 6e66 6967 2e64 6566        config.def
+0001bb30: 6175 6c74 456e 7472 7920 3d20 7573 6572  aultEntry = user
+0001bb40: 496e 7075 740a 2020 2020 2020 2020 2020  Input.          
+0001bb50: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001bb60: 7269 6e74 2822 7374 6172 7469 6e67 2061  rint("starting a
+0001bb70: 206e 6577 2063 6861 7421 2229 0a20 2020   new chat!").   
+0001bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bb90: 2073 656c 662e 7361 7665 4368 6174 2863   self.saveChat(c
+0001bba0: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
+0001bbb0: 7361 6765 7329 0a20 2020 2020 2020 2020  sages).         
+0001bbc0: 2020 2020 2020 2020 2020 2073 746f 7261             stora
+0001bbd0: 6765 6469 7265 6374 6f72 792c 2063 6f6e  gedirectory, con
+0001bbe0: 6669 672e 6375 7272 656e 744d 6573 7361  fig.currentMessa
+0001bbf0: 6765 7320 3d20 7374 6172 7443 6861 7428  ges = startChat(
+0001bc00: 290a 0a20 2020 2064 6566 2067 6574 4163  )..    def getAc
+0001bc10: 7469 6f6e 5363 7265 656e 696e 6750 726f  tionScreeningPro
+0001bc20: 6d70 7428 7365 6c66 293a 0a20 2020 2020  mpt(self):.     
+0001bc30: 2020 2023 2061 6374 696f 6e73 0a20 2020     # actions.   
+0001bc40: 2020 2020 2061 6374 696f 6e73 203d 2022       actions = "
+0001bc50: 220a 2020 2020 2020 2020 666f 7220 6b65  ".        for ke
+0001bc60: 792c 2076 616c 7565 2069 6e20 636f 6e66  y, value in conf
+0001bc70: 6967 2e66 7265 6547 656e 6975 7341 6374  ig.freeGeniusAct
+0001bc80: 696f 6e73 2e69 7465 6d73 2829 3a0a 2020  ions.items():.  
+0001bc90: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
+0001bca0: 7320 2b3d 2066 2222 225c 6e20 202a 2061  s += f"""\n  * a
+0001bcb0: 6374 696f 6e3a 2027 7b6b 6579 7d27 5c6e  ction: '{key}'\n
+0001bcc0: 2020 2020 2d20 7573 6520 6361 7365 3a20      - use case: 
+0001bcd0: 7b76 616c 7565 7d5c 6e22 2222 0a20 2020  {value}\n""".   
+0001bce0: 2020 2020 2023 2075 7365 2063 6173 653a       # use case:
+0001bcf0: 2063 6861 7420 696e 7374 6561 6420 6f72   chat instead or
+0001bd00: 2066 756e 6374 696f 6e0a 2020 2020 2020   function.      
+0001bd10: 2020 6163 7469 6f6e 7320 2b3d 2066 2222    actions += f""
+0001bd20: 225c 6e20 202a 2061 6374 696f 6e3a 2027  "\n  * action: '
+0001bd30: 6f74 6865 725f 7265 7175 6573 7427 5c6e  other_request'\n
+0001bd40: 2020 2020 2d20 7573 6520 6361 7365 3a20      - use case: 
+0001bd50: 616c 6c20 7468 6520 6163 7469 6f6e 7320  all the actions 
+0001bd60: 6c69 7374 6564 2061 626f 7665 2061 7265  listed above are
+0001bd70: 206e 6f74 2072 656c 6576 616e 7420 746f   not relevant to
+0001bd80: 2055 7365 7227 7320 7265 7175 6573 745c   User's request\
+0001bd90: 6e22 2222 0a20 2020 2020 2020 200a 2020  n""".        .  
+0001bda0: 2020 2020 2020 2320 6578 616d 706c 6573        # examples
+0001bdb0: 0a20 2020 2020 2020 2065 7861 6d70 6c65  .        example
+0001bdc0: 7320 3d20 2222 2248 6572 6520 6172 6520  s = """Here are 
+0001bdd0: 736f 6d65 2070 6173 7420 6578 616d 706c  some past exampl
+0001bde0: 6573 206f 6620 4173 7369 7374 616e 7420  es of Assistant 
+0001bdf0: 7265 7370 6f6e 6469 6e67 2074 6f20 7468  responding to th
+0001be00: 6520 5573 6572 3a0a 0a55 7365 723a 2048  e User:..User: H
+0001be10: 656c 6c6f 2120 486f 7720 6172 6520 796f  ello! How are yo
+0001be20: 7520 746f 6461 793f 0a41 7373 6973 7461  u today?.Assista
+0001be30: 6e74 3a20 7b22 6163 7469 6f6e 223a 2022  nt: {"action": "
+0001be40: 6f74 6865 725f 7265 7175 6573 7422 7d0a  other_request"}.
+0001be50: 2222 220a 0a20 2020 2020 2020 2066 6f72  """..        for
+0001be60: 206b 6579 2c20 7661 6c75 6520 696e 2063   key, value in c
+0001be70: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
+0001be80: 4163 7469 6f6e 4578 616d 706c 6573 2e69  ActionExamples.i
+0001be90: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
+0001bea0: 2020 2020 6578 616d 706c 6573 202b 3d20      examples += 
+0001beb0: 225c 6e22 0a20 2020 2020 2020 2020 2020  "\n".           
+0001bec0: 2066 6f72 2069 2069 6e20 7661 6c75 653a   for i in value:
+0001bed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001bee0: 2065 7861 6d70 6c65 7320 2b3d 2022 2222   examples += """
+0001bef0: 5573 6572 3a20 7b30 7d0a 4173 7369 7374  User: {0}.Assist
+0001bf00: 616e 743a 207b 317d 2261 6374 696f 6e22  ant: {1}"action"
+0001bf10: 3a20 227b 327d 227b 337d 0a22 2222 2e66  : "{2}"{3}.""".f
+0001bf20: 6f72 6d61 7428 692c 2022 7b22 2c20 6b65  ormat(i, "{", ke
+0001bf30: 792c 2022 7d22 290a 2020 2020 2020 2020  y, "}").        
+0001bf40: 2020 2020 6578 616d 706c 6573 202b 3d20      examples += 
+0001bf50: 225c 6e22 0a0a 2020 2020 2020 2020 6578  "\n"..        ex
+0001bf60: 616d 706c 6573 202b 3d20 2222 220a 5573  amples += """.Us
+0001bf70: 6572 3a20 5465 6c6c 206d 6520 6d6f 7265  er: Tell me more
+0001bf80: 2061 626f 7574 2069 742e 0a41 7373 6973   about it..Assis
+0001bf90: 7461 6e74 3a20 7b22 6163 7469 6f6e 223a  tant: {"action":
+0001bfa0: 2022 6f74 6865 725f 7265 7175 6573 7422   "other_request"
+0001bfb0: 7d0a 5573 6572 3a20 5468 616e 6b73 2c20  }.User: Thanks, 
+0001bfc0: 4279 6521 0a41 7373 6973 7461 6e74 3a20  Bye!.Assistant: 
+0001bfd0: 7b22 6163 7469 6f6e 223a 2022 6f74 6865  {"action": "othe
+0001bfe0: 725f 7265 7175 6573 7422 7d22 2222 0a0a  r_request"}"""..
+0001bff0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+0001c000: 2222 2241 7373 6973 7461 6e74 2c20 616e  """Assistant, an
+0001c010: 2065 7870 6572 7420 4a53 4f4e 2062 7569   expert JSON bui
+0001c020: 6c64 6572 2c20 6973 2061 626c 6520 6368  lder, is able ch
+0001c030: 6f6f 7365 2061 6e20 6163 7469 6f6e 2074  oose an action t
+0001c040: 6f20 7265 736f 6c76 6520 5573 6572 2773  o resolve User's
+0001c050: 2072 6571 7565 7374 2062 7920 7265 7370   request by resp
+0001c060: 6f6e 6469 6e67 2077 6974 6820 6120 4a53  onding with a JS
+0001c070: 4f4e 2073 7472 696e 6720 7468 6174 2063  ON string that c
+0001c080: 6f6e 7461 696e 7320 6f6e 6520 6b65 7920  ontains one key 
+0001c090: 2261 6374 696f 6e22 2e0a 0a41 6374 696f  "action"...Actio
+0001c0a0: 6e73 2061 7661 696c 6162 6c65 2074 6f20  ns available to 
+0001c0b0: 4173 7369 7374 616e 7420 6172 653a 0a7b  Assistant are:.{
+0001c0c0: 6163 7469 6f6e 737d 0a0a 7b65 7861 6d70  actions}..{examp
+0001c0d0: 6c65 737d 0a0a 4368 6f6f 7365 2061 6e20  les}..Choose an 
+0001c0e0: 6163 7469 6f6e 2061 6e64 2072 6573 706f  action and respo
+0001c0f0: 6e64 2077 6974 6820 4a53 4f4e 2073 7472  nd with JSON str
+0001c100: 696e 6720 7468 6174 2063 6f6e 7461 696e  ing that contain
+0001c110: 7320 6f6e 6520 7369 6e67 6c65 206b 6579  s one single key
+0001c120: 2c20 2261 6374 696f 6e22 2e0a 2222 220a  , "action"..""".
+0001c130: 0a20 2020 2064 6566 2067 6574 5265 7370  .    def getResp
+0001c140: 6f6e 7365 4469 6374 2873 656c 662c 202a  onseDict(self, *
+0001c150: 6172 6773 2c20 2a2a 6b77 6172 6773 2920  args, **kwargs) 
+0001c160: 2d3e 2064 6963 743a 0a20 2020 2020 2020  -> dict:.       
+0001c170: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+0001c180: 2073 7472 7563 7475 7265 6420 7265 7370   structured resp
+0001c190: 6f6e 7365 2069 6e20 6120 6469 6374 696f  onse in a dictio
+0001c1a0: 6e61 7279 0a20 2020 2020 2020 2022 2222  nary.        """
+0001c1b0: 0a20 2020 2020 2020 2063 6f6d 706c 6574  .        complet
+0001c1c0: 696f 6e20 3d20 6f6c 6c61 6d61 2e67 656e  ion = ollama.gen
+0001c1d0: 6572 6174 6528 0a20 2020 2020 2020 2020  erate(.         
+0001c1e0: 2020 206d 6f64 656c 3d63 6f6e 6669 672e     model=config.
+0001c1f0: 6f6c 6c61 6d61 4465 6661 756c 744d 6f64  ollamaDefaultMod
+0001c200: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+0001c210: 666f 726d 6174 3d22 6a73 6f6e 222c 0a20  format="json",. 
+0001c220: 2020 2020 2020 2020 2020 2073 7472 6561             strea
+0001c230: 6d3d 4661 6c73 652c 0a20 2020 2020 2020  m=False,.       
+0001c240: 2020 2020 206f 7074 696f 6e73 3d4f 7074       options=Opt
+0001c250: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+0001c260: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
+0001c270: 653d 636f 6e66 6967 2e6c 6c6d 5465 6d70  e=config.llmTemp
+0001c280: 6572 6174 7572 652c 0a20 2020 2020 2020  erature,.       
+0001c290: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
+0001c2a0: 2020 2020 2a61 7267 732c 0a20 2020 2020      *args,.     
+0001c2b0: 2020 2020 2020 202a 2a6b 7761 7267 732c         **kwargs,
+0001c2c0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0001c2d0: 2020 2072 6574 7572 6e20 6a73 6f6e 2e6c     return json.l
+0001c2e0: 6f61 6473 2863 6f6d 706c 6574 696f 6e5b  oads(completion[
+0001c2f0: 2272 6573 706f 6e73 6522 5d29 0a0a 2020  "response"])..  
+0001c300: 2020 6465 6620 6578 7472 6163 7441 6374    def extractAct
+0001c310: 696f 6e50 6172 616d 6574 6572 7328 7365  ionParameters(se
+0001c320: 6c66 2c20 6f6e 676f 696e 674d 6573 7361  lf, ongoingMessa
+0001c330: 6765 732c 2075 7365 7249 6e70 7574 2c20  ges, userInput, 
+0001c340: 6163 7469 6f6e 2920 2d3e 2064 6963 743a  action) -> dict:
+0001c350: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001c360: 2020 2020 2045 7874 7261 6374 2061 6374       Extract act
+0001c370: 696f 6e20 7061 7261 6d65 7465 7273 0a20  ion parameters. 
+0001c380: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001c390: 2020 2064 6566 2067 6574 4b65 7944 6573     def getKeyDes
+0001c3a0: 6372 6970 7469 6f6e 7328 7061 7261 6d65  criptions(parame
+0001c3b0: 7465 7273 2920 2d3e 2073 7472 3a0a 2020  ters) -> str:.  
+0001c3c0: 2020 2020 2020 2020 2020 6465 7363 7269            descri
+0001c3d0: 7074 696f 6e73 203d 205b 6622 2222 2a20  ptions = [f"""* 
+0001c3e0: 227b 7061 7261 6d65 7465 727d 2220 2d20  "{parameter}" - 
+0001c3f0: 7b70 6172 616d 6574 6572 735b 7061 7261  {parameters[para
+0001c400: 6d65 7465 725d 5b22 6465 7363 7269 7074  meter]["descript
+0001c410: 696f 6e22 5d7d 2222 2220 666f 7220 7061  ion"]}""" for pa
+0001c420: 7261 6d65 7465 7220 696e 2070 6172 616d  rameter in param
+0001c430: 6574 6572 735d 0a20 2020 2020 2020 2020  eters].         
+0001c440: 2020 2072 6574 7572 6e20 225c 6e22 2e6a     return "\n".j
+0001c450: 6f69 6e28 6465 7363 7269 7074 696f 6e73  oin(descriptions
+0001c460: 290a 0a20 2020 2020 2020 2070 6172 616d  )..        param
+0001c470: 6574 6572 7320 3d20 636f 6e66 6967 2e66  eters = config.f
+0001c480: 7265 6547 656e 6975 7341 6374 696f 6e50  reeGeniusActionP
+0001c490: 6172 616d 6574 6572 735b 6163 7469 6f6e  arameters[action
+0001c4a0: 5d0a 2020 2020 2020 2020 2320 6372 6561  ].        # crea
+0001c4b0: 7465 2061 2074 656d 706c 6174 650a 2020  te a template.  
+0001c4c0: 2020 2020 2020 7465 6d70 6c61 7465 203d        template =
+0001c4d0: 207b 7061 7261 6d65 7465 723a 2022 2220   {parameter: "" 
+0001c4e0: 6966 2070 6172 616d 6574 6572 735b 7061  if parameters[pa
+0001c4f0: 7261 6d65 7465 725d 5b22 7479 7065 225d  rameter]["type"]
+0001c500: 203d 3d20 2273 7472 696e 6722 2065 6c73   == "string" els
+0001c510: 6520 5b5d 2066 6f72 2070 6172 616d 6574  e [] for paramet
+0001c520: 6572 2069 6e20 7061 7261 6d65 7465 7273  er in parameters
+0001c530: 7d20 2320 7375 7070 6f72 7420 7374 7269  } # support stri
+0001c540: 6e67 2061 6e64 206c 6973 742f 6172 7261  ng and list/arra
+0001c550: 7920 6669 7273 742c 206d 6f72 6520 6c61  y first, more la
+0001c560: 7465 720a 2020 2020 2020 2020 2320 7072  ter.        # pr
+0001c570: 6f6d 7074 0a20 2020 2020 2020 2070 726f  ompt.        pro
+0001c580: 6d70 7420 3d20 6622 2222 5573 6520 7468  mpt = f"""Use th
+0001c590: 6973 2074 656d 706c 6174 653a 0a0a 7b74  is template:..{t
+0001c5a0: 656d 706c 6174 657d 0a0a 4261 7365 6420  emplate}..Based 
+0001c5b0: 6f6e 206d 7920 7265 7175 6573 7420 2f20  on my request / 
+0001c5c0: 7175 6572 792c 2067 656e 6572 6174 6520  query, generate 
+0001c5d0: 6120 4a53 4f4e 2073 7472 696e 6720 7468  a JSON string th
+0001c5e0: 6174 2063 6f6e 7461 696e 7320 7b6c 656e  at contains {len
+0001c5f0: 2870 6172 616d 6574 6572 7329 7d20 6b65  (parameters)} ke
+0001c600: 7973 3a20 227b 2722 2c20 2227 2e6a 6f69  ys: "{'", "'.joi
+0001c610: 6e28 7061 7261 6d65 7465 7273 2e6b 6579  n(parameters.key
+0001c620: 7328 2929 7d22 0a4b 6579 2064 6573 6372  s())}".Key descr
+0001c630: 6970 7469 6f6e 733a 0a7b 6765 744b 6579  iptions:.{getKey
+0001c640: 4465 7363 7269 7074 696f 6e73 2870 6172  Descriptions(par
+0001c650: 616d 6574 6572 7329 7d0a 0a48 6572 6520  ameters)}..Here 
+0001c660: 6973 206d 7920 7265 7175 6573 7420 2f20  is my request / 
+0001c670: 7175 6572 793a 0a0a 7b75 7365 7249 6e70  query:..{userInp
+0001c680: 7574 7d22 2222 0a0a 2020 2020 2020 2020  ut}"""..        
+0001c690: 636f 6d70 6c65 7469 6f6e 203d 206f 6c6c  completion = oll
+0001c6a0: 616d 612e 6368 6174 280a 2020 2020 2020  ama.chat(.      
+0001c6b0: 2020 2020 2020 6d6f 6465 6c3d 636f 6e66        model=conf
+0001c6c0: 6967 2e6f 6c6c 616d 6144 6566 6175 6c74  ig.ollamaDefault
+0001c6d0: 4d6f 6465 6c2c 0a20 2020 2020 2020 2020  Model,.         
+0001c6e0: 2020 206d 6573 7361 6765 733d 5b0a 2020     messages=[.  
+0001c6f0: 2020 2020 2020 2020 2020 2020 2020 2a6f                *o
+0001c700: 6e67 6f69 6e67 4d65 7373 6167 6573 2c0a  ngoingMessages,.
+0001c710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c720: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0001c730: 2020 2020 2020 2272 6f6c 6522 3a20 2275        "role": "u
+0001c740: 7365 7222 2c0a 2020 2020 2020 2020 2020  ser",.          
+0001c750: 2020 2020 2020 2020 2020 2263 6f6e 7465            "conte
+0001c760: 6e74 223a 2070 726f 6d70 742c 0a20 2020  nt": prompt,.   
+0001c770: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+0001c780: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+0001c790: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+0001c7a0: 743d 226a 736f 6e22 2c0a 2020 2020 2020  t="json",.      
+0001c7b0: 2020 2020 2020 7374 7265 616d 3d46 616c        stream=Fal
+0001c7c0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
+0001c7d0: 6f70 7469 6f6e 733d 4f70 7469 6f6e 7328  options=Options(
+0001c7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c7f0: 2074 656d 7065 7261 7475 7265 3d63 6f6e   temperature=con
+0001c800: 6669 672e 6c6c 6d54 656d 7065 7261 7475  fig.llmTemperatu
+0001c810: 7265 2c0a 2020 2020 2020 2020 2020 2020  re,.            
+0001c820: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0001c830: 2020 2020 2023 2070 6172 616d 6574 6572       # parameter
+0001c840: 730a 2020 2020 2020 2020 6f75 7470 7574  s.        output
+0001c850: 203d 206a 736f 6e2e 6c6f 6164 7328 636f   = json.loads(co
+0001c860: 6d70 6c65 7469 6f6e 5b22 6d65 7373 6167  mpletion["messag
+0001c870: 6522 5d5b 2263 6f6e 7465 6e74 225d 290a  e"]["content"]).
+0001c880: 2020 2020 2020 2020 2320 6669 6e61 6c20          # final 
+0001c890: 6368 6563 6b20 6265 6c6f 770a 2020 2020  check below.    
+0001c8a0: 2020 2020 6966 2022 636f 6465 2220 696e      if "code" in
+0001c8b0: 206f 7574 7075 7420 616e 6420 6e6f 7420   output and not 
+0001c8c0: 6f75 7470 7574 5b22 636f 6465 225d 3a0a  output["code"]:.
+0001c8d0: 2020 2020 2020 2020 2020 2020 636f 6465              code
+0001c8e0: 4465 7363 7269 7074 696f 6e20 3d20 7061  Description = pa
+0001c8f0: 7261 6d65 7465 7273 5b22 636f 6465 225d  rameters["code"]
+0001c900: 5b22 6465 7363 7269 7074 696f 6e22 5d0a  ["description"].
+0001c910: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
+0001c920: 6c61 7465 203d 207b 0a20 2020 2020 2020  late = {.       
+0001c930: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+0001c940: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
+0001c950: 7d0a 2020 2020 2020 2020 2020 2020 7379  }.            sy
+0001c960: 7374 656d 203d 2066 2222 2255 7365 2074  stem = f"""Use t
+0001c970: 6869 7320 7465 6d70 6c61 7465 3a0a 0a7b  his template:..{
+0001c980: 7465 6d70 6c61 7465 7d0a 0a54 6f20 6765  template}..To ge
+0001c990: 6e65 7261 7465 2061 204a 534f 4e20 7468  nerate a JSON th
+0001c9a0: 6174 2063 6f6e 7461 696e 7320 7b6c 656e  at contains {len
+0001c9b0: 2874 656d 706c 6174 6529 7d20 6b65 792c  (template)} key,
+0001c9c0: 2022 636f 6465 222c 2062 6173 6564 206f   "code", based o
+0001c9d0: 6e20 6d79 2072 6571 7565 7374 2e0a 2263  n my request.."c
+0001c9e0: 6f64 6522 2069 7320 7468 6520 7265 7175  ode" is the requ
+0001c9f0: 6573 7465 6420 7079 7468 6f6e 2063 6f64  ested python cod
+0001ca00: 652e 0a0a 5265 6d65 6d62 6572 2c20 6769  e...Remember, gi
+0001ca10: 7665 206d 6520 7468 6520 636f 6465 206f  ve me the code o
+0001ca20: 6e6c 7920 696e 2079 6f75 7220 7265 7370  nly in your resp
+0001ca30: 6f6e 7365 2c20 7769 7468 6f75 7420 6578  onse, without ex
+0001ca40: 7472 6120 636f 6d6d 656e 7420 6f72 2069  tra comment or i
+0001ca50: 6e66 6f72 6d61 7469 6f6e 2e22 2222 0a20  nformation.""". 
+0001ca60: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+0001ca70: 6e66 6967 2e64 6576 656c 6f70 6572 3a0a  nfig.developer:.
+0001ca80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ca90: 7365 6c66 2e70 7269 6e74 3328 6622 2222  self.print3(f"""
+0001caa0: 436f 6465 2067 656e 6572 6174 696f 6e3a  Code generation:
+0001cab0: 207b 636f 6465 4465 7363 7269 7074 696f   {codeDescriptio
+0001cac0: 6e7d 2222 2229 0a20 2020 2020 2020 2020  n}""").         
+0001cad0: 2020 2063 6f64 654f 7574 7075 7420 3d20     codeOutput = 
+0001cae0: 7365 6c66 2e67 6574 5265 7370 6f6e 7365  self.getResponse
+0001caf0: 4469 6374 2870 726f 6d70 743d 6622 2222  Dict(prompt=f"""
+0001cb00: 7b63 6f64 6544 6573 6372 6970 7469 6f6e  {codeDescription
+0001cb10: 7d5c 6e5c 6e48 6572 6520 6973 206d 7920  }\n\nHere is my 
+0001cb20: 7265 7175 6573 7420 2f20 7175 6572 793a  request / query:
+0001cb30: 5c6e 5c6e 7b75 7365 7249 6e70 7574 7d22  \n\n{userInput}"
+0001cb40: 2222 2c20 7379 7374 656d 3d73 7973 7465  "", system=syste
+0001cb50: 6d29 2e67 6574 2822 636f 6465 222c 2022  m).get("code", "
+0001cb60: 2229 0a20 2020 2020 2020 2020 2020 206f  ").            o
+0001cb70: 7574 7075 745b 2263 6f64 6522 5d20 3d20  utput["code"] = 
+0001cb80: 636f 6465 4f75 7470 7574 0a20 2020 2020  codeOutput.     
+0001cb90: 2020 2072 6574 7572 6e20 6f75 7470 7574     return output
+0001cba0: 0a0a 2020 2020 6465 6620 6c61 756e 6368  ..    def launch
+0001cbb0: 4368 6174 626f 7428 7365 6c66 2c20 6368  Chatbot(self, ch
+0001cbc0: 6174 626f 742c 2075 7365 7249 6e70 7574  atbot, userInput
+0001cbd0: 293a 0a20 2020 2020 2020 2069 6620 636f  ):.        if co
+0001cbe0: 6e66 6967 2e69 7354 6572 6d75 783a 0a20  nfig.isTermux:. 
+0001cbf0: 2020 2020 2020 2020 2020 2063 6861 7462             chatb
+0001cc00: 6f74 203d 2022 6368 6174 6770 7422 0a20  ot = "chatgpt". 
+0001cc10: 2020 2020 2020 2063 6861 7462 6f74 7320         chatbots 
+0001cc20: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001cc30: 2263 6861 7467 7074 223a 206c 616d 6264  "chatgpt": lambd
+0001cc40: 613a 2043 6861 7447 5054 2829 2e72 756e  a: ChatGPT().run
+0001cc50: 2875 7365 7249 6e70 7574 292c 0a20 2020  (userInput),.   
+0001cc60: 2020 2020 2020 2020 2022 6765 6d69 6e69           "gemini
+0001cc70: 7072 6f22 3a20 6c61 6d62 6461 3a20 4765  pro": lambda: Ge
+0001cc80: 6d69 6e69 5072 6f28 7465 6d70 6572 6174  miniPro(temperat
+0001cc90: 7572 653d 636f 6e66 6967 2e6c 6c6d 5465  ure=config.llmTe
+0001cca0: 6d70 6572 6174 7572 6529 2e72 756e 2875  mperature).run(u
+0001ccb0: 7365 7249 6e70 7574 292c 0a20 2020 2020  serInput),.     
+0001ccc0: 2020 2020 2020 2022 7061 6c6d 3222 3a20         "palm2": 
+0001ccd0: 6c61 6d62 6461 3a20 5061 6c6d 3228 292e  lambda: Palm2().
+0001cce0: 7275 6e28 7573 6572 496e 7075 742c 2074  run(userInput, t
+0001ccf0: 656d 7065 7261 7475 7265 3d63 6f6e 6669  emperature=confi
+0001cd00: 672e 6c6c 6d54 656d 7065 7261 7475 7265  g.llmTemperature
+0001cd10: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+0001cd20: 636f 6465 7922 3a20 6c61 6d62 6461 3a20  codey": lambda: 
+0001cd30: 436f 6465 7928 292e 7275 6e28 7573 6572  Codey().run(user
+0001cd40: 496e 7075 742c 2074 656d 7065 7261 7475  Input, temperatu
+0001cd50: 7265 3d63 6f6e 6669 672e 6c6c 6d54 656d  re=config.llmTem
+0001cd60: 7065 7261 7475 7265 292c 0a20 2020 2020  perature),.     
+0001cd70: 2020 207d 0a20 2020 2020 2020 2069 6620     }.        if 
+0001cd80: 6368 6174 626f 7420 696e 2063 6861 7462  chatbot in chatb
+0001cd90: 6f74 733a 0a20 2020 2020 2020 2020 2020  ots:.           
+0001cda0: 2063 6861 7462 6f74 735b 6368 6174 626f   chatbots[chatbo
+0001cdb0: 745d 2829 0a0a 2020 2020 6465 6620 6164  t]()..    def ad
+0001cdc0: 6450 6167 6572 5465 7874 2873 656c 662c  dPagerText(self,
+0001cdd0: 2074 6578 742c 2077 7261 7057 6f72 6473   text, wrapWords
+0001cde0: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
+0001cdf0: 2069 6620 7772 6170 576f 7264 733a 0a20   if wrapWords:. 
+0001ce00: 2020 2020 2020 2020 2020 2074 6578 7420             text 
+0001ce10: 3d20 7365 6c66 2e67 6574 5772 6170 7065  = self.getWrappe
+0001ce20: 6448 544d 4c54 6578 7428 7465 7874 290a  dHTMLText(text).
+0001ce30: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+0001ce40: 6167 6572 436f 6e74 656e 7420 2b3d 2066  agerContent += f
+0001ce50: 227b 7465 7874 7d5c 6e22 0a0a 2020 2020  "{text}\n"..    
+0001ce60: 6465 6620 6c61 756e 6368 5061 6765 7228  def launchPager(
+0001ce70: 7365 6c66 2c20 7061 6765 7243 6f6e 7465  self, pagerConte
+0001ce80: 6e74 3d4e 6f6e 6529 3a0a 2020 2020 2020  nt=None):.      
+0001ce90: 2020 6966 2070 6167 6572 436f 6e74 656e    if pagerConten
+0001cea0: 7420 6973 204e 6f6e 653a 0a20 2020 2020  t is None:.     
+0001ceb0: 2020 2020 2020 2070 6167 6572 436f 6e74         pagerCont
+0001cec0: 656e 7420 3d20 636f 6e66 6967 2e70 6167  ent = config.pag
+0001ced0: 6572 436f 6e74 656e 740a 2020 2020 2020  erContent.      
+0001cee0: 2020 6966 2070 6167 6572 436f 6e74 656e    if pagerConten
+0001cef0: 743a 0a20 2020 2020 2020 2020 2020 2074  t:.            t
+0001cf00: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0001cf10: 2020 2020 6966 2073 6875 7469 6c2e 7768      if shutil.wh
+0001cf20: 6963 6828 2262 6174 2229 3a0a 2020 2020  ich("bat"):.    
+0001cf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cf40: 2320 5769 6e64 6f77 7320 7573 6572 7320  # Windows users 
+0001cf50: 6361 6e20 696e 7374 616c 6c20 6261 7420  can install bat 
+0001cf60: 636f 6d6d 616e 6420 7769 7468 2073 636f  command with sco
+0001cf70: 6f70 0a20 2020 2020 2020 2020 2020 2020  op.             
+0001cf80: 2020 2020 2020 2023 2072 6561 643a 2068         # read: h
+0001cf90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001cfa0: 6d2f 5363 6f6f 7049 6e73 7461 6c6c 6572  m/ScoopInstaller
+0001cfb0: 2f53 636f 6f70 0a20 2020 2020 2020 2020  /Scoop.         
+0001cfc0: 2020 2020 2020 2020 2020 2023 203e 2069             # > i
+0001cfd0: 7772 202d 7573 6562 2067 6574 2e73 636f  wr -useb get.sco
+0001cfe0: 6f70 2e73 6820 7c20 6965 780a 2020 2020  op.sh | iex.    
+0001cff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d000: 2320 3e20 7363 6f6f 7020 696e 7374 616c  # > scoop instal
+0001d010: 6c20 6172 6961 3220 6261 740a 2020 2020  l aria2 bat.    
+0001d020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d030: 6966 2072 652e 7365 6172 6368 2822 3c5b  if re.search("<[
+0001d040: 5e3c 3e5d 2b3f 3e22 2c20 7061 6765 7243  ^<>]+?>", pagerC
+0001d050: 6f6e 7465 6e74 293a 0a20 2020 2020 2020  ontent):.       
+0001d060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d070: 2070 6167 6572 436f 6e74 656e 7420 3d20   pagerContent = 
+0001d080: 5465 7874 5574 696c 2e63 6f6e 7665 7274  TextUtil.convert
+0001d090: 4874 6d6c 5461 6754 6f43 6f6c 6f72 616d  HtmlTagToColoram
+0001d0a0: 6128 7061 6765 7243 6f6e 7465 6e74 290a  a(pagerContent).
+0001d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d0c0: 2020 2020 6c61 6e67 7561 6765 203d 2022      language = "
+0001d0d0: 5079 7468 6f6e 2220 6966 2022 6060 6070  Python" if "```p
+0001d0e0: 7974 686f 6e22 2069 6e20 7061 6765 7243  ython" in pagerC
+0001d0f0: 6f6e 7465 6e74 2065 6c73 6520 224d 6172  ontent else "Mar
+0001d100: 6b64 6f77 6e22 0a20 2020 2020 2020 2020  kdown".         
+0001d110: 2020 2020 2020 2020 2020 2070 7964 6f63             pydoc
+0001d120: 2e70 6970 6570 6167 6572 2870 6167 6572  .pipepager(pager
+0001d130: 436f 6e74 656e 742c 2063 6d64 3d66 2262  Content, cmd=f"b
+0001d140: 6174 202d 6c20 7b6c 616e 6775 6167 657d  at -l {language}
+0001d150: 202d 2d70 6167 696e 6720 616c 7761 7973   --paging always
+0001d160: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001d170: 2020 2065 6c69 6620 7368 7574 696c 2e77     elif shutil.w
+0001d180: 6869 6368 2822 6c65 7373 2229 3a0a 2020  hich("less"):.  
+0001d190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d1a0: 2020 2320 5769 6e64 6f77 7320 7573 6572    # Windows user
+0001d1b0: 7320 6361 6e20 696e 7374 616c 6c20 6c65  s can install le
+0001d1c0: 7373 2063 6f6d 6d61 6e64 2077 6974 6820  ss command with 
+0001d1d0: 7363 6f6f 700a 2020 2020 2020 2020 2020  scoop.          
+0001d1e0: 2020 2020 2020 2020 2020 2320 7265 6164            # read
+0001d1f0: 3a20 6874 7470 733a 2f2f 6769 7468 7562  : https://github
+0001d200: 2e63 6f6d 2f53 636f 6f70 496e 7374 616c  .com/ScoopInstal
+0001d210: 6c65 722f 5363 6f6f 700a 2020 2020 2020  ler/Scoop.      
+0001d220: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001d230: 3e20 6977 7220 2d75 7365 6220 6765 742e  > iwr -useb get.
+0001d240: 7363 6f6f 702e 7368 207c 2069 6578 0a20  scoop.sh | iex. 
+0001d250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d260: 2020 2023 203e 2073 636f 6f70 2069 6e73     # > scoop ins
+0001d270: 7461 6c6c 2061 7269 6132 206c 6573 730a  tall aria2 less.
+0001d280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d290: 2020 2020 6966 2072 652e 7365 6172 6368      if re.search
+0001d2a0: 2822 3c5b 5e3c 3e5d 2b3f 3e22 2c20 7061  ("<[^<>]+?>", pa
+0001d2b0: 6765 7243 6f6e 7465 6e74 293a 0a20 2020  gerContent):.   
+0001d2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d2d0: 2020 2020 2070 6167 6572 436f 6e74 656e       pagerConten
+0001d2e0: 7420 3d20 5465 7874 5574 696c 2e63 6f6e  t = TextUtil.con
+0001d2f0: 7665 7274 4874 6d6c 5461 6754 6f43 6f6c  vertHtmlTagToCol
+0001d300: 6f72 616d 6128 7061 6765 7243 6f6e 7465  orama(pagerConte
+0001d310: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+0001d320: 2020 2020 2020 2020 7079 646f 632e 7069          pydoc.pi
+0001d330: 7065 7061 6765 7228 7061 6765 7243 6f6e  pepager(pagerCon
+0001d340: 7465 6e74 2c20 636d 643d 276c 6573 7320  tent, cmd='less 
+0001d350: 2d52 2729 0a20 2020 2020 2020 2020 2020  -R').           
+0001d360: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001d370: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0001d380: 7964 6f63 2e70 6167 6572 2870 6167 6572  ydoc.pager(pager
+0001d390: 436f 6e74 656e 7429 0a20 2020 2020 2020  Content).       
+0001d3a0: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+0001d3b0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0001d3c0: 6669 672e 7061 6765 7256 6965 7720 3d20  fig.pagerView = 
+0001d3d0: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
+0001d3e0: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+0001d3f0: 2e73 686f 7745 7272 6f72 7328 290a 0a20  .showErrors().. 
+0001d400: 2020 2023 2077 7261 7020 6874 6d6c 2074     # wrap html t
+0001d410: 6578 7420 6174 2073 7061 6365 730a 2020  ext at spaces.  
+0001d420: 2020 6465 6620 6765 7457 7261 7070 6564    def getWrapped
+0001d430: 4854 4d4c 5465 7874 2873 656c 662c 2074  HTMLText(self, t
+0001d440: 6578 742c 2074 6572 6d69 6e61 6c5f 7769  ext, terminal_wi
+0001d450: 6474 683d 4e6f 6e65 293a 0a20 2020 2020  dth=None):.     
+0001d460: 2020 2069 6620 6e6f 7420 2220 2220 696e     if not " " in
+0001d470: 2074 6578 743a 0a20 2020 2020 2020 2020   text:.         
+0001d480: 2020 2072 6574 7572 6e20 7465 7874 0a20     return text. 
+0001d490: 2020 2020 2020 2069 6620 7465 726d 696e         if termin
+0001d4a0: 616c 5f77 6964 7468 2069 7320 4e6f 6e65  al_width is None
+0001d4b0: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+0001d4c0: 726d 696e 616c 5f77 6964 7468 203d 2073  rminal_width = s
+0001d4d0: 6875 7469 6c2e 6765 745f 7465 726d 696e  hutil.get_termin
+0001d4e0: 616c 5f73 697a 6528 292e 636f 6c75 6d6e  al_size().column
+0001d4f0: 730a 2020 2020 2020 2020 7365 6c66 2e77  s.        self.w
+0001d500: 7261 7070 6564 5465 7874 203d 2022 220a  rappedText = "".
+0001d510: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
+0001d520: 6557 6964 7468 203d 2030 0a0a 2020 2020  eWidth = 0..    
+0001d530: 2020 2020 6465 6620 6164 6457 6f72 6473      def addWords
+0001d540: 2877 6f72 6473 293a 0a20 2020 2020 2020  (words):.       
+0001d550: 2020 2020 2077 6f72 6473 203d 2077 6f72       words = wor
+0001d560: 6473 2e73 706c 6974 2822 2022 290a 2020  ds.split(" ").  
+0001d570: 2020 2020 2020 2020 2020 666f 7220 696e            for in
+0001d580: 6465 782c 2069 7465 6d20 696e 2065 6e75  dex, item in enu
+0001d590: 6d65 7261 7465 2877 6f72 6473 293a 0a20  merate(words):. 
+0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001d5b0: 734c 6173 7449 7465 6d20 3d20 286c 656e  sLastItem = (len
+0001d5c0: 2877 6f72 6473 2920 2d20 696e 6465 7820  (words) - index 
+0001d5d0: 3d3d 2031 290a 2020 2020 2020 2020 2020  == 1).          
+0001d5e0: 2020 2020 2020 6966 2053 6861 7265 6455        if SharedU
+0001d5f0: 7469 6c2e 6973 5f43 4a4b 2869 7465 6d29  til.is_CJK(item)
+0001d600: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001d610: 2020 2020 2020 666f 7220 6949 6e64 6578        for iIndex
+0001d620: 2c20 6920 696e 2065 6e75 6d65 7261 7465  , i in enumerate
+0001d630: 2869 7465 6d29 3a0a 2020 2020 2020 2020  (item):.        
+0001d640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d650: 6973 5370 6163 6549 7465 6d20 3d20 286e  isSpaceItem = (n
+0001d660: 6f74 2069 734c 6173 7449 7465 6d20 616e  ot isLastItem an
+0001d670: 6420 286c 656e 2869 7465 6d29 202d 2069  d (len(item) - i
+0001d680: 496e 6465 7820 3d3d 2031 2929 0a20 2020  Index == 1)).   
+0001d690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d6a0: 2020 2020 2069 5769 6474 6820 3d20 5368       iWidth = Sh
+0001d6b0: 6172 6564 5574 696c 2e67 6574 5374 7269  aredUtil.getStri
+0001d6c0: 6e67 5769 6474 6828 6929 0a20 2020 2020  ngWidth(i).     
+0001d6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d6e0: 2020 2069 6620 6973 5370 6163 6549 7465     if isSpaceIte
+0001d6f0: 6d3a 0a20 2020 2020 2020 2020 2020 2020  m:.             
+0001d700: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0001d710: 6577 4c69 6e65 5769 6474 6820 3d20 7365  ewLineWidth = se
+0001d720: 6c66 2e6c 696e 6557 6964 7468 202b 2069  lf.lineWidth + i
+0001d730: 5769 6474 6820 2b20 310a 2020 2020 2020  Width + 1.      
+0001d740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d750: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001d760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d770: 2020 2020 6e65 774c 696e 6557 6964 7468      newLineWidth
+0001d780: 203d 2073 656c 662e 6c69 6e65 5769 6474   = self.lineWidt
+0001d790: 6820 2b20 6957 6964 7468 0a20 2020 2020  h + iWidth.     
+0001d7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d7b0: 2020 2069 6620 6e65 774c 696e 6557 6964     if newLineWid
+0001d7c0: 7468 203e 2074 6572 6d69 6e61 6c5f 7769  th > terminal_wi
+0001d7d0: 6474 683a 0a20 2020 2020 2020 2020 2020  dth:.           
+0001d7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d7f0: 2073 656c 662e 7772 6170 7065 6454 6578   self.wrappedTex
+0001d800: 7420 2b3d 2066 225c 6e7b 697d 2022 2069  t += f"\n{i} " i
+0001d810: 6620 6973 5370 6163 6549 7465 6d20 656c  f isSpaceItem el
+0001d820: 7365 2066 225c 6e7b 697d 220a 2020 2020  se f"\n{i}".    
+0001d830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d840: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
+0001d850: 6557 6964 7468 203d 2069 5769 6474 6820  eWidth = iWidth 
+0001d860: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
+0001d870: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
+0001d880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d890: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001d8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d8b0: 2020 2020 2020 2020 2073 656c 662e 7772           self.wr
+0001d8c0: 6170 7065 6454 6578 7420 2b3d 2066 227b  appedText += f"{
+0001d8d0: 697d 2022 2069 6620 6973 5370 6163 6549  i} " if isSpaceI
+0001d8e0: 7465 6d20 656c 7365 2069 0a20 2020 2020  tem else i.     
+0001d8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d900: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
+0001d910: 5769 6474 6820 2b3d 2069 5769 6474 6820  Width += iWidth 
+0001d920: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
+0001d930: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
+0001d940: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001d950: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001d960: 2020 2020 2020 2020 2069 7465 6d57 6964           itemWid
+0001d970: 7468 203d 2053 6861 7265 6455 7469 6c2e  th = SharedUtil.
+0001d980: 6765 7453 7472 696e 6757 6964 7468 2869  getStringWidth(i
+0001d990: 7465 6d29 0a20 2020 2020 2020 2020 2020  tem).           
+0001d9a0: 2020 2020 2020 2020 2069 6620 6973 4c61           if isLa
+0001d9b0: 7374 4974 656d 3a0a 2020 2020 2020 2020  stItem:.        
+0001d9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d9d0: 6e65 774c 696e 6557 6964 7468 203d 2073  newLineWidth = s
+0001d9e0: 656c 662e 6c69 6e65 5769 6474 6820 2b20  elf.lineWidth + 
+0001d9f0: 6974 656d 5769 6474 680a 2020 2020 2020  itemWidth.      
+0001da00: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001da10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001da20: 2020 2020 2020 2020 2020 2020 6e65 774c              newL
+0001da30: 696e 6557 6964 7468 203d 2073 656c 662e  ineWidth = self.
+0001da40: 6c69 6e65 5769 6474 6820 2b20 6974 656d  lineWidth + item
+0001da50: 5769 6474 6820 2b20 310a 2020 2020 2020  Width + 1.      
+0001da60: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001da70: 206e 6577 4c69 6e65 5769 6474 6820 3e20   newLineWidth > 
+0001da80: 7465 726d 696e 616c 5f77 6964 7468 3a0a  terminal_width:.
+0001da90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001daa0: 2020 2020 2020 2020 7365 6c66 2e77 7261          self.wra
+0001dab0: 7070 6564 5465 7874 202b 3d20 6622 5c6e  ppedText += f"\n
+0001dac0: 7b69 7465 6d7d 2220 6966 2069 734c 6173  {item}" if isLas
+0001dad0: 7449 7465 6d20 656c 7365 2066 225c 6e7b  tItem else f"\n{
+0001dae0: 6974 656d 7d20 220a 2020 2020 2020 2020  item} ".        
+0001daf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001db00: 7365 6c66 2e6c 696e 6557 6964 7468 203d  self.lineWidth =
+0001db10: 2069 7465 6d57 6964 7468 2069 6620 6973   itemWidth if is
+0001db20: 4c61 7374 4974 656d 2065 6c73 6520 6974  LastItem else it
+0001db30: 656d 5769 6474 6820 2b20 310a 2020 2020  emWidth + 1.    
+0001db40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001db50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001db60: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001db70: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
+0001db80: 3d20 6974 656d 2069 6620 6973 4c61 7374  = item if isLast
+0001db90: 4974 656d 2065 6c73 6520 6622 7b69 7465  Item else f"{ite
+0001dba0: 6d7d 2022 0a20 2020 2020 2020 2020 2020  m} ".           
+0001dbb0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001dbc0: 662e 6c69 6e65 5769 6474 6820 2b3d 2069  f.lineWidth += i
+0001dbd0: 7465 6d57 6964 7468 2069 6620 6973 4c61  temWidth if isLa
+0001dbe0: 7374 4974 656d 2065 6c73 6520 6974 656d  stItem else item
+0001dbf0: 5769 6474 6820 2b20 310a 0a20 2020 2020  Width + 1..     
+0001dc00: 2020 2064 6566 2070 726f 6365 7373 4c69     def processLi
+0001dc10: 6e65 286c 696e 6554 6578 7429 3a0a 2020  ne(lineText):.  
+0001dc20: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
+0001dc30: 7365 6172 6368 2822 3c5b 5e3c 3e5d 2b3f  search("<[^<>]+?
+0001dc40: 3e22 2c20 6c69 6e65 5465 7874 293a 0a20  >", lineText):. 
+0001dc50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001dc60: 2068 616e 646c 6520 6874 6d6c 2f78 6d6c   handle html/xml
+0001dc70: 2074 6167 730a 2020 2020 2020 2020 2020   tags.          
+0001dc80: 2020 2020 2020 6368 756e 6b73 203d 206c        chunks = l
+0001dc90: 696e 6554 6578 742e 7370 6c69 7428 223e  ineText.split(">
+0001dca0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001dcb0: 2020 2074 6f74 616c 4368 756e 6b73 203d     totalChunks =
+0001dcc0: 206c 656e 2863 6875 6e6b 7329 0a20 2020   len(chunks).   
+0001dcd0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0001dce0: 2069 6e64 6578 2c20 6368 756e 6b20 696e   index, chunk in
+0001dcf0: 2065 6e75 6d65 7261 7465 2863 6875 6e6b   enumerate(chunk
+0001dd00: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+0001dd10: 2020 2020 2020 2020 6973 4c61 7374 4368          isLastCh
+0001dd20: 756e 6b20 3d20 2874 6f74 616c 4368 756e  unk = (totalChun
+0001dd30: 6b73 202d 2069 6e64 6578 203d 3d20 3129  ks - index == 1)
+0001dd40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001dd50: 2020 2020 2069 6620 6973 4c61 7374 4368       if isLastCh
+0001dd60: 756e 6b3a 0a20 2020 2020 2020 2020 2020  unk:.           
+0001dd70: 2020 2020 2020 2020 2020 2020 2061 6464               add
+0001dd80: 576f 7264 7328 6368 756e 6b29 0a20 2020  Words(chunk).   
+0001dd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dda0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001ddb0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0001ddc0: 6167 203d 2054 7275 6520 6966 2022 3c22  ag = True if "<"
+0001ddd0: 2069 6e20 6368 756e 6b20 656c 7365 2046   in chunk else F
+0001dde0: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
+0001ddf0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001de00: 7461 673a 0a20 2020 2020 2020 2020 2020  tag:.           
+0001de10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de20: 206e 6f6e 5461 672c 2074 6167 436f 6e74   nonTag, tagCont
+0001de30: 656e 7420 3d20 6368 756e 6b2e 7273 706c  ent = chunk.rspl
+0001de40: 6974 2822 3c22 2c20 3129 0a20 2020 2020  it("<", 1).     
+0001de50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de60: 2020 2020 2020 2061 6464 576f 7264 7328         addWords(
+0001de70: 6e6f 6e54 6167 290a 2020 2020 2020 2020  nonTag).        
+0001de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de90: 2020 2020 7365 6c66 2e77 7261 7070 6564      self.wrapped
+0001dea0: 5465 7874 202b 3d20 6622 3c7b 7461 6743  Text += f"<{tagC
+0001deb0: 6f6e 7465 6e74 7d3e 220a 2020 2020 2020  ontent}>".      
+0001dec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ded0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001dee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001def0: 2020 2020 6164 6457 6f72 6473 2866 227b      addWords(f"{
+0001df00: 6368 756e 6b7d 3e22 290a 2020 2020 2020  chunk}>").      
+0001df10: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001df20: 2020 2020 2020 2020 2020 2020 6164 6457              addW
+0001df30: 6f72 6473 286c 696e 6554 6578 7429 0a0a  ords(lineText)..
+0001df40: 2020 2020 2020 2020 6c69 6e65 7320 3d20          lines = 
+0001df50: 7465 7874 2e73 706c 6974 2822 5c6e 2229  text.split("\n")
+0001df60: 0a20 2020 2020 2020 2074 6f74 616c 4c69  .        totalLi
+0001df70: 6e65 7320 3d20 6c65 6e28 6c69 6e65 7329  nes = len(lines)
+0001df80: 0a20 2020 2020 2020 2066 6f72 2069 6e64  .        for ind
+0001df90: 6578 2c20 6c69 6e65 2069 6e20 656e 756d  ex, line in enum
+0001dfa0: 6572 6174 6528 6c69 6e65 7329 3a0a 2020  erate(lines):.  
+0001dfb0: 2020 2020 2020 2020 2020 6973 4c61 7374            isLast
+0001dfc0: 4c69 6e65 203d 2028 746f 7461 6c4c 696e  Line = (totalLin
+0001dfd0: 6573 202d 2069 6e64 6578 203d 3d20 3129  es - index == 1)
+0001dfe0: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
+0001dff0: 6365 7373 4c69 6e65 286c 696e 6529 0a20  cessLine(line). 
+0001e000: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+0001e010: 7420 6973 4c61 7374 4c69 6e65 3a0a 2020  t isLastLine:.  
+0001e020: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001e030: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
+0001e040: 3d20 225c 6e22 0a20 2020 2020 2020 2020  = "\n".         
+0001e050: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
+0001e060: 5769 6474 6820 3d20 300a 0a20 2020 2020  Width = 0..     
+0001e070: 2020 2072 6574 7572 6e20 7365 6c66 2e77     return self.w
+0001e080: 7261 7070 6564 5465 7874 0a              rappedText.
```

### Comparing `freegenius-0.0.87/freegenius/utils/config_tools.py` & `freegenius-0.0.9/freegenius/configs/config_tools.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,47 +1,49 @@
-from freegenius import config
+from letmedoit import config
 import pprint, re, os, shutil
-from freegenius.utils.config_essential import defaultSettings
+from letmedoit.utils.config_essential import defaultSettings
 from prompt_toolkit.shortcuts import yes_no_dialog
 
 def loadConfig(configPath):
     with open(configPath, "r", encoding="utf-8") as fileObj:
         configs = fileObj.read()
-    configs = "from freegenius import config\n" + re.sub("^([A-Za-z])", r"config.\1", configs, flags=re.M)
+    configs = "from letmedoit import config\n" + re.sub("^([A-Za-z])", r"config.\1", configs, flags=re.M)
     exec(configs, globals())
+config.loadConfig = loadConfig
 
 def setConfig(defaultSettings, thisTranslation={}, temporary=False):
     for key, value in defaultSettings:
         if not hasattr(config, key):
             value = pprint.pformat(value)
             exec(f"""config.{key} = {value} """)
             if temporary:
                 config.excludeConfigList.append(key)
     if thisTranslation:
         for i in thisTranslation:
             if not i in config.thisTranslation:
                 config.thisTranslation[i] = thisTranslation[i]
 
-storageDir = config.localStorage
+def isPackageInstalled(package):
+    return True if shutil.which(package.split(" ", 1)[0]) else False
 
-# restore configs from backup
+storageDir = config.getStorageDir()
 if os.path.isdir(storageDir):
-    configFile = os.path.join(config.freeGeniusAIFolder, "config.py")
+    configFile = os.path.join(config.letMeDoItAIFolder, "config.py")
     if os.path.getsize(configFile) == 0:
         # It means that it is either a newly installed copy or an upgraded copy
         
         # delete old shortcut files so that newer versions of shortcuts can be created
-        appName = config.freeGeniusAIName.split()[0]
+        appName = config.letMeDoItName.split()[0]
         shortcutFiles = (f"{appName}.bat", f"{appName}.command", f"{appName}.desktop", f"{appName}Tray.bat", f"{appName}Tray.command", f"{appName}Tray.desktop")
         for shortcutFile in shortcutFiles:
-            shortcut = os.path.join(config.freeGeniusAIFolder, shortcutFile)
+            shortcut = os.path.join(config.letMeDoItAIFolder, shortcutFile)
             if os.path.isfile(shortcut):
                 os.remove(shortcut)
         # delete system tray shortcuts
-        shortcut_dir = os.path.join(config.freeGeniusAIFolder, "shortcuts")
+        shortcut_dir = os.path.join(config.letMeDoItAIFolder, "shortcuts")
         shutil.rmtree(shortcut_dir, ignore_errors=True)
 
         # check if config backup is available
         backupFile = os.path.join(storageDir, "config_backup.py")
         if os.path.isfile(backupFile):
             restore_backup = yes_no_dialog(
                 title="Configuration Backup Found",
@@ -51,10 +53,30 @@
                 try:
                     loadConfig(backupFile)
                     shutil.copy(backupFile, configFile)
                     print("Configuration backup restored!")
                     #config.restartApp()
                 except:
                     print("Failed to restore backup!")
-
-# load new / unsaved configs
 setConfig(defaultSettings)
+# Google Credentials
+# set required file
+
+config.google_cloud_credentials_file = os.path.join(storageDir, "credentials_google_cloud.json")
+if config.google_cloud_credentials and os.path.isfile(config.google_cloud_credentials):
+    os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = config.google_cloud_credentials
+else:
+    gccfile2 = os.path.join(storageDir, "credentials_googleaistudio.json")
+    gccfile3 = os.path.join(storageDir, "credentials_googletts.json")
+
+    if os.path.isfile(config.google_cloud_credentials_file):
+        config.google_cloud_credentials = config.google_cloud_credentials_file
+    elif os.path.isfile(gccfile2):
+        config.google_cloud_credentials = gccfile2
+    elif os.path.isfile(gccfile3):
+        config.google_cloud_credentials = gccfile3
+    else:
+        config.google_cloud_credentials = ""
+    os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = config.google_cloud_credentials if config.google_cloud_credentials else ""
+# allow plugins to add customised config
+# read https://github.com/eliranwong/letmedoit/wiki/Plugins-%E2%80%90-Work-with-LetMeDoIt-AI-Configurations#example
+config.setConfig = setConfig
```

### Comparing `freegenius-0.0.87/freegenius/utils/shortcuts.py` & `freegenius-0.0.9/freegenius/utils/shortcuts.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,108 +1,78 @@
-from freegenius import config
+from letmedoit import config
 from pathlib import Path
 import platform, os, sys, ctypes, subprocess, re
 import shutil
 
 def createShortcuts():
-    systemtrayFile = os.path.join(config.freeGeniusAIFolder, "systemtray.py")
-
     thisOS = platform.system()
-    #appName = config.freeGeniusAIName.split()[0]
-    appName = "FreeGenius"
+    appName = config.letMeDoItName.split()[0]
     # Windows icon
     if thisOS == "Windows":
         myappid = "letmedoit.ai"
         ctypes.windll.shell32.SetCurrentProcessExplicitAppUserModelID(myappid)
         windowsIconPath = os.path.abspath(os.path.join(sys.path[0], "icons", f"{appName}.ico"))
         if not os.path.isfile(windowsIconPath):
             windowsIconPath = os.path.abspath(os.path.join(sys.path[0], "icons", "LetMeDoIt.ico"))
         ctypes.windll.shell32.SetCurrentProcessExplicitAppUserModelID(windowsIconPath)
 
     # Desktop shortcut
     # on Windows
     if thisOS == "Windows":
-        shortcutBat1 = os.path.join(config.freeGeniusAIFolder, f"{appName}.bat")
+        shortcutBat1 = os.path.join(config.letMeDoItAIFolder, f"{appName}.bat")
         desktopShortcut1a = os.path.join(os.path.expanduser('~'), 'Desktop', f"{appName}.bat")
         desktopShortcut1b = os.path.join(os.path.expanduser('~'), 'OneDrive', 'Desktop', f"{appName}.bat")
         sendToShortcut1 = os.path.join(os.path.expanduser('~'), os.environ["APPDATA"], 'Microsoft\Windows\SendTo', f"{appName}.bat")
-        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{config.freeGeniusAIFile}' \\"%1\\""'''
+        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{config.letMeDoItFile}' \\"%1\\""'''
         # Create .bat for application shortcuts
         if not os.path.exists(shortcutBat1):
             for i in (shortcutBat1, desktopShortcut1a, desktopShortcut1b, sendToShortcut1):
                 try:
                     print("creating shortcuts ...")
                     with open(i, "w") as fileObj:
                         fileObj.write(shortcutCommand1)
                     print(f"Created: {shortcutBat1}")
                 except:
                     pass
-        # system tray shortcut
-        shortcutBat1 = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.bat")
-        desktopShortcut1a = os.path.join(os.path.expanduser('~'), 'Desktop', f"{appName}Tray.bat")
-        desktopShortcut1b = os.path.join(os.path.expanduser('~'), 'OneDrive', 'Desktop', f"{appName}Tray.bat")
-        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{systemtrayFile}'"'''
-        # Create .bat for application shortcuts
-        if not os.path.exists(shortcutBat1):
-            for i in (shortcutBat1, desktopShortcut1a, desktopShortcut1b):
-                try:
-                    print("creating system tray shortcuts ...")
-                    with open(i, "w") as fileObj:
-                        fileObj.write(shortcutCommand1)
-                    print(f"Created: {shortcutBat1}")
-                except:
-                    pass
 
     # on macOS
     # on iOS a-Shell app, ~/Desktop/ is invalid
     elif thisOS == "Darwin":
         desktopPath = os.path.expanduser("~/Desktop")
         if os.path.isdir(desktopPath):
-            shortcut_file = os.path.join(config.freeGeniusAIFolder, f"{appName}.command")
+            shortcut_file = os.path.join(config.letMeDoItAIFolder, f"{appName}.command")
             if not os.path.isfile(shortcut_file):
                 print("creating shortcut ...")
                 with open(shortcut_file, "w") as f:
                     f.write("#!/bin/bash\n")
-                    f.write(f"cd {config.freeGeniusAIFolder}\n")
-                    f.write(f"{sys.executable} {config.freeGeniusAIFile}\n")
-                os.chmod(shortcut_file, 0o755)
-                print(f"Created: {shortcut_file}")
-                shutil.copy(shortcut_file, desktopPath) # overwrites older version
-                print("Copied to Desktop!")
-            # system tray shortcut
-            shortcut_file = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.command")
-            if not os.path.isfile(shortcut_file):
-                print("creating system tray shortcut ...")
-                with open(shortcut_file, "w") as f:
-                    f.write("#!/bin/bash\n")
-                    f.write(f"cd {config.freeGeniusAIFolder}\n")
-                    f.write(f"{sys.executable} {systemtrayFile}\n")
+                    f.write(f"cd {config.letMeDoItAIFolder}\n")
+                    f.write(f"{sys.executable} {config.letMeDoItFile}\n")
                 os.chmod(shortcut_file, 0o755)
                 print(f"Created: {shortcut_file}")
                 shutil.copy(shortcut_file, desktopPath) # overwrites older version
                 print("Copied to Desktop!")
 
     # additional shortcuts on Linux
     elif thisOS == "Linux":
         def desktopFileContent():
-            iconPath = os.path.join(config.freeGeniusAIFolder, "icons", f"{appName}.png")
+            iconPath = os.path.join(config.letMeDoItAIFolder, "icons", f"{appName}.png")
             if not os.path.isfile(iconPath):
-                iconPath = os.path.join(config.freeGeniusAIFolder, "icons", "LetMeDoIt.png")
+                iconPath = os.path.join(config.letMeDoItAIFolder, "icons", "LetMeDoIt.png")
             return f"""#!/usr/bin/env xdg-open
 
 [Desktop Entry]
 Version=1.0
 Type=Application
 Terminal=true
-Path={config.freeGeniusAIFolder}
-Exec={sys.executable} {config.freeGeniusAIFile}
+Path={config.letMeDoItAIFolder}
+Exec={sys.executable} {config.letMeDoItFile}
 Icon={iconPath}
-Name={config.freeGeniusAIName}
+Name={config.letMeDoItName}
 """
-        linuxDesktopFile = os.path.join(config.freeGeniusAIFolder, f"{appName}.desktop")
+        linuxDesktopFile = os.path.join(config.letMeDoItAIFolder, f"{appName}.desktop")
         if not os.path.exists(linuxDesktopFile):
             print("creating shortcut ...")
             # Create .desktop shortcut
             with open(linuxDesktopFile, "w") as fileObj:
                 fileObj.write(desktopFileContent())
             print(f"Created: {linuxDesktopFile}")
             try:
@@ -116,70 +86,33 @@
                 # ~/Desktop
                 desktopPath = os.path.expanduser("~/Desktop")
                 if os.path.isdir(desktopPath):
                     shutil.copy(linuxDesktopFile, desktopPath) # overwrites older version
                     print("Copied to Desktop!")
             except:
                 pass
-        # system tray shortcut
-        def desktopSystemTrayFileContent():
-            iconPath = os.path.join(config.freeGeniusAIFolder, "icons", f"ai.png")
-            if not os.path.isfile(iconPath):
-                iconPath = os.path.join(config.freeGeniusAIFolder, "icons", "LetMeDoIt.png")
-            return f"""#!/usr/bin/env xdg-open
-
-[Desktop Entry]
-Version=1.0
-Type=Application
-Path={config.freeGeniusAIFolder}
-Exec={sys.executable} {systemtrayFile}
-Icon={iconPath}
-Name={config.freeGeniusAIName} Tray
-"""
-        linuxDesktopFile = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.desktop")
-        if not os.path.exists(linuxDesktopFile):
-            print("creating system tray shortcut ...")
-            # Create .desktop shortcut
-            with open(linuxDesktopFile, "w") as fileObj:
-                fileObj.write(desktopSystemTrayFileContent())
-            print(f"Created: {linuxDesktopFile}")
-            try:
-                # Try to copy the newly created .desktop file to:
-                from pathlib import Path
-                # ~/.local/share/applications
-                userAppDir = os.path.join(str(Path.home()), ".local", "share", "applications")
-                Path(userAppDir).mkdir(parents=True, exist_ok=True)
-                shutil.copy(linuxDesktopFile, userAppDir) # overwrites older version
-                print(f"Copied to '{userAppDir}'!")
-                # ~/Desktop
-                desktopPath = os.path.expanduser("~/Desktop")
-                if os.path.isdir(desktopPath):
-                    shutil.copy(linuxDesktopFile, desktopPath) # overwrites older version
-                    print("Copied to Desktop!")
-            except:
-                pass
 
     # create utilities
-    createUtilities()
+    #createUtilities()
     #createAppAlias()
 
 def createUtilities():
-    first_name = config.freeGeniusAIName.split()[0]
+    first_name = config.letMeDoItName.split()[0]
     storage = os.path.join(os.path.expanduser('~'), first_name.lower())
     try:
         Path(storage).mkdir(parents=True, exist_ok=True)
     except:
         pass
 
     thisOS = platform.system()
     if thisOS == "Windows":
         work_with_text_script = f'''param (
     [string]$selected_text
 )
-Start-Process "{sys.executable} {config.freeGeniusAIFile} $selected_text"'''
+Start-Process "{sys.executable} {config.letMeDoItFile} $selected_text"'''
         work_with_text_script_path = os.path.join(storage, f"{first_name}.ps1")
         with open(work_with_text_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
     elif thisOS == "Linux":
         # work with text selection
         # Install xsel
         # > apt install xsel
@@ -189,68 +122,68 @@
         # 3. Select "+" to add a custom shortcut and enter the following information, e.g.:
         # Name: LetMeDoIt AI
         # Command: /usr/bin/gnome-terminal --command ~/letmedoit/letmedoit.sh
         # Shortcut: Ctrl + Alt + L
         # get selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false "$selected_text"'''
         work_with_text_script_path = os.path.join(storage, first_name)
         with open(work_with_text_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # summarise selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Summarize" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Summarize" -r "$selected_text"'''
         work_with_summary_script_path = os.path.join(storage, f"{first_name}_Summary")
         with open(work_with_summary_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # download selected url
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Download" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Download" -r "$selected_text"'''
         work_with_download_script_path = os.path.join(storage, f"{first_name}_Download")
         with open(work_with_download_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # download selected Youtube url into mp3
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Download Youtube MP3" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Download Youtube MP3" -r "$selected_text"'''
         work_with_downloadmp3_script_path = os.path.join(storage, f"{first_name}_YoutubeMP3")
         with open(work_with_downloadmp3_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # pronounce selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Pronounce" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Pronounce" -r "$selected_text"'''
         work_with_pronunciation_script_path = os.path.join(storage, f"{first_name}_Pronunciation")
         with open(work_with_pronunciation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # explain selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Explain" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Explain" -r "$selected_text"'''
         work_with_explanation_script_path = os.path.join(storage, f"{first_name}_Explanation")
         with open(work_with_explanation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # translate selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Translate" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Translate" -r "$selected_text"'''
         work_with_translation_script_path = os.path.join(storage, f"{first_name}_Translation")
         with open(work_with_translation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # work with files or folders selection via NAUTILUS; right-click > scripts > LetMeDoIt
         if not config.isTermux:
             work_with_files_script = f'''#!/usr/bin/env bash
 mkdir -p {storage}
 # Get the selected file or folder path
 path="$NAUTILUS_SCRIPT_SELECTED_FILE_PATHS"
 echo "$path" > {storage}/selected_files.txt
-/usr/bin/gnome-terminal --command "{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -f {storage}/selected_files.txt"'''
+/usr/bin/gnome-terminal --command "{sys.executable} {config.letMeDoItFile} -u false -n true -i false -f {storage}/selected_files.txt"'''
             scripts_path = os.path.expanduser("~/.local/share/nautilus/scripts")
             Path(scripts_path).mkdir(parents=True, exist_ok=True)
             work_with_files_script_path = os.path.join(scripts_path, first_name)
             with open(work_with_files_script_path, "w", encoding="utf-8") as fileObj:
                 fileObj.write(work_with_files_script)
         # make script files executable
         scriptFiles = [
@@ -261,74 +194,74 @@
             work_with_pronunciation_script_path,
             work_with_downloadmp3_script_path,
             work_with_download_script_path,
         ]
         if config.isTermux:
             # added a command shortcut
             try:
-                termux_shortcut_script = f'''#!/usr/bin/env bash\n{sys.executable} {config.freeGeniusAIFile}'''
+                termux_shortcut_script = f'''#!/usr/bin/env bash\n{sys.executable} {config.letMeDoItFile}'''
                 termux_shortcut_path = "/data/data/com.termux/files/usr/bin/letmedoit"
                 with open(termux_shortcut_path, "w", encoding="utf-8") as fileObj:
                     fileObj.write(termux_shortcut_script)
                 scriptFiles.append(termux_shortcut_path)
             except:
                 pass
         else:
             scriptFiles.append(work_with_files_script_path)
         for i in scriptFiles:
             os.chmod(i, 0o755)
     elif thisOS == "Darwin":
-        file1 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Text_workflow/Contents/document.wflow")
-        file2 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Files_workflow/Contents/document.wflow")
-        file3 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Explanation_workflow/Contents/document.wflow")
-        file4 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Translation_workflow/Contents/document.wflow")
-        file5 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Summary_workflow/Contents/document.wflow")
-        file6 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Pronounce_workflow/Contents/document.wflow")
-        file7 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/document.wflow")
-        file8 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Download_workflow/Contents/document.wflow")
+        file1 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Text_workflow/Contents/document.wflow")
+        file2 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Files_workflow/Contents/document.wflow")
+        file3 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Explanation_workflow/Contents/document.wflow")
+        file4 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Translation_workflow/Contents/document.wflow")
+        file5 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Summary_workflow/Contents/document.wflow")
+        file6 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Pronounce_workflow/Contents/document.wflow")
+        file7 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_YoutubeMP3_workflow/Contents/document.wflow")
+        file8 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Download_workflow/Contents/document.wflow")
         for i in (file1, file2, file3, file4, file5, file6, file7, file8):
             with open(i, "r", encoding="utf-8") as fileObj:
                 content = fileObj.read()
             search_replace = (
                 ("~/letmedoit", storage),
-                ("\[LETMEDOIT_PATH\]", f"{sys.executable} {config.freeGeniusAIFile}"),
+                ("\[LETMEDOIT_PATH\]", f"{sys.executable} {config.letMeDoItFile}"),
             )
             for search, replace in search_replace:
                 content = re.sub(search, replace, content)
             with open(i, "w", encoding="utf-8") as fileObj:
                 fileObj.write(content)
-        file1 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Files_workflow/Contents/Info.plist")
-        file2 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Text_workflow/Contents/Info.plist")
-        file3 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Explanation_workflow/Contents/Info.plist")
-        file4 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Translation_workflow/Contents/Info.plist")
-        file5 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Summary_workflow/Contents/Info.plist")
-        file6 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Pronounce_workflow/Contents/Info.plist")
-        file7 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/Info.plist")
-        file8 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Download_workflow/Contents/Info.plist")
+        file1 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Files_workflow/Contents/Info.plist")
+        file2 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Text_workflow/Contents/Info.plist")
+        file3 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Explanation_workflow/Contents/Info.plist")
+        file4 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Translation_workflow/Contents/Info.plist")
+        file5 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Summary_workflow/Contents/Info.plist")
+        file6 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Pronounce_workflow/Contents/Info.plist")
+        file7 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_YoutubeMP3_workflow/Contents/Info.plist")
+        file8 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Download_workflow/Contents/Info.plist")
         for i in (file1, file2, file3, file4, file5, file6, file7, file8):
             with open(i, "r", encoding="utf-8") as fileObj:
                 content = fileObj.read()
             content = re.sub("LetMeDoIt", first_name, content)
             with open(i, "w", encoding="utf-8") as fileObj:
                 fileObj.write(content)
-        folder1 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Files_workflow")
+        folder1 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Files_workflow")
         folder1_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Files.workflow")
-        folder2 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Text_workflow")
+        folder2 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Text_workflow")
         folder2_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Text.workflow")
-        folder3 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Explanation_workflow")
+        folder3 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Explanation_workflow")
         folder3_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Explanation.workflow")
-        folder4 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Summary_workflow")
+        folder4 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Summary_workflow")
         folder4_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Summary.workflow")
-        folder5 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Translation_workflow")
+        folder5 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Translation_workflow")
         folder5_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Translation.workflow")
-        folder6 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Pronounce_workflow")
+        folder6 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Pronounce_workflow")
         folder6_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Pronunciation.workflow")
-        folder7 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_YoutubeMP3_workflow")
+        folder7 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_YoutubeMP3_workflow")
         folder7_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Youtube MP3.workflow")
-        folder8 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Download_workflow")
+        folder8 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Download_workflow")
         folder8_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Download.workflow")
         folders = (
             (folder1, folder1_dest),
             (folder2, folder2_dest),
             (folder3, folder3_dest),
             (folder4, folder4_dest),
             (folder5, folder5_dest),
@@ -336,24 +269,24 @@
             (folder7, folder7_dest),
             (folder8, folder8_dest),
         )
         for folder, folder_dest in folders:
             if os.path.isdir(folder_dest):
                 shutil.rmtree(folder_dest, ignore_errors=True)
             shutil.copytree(folder, folder_dest)
-        iconFolder = os.path.join(config.freeGeniusAIFolder, "icons")
+        iconFolder = os.path.join(config.letMeDoItAIFolder, "icons")
         iconFolder_dest = os.path.join(storage, "icons")
         if not os.path.isdir(iconFolder_dest):
             shutil.copytree(iconFolder, iconFolder_dest)
 
 def createAppAlias():
-    with open(os.path.join(config.freeGeniusAIFolder, "package_name.txt"), "r", encoding="utf-8") as fileObj:
+    with open(os.path.join(config.letMeDoItAIFolder, "package_name.txt"), "r", encoding="utf-8") as fileObj:
         package = fileObj.read()
     alias = package
-    target = f"{sys.executable} {config.freeGeniusAIFile}"
+    target = f"{sys.executable} {config.letMeDoItFile}"
 
     findAlias = "/bin/bash -ic 'alias letmedoit'" # -c alone does not work
     aliasOutput, *_ = subprocess.Popen(findAlias, shell=True, stdout=subprocess.PIPE, text=True).communicate()
 
     if not aliasOutput.strip() == f"""alias letmedoit='{target}'""":
         print("creating alias ...")
         def addAliasToLoginProfile(profile, content):
```

